/*!
* 2018 FORESIGHT
*/
(function(){function e(n){return function(t,i){typeof t[i]=="undefined"&&(t[i]=n)}}function at(n){Object.seal(n),Object.seal(n.prototype)}var n=window.PP||{},ct,lt,ht,c,t,w,l,s,u,r,o,b,nt,bt,st,h,it,tt,p,k,a,y,pt,kt,v,d,rt,ft,ut,et,ot,g,wt;(function(n){var i,r,u,f,e,o,s,t;(function(n){n[n.None=0]="None",n[n.Asc=1]="Asc",n[n.Desc=2]="Desc"})(i=n.SortDirection||(n.SortDirection={})),function(n){n[n.Left=1]="Left",n[n.Top=2]="Top",n[n.Right=4]="Right",n[n.Bottom=8]="Bottom"}(r=n.LTRB||(n.LTRB={})),function(n){n[n.Left=1]="Left",n[n.Top=2]="Top",n[n.Right=4]="Right",n[n.Bottom=8]="Bottom",n[n.None=0]="None"}(u=n.AnchorStyles||(n.AnchorStyles={})),function(n){n[n.Vertical=1]="Vertical",n[n.Horizontal=2]="Horizontal"}(f=n.Orientation||(n.Orientation={})),function(n){n[n.Backspace=8]="Backspace",n[n.Tab=9]="Tab",n[n.CtrlEnter=10]="CtrlEnter",n[n.Enter=13]="Enter",n[n.Shift=16]="Shift",n[n.Ctrl=17]="Ctrl",n[n.Esc=27]="Esc",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.Left=37]="Left",n[n.Up=38]="Up",n[n.Right=39]="Right",n[n.Down=40]="Down",n[n.Ins=45]="Ins",n[n.Del=46]="Del",n[n.Y=89]="Y",n[n.A=65]="A",n[n.Z=90]="Z",n[n.X=88]="X",n[n.C=67]="C",n[n.V=86]="V",n[n.F=70]="F",n[n.Plus=107]="Plus",n[n.Minus=109]="Minus",n[n.F2=113]="F2",n[n.F3=114]="F3"}(e=n.Key||(n.Key={})),function(n){n[n.Left=1]="Left",n[n.Middle=2]="Middle",n[n.Right=3]="Right"}(o=n.MouseButton||(n.MouseButton={})),function(n){n[n.Left=0]="Left",n[n.Right=1]="Right"}(s=n.Alignment||(n.Alignment={})),n.HorizontalAlignment={None:"None",Left:"Left",Center:"Center",Right:"Right",Justify:"Justify",Custom:"Custom",Absolute:"Absolute",Relative:"Relative"},n.VerticalAlignment={None:"None",Top:"Top",Middle:"Middle",Bottom:"Bottom",Center:"Center",Custom:"Custom",Absolue:"Absolute",Relative:"Relative"},n.HoverMode={None:"None",Default:"Default",Click:"Click",MouseOver:"MouseOver",MouseOverCenter:"MouseOverCenter",Always:"Always"},function(n){var t,i,r,u;(function(n){n[n.Type=1]="Type",n[n.Background=2]="Background",n[n.BorderPen=4]="BorderPen",n[n.LinePen=8]="LinePen",n[n.EmptyLinePen=16]="EmptyLinePen",n[n.UseSplineSmoothing=32]="UseSplineSmoothing",n[n.DisplayAtSecondaryAxis=64]="DisplayAtSecondaryAxis",n[n.PieDistanceCoeff=128]="PieDistanceCoeff",n[n.DisplayInLegend=256]="DisplayInLegend",n[n.Visible=512]="Visible",n[n.AllowEdit=1024]="AllowEdit",n[n.Is3DBorder=2048]="Is3DBorder",n[n.AutoRotateMarker=4096]="AutoRotateMarker",n[n.StepLineType=8192]="StepLineType",n[n.DisplayShadow=16384]="DisplayShadow",n[n.Shadow=32768]="Shadow",n[n.DisplayMarkers=65536]="DisplayMarkers",n[n.LineColor=262144]="LineColor",n[n.BorderColor=524288]="BorderColor",n[n.BackgroundColor=1048576]="BackgroundColor",n[n.BackgroundColorStart=2097152]="BackgroundColorStart",n[n.BackgroundColorEnd=4194304]="BackgroundColorEnd",n[n.BackgroundColorTransparent=33554432]="BackgroundColorTransparent",n[n.BackgroundGradientAngle=134217728]="BackgroundGradientAngle",n[n.All=176029695]="All"})(t=n.ChartSerieInheritanceOptions||(n.ChartSerieInheritanceOptions={})),function(n){n[n.Background=1]="Background",n[n.AutoPlaced=2]="AutoPlaced",n[n.Pen=4]="Pen",n[n.ShowText=8]="ShowText",n[n.Font=16]="Font",n[n.FontColor=32]="FontColor",n[n.HorzHotspotAlignment=64]="HorzHotspotAlignment",n[n.VertHotspotAlignment=128]="VertHotspotAlignment",n[n.HotspotOffset=256]="HotspotOffset",n[n.NoteLineInfo=512]="NoteLineInfo",n[n.AutoSize=1024]="AutoSize",n[n.Visible=2048]="Visible",n[n.Shadowed=4096]="Shadowed",n[n.Text=8192]="Text",n[n.HotspotPosition=16384]="HotspotPosition",n[n.CustomFormat=32768]="CustomFormat",n[n.IncludeMarkerOffset=65536]="IncludeMarkerOffset",n[n.Type=131072]="Type",n[n.NotePen=262144]="NotePen",n[n.Cap=524288]="Cap",n[n.CapLength=1048576]="CapLength",n[n.DisplayBorder=2097152]="DisplayBorder",n[n.Position=4194304]="Position",n[n.HorzTextAlignment=16777216]="HorzTextAlignment",n[n.All=25165567]="All"}(i=n.ChartSerieInheritanceDataLabelsOptions||(n.ChartSerieInheritanceDataLabelsOptions={})),function(n){n[n.Display=1]="Display",n[n.BorderColor=2]="BorderColor",n[n.BorderWidth=4]="BorderWidth",n[n.Symbol=8]="Symbol",n[n.BackgroundColor=16]="BackgroundColor",n[n.BackgroundColorTransparent=32]="BackgroundColorTransparent",n[n.Shadow=64]="Shadow",n[n.Size=128]="Size",n[n.Type=256]="Type",n[n.BorderStyle=512]="BorderStyle",n[n.All=1023]="All"}(r=n.ChartMarkerInheritanceOptions||(n.ChartMarkerInheritanceOptions={})),function(n){n[n.Collapsed=0]="Collapsed",n[n.Visible=1]="Visible",n[n.Hidden=2]="Hidden"}(u=n.Visibility||(n.Visibility={})),n.DataVisualizerVisibility={Collapsed:"Collapsed",Visible:"Visible",Hidden:"Hidden",IsDependent:"IsDependent"},n.TextWrapping={Wrap:"Wrap",NoWrap:"NoWrap",Ellipsis:"Ellipsis",Hidden:"Hidden",WrapWithEllipsis:"WrapWithEllipsis"},n.LineTypes={Solid:"solid",ShortDot:"shortdot",Dot:"dot",ShortDash:"shortdash",Dash:"dash",Dashed:"dashed",ShortDashDot:"shortdashdot",DashDot:"dashdot",LongDashDot:"longdashdot",ShortDashDotDot:"shortdashdotdot",DashDotDot:"dashdotdot",LongDashDotDot:"longdashdotdot"},n.AreaSelectionAction={None:"None",Selection:"Selection",ItemsSelection:"ItemsSelection",Scale:"Scale"},n.MapService={Google:"Google",OpenStreetMap:"OpenStreetMap",Yandex:"Yandex",Bing:"Bing",ArcGis:"ArcGis"},n.MapTopobaseType={SVG:"SVG",Google:"Google",WebGL:"WebGL",Sphere:"Sphere"},n.MapChartType={SVG:"SVG",WebGL2D:"WebGL2D",WebGL:"WebGL",Sphere:"Sphere"},n.DisplayUnit={None:"None",Hundreds:"Hundreds",Thousands:"Thousands",Millions:"Millions",Billions:"Billions",Trillions:"Trillions"},n.PointerEventType={Mouse:"mouse",Touch:"touch",Pen:"pen"}}(t=n.Ui||(n.Ui={})),n.MapService=t.MapService,n.Templates={Radius0:"<table cellspacing='0' cellpadding='0' border='0' class='PPRoundedTable'><tbody><tr><td class='PPRoundedMiddleCenter'>{Content}<\/td><\/tr><\/tbody><\/table>",Radius1:"<table cellspacing='0' cellpadding='0' border='0' class='PPRoundedTable'><tbody><tr style='height: 1px'><td class='PPRoundedTopLeft' style='width: 1px'><div class='PPFirst'><\/div><\/td><td class='PPRoundedTopCenter'><div class='PPFirst'><\/div><\/td><td class='PPRoundedTopRight' style='width: 1px'><div class='PPFirst'><\/div><\/td><\/tr><tr><td class='PPMiddleFirst' style='width: 1px;'><\/td><td class='PPRoundedMiddleCenter'>{Content}<\/td><td class='PPMiddleFirst' style='width: 1px;'><\/td><\/tr><tr style='height: 1px'><td class='PPRoundedBottomLeft' style='width: 1px'><div class='PPFirst'><\/div><\/td><td class='PPRoundedBottomCenter'><div class='PPFirst'><\/div><\/td><td class='PPRoundedBottomRight' style='width: 1px'><div class='PPFirst'><\/div><\/td><\/tr><\/tbody><\/table>",Radius2:"<table cellspacing='0' cellpadding='0' border='0' class='PPRoundedTable'><tbody><tr style='height: 2px'><td class='PPRoundedTopLeft' colspan='2' style='width: 2px'><div class='PPFirst'><\/div><div class='PPSecond'><\/div><\/td><td class='PPRoundedTopCenter'><div class='PPFirst'><\/div><\/td><td class='PPRoundedTopRight' colspan='2' style='width: 2px'><div class='PPFirst'><\/div><div class='PPSecond'><\/div><\/td><\/tr><tr><td class='PPMiddleFirst Left' style='width: 1px;'><\/td><td class='PPMiddleSecond Left' style='width: 1px;'><\/td><td class='PPRoundedMiddleCenter'>{Content}<\/td><td class='PPMiddleSecond Right' style='width: 1px;'><\/td><td class='PPMiddleFirst Right' style='width: 1px;'><\/td><\/tr><tr style='height: 2px'><td class='PPRoundedBottomLeft' colspan='2' style='width: 2px'><div class='PPSecond'><\/div><div class='PPFirst'><\/div><\/td><td class='PPRoundedBottomCenter'><div class='PPFirst'><\/div><\/td><td class='PPRoundedBottomRight' colspan='2' style='width: 2px'><div class='PPSecond'><\/div><div class='PPFirst'><\/div><\/td><\/tr><\/tbody><\/table>",Button:"<div class='PPButtonContentContainer'>{Content}<\/div>",RibbonButton:"<div class='PPButtonContentContainer'>{Content}<\/div>",ScrollBar:"<table cellspacing='0' cellpadding='0' border='0' class='PPRoundedTable'><tbody><tr style='height: 2px'><td class='PPRoundedTopLeft' colspan='2' style='width: 2px'><div class='PPFirst'><\/div><div class='PPSecond'><\/div><\/td><td class='PPRoundedTopCenter'><div class='PPFirst'><\/div><\/td><td class='PPRoundedTopRight' colspan='2' style='width: 2px'><div class='PPFirst'><\/div><div class='PPSecond'><\/div><\/td><\/tr><tr><td class='PPMiddleFirst'><\/td><td class='PPMiddleSecond Left'><\/td><td class='PPRoundedMiddleCenter'>{Content}<\/td><td class='PPMiddleSecond Right'><\/td><td class='PPMiddleFirst'><\/td><\/tr><tr style='height: 2px'><td class='PPRoundedBottomLeft' colspan='2' style='width: 2px'><div class='PPSecond'><\/div><div class='PPFirst'><\/div><\/td><td class='PPRoundedBottomCenter'><div class='PPFirst'><\/div><\/td><td class='PPRoundedBottomRight' colspan='2' style='width: 2px'><div class='PPSecond'><\/div><div class='PPFirst'><\/div><\/td><\/tr><\/tbody><\/table>",DropPanel:"{Content}",Window:"<div class='PPWindow__Header'><div class='PPWindow__Buttons'><\/div><div class='PPWindow__Caption'><div class='PPWindow__Caption__Icon'><\/div><div class='PPWindow__Caption__Text'><\/div><\/div><div class='PPWindow__Header__Separator'><\/div><\/div><div class='PPWindow__Content'><\/div><\/div>",MenuItem:"{Content}",InfoWin:"<table cellspacing='0' cellpadding='0' border='0' class='DropPanelTable'><tbody><tr><td class='PPDropPanelTopLeft'><div class='PPDropSpacer'>&nbsp;<\/div><\/td><td class='PPDropPanelTopCenter'>&nbsp;<\/td><td class='PPDropPanelTopRight'><div class='PPDropSpacer'>&nbsp;<\/div><\/td><\/tr><tr><td class='PPDropPanelMiddleLeft'>&nbsp;<\/td><td class='PPDropPanelMiddleCenter'>{Content}<\/td><td class='PPDropPanelMiddleRight'>&nbsp;<\/td><\/tr><tr><td class='PPDropPanelBottomLeft'>&nbsp;<\/td><td class='PPDropPanelBottomCenter'>&nbsp;<\/td><td class='PPDropPanelBottomRight'>&nbsp;<\/td><\/tr><\/tbody><\/table>",ToolBarButton:"{Content}",TabItem:"{Content}"}})(n||(n={})),!Function.constructor.name&&Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){var t=new RegExp(/function\s([^(]{1,})\(/),n=t.exec(this.toString());return n&&n.length>1?n[1].trim():""},set:function(){}}),Function.prototype.bind||(Function.prototype.bind=function(){var r,t,i,u;if(arguments.length<1&&typeof arguments[0]!="undefined")return this;for(r=this,t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);return u=t.shift(),function(){for(var i=[],n=0;n<t.length;n++)i.push(t[n]);for(n=0;n<arguments.length;n++)i.push(arguments[n]);return r.apply(u,i)}}),Array.isArray||(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"}),Array.prototype.indexOf||(Array.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t]===n)return t;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(n){for(var t=this.length;t--;)if(this[t]===n)return t;return-1}),Array.prototype.find||(Array.prototype.find=function(n,t){for(var i=0;i<this.length;i++)if(n.call(t,this[i],i,this))return this[i]}),Array.prototype.some||(Array.prototype.some=function(n,t){var r,i;if(typeof n!="function")throw new TypeError;for(r=this.length,i=0;i<r;i++)if(i in this&&n.call(t,this[i],i,this))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(n,t){var r,i;if(typeof n!="function")throw new TypeError;for(r=this.length,i=0;i<r;i++)i in this&&n.call(t,this[i],i,this)}),typeof DOMParser=="undefined"&&(DOMParser=function(){},DOMParser.prototype.parseFromString=function(n){if(typeof ActiveXObject!="undefined"){var t=new ActiveXObject("MSXML.DomDocument");return t.async=!1,t.loadXML(n),t}}),document.documentMode===9&&(ct=window.setTimeout,window.setTimeout=function(n,t){var i=Array.prototype.slice.call(arguments,2);return ct(n instanceof Function?function(){n.apply(null,i)}:n,t)}),document.documentMode===9&&(lt=window.setInterval,window.setInterval=function(n,t){var i=Array.prototype.slice.call(arguments,2);return lt(n instanceof Function?function(){n.apply(null,i)}:n,t)}),typeof console=="undefined"&&(window.console={assert:function(n,t){if(!n)throw t;},count:function(){},debug:function(){},dir:function(){},dirxml:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},profile:function(){},profileEnd:function(){},time:function(){},timeEnd:function(){},timeStamp:function(){},trace:function(){},warn:function(){}}),Object.keys||(Object.keys=function(n){var t,i;if(!n||typeof n!="object")throw TypeError("Object.keys called on non-object");t=[];for(i in n)t.push(i);return t}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(n){var t,i;if(!n||typeof n!="object")throw TypeError("Object.keys called on non-object");t=[];for(i in n)n.hasOwnProperty(i)&&t.push(i);return t}),typeof WinJS=="undefined"&&(window.WinJS={Utilities:{setInnerHTMLUnsafe:function(n,t){n.innerHTML=t}}}),typeof Float32Array=="undefined"&&(window.Float32Array=function(t){var i;if(n.isNumber(t)){for(i=0;i<t;i++)this[i]=0;this.length=t}else if(Array.isArray(t)||t instanceof Float32Array){for(i=0;i<t.length;i++)this[i]=t[i];this.length=t.length}},window.Float32Array.prototype=Array.prototype),typeof window.devicePixelRatio=="undefined"&&(window.devicePixelRatio=window.screen.deviceXDPI&&window.screen.logicalXDPI?window.screen.deviceXDPI/window.screen.logicalXDPI:1),/Chrome\/3(7|8|9)/.test(navigator.userAgent)&&(ht=Array.prototype.indexOf,Array.prototype.indexOf=function(){var n=ht.apply(this,arguments);return n===-1&&(n=ht.apply(this,arguments)),n}),function(){return window.getComputedStyle||(window.getComputedStyle=function(n){return this.el=n,this.getPropertyValue=function(t){var i=/(\-([a-z]){1})/g;return t=="float"&&(t="styleFloat"),i.test(t)&&(t=t.replace(i,function(){return arguments[2].toUpperCase()})),n.currentStyle[t]?n.currentStyle[t]:null},this}),document.defaultView||(document.defaultView=document.parentWindow),{}}(),function(n){var t=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;n.matches=t?n.matchesSelector=t:n.matchesSelector=function t(n){var matches=document.querySelectorAll(n),i=this;return Array.prototype.some.call(t,function(n){return n===i})}}(Element.prototype),function(n){n.closest=n.closest||function(n){return this?this.matches(n)?this:this.parentElement?this.parentElement.closest(n):null:null}}(Element.prototype),function(n,t){"use strict";function e(n){return o[c]=h.apply(t,n),c++}function h(n){var i=[].slice.call(arguments,1);return function(){typeof n=="function"?n.apply(t,i):new Function(""+n)()}}function u(n){if(s)setTimeout(h(u,n),0);else{var t=o[n];if(t){s=!0;try{t()}finally{l(n),s=!1}}}}function l(n){delete o[n]}function a(){if(n.postMessage&&!n.importScripts){var t=!0,i=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=i,t}}function v(){var t="setImmediate$"+Math.random()+"$",i;i=function(i){i.source===n&&typeof i.data=="string"&&i.data.indexOf(t)===0&&u(+i.data.slice(t.length))},n.addEventListener?n.addEventListener("message",i,!1):n.attachEvent("onmessage",i),r=function(){var i=e(arguments);return n.postMessage(t+i,"*"),i}}function y(){var t=new n.MessageChannel;t.port1.onmessage=function(n){var t=n.data;u(t)},r=function(){var n=e(arguments);return t.port2.postMessage(n),n}}function p(){var n=f.documentElement;r=function(){var i=e(arguments),t=f.createElement("script");return t.onreadystatechange=function(){u(i),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t),i}}function w(){r=function(){var n=e(arguments);return setTimeout(h(u,n),0),n}}var i;if(!n.setImmediate){var c=1,o={},s=!1,f=n.document,r;i=Object.getPrototypeOf&&Object.getPrototypeOf(n),i=i&&i.setTimeout?i:n,a()?v():n.MessageChannel?y():f&&"onreadystatechange"in f.createElement("script")?p():w(),i.setImmediate=r,i.clearImmediate=l}}(this),function(n){"use strict";function et(n){return Object.prototype.toString.call(n)=="[object Array]"}function k(n){this[f]=n}function s(n){return n instanceof k}function ot(n){return Object(n)===n}function a(n){return typeof n=="function"}function r(n){return n instanceof t}function d(n){return n}function st(n){throw n;}function ht(n,t,i){n[u]||(n[u]=[],n[o]=[]),n[u].push(t),n[o].push(i)}function g(n){delete n[u],delete n[o]}function nt(n){for(var i=n.length,t=0;t<i;t++)n[t]()}function tt(n,t,i){var u=h(i);r(u)?u.then(n,t):s(u)?t(u[f]):n(i)}function h(n){var i;if(r(n))return n;if(ot(n)){try{i=n.then}catch(u){return new k(u)}if(a(i))return new t(function(t,r){l(function(){try{i.call(n,t,r)}catch(u){r(u)}})})}return null}function ct(n,t){function u(t){n[i]==c&&it(n,t)}function r(t){n[i]==c&&v(n,t)}try{t(u,r)}catch(f){r(f)}}function it(n,t){var o,c=h(t);r(c)?(n[i]=rt,c.then(function(t){it(n,t)},function(t){v(n,t)})):s(c)?v(n,c[f]):(n[i]=y,n[e]=t,o=n[u],o&&o.length&&(g(n),nt(o)))}function v(n,t){var r=n[o];n[i]=p,n[e]=t,r&&r.length&&(g(n),nt(r))}function t(n){var t=this;if(!r(t))throw new TypeError(ut);t[i]=c,t[e]=undefined,ct(t,n)}var i="[[PromiseStatus]]",e="[[PromiseValue]]",u="[[OnFulfilled]]",o="[[OnRejected]]",f="[[OriginalError]]",c="pending",rt="internal pending",y="fulfilled",p="rejected",w="not an array.",ut='constructor Promise requires "new".',ft="then() cannot return same Promise that it resolves.",l=n.setImmediate,b=Array.isArray||et;t.prototype.then=function(n,r){var u=this,f;return n=a(n)?n:d,r=a(r)?r:st,f=new t(function(t,o){function s(n){var i;try{i=n(u[e])}catch(r){o(r);return}i===f?o(new TypeError(ft)):tt(t,o,i)}function h(){l(s,n)}function c(){l(s,r)}switch(u[i]){case y:h();break;case p:c();break;default:ht(u,h,c)}})},t.prototype["catch"]=function(n){return this.then(d,n)},t.resolve=function(n){var i=h(n);return r(i)?i:new t(function(t,r){s(i)?r(i[f]):t(n)})},t.reject=function(n){return new t(function(t,i){i(n)})},t.race=function(n){return new t(function(t,i){var r,u;if(b(n))for(u=n.length,r=0;r<u;r++)tt(t,i,n[r]);else i(new TypeError(w))})},t.all=function(n){return new t(function(t,i){var l=0,o=0,e,a,c,u;if(b(n)){for(n=n.slice(0),a=n.length,u=0;u<a;u++)c=n[u],e=h(c),r(e)?(o++,e.then(function(i){return function(r){n[i]=r,l++,l==o&&t(n)}}(u),i)):s(e)?i(e[f]):n[u]=c;o||t(n)}else i(new TypeError(w))})},n.Promise||(n.Promise=t)}(this),function(){function n(n){this.element=n}var t=function(n){return n.replace(/^\s+|\s+$/g,"")},i=function(n){return new RegExp("(^|\\s+)"+n+"(\\s+|$)")},r=function(n,t,i){for(var r=0;r<n.length;r++)t.call(i,n[r])};n.prototype={add:function(){r(arguments,function(n){this.contains(n)||(this.element.className=t(this.element.className+" "+n))},this)},remove:function(){r(arguments,function(n){this.element.className=t(this.element.className.replace(i(n)," "))},this)},toggle:function(n){return this.contains(n)?(this.remove(n),!1):(this.add(n),!0)},contains:function(n){return i(n).test(this.element.className)},item:function(n){return this.element.className.split(/\s+/)[n]||null},replace:function(n,t){this.remove(n),this.add(t)}},"classList"in Element.prototype||Object.defineProperty(Element.prototype,"classList",{get:function(){return new n(this)}}),window.DOMTokenList&&!DOMTokenList.prototype.replace&&(DOMTokenList.prototype.replace=n.prototype.replace)}(),function(){function n(n,t){var i=document.createEvent("CustomEvent");return t=t||{bubbles:!1,cancelable:!1,detail:undefined},i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),i}if(typeof window.CustomEvent=="function")return!1;n.prototype=window.Event.prototype,window.CustomEvent=n}(),function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";window.btoa||(window.btoa=function(t){for(var u=String(t),r,f,i=0,e=n,o="";u.charAt(i|0)||(e="=",i%1);o+=e.charAt(63&r>>8-i%1*8))f=u.charCodeAt(i+=3/4),r=r<<8|f;return o}),window.atob||(window.atob=function(t){for(var e=String(t).replace(/[=]+$/,""),r=0,u,i,o=0,f="";i=e.charAt(o++);~i&&(u=r%4?u*64+i:i,r++%4)?f+=String.fromCharCode(255&u>>(-2*r&6)):0)i=n.indexOf(i);return f})},window.PP=n;var i=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)},f=this&&this.__decorate||function(n,t,i,r){var f=arguments.length,u=f<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,i):r,e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,t,i,r);else for(o=n.length-1;o>=0;o--)(e=n[o])&&(u=(f<3?e(u):f>3?e(t,i,u):e(t,i))||u);return f>3&&u&&Object.defineProperty(t,i,u),u},vt=function(n,t,i,r){return new(i||(i=Promise))(function(u,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?u(n.value):new i(function(t){t(n.value)}).then(o,s)}e((r=r.apply(n,t||[])).next())})},yt=function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=u[e[0]&2?"return":e[0]?"throw":"next"])&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[0,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++,u=e[1],e=[0];continue;case 7:e=r.ops.pop(),r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1],i=e;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(e);break}i[2]&&r.ops.pop(),r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o],u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e};window.__extends=i,window.__decorate=f,window.__awaiter=vt,window.__generator=yt,function(n){function i(n,t,i){var r=0,u;for(u in i)if(r++,i[u]===n)return!1;return i[r]=n,!0}function p(t,r,u,f){var e,c,s,l,h,o;if(t){if(r){if(t==r)return;if(n.Array.isArray(r)&&(e=r,r=e[0]),t.baseClass!==r&&(c=new Function,c.prototype=r.prototype,t.prototype=new c,t.prototype.constructor=t,t.base=r.prototype,t.baseClass=r),e)for(s=1,l=e.length;s<l;s++){h=e[s];for(o in h)h.hasOwnProperty(o)&&o!="constructor"&&(t.prototype[o]=h[o])}}t._Name=u,f&&(t._Interfaces=n.toArray(f)),t._Type=n.Entity.Class,i(t,u,n._sl)}}function w(t,r){t._Name=r,t._Type=n.Entity.Enum,i(t,r,n._aQD)}function b(t,r,u){t._Name=r,t._Type=n.Entity.Interface,u&&(t._aCD=n.Array.isArray(u)?u:[u]),i(t,r,n._aQE)}function k(t,r,u){t._Name=r,t._Type=n.Entity.Namespace,t._ResourceGroup=u,i(t,r,n._kQ)}function d(n,t){if(!n||!t&&t!==0)return!1;for(var i in n)if(n[i]===t)return!0;return!1}function g(n,t){var r,u,i;if(n){r=t?[]:{},u=-1;for(i in n)n.hasOwnProperty(i)&&i.indexOf("_")!=0&&i!="prototype"&&(t?r[u++]=i:r[i]=n[i]);return r}}function s(n){if(!n)return!1;var t=n;return!!(t.getId&&t.setId&&t.isLive)}function nt(t,i){var r,u;if(!t||!i)return!1;for(n.Array.isArray(i)||(i=[i]),r=0;r<i.length;r++){if(t===i[r])return!0;for(u=t.baseClass;u!==i[r]&&u;)u=u.baseClass;if(u===i[r])return!0}return!1}function tt(i,r,u){var e,f;if(!i||!r||i._Type!==n.Entity.Class)throw new Error("ArgumentException");for(e=t(i.prototype[r]),f=i.baseClass;f&&e;f=f.baseClass){if(u&&f.prototype[r]!=i.prototype[r])break;if(t(f.prototype[r]))return!0}return!1}function it(n,t,i){for(var r=n.baseClass;!!r;r=r.baseClass)if(r.base&&t!=r.base[i])return r.base[i];return null}function rt(t,i){var r,u;if(t instanceof i)return!0;if(!n.isObject(t)||(r=n.isString(i)?n.create({PPType:i}):eval("new type()"),!r))return!1;for(u in r)if(!n.isFunction(t[u])&&!t.hasOwnProperty(u))return!1;return!0}function ut(t){var i=t?n.getProperty(t,"PPType"):"",f,r;return i?(r=i,delete t.PPType,delete t["@PPType"],n.isString(i)&&(r=u(i)),f=n.isFunction(r)?new r(t):null,t.PPType=i,f):null}function u(t){var u=t.split("."),i,r,o,e;if(u.length>1)for(r=0;r<u.length;r++)i=i?i[u[r]]:window[u[r]];else for(o=f(),e=0;e<o.length;e++)if(i=o[e].ns[t],n.isFunction(i))break;return i}function f(t){var r=[],i,s,h,c,e,l,o;t=t||"PP",s=t.split("."),i=s.length>1?u(t):window[t],h=["_sl","_aQD","_aQE","_cpA","_kQ"],c=["Object","Function"];for(e in i)n.isFunction(i[e])&&r.length===0&&r.push({name:t,ns:i}),n.isObject(i[e])&&i[e].constructor&&c.indexOf(i[e].constructor.name)>-1&&h.indexOf(e)===-1&&(l=t+"."+e,o=f(l),o.length>0&&r.length===0&&r.push({name:t,ns:i}),r=r.concat(o));return r}function ft(t,i,r){var f="",o,e,s,u;if(i||(i=n._kQ||n),t===i)return r;for(o=window.Object.keys(i),e=0,s=o.length;e<s;e++)if(u=o[e],u[0]!=="_"&&(n.isObject(i[u])||n.isFunction(i[u]))&&(f=n.getTypeName(t,i[u],u),f))return f===u?f:(u==e+""&&(u="PP"),u+"."+f);return f}function e(t,i,u,f,h){var v,a,p;if(!i)return t;if(!t)return i;for(v=window.Object.keys(i),a=0,p=v.length;a<p;a++){var c=v[a],l=!u,w=o(t[c])||t[c]===null,b=o(i[c])||i[c]===null;n.Array.isArray(t[c])&&f&&(n.Array.isArray(i[c])&&!h?u?e(t[c],i[c],u,f,h):t[c].concat(i[c]):u?t[c]=i[c]:t[c].push(i[c]),l=!0),s(i[c])&&!l&&(t[c]=i[c],l=!0),r(i[c])&&!w&&f&&!l&&(e(t[c],i[c],u,f,h),l=!0),(!t.hasOwnProperty(c)||!l||y(i[c])||w||b)&&(u||!t.hasOwnProperty(c))&&(t[c]=i[c])}return t}function et(n,t,i){return h(n,t,i)}function h(n,t,i){var r=t,e,u,f;if(i&&t){for(e=i.split("."),f=0;f<e.length;f++)u=e[f],r[u]||(r[u]={}),f<e.length-1&&(r=r[u]);r[u]=n}return r}function ot(i,r){var s,h,e,l,a;if(typeof r!="string")return undefined;for(var v=/(\[\d*\])/ig,c=r.split("."),u=i,f,o=0;o<c.length;o++){if(f=c[o],!u)return undefined;if(u instanceof n.Object)if(u["get"+f])u=u["get"+f]();else return undefined;else if(f.indexOf("[")>=0)for(s=f.substr(0,f.indexOf("[")),h=f.match(v),u=t(u[s])?u[s]:u["@"+s],e=0,l=h.length;e<l;e++){if(!u)return undefined;a=h[e].substr(1,h[e].length-2),u=u[a]}else u=t(u[f])?u[f]:u["@"+f]}return u}function c(n,t){if(r(n)){delete n[t];for(var i in n)c(n[i],t)}}function st(t,i,r,u){var e,o,f,s,h;if(arguments.length>4&&(u=arguments[4]),e=[],n.Array.isArray(t)){for(o=t.length,f=0;f<o;f++)if(n.getProperty(t[f],i)===r&&(e.push(t[f]),u))break}else if(t instanceof n.List){for(o=t.getCount(),f=0;f<o;f++)if(s=t.getItem(f),n.getProperty(s,i)===r&&(e.push(s),u))break}else for(h in t)if(n.getProperty(t[h],i)===r&&(e.push(t[h]),u))break;return u?e.length>0?e[0]:null:e}function ht(n){for(var t in n)return t}function ct(n){for(var t in n)return n[t]}function lt(t,i){return n.Array.removeItem(t,i)}function at(t,i,r){return n.Array.removeByRange(t,i,r)}function vt(t){return n.Array.max(t)}function yt(t){return n.Array.min(t)}function pt(t,i,r){return n.Array.insertToArray(t,i,r)}function wt(t,i,r){return n.Array.insert(t,i,r)}function bt(t,i,r){return n.Array.insertBefore(t,i,r)}function kt(t,i){return n.Array.compare(t,i)}function dt(t,i){return n.Array.intersect(t,i)}function gt(t){return n.Array.each.apply(t,arguments)}function ni(t){return n.Array.callEach.apply(t,arguments)}function ti(n,t){if(n&&t)for(var i=0;i<t.length;i++)delete n[t[i]],delete n["@"+t[i]]}function o(n){return a(n)||l(n)||v(n)}function ii(n){return window.Object.prototype.toString.apply(n)==="[object Function]"}function l(n,t){return t?typeof parseFloat(n)=="number"&&isFinite(parseFloat(n)):typeof n=="number"&&isFinite(n)}function a(n){return typeof n=="string"}function v(n){return typeof n=="boolean"}function ri(n){return window.Object.prototype.toString.apply(n)==="[object Date]"}function r(n){return!!n&&window.Object.prototype.toString.call(n)==="[object Object]"}function t(n){return typeof n!="undefined"}function y(n){try{return n instanceof window.Node}catch(t){return n!==null&&typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.style=="object"&&typeof n.ownerDocument=="object"}}function ui(t,i,r,u){if(!t)throw new n.ArgumentNullException(this,"func argument must be defined");var f=u?t.bind(u):t;return window.setTimeout(f,i,r)}function fi(n){window.clearTimeout(n)}function ei(i){return!t(i)||i==null?[]:n.Array.isArray(i)?i:[i]}function oi(t){if(typeof t!="object")return t;var i,r={};for(i in t)t.hasOwnProperty(i)&&(typeof t[i]!="object"?r[i]=t[i]:(r[i]={},r[i]=n.deepCopyObject(t[i])));return r}function si(t,i){if(i instanceof t)return i;i=n.deepCopyObject(i);var r=n.getProperty(i,"PPType");return r?n.create(i):new t(i)}function hi(n){if(n=n||window.event,n&&(n.srcElement||n.target)){var t=n.srcElement||n.target;switch(t.nodeName.toUpperCase()){case"#TEXT":case"INPUT":case"TEXTAREA":case"LINE":case"SVG":case"RECT":case"CIRCLE":case"TEXT":case"PATH":case"TSPAN":case"ELLIPSE":case"POLYGON":case"POLYLINE":return!0;default:if(r(t.className)||t.className&&t.className.indexOf("PPSelect")>-1)return!0}if(n.preventDefault)n.preventDefault();else return!1}}function ci(){var t=!1;return(n.IsChrome||n.IsFF)&&(t=window.devicePixelRatio!==1),t}function li(){if(!n._DPI){var t=document.createElement("DIV");t.style.width="1in",t.style.visibility="hidden",document.body.appendChild(t),n._DPI=t.offsetWidth,document.body.removeChild(t)}return n._DPI||(n._DPI=96),n._DPI}n.ImagePath="",n.ScriptPath="",n.CSSPath="",n.ResourcePath="",n.HelpPath="",n.Blank="_blank",n.IsIE=navigator.userAgent.indexOf(" MSIE ")>-1||navigator.userAgent.indexOf(" Trident/")>-1,n.IsEdge=navigator.userAgent.indexOf("Edge")>-1,n.IsFF=navigator.userAgent.indexOf(" Firefox/")>-1,n.IsChrome=navigator.userAgent.indexOf("Chrome")>-1&&!n.IsEdge,n.IsSafari=navigator.userAgent.indexOf(" Safari/")>-1&&!n.IsEdge&&!n.IsChrome,n.IsOpera=navigator.userAgent.indexOf("Opera/")>-1,n.IsiPad=navigator.userAgent.indexOf("iPad")>-1,n.IsiPhone=navigator.userAgent.indexOf("iPhone")>-1,n.IsWebKit=navigator.userAgent.indexOf("AppleWebKit")>-1,n.isMouse="onmousemove"in document&&!n.IsiPad,n.isTouch=function(){return"ontouchstart"in document||navigator.msMaxTouchPoints>0}(),n.IEVer=function(){return navigator.userAgent.indexOf(" MSIE ")===-1&&navigator.userAgent.indexOf(" Trident/7.")>-1?11:document.documentMode===10?10:document.documentMode===9?9:document.documentMode===8?8:void 0}(),n.IsWebGL=function(){var n,t;if(!window.WebGLRenderingContext||(n=document.createElement("canvas"),!n))return!1;try{if(t=n.getContext("webgl"),t||(t=n.getContext("experimental-webgl")),!t)return!1}catch(i){return!1}return!0}(),n._sl={},n._aQD={},n._aQE={},n._cpA={},n._kQ={},n.Entity={Class:"Class",Interface:"Interface",Enum:"Enum",Namespace:"Namespace"},n.ClassMembers={Property:"Property",Method:"Method",Event:"Event"},n.initClass=p,n.initEnum=w,n.initInterface=b,n.initNamespace=k,n.isMemberOf=d,n.getEnumInterfMembers=g,n.isPPInstance=s,n.isBaseClass=nt,n.isBaseMemberOf=tt,n.getBaseMethod=it,n.instanceOf=rt,n.create=ut,n.getTypeByName=u,n.getNSMap=f,n.getTypeName=ft,n.extend=e,n.setValueToJSON=et,n.setProperty=h,n.getProperty=ot,n.removeProperty=c,n.getItemsByPropValue=st,n.getFirstMember=ht,n.getFirstValue=ct,n.rmvFrmArr=lt,n.rmvFrmArrByIdx=at,n.maxArray=vt,n.minArray=yt,n.insertArrToArr=pt,n.insertToArr=wt,n.arrInsertBefore=bt,n.compareArr=kt,n.intersectArr=dt,n.each=gt,n.callEach=ni,n.delFrom=ti,n.isPrimitive=o,n.isFunction=ii,n.isNumber=l,n.isString=a,n.isBoolean=v,n.isDate=ri,n.isObject=r,n.isDefined=t,n.isDOMNode=y,n.setTimeout=ui,n.clearTimeout=fi,n.toArray=ei,n.deepCopyObject=oi,n.ensureObject=si,n.disableSelection=hi,n.isZoomed=ci,n.getDPI=li}(n||(n={})),n.initNamespace(n,"PP"),function(n){function i(n){return t.escapeHTML(n)}function r(n){return t.unescapeHTML(n)}var t=function(){function t(){}return t.fromCharCode=function(n){return window.String.fromCharCode(n)},t.isTrue=function(n){return n!=null&&(n.toLocaleLowerCase()==="true"||n.toString()==="1")},t.isBoolean=function(n){return n=n||"",n.toLocaleLowerCase()==="true"||n.toLocaleLowerCase()==="false"},t.isNumber=function(n){return n=n||"",!isNaN(parseInt(n))},t.startsWith=function(t,i){return!n.isDefined(t)||!n.isDefined(i)?!1:t.indexOf(i)===0},t.endsWith=function(t,i){return!n.isDefined(t)||!n.isDefined(i)?!1:t.indexOf(i,t.length-i.length)!==-1},t.ellipsis=function(t,i,r,u){if(n.isDefined(u)||(u="..."),t&&t.length>i){if(r){for(var e=t.substr(0,i-2),f=0,o;(o=n.String.SEPARATOR.exec(e))!==null;)f=n.String.SEPARATOR.lastIndex-o[0].length;if(f>0)return e.substr(0,f)+u}return t.substr(0,i-3)+u}return t},t.wrap=function(t,i,r){t=t.replace(/&lt;br\s?\/?&gt;/g,"\n");var p=document.createElement("canvas"),s=p.getContext("2d"),w=new RegExp("[ \t]"),b=new RegExp("\n"),v=t.split(b),u,h,y,f=0,e=[""],c,o,l,a;for(s.save(),!n.isObject(r)||r instanceof n.Font||(r=new n.Font(r)),r instanceof n.Font?s.font=r.toCanvasFormat():n.isString(r)&&(s.font=r),l=0;l<v.length;l++){for(u=v[l].split(w),u=u.filter(function(n){return!!n}),h=0,c=0,u.length||(e[f]="\n"),o=0;o<u.length;o++)y=o===u.length-1,a=u.length>1&&o<u.length-1,c=s.measureText(u[o]+(a?" ":"")).width,h+=c,h<=i?(e[f]||(e[f]=""),e[f]+=u[o]+(a?" ":"")):e[f]?(e[f]=n.String.trim(e[f]),f++,h=c,e[f]=u[o]+(a?" ":"")):(e[f]=u[o],y||f++,h=0);f++}return s.restore(),e},t.format=function(t){for(var c=[],o,u,f=1;f<arguments.length;f++)c[f-1]=arguments[f];for(var l=new RegExp('{(\\d+)(:(("(([^\\\\"]*(\\\\.)*)*)"|[^}])*))?}',"g"),r=[],i,s,h,e="";i=l.exec(t);)r.push(i);for(i=0;i<r.length;i++)s=parseInt(r[i][1])+1,h=t.indexOf(r[i][0]),e+=t.substr(0,h),t=t.substr(h+r[i][0].length),arguments.length>s?(o=r[i][3]?r[i][3]:"",u=arguments[s],n.isObject(u)&&(o=o||u.defaultFormat,u=u.value),e+=n.isString(u)&&!o?u:n.NumberFormat.maskFormat(o,u)):e+=r[i][0];return e+t},t.pattern=function(i,r,u,f){var e,s,o,l;if(!i.length)return"";s=[];for(e in r)r.hasOwnProperty(e)&&(n.isString(r[e])&&(r[e]=r[e].replace(/\u200E*$/g,"")),s.push([e,r[e]]));s.sort(function(n,t){return t[0].length-n[0].length}),i=i.replace(/\{\{(.*?)\}\}/g,"%7B%7B$1%7D%7D").replace(/\[\[(.*?)\]\]/g,"%5B%5B$1%5D%5D");for(var y=new RegExp("{‎?%([A-z0-9]*?)s?:s?(.*?)‏?}","g"+(u?"i":"")),h,c=[],a={},v;;){if(h=y.exec(i),!h)break;a[h[1]]=!0,c.push({Pos:h.index,Length:h[0].length,Name:h[1],Format:h[2]})}for(e in r)r[e]&&!a[e]&&r[e].defaultFormat&&(v=i.indexOf("{%"+e+"}"))!==-1&&c.push({Pos:v,Length:2+e.length+1,Name:e,Format:r[e].defaultFormat});for(i=t.replaceByFormats(i,c,r,f),e=0;e<s.length;e++)o=s[e][1],n.isDefined(o)&&o!==null||(o=f),l="",n.isObject(o)&&(l=o.defaultFormat,o=o.value,n.isDefined(o)&&o!==null||(o=f)),o=n.isNumber(o)?n.NumberFormat.maskFormat(l,o):o,n.isDefined(o)&&(i=i.replace(new RegExp("{%"+s[e][0]+"}","g"+(u?"i":"")),o).replace(new RegExp("%"+s[e][0],"g"+(u?"i":"")),o));return i=i.replace(/\[[\s\S]*?\{%[\s\S]*?\}[\s\S]*?\]/g,"").replace(/\[|\]/g,""),i=i.replace(/%7B%7B(.*?)%7D%7D/g,"{$1}").replace(/%5B%5B(.*?)%5D%5D/g,"[$1]")},t.replaceByFormats=function(t,i,r,u){var o,e,f,h=0,s;if(!t||!i)return"";if(!n.Array.isArray(i)||i.length===0)return t;for(s=t.split(""),i.sort(function(n,t){return n.Pos-t.Pos}),o=0;o<i.length;o++)(e=i[o],e.Pos+e.Length>s.length-h||!r.hasOwnProperty(e.Name))||(f=r[e.Name],n.isObject(f)?(e.Format=e.Format||f.defaultFormat,f=f.value,n.isDefined(f)&&f!==null?e.Format&&(f=n.NumberFormat.maskFormat(e.Format,f)):f=u):n.isDefined(f)&&f!==null||(f=u),s.splice(e.Pos+h,e.Length,f),h+=1-e.Length);return s.join("")},t.repeat=function(n,t,i){var u="",r;for(n=n||"",r=0;r<t;r++)u+=n,i&&r<t-1&&(u+=i);return u},t.leftPad=function(n,t,i){var r=n+"";for(i=i||" ";r.length<t;)r=i+r;return r},t.trim=function(n,t){if(!n)return n;n+="";var i=/^\s+/,r=/\s+$/;return t?(i=new RegExp("^"+t+"+"),r=new RegExp(t+"+$"),n.replace(i,"").replace(r,"")):n.trim?n.trim():n.replace(i,"").replace(r,"")},t.getRandom=function(n){for(var u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i="",r,t=0;t<n;t++)r=Math.round(Math.random()*51),i+=u.charAt(r);return i},t.escapeRegExp=function(n){return n==null?"":n.toString().replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},t.escapeHTML=function(n){var t=/>/g,i=/</g,r=/&/g;return n==null?"":n.toString().replace(r,"&amp;").replace(t,"&gt;").replace(i,"&lt;")},t.unescapeHTML=function(n){var t=/&gt;/g,i=/&lt;/g,r=/&amp;/g;return n==null?"":n.toString().replace(t,">").replace(i,"<").replace(r,"&")},t.replaceAll=function(t,i,r){return i=n.String.escapeRegExp(i),t.replace(new RegExp(i,"gm"),r)},t.reverse=function(n){for(var t="",i=n.length;i--;)t+=n.charAt(i);return t},t.toBase64=function(t){for(var e="",r=[],u,f,i=0;i<t.length;i++)u=t.charCodeAt(i),u<128?r.push(u):u>=128&&u<2048?r.push(u>>6|192,u&63|128):r.push(u>>12|224,u>>6&63|128,u&63|128);for(f=n.String.BASE64_MAP,i=0;i<r.length;i+=3)e+=f[r[i]>>2]+f[(r[i]&3)<<4|(r[i+1]||0)>>4]+(i<r.length-1?f[(r[i+1]&15)<<2|r[i+2]>>6]:n.String.BASE64_PADDING_CHAR)+(i<r.length-2?f[r[i+2]&63]:n.String.BASE64_PADDING_CHAR);return e},t.fromBase64=function(i){var f;i=i.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",u=[],o=n.String.BASE64_INVMAP,r=0;r<i.length;r+=4){var c=o[i[r]],s=o[i[r+1]],h=o[i[r+2]],l=o[i[r+3]];u.push(c<<2|s>>4),i[r+2]!==t.BASE64_PADDING_CHAR&&u.push((s&15)<<4|h>>2),i[r+3]!==t.BASE64_PADDING_CHAR&&u.push((h&3)<<6|l)}for(r=0;r<u.length;r++)f=u[r],f<128?e+=window.String.fromCharCode(f):f>191&&f<224?(e+=window.String.fromCharCode((f&31)<<6|u[r+1]&63),r++):(e+=window.String.fromCharCode((f&15)<<12|(u[r+1]&63)<<6|u[r+2]&63),r+=2);return e},t.GUIDPart=function(n){for(var r="",t,i=0;i<n;i++)t=(Math.random()*256).toString(16),t.length==1&&(t="0"+t),r+=t;return r},t.generateGUID=function(t){return n.isDefined(t)||(t="-"),n.String.GUIDPart(4)+t+n.String.GUIDPart(2)+t+n.String.GUIDPart(2)+t+n.String.GUIDPart(2)+t+n.String.GUIDPart(6)},t.equal=function(n,t,i){return(i===void 0&&(i=!0),i)?n===t:n.toLowerCase()===t.toLowerCase()},t}();t.SEPARATOR=new RegExp("([\\u002B\\u2116\\u005E\\u0060\\u007E\\u007C\\u003E\\u003C\\u003D\\u0024\\u0021-\\u0023\\u0025-\\u002A\\u002C-\\u002F\\u003A\\u003B\\u003F\\u0040\\u005B-\\u005D\\u005F\\u007B\\u007D\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E3B\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\f\\r\\n\\t]+)","gm"),t.ALPHABET_SYMBOL_TEMPLATE="[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]",t.BASE64_MAP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.BASE64_PADDING_CHAR="=",t.BASE64_INVMAP=function(n){for(var i={},t=0;t<n.length;t++)i[n[t]]=t;return i}(t.BASE64_MAP),n.String=t,n.escapeHTML=i,n.unescapeHTML=r}(n||(n={})),function(n){var t=function(){function t(){}return t.assert=function(n,t){if(console&&console.assert)return console.assert(n,t)},t.assertNull=function(n,i){return t.assert(n===null,i)},t.assertNotNull=function(n,i){return t.assert(n!==null,i)},t.assertUndefined=function(i,r){return t.assert(!n.isDefined(i),r)},t.assertNotUndefined=function(i,r){return t.assert(n.isDefined(i),r)},t.assertNaN=function(n,i){return t.assert(isNaN(n),i)},t.assertNotNaN=function(){},t.assertArray=function(){},t.assertTypeOf=function(){},t.assertBoolean=function(){},t.assertFunction=function(){},t.assertNumber=function(){},t.assertString=function(){},t.assertMatch=function(t,i){i=i instanceof RegExp?i:new RegExp(i?n.String.escapeRegExp(i.toString()):"")},t.assertNoMatch=function(t,i){i=i instanceof RegExp?i:new RegExp(i?n.String.escapeRegExp(i.toString()):"")},t}();n.Debug=t}(n||(n={})),function(n){var t=function(){function t(t,i){if(!(this instanceof n.Exception))return new n.Exception(t,i);this._Message=i,this._Source=t,n.isString(i)||(this._Message=""),n.isString(t)&&(this._Message=t)}return t.prototype.getTypeName=function(){return"PP.Exception"},t.prototype.getMessage=function(){return this._Message},t.prototype.getSource=function(){return this._Source},t.prototype.getError=function(){return this._Error||(this._Error=new Error(t.format(this))),this._Error},t.format=function(t){var u=t.getMessage(),i=t.getSource(),r="Source: "+t.getTypeName();return n.isString(i)&&(r="Source: "+i),i&&i.getTypeName&&(r="Source: "+i.getTypeName(!0)),u&&(r+=". Message: "+u),r},t}(),r,u,f,e,o,s;n.Exception=t,r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t.prototype.getTypeName=function(){return"PP.ArgumentNullException"},t.prototype.getMessage=function(){return"Argument "+this._Message},t}(t),n.ArgumentNullException=r,u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t.prototype.getTypeName=function(){return"PP.OutOfRangeException"},t}(t),n.OutOfRangeException=u,f=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t.prototype.getTypeName=function(){return"PP.ArgumentException"},t}(t),n.ArgumentException=f,e=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t.prototype.getTypeName=function(){return"PP.NotSupportedException"},t}(t),n.NotSupportedException=e,o=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t.prototype.getTypeName=function(){return"PP.NotImplementedException"},t}(t),n.NotImplementedException=o,s=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t.prototype.getTypeName=function(){return"PP.NullPointerException"},t}(t),n.NullPointerException=s}(n||(n={})),function(n){var t=function(){function t(){}return t.isArray=function(n){return window.Array.isArray(n)},t.toArray=function(i){return!n.isDefined(i)||i==null?[]:t.isArray(i)?i:[i]},t.isPrimitive=function(i){if(!t.isArray(i))return!1;for(var r=i.length;r--&&n.isPrimitive(i[r]););return r<0},t.removeItem=function(n,t){var i=n.indexOf(t);return i>-1?(n.splice(i,1),!0):!1},t.removeByRange=function(n,t,i){var r=n.slice((i||t)+1||n.length);return n.length=t<0?n.length+t:t,n.push.apply(n,r)},t.remove=function(n,t){for(var i=-1,r=!1;++i<n.length;)t(n[i])&&(n.splice(i,1),i--,r=!0);return r},t.merge=function(t,i){return n.extend(t,i,!0,!0,!0)},t.max=function(n){if(n&&n.length){for(var t=n.length-1,i=n[t];t--;)n[t]!==null&&n[t]!==undefined&&n[t]>i&&(i=n[t]);return i}return-Infinity},t.min=function(n){if(n&&n.length){for(var t=n.length-1,i=n[t];t--;)n[t]!==null&&n[t]!==undefined&&n[t]<i&&(i=n[t]);return i}return Infinity},t.insertToArray=function(i,r,u){u=n.isNumber(u)?u:i.length;var f,e=r.length;if(u>-1)if(u<=i.length)for(f=e-1;f>-1;f--)t.insert(i,r[f],u);else for(f=0;f<e;f++)i.push(r[f]);return i},t.insert=function(t,i,r){return r=n.isNumber(r)?r:t.length,r>-1&&(r<=t.length?t.splice(r,0,i):t.push(i)),t},t.insertBefore=function(n,i,r){var u=n.indexOf(r);return u==-1?n.push(i):u==0?n.unshift(i):t.insert(n,i,u),n},t.compare=function(n,i){var r=n.length;if(r!==i.length)return!1;while(r--)if(t.isArray(n[r])&&t.isArray(i[r])){if(!t.compare(n[r],i[r]))return!1}else if(n[r]!==i[r])return!1;return!0},t.intersect=function(t,i){for(var f=[],e={},o=i.length,u,r=0;r<o;r++)n.isObject(i[r])||(e[i[r]]=typeof i[r]);for(o=t.length,r=0;r<o;r++)u=t[r],n.isObject(u)?i.indexOf(u)>=0&&f.push(u):u in e&&typeof u==e[u]&&f.push(u);return f},t.each=function(n,t,i){var f,u,e;if(n&&n.length)for(f=window.Array.prototype.slice.call(arguments,0),f.splice(0,3),u=0;u<n.length;u++)e=[u,n[u]].concat(f),i.apply(t,e)},t.sort=function(n,i){var r,u,f;if(t.isArray(n)){if(t.isPrimitive(n))return n.sort(i);for(r=i,r||(r=function(n,t){return u.indexOf(n)-u.indexOf(t)}),u=[],f=0;f<n.length;f++)u.push(n[f]);return n.sort(r)}},t.uniq=function(n){var r=[],i;if(t.isArray(n))for(i=0;i<n.length;i++)r.indexOf(n[i])===-1&&r.push(n[i]);return r},t.find=function(n,t){for(var r,i=0,u=n.length;i<u;i++)if(r=n[i],t(r))return r},t.callEach=function(n,t){var u,f,r,e;if(n&&n.length)for(u=n,f=t,window.Array.prototype.splice.call(arguments,0,2),r=0,e=u.length;r<e;r++)u[r][f].apply(u[r],arguments)},t.indexOf=function(n,t){for(var i=0;i<n.length;i++)if(t(n[i]))return i;return-1},t}();n.Array=t}(n||(n={})),function(n){var t=function(){function n(n){this._Event=n}return Object.defineProperty(n.prototype,"Event",{get:function(){return this._Event},enumerable:!0,configurable:!0}),n}(),i;n.EventArgs=t,i=function(){function i(t,i,r){if(!(this instanceof n.Delegate))return new n.Delegate(t,i,r);this._On=[],this._aQG=!1,t&&this.add(t,i,r)}return i.fire=function(n,t,r,u){var f=n instanceof i?n:new i(n,t,r);return f.fire(t,r,u)},i.prototype._alx=function(n){return n||null},i.prototype._a8D=function(n,t,i){var r=this;return this._On.filter(function(u){if(!i){if(!n)return u.Context===r._alx(t);if(!t)return u.Callback==n}return u.Callback==n&&u.Context===r._alx(t)})},i.prototype.fire=function(i,r,u){var o=this._On,c,s,e,l,h,f;if(o&&o.length&&!this._aQG){if(c=o.length,u!=undefined&&n.isNumber(u)){n.setTimeout(function(n){n.self.fire(n.sender,n.args)},u,{sender:i,args:r,self:this});return}for(s=undefined,e=r,e||(e=new t),l=c===1?o:[].concat(o),h=0;h<c;h++)if(f=l[h],f&&f.Callback&&!f.Suspended&&(f.Args&&(e.Args=f.Args),f.Context?f.Context.isLive&&!f.Context.isLive()?this.remove(f.Callback,f.Context):s=f.Callback.call(f.Context,i,e):s=f.Callback.call(i,i,e),e&&e.Break))break;return s}},i.prototype.suspend=function(n){var i,t;if(n)for(i=this._a8D(undefined,n,!1),t=0;t<i.length;t++)i[t].Suspended=!0;else this._aQG=!0},i.prototype.resume=function(n){var i,t;if(n)for(i=this._a8D(undefined,n,!1),t=0;t<i.length;t++)i[t].Suspended=!1;else this._aQG=!1},i.prototype.isSuspended=function(n){var i,r,t;if(n){for(i=!1,r=this._a8D(undefined,n,!1),t=0;t<r.length;t++)r[t].Suspended&&(i=!0);return i}return this._aQG},i.prototype.add=function(n,t,r){if(!n)return null;var u=this._On;return u||(u=this._On=[]),n instanceof i?n._On&&(this._On=u.concat(n._On)):u.push({Callback:n,Context:this._alx(t),Args:r,Suspended:!1}),u.length},i.prototype.addOne=function(n,t,i){return this.contains(n,t)?this._On.length:this.add(n,t,i)},i.prototype.insert=function(t,r,u,f){if(!r)throw new n.ArgumentNullException("func");if(this._On||(this._On=[]),r instanceof i){if(r._On)for(var e=0;e<r._On.length;e++)n.Array.insert(this._On,r._On[e],t++)}else n.Array.insert(this._On,{Callback:r,Context:this._alx(u),Args:f},t);return this._On.length},i.prototype.remove=function(t,r){if(this._On){var f=(typeof t).toLowerCase(),u;if(f=="function"){for(u=this._On.length-1;u>=0;u--)if(this._On[u]&&this._On[u].Callback==t&&this._On[u].Context===this._alx(r)){this._On.splice(u,1);return}}else if(t instanceof i){if(t._On&&t._On.length>0)for(u=0;u<t._On.length;u++)this.remove(t._On[u].Callback,t._On[u].Context)}else throw new n.ArgumentException(this);}},i.prototype.removeAt=function(n){this._On&&this._On.length>n&&this._On.splice(n,1)},i.prototype.contains=function(t,i){if(!t)throw new n.ArgumentNullException("func");if(!this._On)return!1;for(var r=0;r<this._On.length;r++)if(this._On[r]&&this._On[r].Callback==t&&this._On[r].Context===this._alx(i))return!0;return!1},i.prototype.clone=function(){var n=new i;return this._On&&this._On.length>0&&(n._On=[].concat(this._On)),n},i.prototype.getCount=function(){return this._On?this._On.length:0},i.prototype.getArgs=function(n){if(this._On&&this._On.length)return this._On[n?n:0].Args},i.prototype.clear=function(n){if(this._On)for(var t=this._On.length-1;t>=0;t--)this._On[t]&&this._On[t].Context===this._alx(n)&&this._On.splice(t,1)},i.prototype.clearAll=function(){this._On=[]},i.prototype.dispose=function(){this.clearAll()},i}(),n.Delegate=i}(n||(n={})),function(n){var t=function(){function t(t){this._Id=null,this._e(),this._initFields(t),this._Id==null?this._Id=this.getHashCode():n.isString(this._Id)||(this._Id=this._Id+"")}return t.defineProps=function(n,t,i){if(t&&n)for(var r=0;r<t.length;r++)n.prototype["get"+t[r]]=function(n){return function(){return this["_"+n]}}(t[r]),i&&(n.prototype["set"+t[r]]=function(n){return function(t){return this["_"+n]=t,this}}(t[r]))},t.keys=function(n){return window.Object.keys(n)},t.prototype._defineEvents=function(t,i){var r=this._Events,u,f,s,o,e;for(r||(r=this._Events={}),u=n.Array.isArray(t)?t:[t],f=i||this.getHashCode(),r[f]||(r[f]={}),s=r[f],o=u.length;o--;)e=u[o],e&&(s[e]=this[e]=new n.Delegate)},t.prototype._e=function(){},t.prototype._initFields=function(t){var r,u,i,f,h,e,c,s,o;if(t){if(typeof t!="object")throw new n.ArgumentException(this,"Setsettings Error in "+t);this._XmlNames=this._XmlNames||{};for(o in t)if(r=o,r[0]==="@"&&(r=r.substring(1),this._XmlNames[r]=o),i=t[o],u="_"+r,f=this[u],r!="ParentNode"&&r!="PPType"&&r!=="__gwt_ObjectId"&&(f!==undefined||i!==undefined))if(e=typeof i,i instanceof n.Delegate||e=="function")if(this[r]instanceof n.Delegate)this[r].add(i);else if(f===null)this[u]=i;else if(i instanceof n.Delegate)this[r]=i;else throw new n.ArgumentException(this,o);else e=="object"?!f||!f.setSettings||i instanceof n.Object?this[u]=i:f.setSettings(i):e=="string"?n.isBoolean(f)?this[u]=i.length===4:n.isNumber(f)?(s=parseFloat(i),this[u]=s?s:0):this[u]=i:e!="undefined"&&(this[u]=i)}},t.prototype._ar=function(n){var t=this._XmlNames;return t&&t[n]?t[n]:n},t.prototype._g=function(n){return n=parseFloat(n),isNaN(n)||n==undefined||n<0?0:n},t.prototype._abY=function(n){var i,e,r,t,u,f;if(n&&(i=n.length,i!==0)&&(e=!n[0]&&i>1,e||n[0]&&n[0].dispose))for(r=i;r--;)t=n[r],t&&(u=t.isLive,f=t.dispose,f&&(!u||u.call(t))&&f.call(t))},t.prototype._ati=function(t){var r,i;if(t)for(r in t)t.hasOwnProperty(r)&&(i=t[r],n.Array.isArray(i)&&this._abY(i),i&&i.dispose&&(!i.isLive||i.isLive())&&i.dispose(),t[r]=undefined)},t.prototype._d7=function(n){var t,r,i,u;if(this.isLive()&&n){t=this._Events;for(r in t){i=t[r];for(u in i)i[u].clear(n)}}},t.prototype.setSettings=function(t){var i,r;if(t){if((typeof t).toLowerCase()!="object")throw new Error("Setsettings Error in "+t);for(i in t)if(r=i,i.indexOf("@")==0&&(i=i.substring(1)),i!="ParentNode"&&i!="PPType"&&i!=="__gwt_ObjectId"){var o=(typeof this["get"+i]).toLowerCase(),u,f,s=(typeof t[r]).toLowerCase(),e=(typeof this["set"+i]).toLowerCase(),h=t[r];switch(s){case"function":this[i]instanceof n.Delegate&&this[i].add(t[r]);break;case"object":o!="undefined"&&(u=this["get"+i](),!u||!u.setSettings||h instanceof n.Object?e!="undefined"&&this["set"+i](t[r]):u.setSettings(t[r]));break;case"undefined":break;default:e!="undefined"&&(u=this["_"+i],n.isBoolean(u)&&n.isString(t[r])?(f=t[r].toLowerCase(),f=="true"?this["set"+i](!0):f=="false"&&this["set"+i](!1)):this["set"+i](t[r]))}}}},t.prototype.getSettings=function(i,r,u,f){var c=arguments[1],a=arguments[2],y=arguments[3],p=arguments[4],w,s,e,l,o,b,h,v;if(n.isObject(u)){a=[];for(w in u)a.push(w)}i=typeof i=="undefined"?!1:i==!0,y=!!f,c=r||[],c.push(this),s={};for(h in this)if(this.hasOwnProperty(h)&&(!a||a.indexOf(h)<0)){if(e=this[h],!y&&e&&e instanceof n.Delegate){e.getCount()>0&&(s[h]=e.clone());continue}if(h.indexOf("_")!==0||e&&(!!e.nodeType||typeof e.innerHTML!="undefined"))continue;if(o=this._ar(h.replace("_","")),b=o.replace("@",""),n.isFunction(this["get"+b]))if(n.Array.isArray(e))for(s[o]=[],v=0;v<e.length;v++)l=e[v],l instanceof t?c.indexOf(l)==-1&&(arguments[1]=c,s[o].push(l.getSettings.apply(l,arguments))):s[o].push(l);else e instanceof t?c.indexOf(e)==-1&&(arguments[1]=c,s[o]=e.getSettings.apply(e,arguments)):(e||n.isBoolean(e)||n.isNumber(e))&&(p&&!n.isObject(e)&&o.indexOf("@")!==0&&(o="@"+o),s[o]=e)}return i&&(s[p?"@PPType":"PPType"]=this.getTypeName()),s},t.prototype.removeAllEvents=function(n){this._d7(n)},t.prototype.isEqual=function(n){return this===n},t.prototype.setId=function(n){this._Id=n},t.prototype.getId=function(){return this._Id},t.prototype.clone=function(){var n=this.getSettings(),t;return delete n.Id,t=this.constructor,new t(n)},t.prototype.getTypeName=function(t){if(this._aCE=this._aCE||this.constructor._Name,this._aCE||(this._aCE=n.getTypeName(this.constructor)),t!==!1)return this._aCE;var i=this._aCE.split(".");return i[i.length-1]},t.prototype.getHashCode=function(){if(this._a8E)return this._a8E;for(var i=1,r=0,n="",t="",n=Math.floor(11+Math.random()*5).toString(16);r++<i;)n+=Math.floor(Math.random()*8589934592).toString(16)+t;return t&&(n=n.substring(0,t.length-1)),this._a8E=n},t.prototype.isLive=function(){return this._Id!=undefined},t.prototype.dispose=function(){this.isLive()&&(this._Id=undefined,this._ati(this))},t}();t._dC6=0,n.Object=t}(n||(n={})),function(n){var r={StringTest:new RegExp("^#([0-9]|[a-f]|[A-F]){6}$","i"),StringTestLong:new RegExp("^#([0-9]|[a-f]|[A-F]){8}$","i"),StringTestShort:new RegExp("^#([0-9]|[a-f]|[A-F]){3}$","i"),ARGBTest:new RegExp("^([0-9]|[a-f]|[A-F]){8}$","ig"),RGBATest:/rgba\((\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3}[\.]?\d*)\)/,RGBTest:/rgb\((\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3})\)/},u=t=function(u){function f(n){var i=u.call(this)||this,r;return(i._A=255,i._R=0,i._G=0,i._B=0,r=n,typeof r=="string")?t.getColor(r):r&&r.clone?r.clone():(i._Color=n||0,i._A=i._Color>>24&255,i._R=i._Color>>16&255,i._G=i._Color>>8&255,i._B=i._Color&255,i)}return i(f,u),Object.defineProperty(f,"black",{get:function(){return new t(4278190080)},enumerable:!0,configurable:!0}),Object.defineProperty(f,"white",{get:function(){return new t(4294967295)},enumerable:!0,configurable:!0}),Object.defineProperty(f,"red",{get:function(){return new t(4294901760)},enumerable:!0,configurable:!0}),Object.defineProperty(f,"green",{get:function(){return new t(4278222848)},enumerable:!0,configurable:!0}),Object.defineProperty(f,"blue",{get:function(){return new t(4278190335)},enumerable:!0,configurable:!0}),f.getColor=function(n){var i,h,u,f,e,o,v,s;if(r.StringTestShort.test(n)){var c=n.charAt(1),l=n.charAt(2),a=n.charAt(3);n="#"+c+c+l+l+a+a}if(r.StringTest.test(n)&&(n="#FF"+(n+"").substr(1).toUpperCase()),r.StringTestLong.test(n))return i=parseInt((n+"").substr(1),16),new t(i);if(r.RGBATest.test(n))return i=n.match(r.RGBATest),h=parseFloat(i[4]),u=parseFloat(i[1]),f=parseFloat(i[2]),e=parseFloat(i[3]),t.fromARGB(h,u,f,e);if(r.ARGBTest.test(n))return i=n.match(r.ARGBTest),h=parseFloat(i[1]),u=parseFloat(i[2]),f=parseFloat(i[3]),e=parseFloat(i[4]),t.fromARGB(h,u,f,e);if(r.RGBTest.test(n))return i=n.match(r.RGBTest),u=parseFloat(i[1]),f=parseFloat(i[2]),e=parseFloat(i[3]),t.fromRGB(u,f,e);if(n=(n+"").toLowerCase(),n==="transparent")return new t(0);if(t.Colors[n]||(o=document.createElement("span"),o.style.cssText="color : "+n+"; position:absolute; visibility : hidden; top : -100px; left:-100px;",document.body.appendChild(o),n=o.style.color,n&&(n=n.toLowerCase()),document.body.removeChild(o)),t.Colors[n])return t.getColor(t.Colors[n]);for(v=new RegExp("\\d+","img"),s=[];(i=v.exec(n))!=null;)s.push(parseInt(i[0]));return t.fromRGB(s[0],s[1],s[2])},f.fromRGB=function(n,i,r){return t.fromARGB(255,n,i,r)},f.fromARGB=function(i,r,u,f){if(typeof r!="number"||typeof f!="number"||typeof u!="number"||typeof i!="number"||r<0||r>255||u<0||u>255||f<0||f>255||i<0||i>255)throw new n.ArgumentException("rgb");return i>0&&i<=1&&(i=Math.round(i*255)),i=Math.round(i)*16777216,r=Math.round(r)*65536,u=Math.round(u)*256,f=Math.round(f),new t(i+r+u+f)},f.fromHSV=function(n,i,r){var u=t.HSVtoRGB(n,i,r);return t.fromRGB(u[0],u[1],u[2])},f.RGBtoHSV=function(t,i,r){if(typeof t!="number"||typeof r!="number"||typeof i!="number"||t<0||t>255||i<0||i>255||r<0||r>255)throw new n.ArgumentException("rgb");var f=Math.max(t,i,r),e=Math.min(t,i,r),u=null,o=null,s=null;switch(f){case e:u=0;break;case t:u=60*(i-r)/(f-e),i<r&&(u+=360);break;case i:u=60*(r-t)/(f-e)+120;break;case r:u=60*(t-i)/(f-e)+240}return u=Math.round(u),o=f==0?0:Math.round((1-e/f)*100),s=Math.round(f*100/255),[u,o,s]},f.HSVtoRGB=function(t,i,r){if(typeof t!="number"||typeof i!="number"||typeof r!="number"||t<0||t>360||i<0||i>100||r<0||r>100)throw new n.ArgumentException("hsv");t=t==360?0:t,i=i/100,r=r/100;var l=Math.floor(t/60)%6,c=t/60-Math.floor(t/60),o=r*(1-i),s=r*(1-c*i),h=r*(1-(1-c)*i),u=null,f=null,e=null;switch(l){case 0:u=r,f=h,e=o;break;case 1:u=s,f=r,e=o;break;case 2:u=o,f=r,e=h;break;case 3:u=o,f=s,e=r;break;case 4:u=h,f=o,e=r;break;case 5:u=r,f=o,e=s}return u=Math.round(u*255),f=Math.round(f*255),e=Math.round(e*255),[u,f,e]},f.prototype.getARGB=function(){return this._Color},f.prototype.getOpacity=function(){return this._A/255},f.prototype.getA=function(){return this._A},f.prototype.getR=function(){return this._R},f.prototype.getG=function(){return this._G},f.prototype.getB=function(){return this._B},f.prototype.getH=function(){return t.RGBtoHSV(this.getR(),this.getG(),this.getB())[0]},f.prototype.getS=function(){return t.RGBtoHSV(this.getR(),this.getG(),this.getB())[1]},f.prototype.getV=function(){return t.RGBtoHSV(this.getR(),this.getG(),this.getB())[2]},f.prototype.setA=function(n){this._A=Math.round(n)},f.prototype.setOpacity=function(n){n=n<0?0:n,n=n>1?100/n:n,this._A=Math.round(n*255)},f.prototype.brighten=function(n){return this.brighter(n)},f.prototype.darken=function(n){return this.darker(n)},f.prototype.brighter=function(n){var i=[this._R,this._G,this._B],r;if(isFinite(n)&&n!==0)for(n=n*255,r=0;r<3;r++)i[r]+=n,i[r]<0&&(i[r]=0),i[r]>255&&(i[r]=255);return t.fromRGB(i[0],i[1],i[2])},f.prototype.darker=function(n){var i=[this._R,this._G,this._B],r;if(isFinite(n)&&n!==0)for(r=0;r<3;r++)i[r]-=n*255,i[r]<0&&(i[r]=0),i[r]>255&&(i[r]=255);return t.fromRGB(i[0],i[1],i[2])},f.prototype.applyMatrix=function(n){var i=this._R/255,r=this._G/255,u=this._B/255,f=this._A/255,e=i*n[0]+r*n[1]+u*n[2]+f*n[3]+n[4],o=i*n[5]+r*n[6]+u*n[7]+f*n[8]+n[9],s=i*n[10]+r*n[11]+u*n[12]+f*n[13]+n[14],h=i*n[15]+r*n[16]+u*n[17]+f*n[18]+n[19];return i=Math.max(0,Math.min(255,e*255|0)),r=Math.max(0,Math.min(255,o*255|0)),u=Math.max(0,Math.min(255,s*255|0)),f=Math.max(0,Math.min(255,h*255|0)),t.fromARGB(f,i,r,u)},f.prototype.toString=function(n){return this.toHexString(n)},f.prototype.toHexString=function(n){for(var e=this._A*16777216,i=this._R*65536,r=this._G*256,u=this._B,t=n?(e+i+r+u).toString(16).toUpperCase():(i+r+u).toString(16).toUpperCase(),f=n?8:6;t.length<f;)t="0"+t;return"#"+t},f.prototype.toDecimalString=function(n){var t=n?"rgba(":"rgb(";return t+=this._R+", "+this._G+", "+this._B,t+=n?", "+parseFloat((this._A/255).toFixed(2)):"",t+=")"},f.prototype.isEqual=function(n){if(!(n instanceof t))throw new Error("ArgumentException");return n&&this._R==n.getR()&&this._G==n.getG()&&this._B==n.getB()},f.prototype.getSettings=function(){return this.toHexString()},f.prototype.getAutoGradientColor=function(){return this.brighten(.2).toDecimalString()},f.prototype.clone=function(){return new t(this._Color)},f}(n.Object),t;u.Colors={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370D8",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#D87093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},u=t=f([at],u),n.Color=u}(n||(n={})),function(n){var t=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._initFields=function(i){if(n.isString(i)){var r=void 0;r=i.indexOf(",")>0?i.split(","):i.split(" "),i={Left:parseFloat(r[0]),Top:parseFloat(r[1]),Right:parseFloat(r[2]),Bottom:parseFloat(r[3])}}t.prototype._initFields.call(this,i)},r.prototype.getLeft=function(){return this._Left},r.prototype.getTop=function(){return this._Top},r.prototype.getRight=function(){return this._Right},r.prototype.getBottom=function(){return this._Bottom},r.prototype.getWidth=function(){return this._Width},r.prototype.setWidth=function(n){n=this._g(n),this._Width=n,this._Left=n,this._Top=n,this._Right=n,this._Bottom=n},r.prototype.setLeft=function(n){this._Left=this._g(n),this._Width!=this._Left&&(this._Width=0)},r.prototype.setTop=function(n){this._Top=this._g(n),this._Width!=this._Top&&(this._Width=0)},r.prototype.setRight=function(n){this._Right=this._g(n),this._Width!=this._Right&&(this._Width=0)},r.prototype.setBottom=function(n){this._Bottom=this._g(n),this._Width!=this._Bottom&&(this._Width=0)},r.prototype.toString=function(){return this._Left+" "+this._Top+" "+this._Right+" "+this._Bottom},r.prototype.toCSSFormat=function(n){if(!n)throw new Error("ArgumentException");return n+":"+this._Top+"px "+this._Right+"px "+this._Bottom+"px "+this._Left+"px;"},r.prototype.getSettings=function(){return this.toString()},r}(n.Object);f([e(0)],t.prototype,"_Width",void 0),f([e(0)],t.prototype,"_Left",void 0),f([e(0)],t.prototype,"_Top",void 0),f([e(0)],t.prototype,"_Right",void 0),f([e(0)],t.prototype,"_Bottom",void 0),n.Thickness=t}(n||(n={})),function(n){var t=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._cpB=function(n){return["solid","none","hidden","dotted","dashed","double","groove","ridge","inset","outset","inherit"].indexOf(n)!==-1},r.prototype._initFields=function(i){i=i||{},n.isString(i.Color)&&(i.Color=n.Color.getColor(i.Color)),n.isDefined(i.Style)&&this.setStyle(i.Style),n.isDefined(i.Color)&&this.setColor(i.Color),n.isDefined(i.Radius)&&this.setRadius(i.Radius);var r=n.getProperty(i,"Style");r&&!this._cpB(r)&&(i.Style?i.Style=n.Border.convertStyleFromBorderComboFormat(i.Style):i["@Style"]&&(i["@Style"]=n.Border.convertStyleFromBorderComboFormat(i["@Style"]))),t.prototype._initFields.call(this,i),n.isString(this._Color)&&this.setColor(n.Color.getColor(this._Color)),n.isDefined(this._Style)&&this.setStyle(this._Style),n.isString(this._Radius)&&this.setRadius(this._Radius*1)},r.prototype.getLeft=function(){return this._Left},r.prototype.getTop=function(){return this._Top},r.prototype.getRight=function(){return this._Right},r.prototype.getBottom=function(){return this._Bottom},r.prototype.getWidth=function(){return this._Width},r.prototype.setWidth=function(n){n=this._g(n),this._Width=n,this._Left=n,this._Top=n,this._Right=n,this._Bottom=n},r.prototype.setLeft=function(n){this._Left=this._g(n),this._Width!=this._Left&&(this._Width=0)},r.prototype.setTop=function(n){this._Top=this._g(n),this._Width!=this._Top&&(this._Width=0)},r.prototype.setRight=function(n){this._Right=this._g(n),this._Width!=this._Right&&(this._Width=0)},r.prototype.setBottom=function(n){this._Bottom=this._g(n),this._Width!=this._Bottom&&(this._Width=0)},r.prototype.isEqual=function(n){if(!this||!n)return this===n;var t=[this.getLeftColor(),this.getRightColor(),this.getTopColor(),this.getBottomColor()],i=[n.getLeftColor(),n.getRightColor(),n.getTopColor(),n.getBottomColor()],r=[this.getLeftStyle(),this.getRightStyle(),this.getTopStyle(),this.getBottomStyle()],u=[n.getLeftStyle(),n.getRightStyle(),n.getTopStyle(),n.getBottomStyle()],f=[this.getLeftTopRadius(),this.getLeftBottomRadius(),this.getRightTopRadius(),this.getRightBottomRadius()],e=[n.getLeftTopRadius(),n.getLeftBottomRadius(),n.getRightTopRadius(),n.getRightBottomRadius()];return t.every(function(n,t){return n.toString()===i[t].toString()})&&r.every(function(n,t){return n===u[t]})&&f.every(function(n,t){return n===e[t]})},r.prototype.setStyle=function(n){this.setLeftStyle(n),this.setRightStyle(n),this.setTopStyle(n),this.setBottomStyle(n),this._Style=n},r.prototype.getStyle=function(){return this.getLeftStyle()===this.getRightStyle()&&this.getTopStyle()===this.getBottomStyle()&&this.getLeftStyle()===this.getTopStyle()?this.getLeftStyle():null},r.prototype.getLeftStyle=function(){return this._LeftStyle},r.prototype.getRightStyle=function(){return this._RightStyle},r.prototype.getTopStyle=function(){return this._TopStyle},r.prototype.getBottomStyle=function(){return this._BottomStyle},r.prototype.getEnabled=function(){return this._Enabled},r.prototype.setEnabled=function(n){this._Enabled=n},r.prototype.setLeftStyle=function(n){this._LeftStyle=n},r.prototype.setTopStyle=function(n){this._TopStyle=n},r.prototype.setRightStyle=function(n){this._RightStyle=n},r.prototype.setBottomStyle=function(n){this._BottomStyle=n},r.prototype.setRadius=function(n){this.setLeftTopRadius(n),this.setLeftBottomRadius(n),this.setRightTopRadius(n),this.setRightBottomRadius(n)},r.prototype.getRadius=function(){return this.getLeftBottomRadius()===this.getLeftTopRadius()&&this.getRightBottomRadius()===this.getRightTopRadius()&&this.getLeftBottomRadius()===this.getRightBottomRadius()?this.getLeftBottomRadius():-1},r.prototype.getLeftTopRadius=function(){return this._LeftTopRadius},r.prototype.getRightTopRadius=function(){return this._RightTopRadius},r.prototype.getLeftBottomRadius=function(){return this._LeftBottomRadius},r.prototype.getRightBottomRadius=function(){return this._RightBottomRadius},r.prototype.setLeftTopRadius=function(n){this._LeftTopRadius=this._g(n)},r.prototype.setLeftBottomRadius=function(n){this._LeftBottomRadius=this._g(n)},r.prototype.setRightTopRadius=function(n){this._RightTopRadius=this._g(n)},r.prototype.setRightBottomRadius=function(n){this._RightBottomRadius=this._g(n)},r.prototype.setColor=function(t){t instanceof n.Color||(t=n.Color.getColor(t.toString())),this.setLeftColor(t),this.setTopColor(t),this.setRightColor(t),this.setBottomColor(t),this._Color=t.toString()},r.prototype.getColor=function(){return this.getLeftColor().isEqual(this.getRightColor())&&this.getTopColor().isEqual(this.getBottomColor())&&this.getLeftColor().isEqual(this.getTopColor())?this.getLeftColor():null},r.prototype.getLeftColor=function(){return this._LeftColor||(this._LeftColor=n.Color.black),n.isString(this._LeftColor)&&(this._LeftColor=n.Color.getColor(this._LeftColor+"")),this._LeftColor},r.prototype.getRightColor=function(){return this._RightColor||(this._RightColor=n.Color.black),n.isString(this._RightColor)&&(this._RightColor=n.Color.getColor(this._RightColor+"")),this._RightColor},r.prototype.getTopColor=function(){return this._TopColor||(this._TopColor=n.Color.black),n.isString(this._TopColor)&&(this._TopColor=n.Color.getColor(this._TopColor+"")),this._TopColor},r.prototype.getBottomColor=function(){return this._BottomColor||(this._BottomColor=n.Color.black),n.isString(this._BottomColor)&&(this._BottomColor=n.Color.getColor(this._BottomColor+"")),this._BottomColor},r.prototype.setLeftColor=function(t){t instanceof n.Color||(t=n.Color.getColor(t.toString())),this._LeftColor=t},r.prototype.setTopColor=function(t){t instanceof n.Color||(t=n.Color.getColor(t.toString())),this._TopColor=t},r.prototype.setRightColor=function(t){t instanceof n.Color||(t=n.Color.getColor(t.toString())),this._RightColor=t},r.prototype.setBottomColor=function(t){t instanceof n.Color||(t=n.Color.getColor(t.toString())),this._BottomColor=t},r.prototype.setSettings=function(i){i=i||{},n.isString(i.Color)&&(i.Color=n.Color.getColor(i.Color)),n.isDefined(i.Style)&&this.setStyle(i.Style),n.isDefined(i.Color)&&this.setColor(i.Color),n.isDefined(i.Radius)&&this.setRadius(i.Radius),t.prototype.setSettings.call(this,i)},r.prototype.toSVGFormat=function(){},r.prototype.toCSSFormat=function(){var n="";return this._Enabled?(n+=this._cpC(),n+=this._cpD(),n+=this._cpE(),n+=this._cpF()):n},r.prototype.getCanvasStyle=function(t){var i=this._Width,r=[];switch(t){case n.Ui.LineTypes.Dot:r=[i,2*i];break;case n.Ui.LineTypes.ShortDashDotDot:r=[2*i,i,i,i,i,i];break;case n.Ui.LineTypes.ShortDot:r=[i,i];break;case n.Ui.LineTypes.ShortDashDot:r=[2*i,2*i];break;case n.Ui.LineTypes.ShortDashDot:r=[2*i,i,i,i];break;case n.Ui.LineTypes.Dashed:case n.Ui.LineTypes.Dash:r=[3*i,2*i];break;case n.Ui.LineTypes.DashDot:r=[3*i,i,i,i];break;case n.Ui.LineTypes.DashDotDot:r=[3*i,i,i,i,i,i];break;case n.Ui.LineTypes.LongDashDot:r=[5*i,2*i,i,2*i];break;case n.Ui.LineTypes.ShortDash:r=[2*i,2*i];break;default:r=null}return r},r.prototype._cpC=function(){var n="",t=this.getStyle();return t?"border-style:"+t+"; ":(n+="border-top-style:"+this._TopStyle+";",n+="border-left-style:"+this._LeftStyle+";",n+="border-right-style:"+this._RightStyle+";",n+="border-bottom-style:"+this._BottomStyle+";")},r.prototype._cpE=function(){var n="",t=this.getColor();return t?"border-color:"+t.toString()+";":(n+="border-top-color:"+this.getTopColor().toString()+";",n+="border-left-color:"+this.getLeftColor().toString()+";",n+="border-right-color:"+this.getRightColor().toString()+";",n+="border-bottom-color:"+this.getBottomColor().toString()+";")},r.prototype._cpF=function(){var n="";return this._Width||this._Width===0?"border-width:"+(this._Width>1?Math.round(this._Width):Math.ceil(this._Width))+"px;":(n+="border-top-width:"+(this._Top>1?Math.round(this._Top):Math.ceil(this._Top))+"px;",n+="border-left-width:"+(this._Left>1?Math.round(this._Left):Math.ceil(this._Left))+"px;",n+="border-right-width:"+(this._Right>1?Math.round(this._Right):Math.ceil(this._Right))+"px;",n+="border-bottom-width:"+(this._Bottom>1?Math.round(this._Bottom):Math.ceil(this._Bottom))+"px;")},r.prototype._cpD=function(){var t=this.getRadius(),n="";return t||t===0?"border-radius:"+t+"px;":(n+="border-top-left-radius:"+this._LeftTopRadius+"px;",n+="border-bottom-left-radius:"+this._LeftBottomRadius+"px;",n+="border-top-right-radius:"+this._RightTopRadius+"px;",n+="border-bottom-right-radius:"+this._RightBottomRadius+"px;")},r.prototype._dC7=function(n,t,i){var r,f,e,u;i=i||1;switch(t){case"dotted":case"dot":t=[1,3];break;case"dashed":case"dash":t=[4,3];break;case"shortdot":t=[1,1];break;case"shortdash":t=[3,1];break;case"shortdashdot":t=[3,1,1,1];break;case"dashdot":t=[4,3,1,3];break;case"longdashdot":t=[8,3,1,3];break;case"shortdashdotdot":t=[3,1,1,1,1,1];break;case"dashdotdot":t=[4,3,1,3,1,3];break;case"longdashdotdot":t=[8,3,1,3,1,3];break;default:t=!1}if(r="",t){for(f=[],u=0;u<t.length;u++)f.push(t[u]*i);e=f.join(","),r+="stroke-dasharray:"+e+";",r+="stroke-dashoffset:"+i%2/2,n&&(n.setAttribute("stroke-dasharray",e),n.setAttribute("stroke-dashoffset",i%2/2))}else n&&(n.removeAttribute("stroke-dasharray"),n.removeAttribute("stroke-dashoffset"));return r},r.prototype.getSettings=function(i,r,u,f,e){var o=t.prototype.getSettings.apply(this,arguments),h,c=this._Color,s;return this._Width===0&&(h=e?"@Width":this._ar("Width"),o[h]=0),this._Radius===0&&(h=e?"@Radius":this._ar("Radius"),o[h]=0),s=this._Radius,this._RightBottomRadius===s&&delete o.RightBottomRadius,this._RightTopRadius===s&&delete o.RightTopRadius,this._LeftBottomRadius===s&&delete o.LeftBottomRadius,this._LeftTopRadius===s&&delete o.LeftTopRadius,n.delFrom(o,["Style","BottomStyle","RightStyle","TopStyle","LeftStyle"]),o[e?this._ar("Style"):"@Style"]=n.Border.convertStyleToBorderComboFormat(this._Style),this._BottomStyle!==this._Style&&(o[e?this._ar("BottomStyle"):"@BottomStyle"]=n.Border.convertStyleToBorderComboFormat(this._BottomStyle)),this._LeftStyle!==this._Style&&(o[e?this._ar("LeftStyle"):"@LeftStyle"]=n.Border.convertStyleToBorderComboFormat(this._LeftStyle)),this._RightStyle!==this._Style&&(o[e?this._ar("RightStyle"):"@RightStyle"]=n.Border.convertStyleToBorderComboFormat(this._RightStyle)),this._TopStyle!==this._Style&&(o[e?this._ar("TopStyle"):"@TopStyle"]=n.Border.convertStyleToBorderComboFormat(this._TopStyle)),o},r.convertStyleFromBorderComboFormat=function(t){var r="none",i=n.Ui.LineTypes;switch(t){case i.Solid:r="solid";break;case i.Dot:case i.ShortDashDotDot:case i.ShortDot:case i.ShortDashShort:case i.ShortDashDot:r="dotted";break;case i.Dashed:case i.DashDot:case i.DashDotDot:case i.Dash:case i.LongDashDot:case i.ShortDash:r="dashed"}return r},r.convertStyleToBorderComboFormat=function(t){var i=n.Ui.LineTypes,r=i.Solid;switch(t){case"solid":r=i.Solid;break;case"dotted":r=i.ShortDot;break;case"dashed":r=i.Dash}return r},r}(n.Object);f([e("solid")],t.prototype,"_LeftStyle",void 0),f([e("solid")],t.prototype,"_TopStyle",void 0),f([e("solid")],t.prototype,"_RightStyle",void 0),f([e("solid")],t.prototype,"_BottomStyle",void 0),f([e(0)],t.prototype,"_Width",void 0),f([e(0)],t.prototype,"_Left",void 0),f([e(0)],t.prototype,"_Top",void 0),f([e(0)],t.prototype,"_Right",void 0),f([e(0)],t.prototype,"_Bottom",void 0),f([e(0)],t.prototype,"_LeftTopRadius",void 0),f([e(0)],t.prototype,"_LeftBottomRadius",void 0),f([e(0)],t.prototype,"_RightTopRadius",void 0),f([e(0)],t.prototype,"_RightBottomRadius",void 0),f([e(!0)],t.prototype,"_RadiusEnabled",void 0),f([e(!0)],t.prototype,"_Enabled",void 0),n.Border=t}(n||(n={})),function(n){var t=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype.isEqual=function(n){return this.getSize()===n.getSize()&&this.getBlurSize()===n.getBlurSize()&&this.getOpacity()===n.getOpacity()&&this.getAngle()===n.getAngle()&&this.getDistance()===n.getDistance()&&this.getColor().getARGB()===n.getColor().getARGB()&&this.getX()===n.getX()&&this.getY()===n.getY()},r.prototype.getColor=function(){return this._Color||(this._Color=n.Color.black),n.isString(this._Color)&&(this._Color=n.Color.getColor(this._Color+"")),this._Color},r.prototype.getSize=function(){return this._Size},r.prototype.getBlurSize=function(){return this._BlurSize},r.prototype.getOpacity=function(){return this._Opacity},r.prototype.getAngle=function(){return this._Angle},r.prototype.getDistance=function(){return this._Distance},r.prototype.getX=function(){return this._X},r.prototype.getY=function(){return this._Y},r.prototype.getEnableBlur=function(){return this._EnableBlur},r.prototype.setSize=function(n){this._Size=n},r.prototype.setBlurSize=function(n){this._BlurSize=n},r.prototype.setOpacity=function(n){this._Color=this._Opacity>n?this.getColor().darker(n):this.getColor().brighter(n),this._Opacity=n},r.prototype.setAngle=function(t){if(t<0||t>360)throw new n.ArgumentException("Angle");this._Angle=t},r.prototype.setDistance=function(n){this._Distance=n},r.prototype.setColor=function(n){this._Color=n},r.prototype.setX=function(n){this._X=n},r.prototype.setY=function(n){this._Y=n},r.prototype.setEnableBlur=function(n){this._EnableBlur=n},r.prototype.toCSSFormat=function(){var t,i,u=this._EnableBlur?Math.round(this._BlurSize):0,r,n;return this._Distance>0?(r=this._Angle*(Math.PI/180),t=Math.round(this._Distance*Math.cos(r)),i=Math.round(this._Distance*Math.sin(r))):(t=Math.round(this._X),i=Math.round(this._Y)),n="box-shadow:"+t+"px "+i+"px ",n+=u+"px ",n+=this._Size+"px ",n+=this.getColor().toDecimalString(this._Opacity>0),n+=";"},r.prototype.toCSSTextShadowFormat=function(){var i=Math.round(this._X),r=Math.round(this._Y),u=this._EnableBlur?Math.round(this._BlurSize):0,t="";return n.IsIE&&n.IEVer<10?"":(t+="text-shadow:"+i+"px "+r+"px ",t+=u+"px ",t+=this.getColor().toDecimalString(this._Opacity>0),t+=";")},r}(n.Object);f([e(0)],t.prototype,"_Size",void 0),f([e(0)],t.prototype,"_BlurSize",void 0),f([e(0)],t.prototype,"_Opacity",void 0),f([e(0)],t.prototype,"_Angle",void 0),f([e(0)],t.prototype,"_Distance",void 0),f([e(0)],t.prototype,"_X",void 0),f([e(0)],t.prototype,"_Y",void 0),f([e(!0)],t.prototype,"_EnableBlur",void 0),n.Shadow=t}(n||(n={})),function(n){function t(t,i,r){var u=n.getDPI();switch(i){case n.SizeUnits.Px:r==n.SizeUnits.Pt?t=t*72/u:r==n.SizeUnits.Mm?t=t/u*25.4:r==n.SizeUnits.Mkm?t=t/u*25.4*1e3:r==n.SizeUnits.DLU96&&u!=96&&(t=Math.round(t*96/u));break;case n.SizeUnits.Pt:r==n.SizeUnits.Px?t=t*u/72:r==n.SizeUnits.DLU96?t=Math.round(t*96/72):r==n.SizeUnits.Mm?t=t*25.4/72:r==n.SizeUnits.Mkm&&(t=t*25.4/72*1e3);break;case n.SizeUnits.Mkm:r===n.SizeUnits.Mm?t=t/1e3:r===n.SizeUnits.DLU96?t=Math.round(t/1e3*96/25.4):r===n.SizeUnits.Px?t=Math.round(t/1e3*u/25.4):r==n.SizeUnits.Pt&&(t=t/1e3*72/25.4);break;case n.SizeUnits.Mm:r===n.SizeUnits.Mkm&&(t=t*1e3),r===n.SizeUnits.DLU96?t=Math.round(t*96/25.4):r===n.SizeUnits.Px?t=Math.round(t*u/25.4):r==n.SizeUnits.Pt&&(t=t*72/25.4);break;case n.SizeUnits.DLU96:if(r===n.SizeUnits.Mkm)return t/96*25.4*1e3;if(r===n.SizeUnits.Mm)return t/96*25.4;r==n.SizeUnits.Pt?t=t*72/96:r==n.SizeUnits.Px&&u!=96&&(t=Math.round(t*u/96))}return t}n.SizeUnits={Px:"Px",Pt:"Pt",Mm:"Mm",Mkm:"Mkm",DLU96:"DLU96"},n.convertSizeUnits=t}(n||(n={})),function(n){var t=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._initFields=function(i){this._FontFamily=r.Family.Arial,this._SizeUnits=n.SizeUnits.Px,this._Size=12,this._IsBold=!1,this._IsItalic=!1,this._IsStriken=!1,this._IsUnderline=!1,this._IsSuperior=!1,this._IsInferior=!1,this._IsLowerCapitalized=!1,this._IsCapitalized=!1,this._UseAutoColor=!1,i&&n.isDefined(i.Color)&&this.setColor(i.Color),i&&n.isDefined(i.Shadow)&&this.setShadow(i.Shadow),t.prototype._initFields.call(this,i),n.isString(this._Color)&&(this._Color=n.Color.getColor(this._Color+""))},r.fromCSSFormat=function(t){var r={color:{Field:"Color"},"font-size":{Field:"Size",Mapper:function(n){return parseFloat(n)}},"font-family":{Field:"FontFamily"},"font-weight":{Field:"IsBold",Mapper:function(n){return n.indexOf("bold")>-1||parseInt(n)>400}},"font-style":{Field:"IsItalic",Mapper:function(n){return n.indexOf("italic")>-1}},"text-decoration":{Field:"IsUnderline",Mapper:function(n){return n.indexOf("underline")>-1}}},o="s?([^;]+);?",u={},i,f,e;for(i in r)f=new RegExp(i+":s?([^;]+);?"),f.test(t)&&(e=f.exec(t)[1],u[r[i]]=r[i].Mapper?r[i].Mapper(e):e);return new n.Font(u)},r.prototype._bDO=function(){var n=this.getColor();return n.getOpacity()<1?n.toDecimalString(!0):n.toHexString(!1)},r.prototype.isEqual=function(n){return this.getFontFamily()===n.getFontFamily()&&this.getSize()===n.getSize()&&this.getColor().getARGB()===n.getColor().getARGB()&&this.getUseAutoColor()===n.getUseAutoColor()&&this.getIsBold()===n.getIsBold()&&this.getIsItalic()===n.getIsItalic()&&this.getIsStriken()===n.getIsStriken()&&this.getIsUnderline()===n.getIsUnderline()&&this.getIsSuperior()===n.getIsSuperior()&&this.getIsInferior()===n.getIsInferior()&&this.getIsLowerCapitalized()===n.getIsLowerCapitalized()&&this.getIsCapitalized()===n.getIsCapitalized()},r.prototype.getFontFamily=function(){return!n.isDefined(this._FontFamily)||this._FontFamily===null?"":this._FontFamily},r.prototype.getSize=function(){return this._Size},r.prototype.getIsBold=function(){return this._IsBold},r.prototype.getIsItalic=function(){return this._IsItalic},r.prototype.getIsStriken=function(){return this._IsStriken},r.prototype.getIsUnderline=function(){return this._IsUnderline},r.prototype.getIsSuperior=function(){return this._IsSuperior},r.prototype.getIsInferior=function(){return this._IsInferior},r.prototype.getIsLowerCapitalized=function(){return this._IsLowerCapitalized},r.prototype.getIsCapitalized=function(){return this._IsCapitalized},r.prototype.getUseAutoColor=function(){return this._UseAutoColor},r.prototype.getShadow=function(){return this._Shadow},r.prototype.getSizeUnits=function(){return this._SizeUnits},r.prototype.getColor=function(){return this._Color||(this._Color=n.Color.black),this._Color},r.prototype.setFontFamily=function(n){this._FontFamily=n},r.prototype.setSize=function(n){this._Size=n},r.prototype.setIsBold=function(n){this._IsBold=n},r.prototype.setIsItalic=function(n){this._IsItalic=n},r.prototype.setIsStriken=function(n){this._IsStriken=n},r.prototype.setIsUnderline=function(n){this._IsUnderline=n},r.prototype.setIsSuperior=function(n){this._IsSuperior=n},r.prototype.setIsInferior=function(n){this._IsInferior=n},r.prototype.setIsLowerCapitalized=function(){this._IsLowerCapitalized},r.prototype.setIsCapitalized=function(n){this._IsCapitalized=n},r.prototype.setUseAutoColor=function(n){this._UseAutoColor=n},r.prototype.setColor=function(t){t!==this._Color&&(this._Color=t instanceof n.Color?t:n.Color.getColor(t.toString()))},r.prototype.setShadow=function(t){t!==this._Shadow&&(this._Shadow=t instanceof n.Shadow?t:new n.Shadow(t))},r.prototype.setSizeUnits=function(t){n.isMemberOf(n.SizeUnits,t)&&t!=this._SizeUnits&&(this._Size=n.convertSizeUnits(this._Size,this._SizeUnits,t)),this._SizeUnits=t},r.prototype.toSVGFormat=function(){var u=this._SizeUnits==n.SizeUnits.Px?"px;":"pt;",f=this._SizeUnits==n.SizeUnits.Px||this._SizeUnits==n.SizeUnits.Pt?this.getSize():n.convertSizeUnits(this.getSize(),this._SizeUnits,n.SizeUnits.Pt),i=this.getFontFamily(),t="",r;return t+="fill:"+this._bDO()+";",t+="font-size:"+f+u+";",t+=i?"font-family:"+i+", Helvetica;":"Helvetica;",t+="font-weight:"+(this.getIsBold()?"bold;":"normal;"),t+="font-style:"+(this.getIsItalic()?"italic;":"normal;"),t+="text-decoration:"+(this.getIsUnderline()?"underline;":"none;"),t+="position:absolute;",t+="font-variant:normal;",t+="line-height:normal;",arguments[0]&&(r=arguments[0],r.setAttribute("style",t)),t},r.prototype.toCSSFormat=function(){var r=this._SizeUnits==n.SizeUnits.Px?"px;":"pt;",u=this._SizeUnits==n.SizeUnits.Px||this._SizeUnits==n.SizeUnits.Pt?this.getSize():n.convertSizeUnits(this.getSize(),this._SizeUnits,n.SizeUnits.Pt),i=this.getFontFamily(),t="";return t+="color:"+this._bDO()+";",t+="font-size:"+u+r+";",t+=i?"font-family:"+i+";":"",t+="font-weight:"+(this.getIsBold()?"bold;":"normal;"),t+="font-style:"+(this.getIsItalic()?"italic;":"normal;"),t+="text-decoration:"+(this.getIsUnderline()?"underline;":"none;"),t+=this._Shadow?this._Shadow.toCSSTextShadowFormat():""},r.prototype.toCanvasFormat=function(){var i=this._SizeUnits==n.SizeUnits.Px?"px":"pt",r=this._SizeUnits==n.SizeUnits.Px||this._SizeUnits==n.SizeUnits.Pt?this.getSize():n.convertSizeUnits(this.getSize(),this._SizeUnits,n.SizeUnits.Pt),t="";return t+=this.getIsBold()?"bold ":"",t+=this.getIsItalic()?"italic ":"",t+=r+i,t+=" "+this.getFontFamily()},r.prototype.applyToNode=function(t){var r=this._SizeUnits==n.SizeUnits.Px?"px":"pt",u=this._SizeUnits==n.SizeUnits.Px||this._SizeUnits==n.SizeUnits.Pt?this.getSize():n.convertSizeUnits(this.getSize(),this._SizeUnits,n.SizeUnits.Pt),i=t.style;i.color=this.getColor().toString(),i.fontSize=u+r,i.fontFamily=this.getFontFamily(),i.fontWeight=this.getIsBold()?"bold":"normal",i.fontStyle=this.getIsItalic()?"italic":"normal",i.textDecoration=this.getIsUnderline()?"underline":"none"},r.prototype.getSettings=function(i,r,u,f,e){var o=t.prototype.getSettings.apply(this,arguments),s=this.getColor();return o.Color&&n.isPrimitive(o.Color)&&e&&(o["@Color"]=o.Color,delete o.Color),o},r}(n.Object);t.Family={Arial:"Arial",Calibri:"Calibri",ComicSans:"Comic Sans MS",Courier:"Courier",Georgia:"Georgia",Helvetica:"Helvetica",Impact:"Impact",Tahoma:"Tahoma",TimesNewRoman:"Times New Roman",Verdana:"Verdana"},n.Font=t}(n||(n={})),function(n){var r,t;(function(n){n[n.None=0]="None",n[n.SolidColorBrush=1]="SolidColorBrush",n[n.LinearGradientBrush=2]="LinearGradientBrush",n[n.RadialGradientBrush=3]="RadialGradientBrush"})(r=n.BrushType||(n.BrushType={})),t=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype._e=function(){this._Opacity=1,this._Enabled=!0},r.prototype._initFields=function(i){i=i||{},n.isDefined(i.Opacity)&&(i.Opacity=parseFloat(i.Opacity)),t.prototype._initFields.call(this,i),this.setOpacity(this._Opacity*1)},r.prototype._dC8=function(n){var t=n.parentNode,i,r;return t&&(i=t.getElementsByTagNameNS("http://www.w3.org/2000/svg","defs")[0]),i&&i.parentNode==t||(i=document.createElementNS("http://www.w3.org/2000/svg","defs"),t&&(r=t.firstChild,r?t.insertBefore(i,r):t.appendChild(i))),i},r.prototype.setOpacity=function(n){this._Opacity=n},r.prototype.setEnabled=function(n){this._Enabled=n},r.prototype.getOpacity=function(){return this._Opacity},r.prototype.getEnabled=function(){return this._Enabled},r.prototype.getSettings=function(){var r=arguments[0],i=arguments[4],t={},n;return n=i?"@Id":this._ar("Id"),t[n]=this._Id,n=i?"@Opacity":this._ar("Opacity"),t[n]=this._Opacity,n=i?"@Enabled":this._ar("Enabled"),t[n]=this._Enabled,r&&(n=i?"@PPType":this._ar("PPType"),t[n]=this.getTypeName(!0)),t},r.prototype.dispose=function(){delete this._Dictionary,t.prototype.dispose.call(this)},r.prototype.toSVGFormat=function(){},r.prototype.applyToSVGElement=function(){},r}(n.Object),n.Brush=t}(n||(n={})),function(n){var t=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype._initFields=function(i){t.prototype._initFields.call(this,i),n.isString(this._Color)&&(this._Color=n.Color.getColor((this._Color||"#000000")+""));var r=n.getProperty(i,"Opacity");!n.isDefined(r)&&this._Color&&(this._Opacity=this._Color.getOpacity())},r.prototype.isEqual=function(n){return n?t.prototype.isEqual.call(this,n)&&this.getColor().isEqual(n.getColor()):!1},r.prototype.applyMatrix=function(n){var t=this.getColor().brighter(Math.round(this._Opacity*255));return t.applyMatrix(n),this._Opacity=t.getA()/255,t},r.prototype.getColor=function(){return this._Color||(this._Color=n.Color.black),n.isString(this._Color)&&(this._Color=n.Color.getColor(this._Color+"")),this._Color},r.prototype.setColor=function(t){if(t!=null){var i;i=n.isString(t)?n.Color.getColor(t+""):t,this._Color=i,this._Opacity=this._Color.getOpacity()}},r.prototype.toString=function(){return this.getColor().toString(!0)},r.prototype.toCSSFormat=function(t){var r,u,i,f,e;return(t=t!==!1,r=(t?"background:":"")+"{0}"+(t?";":""),!this._Enabled)?r.replace("{0}","transparent"):(u="",i=this.getColor(),this._Opacity===1?u=r.replace("{0}",i.toString()):(f=Math.round(this._Opacity*255),e=n.Color.fromARGB(f,i.getR(),i.getG(),i.getB()).toDecimalString(!0),u=r.replace("{0}",e)),u)},r.prototype.applyToNode=function(t){var i=this.toCSSFormat(!1);!n.IsIE||n.IEVer>9?t.style.background=i:t.style.filter=i},r.prototype.getMixColor=function(t,i){var u=this.getColor(),f=t.getColor(),r;return i=i<0?0:i,i=i>1?1:i,r={R:u.getR()*(1-i)+f.getR()*i+.5,G:u.getG()*(1-i)+f.getG()*i+.5,B:u.getB()*(1-i)+f.getB()*i+.5},n.Color.fromRGB(r.R,r.G,r.B)},r.prototype.getMix=function(t,i){return new n.SolidColorBrush({Color:this.getMixColor(t,i)})},r.prototype.applyToCanvas=function(n){n.fillStyle=this.getColor().toString()},r.prototype.applyMixToNode=function(n,t,i){var r=this.getMixColor(t,i);r.setOpacity(this._Opacity),this._Color=r,this.applyToNode(n)},r.prototype.getSettings=function(){var r=arguments[4],i=t.prototype.getSettings.apply(this,arguments),u=r?"@Color":this._ar("Color");return i[u]=this._Color instanceof n.Color?this._Color.getSettings():this._Color,i},r}(n.Brush);n.SolidColorBrush=t}(n||(n={})),function(n){var t=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Offset=0},r.prototype.getColor=function(){return n.isDefined(this._Color)||(this._Color=n.Color.black),n.isString(this._Color)&&(this._Color=n.Color.getColor(this._Color+"")),this._Color},r.prototype.setColor=function(n){this._Color=n},r.prototype.getOffset=function(){return this._Offset||0},r.prototype.toCSSFormat=function(){return this.getColor().toDecimalString(!0)+" "+this.getOffset()*100+"%"},r.prototype.getSettings=function(){var r=arguments[0],i=arguments[4],n={},t;return t=i?"@Offset":this._ar("Offset"),n[t]=this.getOffset(),t=i?"@Color":this._ar("Color"),n[t]=this.getColor(),r&&(n[i?"@PPType":"PPType"]=this.getTypeName()),n},r}(n.Object);n.GradientStop=t}(n||(n={})),function(n){var t=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype._initFields=function(i){var u,r;if(i=i||{},i["PP.LinearGradientBrush.GradientStops"]&&(i.GradientStops=i["PP.LinearGradientBrush.GradientStops"]),i["PP.RadialGradientBrush.GradientStops"]&&(i.GradientStops=i["PP.RadialGradientBrush.GradientStops"]),delete i["PP.LinearGradientBrush.GradientStops"],delete i["PP.RadialGradientBrush.GradientStops"],this._GradientType=0,t.prototype._initFields.call(this,i),this._GradientStops||(this._GradientStops=[]),!n.Array.isArray(this._GradientStops))for(u=this._GradientStops.GradientStop,this._GradientStops=[],r=0;r<u.length;r++)this._GradientStops.push(new n.GradientStop(u[r]))},r.prototype._dC9=function(n){for(var r=this.getGradientStops(),e=n.childNodes,o=r.length,t;e.length>o;)n.removeChild(n.lastChild);for(t=0;t<r.length;t++){var u=r[t],s=u.getOffset()*100,f=u.getColor(),i=void 0;n.childNodes[t]?i=n.childNodes[t]:(i=document.createElementNS("http://www.w3.org/2000/svg","stop"),n.appendChild(i)),i.setAttribute("offset",s+"%"),i.setAttribute("stop-color",f.toString()),i.setAttribute("stop-opacity",f.getOpacity()+"")}},r.prototype.isEqual=function(n){var i=this.getGradientStops(),r=n.getGradientStops(),t,u;if(this.getGradientType()!==n.getGradientType()||i.length!==r.length)return!1;for(t=0,u=i.length;t<u;t++)if(!i[t].isEqual(r[t]))return!1;return!0},r.prototype.getGradientStops=function(){return this._GradientStops},r.prototype.setGradientStops=function(n){this._GradientStops=n},r.prototype.getGradientType=function(){return this._GradientType||0},r.prototype.setGradientType=function(n){this._GradientType=n},r.prototype.setOpacity=function(n){(n>1&&(n=n/100),n<0||n>100||n===this._Opacity)||t.prototype.setOpacity.call(this,n)},r.prototype.getSettings=function(){for(var s=arguments[0],h=arguments[4],r=t.prototype.getSettings.apply(this,arguments),f=[],e,i,o,u=0;u<this._GradientStops.length;u++)e=this._GradientStops[u],i=e.getColor(),this._Opacity!==0&&(i=n.Color.fromARGB(Math.round(i.getA()*this._Opacity),i.getR(),i.getG(),i.getB())),o=e.getSettings(),o[h?"@Color":this._ar("Color")]=i.toString(!0),f.push(o);return s?r[this.getTypeName()+".GradientStops"]={GradientStop:f}:r.GradientStops={GradientStop:f},r.GradientType=this._GradientType,r},r.prototype.setSettings=function(t){var i,r;if(t&&(delete t.PPType,i=t.GradientStops,i||(i=t["LinearGradientBrush.GradientStops"],i&&i.GradientStop&&(i=i.GradientStop)),i||(i=t["RadialGradientBrush.GradientStops"],i&&i.GradientStop&&(i=i.GradientStop)),i||(i=[]),!n.Array.isArray(i)))for(this._GradientStops=[],r=0;r<i.length;r++)delete i[r].PPType,this._GradientStops.push(new n.GradientStop(i[r]))},r}(n.Brush);n.GradientBrush=t}(n||(n={})),function(n){var t=function(t){function r(n,i){var r=t.call(this,n)||this;return typeof n=="number"&&typeof i=="number"&&(r._X=n,r._Y=i),r}return i(r,t),r.prototype._initFields=function(i){if(typeof i=="string"){var r=i.split(","),u=parseFloat(r[0]),f=parseFloat(r[1]);i={X:u?u:0,Y:f?f:0}}n.isNumber(i)||t.prototype._initFields.call(this,i)},r.prototype.isEqual=function(n){if(!n)return!1;var t;return t=typeof n!="object"||n instanceof r?n:new r(n),this.getX()===t.getX()&&this.getY()===t.getY()},r.prototype.getX=function(){return this._X},r.prototype.getY=function(){return this._Y},r.prototype.setX=function(n){this._X=n},r.prototype.setY=function(n){this._Y=n},r.prototype.applyTransform=function(n){var t=this._X*n[0]+this._Y*n[2]+n[4],i=this._X*n[1]+this._Y*n[3]+n[5];return new r({X:t,Y:i})},r.prototype.add=function(n){return this.applyTransform([1,0,0,1,n.getX(),n.getY()])},r.prototype.multiply=function(n){return this.applyTransform([n.getX(),0,0,n.getY(),0,0])},r.prototype.getSettings=function(){return this._X+","+this._Y},r}(n.Object);f([e(0)],t.prototype,"_X",void 0),f([e(0)],t.prototype,"_Y",void 0),n.Point=t}(n||(n={})),function(n){var t=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t.fromString=function(n){var i=n.split(","),r={Left:parseFloat(i[0]),Top:parseFloat(i[1]),Width:parseFloat(i[2]),Height:parseFloat(i[3])};return new t(r)},t.prototype.getLeft=function(){return this._Left},t.prototype.getTop=function(){return this._Top},t.prototype.getWidth=function(){return this._Width},t.prototype.getHeight=function(){return this._Height},t.prototype.setLeft=function(n){this._Left=n},t.prototype.setTop=function(n){this._Top=n},t.prototype.setHeight=function(n){this._Height=n},t.prototype.setWidth=function(n){this._Width=n},t.prototype.addX=function(n){if(n!==null){var t=this._Left+this._Width;n<this._Left&&(this._Width=t-n,this._Left=n),n>t&&(this._Width=n-this._Left)}},t.prototype.addY=function(n){if(n!==null){var t=this._Top+this._Height;n<this._Top&&(this._Height=t-n,this._Top=n),n>t&&(this._Height=n-this._Top)}},t.prototype.addPoint=function(n,t){this.addX(n),this.addY(t)},t.prototype.addBoundingBox=function(n){this.addX(n.getLeft()),this.addY(n.getTop()),this.addX(n.getLeft()+n.getWidth()),this.addY(n.getTop()+n.getHeight())},t.prototype.isPointInBox=function(n,t){return this._Left<=n&&n<=this._Left+this._Width&&this._Top<=t&&t<=this._Top+this._Height},t.prototype.addQuadraticCurve=function(n,t,i,r,u,f){var e=n+2/3*(i-n),o=t+2/3*(r-t),s=e+1/3*(u-n),h=o+1/3*(f-t);this.addBezierCurve(n,t,e,s,o,h,u,f)},t.prototype.addBezierCurve=function(n,t,i,r,u,f,e,o){var h=[n,t],v=[i,r],k=[u,f],y=[e,o],s,a;for(this.addPoint(h[0],h[1]),this.addPoint(y[0],y[1]),s=0;s<=1;s++){var c=function(n){return Math.pow(1-n,3)*h[s]+3*Math.pow(1-n,2)*n*v[s]+3*(1-n)*Math.pow(n,2)*k[s]+Math.pow(n,3)*y[s]},l=6*h[s]-12*v[s]+6*k[s],p=-3*h[s]+9*v[s]-9*k[s]+3*y[s],g=3*v[s]-3*h[s],d=Math.pow(l,2)-4*g*p,w=(-l+Math.sqrt(d))/(2*p),b=(-l-Math.sqrt(d))/(2*p);if(p==0){if(l==0)continue;a=-g/l,0<a&&a<1&&(s==0&&this.addX(c(a)),s==1&&this.addY(c(a)));continue}d<0||(0<w&&w<1&&(s==0&&this.addX(c(w)),s==1&&this.addY(c(w))),0<b&&b<1&&(s==0&&this.addX(c(b)),s==1&&this.addY(c(b))))}},t}(n.Object);f([e(0)],t.prototype,"_Height",void 0),f([e(0)],t.prototype,"_Width",void 0),f([e(0)],t.prototype,"_Top",void 0),f([e(0)],t.prototype,"_Left",void 0),n.Rect=t}(n||(n={})),function(n){var t=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype._initFields=function(i){t.prototype._initFields.call(this,i),this.setStartPoint(this._StartPoint),this.setEndPoint(this._EndPoint),this._Angle!==null&&n.isString(this._Angle)&&(this._Angle=parseFloat(this._Angle+""))},r.prototype.isEqual=function(n){if(!n)return!1;var i=t.prototype.isEqual.call(this,n);return!this.getStartPoint()&&!this.getEndPoint()?i:(this.getStartPoint()&&(i=i&&this.getStartPoint().isEqual(n.getStartPoint())),this.getEndPoint()&&(i=i&&this.getEndPoint().isEqual(n.getEndPoint())),i)},r.prototype.getStartPoint=function(){return!n.isObject(this._StartPoint)||this._StartPoint instanceof n.Point||(this._StartPoint=new n.Point(this._StartPoint)),this._StartPoint},r.prototype.getEndPoint=function(){return!n.isObject(this._EndPoint)||this._EndPoint instanceof n.Point||(this._EndPoint=new n.Point(this._EndPoint)),this._EndPoint},r.prototype.setAngle=function(n){this._Angle=n},r.prototype.getAngle=function(){return this._Angle},r.prototype.setStartPoint=function(t){(t=t instanceof n.Point?t:new n.Point(t),this._StartPoint&&!n.isString(this._StartPoint)&&t.isEqual(this._StartPoint))||(this._StartPoint=t)},r.prototype.setEndPoint=function(t){(t=t instanceof n.Point?t:new n.Point(t),this._EndPoint&&!n.isString(this._EndPoint)&&t.isEqual(this._EndPoint))||(this._EndPoint=t)},r.prototype.toCSSFormat=function(){var t="",e=this.getGradientStops(),o=e.length,u,i,r,f,s,h;if(!this._Enabled||o===0)return"background:transparent;";if(n.IsIE&&n.IEVer<10)t="filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='"+e[0].toCSSFormat()+"', endColorstr='"+e[o-1].toCSSFormat()+"',GradientType="+this._GradientType+")";else{for(u=!1,t="background:",n.IsIE?t+="-ms-linear-gradient":n.IsFF?t+="-moz-linear-gradient":n.IsChrome||n.IsSafari||n.IsiPad||n.IsiPhone?t+="-webkit-linear-gradient":(t+="linear-gradient",u=!0),n.isNumber(this._Angle)?t+="("+Math.round(this._Angle*180/Math.PI)+"deg,":(i=this.getEndPoint().getY()-this.getStartPoint().getY(),r=this.getEndPoint().getX()-this.getStartPoint().getX(),t+=r?r<0&&i<0?"("+(Math.atan(i/r)*180/Math.PI-180)+"deg,":r<0&&i>0?"("+(Math.atan(i/r)*180/Math.PI+180)+"deg,":i?"("+Math.atan(i/r)*180/Math.PI+"deg,":r>0?"(0deg,":"(180deg,":i<0?u?"(to bottom,":"(top,":i>0?u?"(to top,":"(bottom,":u?"(to right,":"(left,"),f=0;f<o;f++)s=e[f].clone(),h=s.getColor(),h.setOpacity(h.getOpacity()*this._Opacity),t+=s.toCSSFormat(),f<o-1&&(t+=",");t+=")"}return t+";"},r.prototype.applyToNode=function(t){var i=this.toCSSFormat();!n.IsIE||n.IEVer>9?(i=i.slice("background:".length,-1),t.style.background=i):(i=i.slice("filter:".length,-1),t.style.filter=i)},r.prototype.getMixColor=function(t,i,r){var s=this._GradientStops,o=t.getGradientStops(),u=s[r].getColor(),f=u,e;return o[r]&&o[r]instanceof n.GradientStop&&(f=o[r].getColor()),i=i<0?0:i,i=i>1?1:i,e={R:u.getR()*(1-i)+f.getR()*i+.5,G:u.getG()*(1-i)+f.getG()*i+.5,B:u.getB()*(1-i)+f.getB()*i+.5},n.Color.fromRGB(e.R,e.G,e.B)},r.prototype.getMix=function(t,i,u,f){u||(u={X:0,Y:0}),f||(f={X:0,Y:20});for(var o,s,c=this._GradientStops.length,h=[],e=0;e<c;e++)o=this.getMixColor(t,i,e),s=this._GradientStops[e].getOffset(),h.push(new n.GradientStop({Color:o,Offset:s}));return new r({StartPoint:u,EndPoint:f,GradientStops:h})},r.prototype.applyToCanvas=function(t,i,r,u,f){var o,e,h,s,c;for(i instanceof n.Rect?(i=i.getLeft(),r=i.getTop(),u=i.getWidth(),f=i.getHeight()):i===undefined&&(i=r=0,u=0,f=t.canvas.height),o=t.createLinearGradient(this.getStartPoint().getX()*u+i,this.getStartPoint().getY()*f+r,this.getEndPoint().getX()*u+i,this.getEndPoint().getY()*f+r),h=this._GradientStops.length,e=0;e<h;e++)s=this._GradientStops[e],c=s.getColor().toString(),o.addColorStop(s.getOffset(),c);t.fillStyle=o},r.prototype.applyMixToNode=function(t,i,u){for(var s=this._GradientStops,h=[],l,e,o,f=0,c=s.length;f<c;f++)l=this.getMixColor(i,u,f),h.push(new n.GradientStop({Color:l,Offset:s[f].getOffset()}));return e=this.getSettings(),e.GradientStops=h,o=new r(e),o.applyToNode(t),o},r.prototype.getSettings=function(){var r=t.prototype.getSettings.apply(this,arguments),i,f=this.getStartPoint(),e=this.getEndPoint(),u=arguments[4];return i=u?"@StartPoint":this._ar("StartPoint"),r[i]=f?f.getSettings():f,i=u?"@EndPoint":this._ar("EndPoint"),r[i]=e?e.getSettings():e,i=u?"@PPType":this._ar("PPType"),r[i]="PP.LinearGradientBrush",n.isNumber(this._Angle)&&(i=u?"@Angle":this._ar("Angle"),r[i]=this._Angle),r},r}(n.GradientBrush);n.LinearGradientBrush=t}(n||(n={})),function(n){var t=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._initFields=function(i){i=i||{};var u=i.Font,f=i.Shadow,e=i.Border,r=i.Background;!u||u instanceof n.Font||(i.Font=new n.Font(u)),!f||f instanceof n.Shadow||(i.Shadow=new n.Shadow(f)),!e||e instanceof n.Border||(i.Border=new n.Border(e)),!r||r instanceof n.Brush||(i.Background=r.PPType||r["@PPType"]?n.create(r):new n.SolidColorBrush(r)),t.prototype._initFields.call(this,i)},r.prototype.isEqual=function(n){if(!n)return!1;var t=this.getFont(),i=this.getShadow(),r=this.getBorder(),u=this.getBackground(),f=n.getFont(),e=n.getShadow(),o=n.getBorder(),s=n.getBackground(),h=!t||!f?!1:t.isEqual(f),c=!i||!e?!1:i.isEqual(e),l=!r||!o?!1:r.isEqual(o),a=!u||!s?!1:u.isEqual(s);return h&&c&&l&&a},r.prototype.getEnabled=function(){return this._Enabled},r.prototype.getFont=function(){return this._Font},r.prototype.getShadow=function(){return this._Shadow},r.prototype.getBorder=function(){return this._Border},r.prototype.getBackground=function(){return this._Background},r.prototype.getRowIndex=function(){return this._RowIndex},r.prototype.getColumnIndex=function(){return this._ColumnIndex},r.prototype.getCustomCss=function(){return this._CustomCss},r.prototype.setBackground=function(t){var i=new n.SolidColorBrush({Color:"#FFFFFF"});this._Background instanceof n.Object&&t!==this._Background&&this._Background.dispose(),this._Background=t,!t||t instanceof n.Brush||(this._Background=t.PPType||t["@PPType"]?n.create(t):t?new n.SolidColorBrush(t):i)},r.prototype.setBorder=function(t){this._Border instanceof n.Object&&t!=this._Border&&this._Border.dispose(),this._Border=!t||t instanceof n.Border?t:new n.Border(t)},r.prototype.setShadow=function(t){this._Shadow instanceof n.Object&&t!=this._Shadow&&this._Shadow.dispose(),this._Shadow=!t||t instanceof n.Shadow?t:new n.Shadow(t)},r.prototype.setFont=function(t){this._Font instanceof n.Object&&t!=this._Font&&this._Font.dispose(),this._Font=!t||t instanceof n.Font?t:new n.Font(t)},r.prototype.setRowIndex=function(n){this._RowIndex=n},r.prototype.setColumnIndex=function(n){this._ColumnIndex=n},r.prototype.setCustomCss=function(n){this._CustomCss=n},r.prototype.toCSSFormat=function(){var n="",t=this._Font,i=this._Shadow,r=this._Border,u=this._Background;return i&&(n+=i.toCSSFormat()),t&&(n+=t.toCSSFormat()),r&&(n+=r.toCSSFormat()),u&&(n+=u.toCSSFormat()),this._CustomCss&&(n+=this._CustomCss),n},r.prototype.setSettings=function(n){if(n.Background){var i;n.Background["GradientBrush.GradientStops"]?i="GradientBrush.GradientStops":n.Background["LinearGradientBrush.GradientStops"]?i="LinearGradientBrush.GradientStops":n.Background["RadialGradientBrush.GradientStops"]&&(i="RadialGradientBrush.GradientStops"),i&&(n.Background.GradientStops=n.Background[i],delete n.Background[i])}t.prototype.setSettings.call(this,n)},r.prototype.clone=function(){var n=t.prototype.clone.call(this);return this._Background&&n.setBackground(this._Background.clone()),n},r}(n.Object);f([e(!0)],t.prototype,"_Enabled",void 0),f([e("")],t.prototype,"_CustomCss",void 0),n.Style=t}(n||(n={})),function(n){var t=function(t){function r(){var n=t.call(this)||this;return n._cpG(),n}return i(r,t),Object.defineProperty(r,"current",{get:function(){return r._kR||(r._kR=new r),r._kR},enumerable:!0,configurable:!0}),r.prototype._bDP=function(n){for(var u={},r=n?window.localStorage:window.sessionStorage,i=0;i<r.length;i++){var t=r.key(i),f=r.getItem(t),e=!1;t.indexOf("#")===0&&(e=!0,t=t.slice(1),u[t]=e?this._cpH(f):f)}return u},r.prototype._cpG=function(){this._a8F=this._bDP(!1),this._a8G=this._bDP(!0)},r.prototype._a8H=function(t){return n.isString(t)&&t.indexOf("pp.")===0?t:"pp."+t},r.prototype._yc=function(n,t){n=this._a8H(n);var r=t?this._a8G:this._a8F,i=r[n];if(i&&i.charAt(0)=="{")try{i=JSON.parse(i)}catch(u){}return i},r.prototype._yd=function(t,i,r){t=this._a8H(t);var u=r?window.localStorage:window.sessionStorage,f=r?this._a8G:this._a8F;n.isObject(i)?i=JSON.stringify(i):i==null?i="":i+="",f[t]=i,t="#"+t,i=this._cpI(i),u.setItem(t,i)},r.prototype._bDQ=function(n,t){var f;n=this._a8H(n);var i=t?window.localStorage:window.sessionStorage,r=t?this._a8G:this._a8F,u=r[n]?!0:!1;return delete r[n],f=i.removeItem("#"+n),!f&&u&&i.removeItem(n),u},r.prototype._cpI=function(n){return this._cpJ(n,15,function(n){return window.String.fromCharCode(n+32)})+" "},r.prototype._cpH=function(n){return this._cpK(n.length,16384,function(t){return n.charCodeAt(t)-32})},r.prototype._cpJ=function(t,i,r){if(t==null)return"";for(var o,e,a={},y={},v="",p="",s="",l=2,b=3,h=2,c=[],u=0,f=0,w=0;w<t.length;w+=1)if(v=t.charAt(w),n.Object.prototype.hasOwnProperty.call(a,v)||(a[v]=b++,y[v]=!0),p=s+v,n.Object.prototype.hasOwnProperty.call(a,p))s=p;else{if(n.Object.prototype.hasOwnProperty.call(y,s)){if(s.charCodeAt(0)<256){for(o=0;o<h;o++)u=u<<1,f==i-1?(f=0,c.push(r(u)),u=0):f++;for(e=s.charCodeAt(0),o=0;o<8;o++)u=u<<1|e&1,f==i-1?(f=0,c.push(r(u)),u=0):f++,e=e>>1}else{for(e=1,o=0;o<h;o++)u=u<<1|e,f==i-1?(f=0,c.push(r(u)),u=0):f++,e=0;for(e=s.charCodeAt(0),o=0;o<16;o++)u=u<<1|e&1,f==i-1?(f=0,c.push(r(u)),u=0):f++,e=e>>1}l--,l==0&&(l=Math.pow(2,h),h++),delete y[s]}else for(e=a[s],o=0;o<h;o++)u=u<<1|e&1,f==i-1?(f=0,c.push(r(u)),u=0):f++,e=e>>1;l--,l==0&&(l=Math.pow(2,h),h++),a[p]=b++,s=window.String(v)}if(s!==""){if(n.Object.prototype.hasOwnProperty.call(y,s)){if(s.charCodeAt(0)<256){for(o=0;o<h;o++)u=u<<1,f==i-1?(f=0,c.push(r(u)),u=0):f++;for(e=s.charCodeAt(0),o=0;o<8;o++)u=u<<1|e&1,f==i-1?(f=0,c.push(r(u)),u=0):f++,e=e>>1}else{for(e=1,o=0;o<h;o++)u=u<<1|e,f==i-1?(f=0,c.push(r(u)),u=0):f++,e=0;for(e=s.charCodeAt(0),o=0;o<16;o++)u=u<<1|e&1,f==i-1?(f=0,c.push(r(u)),u=0):f++,e=e>>1}l--,l==0&&(l=Math.pow(2,h),h++),delete y[s]}else for(e=a[s],o=0;o<h;o++)u=u<<1|e&1,f==i-1?(f=0,c.push(r(u)),u=0):f++,e=e>>1;l--,l==0&&(l=Math.pow(2,h),h++)}for(e=2,o=0;o<h;o++)u=u<<1|e&1,f==i-1?(f=0,c.push(r(u)),u=0):f++,e=e>>1;for(;;)if(u=u<<1,f==i-1){c.push(r(u));break}else f++;return c.join("")},r.prototype._cpK=function(n,t,i){for(var h=[],b,c=4,l=4,a=3,v="",w=[],y,f,e,o,u,s,r={val:i(0),position:t,index:1},p=0;p<3;p+=1)h[p]=p;for(f=0,o=Math.pow(2,2),u=1;u!=o;)e=r.val&r.position,r.position>>=1,r.position==0&&(r.position=t,r.val=i(r.index++)),f|=(e>0?1:0)*u,u<<=1;b=f;switch(b){case 0:for(f=0,o=Math.pow(2,8),u=1;u!=o;)e=r.val&r.position,r.position>>=1,r.position==0&&(r.position=t,r.val=i(r.index++)),f|=(e>0?1:0)*u,u<<=1;s=window.String.fromCharCode(f);break;case 1:for(f=0,o=Math.pow(2,16),u=1;u!=o;)e=r.val&r.position,r.position>>=1,r.position==0&&(r.position=t,r.val=i(r.index++)),f|=(e>0?1:0)*u,u<<=1;s=window.String.fromCharCode(f);break;case 2:return""}for(h[3]=s,y=s,w.push(s);;){if(r.index>n)return"";for(f=0,o=Math.pow(2,a),u=1;u!=o;)e=r.val&r.position,r.position>>=1,r.position==0&&(r.position=t,r.val=i(r.index++)),f|=(e>0?1:0)*u,u<<=1;s=f;switch(s){case 0:for(f=0,o=Math.pow(2,8),u=1;u!=o;)e=r.val&r.position,r.position>>=1,r.position==0&&(r.position=t,r.val=i(r.index++)),f|=(e>0?1:0)*u,u<<=1;h[l++]=window.String.fromCharCode(f),s=l-1,c--;break;case 1:for(f=0,o=Math.pow(2,16),u=1;u!=o;)e=r.val&r.position,r.position>>=1,r.position==0&&(r.position=t,r.val=i(r.index++)),f|=(e>0?1:0)*u,u<<=1;h[l++]=window.String.fromCharCode(f),s=l-1,c--;break;case 2:return w.join("")}if(c==0&&(c=Math.pow(2,a),a++),h[s])v=h[s];else if(s===l)v=y+y.charAt(0);else return null;w.push(v),h[l++]=y+v.charAt(0),c--,y=v,c==0&&(c=Math.pow(2,a),a++)}},r.prototype.getSessionItem=function(n){return this._yc(n,!1)},r.prototype.setSessionItem=function(n,t){this._yd(n,t,!1)},r.prototype.removeSessionItem=function(n){return this._bDQ(n,!1)},r.prototype.getLocalItem=function(n){return this._yc(n,!0)},r.prototype.setLocalItem=function(n,t){this._yd(n,t,!0)},r.prototype.removeLocalItem=function(n){return this._bDQ(n,!0)},r}(n.Object);n.StorageManager=t,n.storageManager=t.current}(n||(n={})),function(n){var t,u,r;(function(n){n[n.GET=0]="GET",n[n.POST=1]="POST",n[n.HEAD=2]="HEAD"})(t=n.AjaxType||(n.AjaxType={})),function(n){n[n.CREATED=0]="CREATED",n[n.OPENED=1]="OPENED",n[n.SENDED=2]="SENDED",n[n.RECEIVED=3]="RECEIVED",n[n.LOADED=4]="LOADED"}(u=n.ReadyState||(n.ReadyState={})),r=function(r){function f(n){var t=r.call(this,n)||this;return t.ResponseStatus={SUCCESS:200,ERROR:500,NOTFOUND:404,UNSET:0},t}return i(f,r),f.prototype._initFields=function(i){this._defineEvents(["ReadyStateChange","Success","Fail"]),i=i||{},n.isString(i.Type)&&(i.Type=t[i.Type]),r.prototype._initFields.call(this,i)},f.prototype.getUrl=function(){return this._Url},f.prototype.getAjaxType=function(){return this._Type},f.prototype.getAsync=function(){return this._Async},f.prototype.getBody=function(){return this._Body},f.prototype.getXHR=function(){return this._XHR||(this._XHR=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),this._XHR.onreadystatechange=this._cpL.bind(this)),this._XHR},f.prototype.open=function(){if(!this._Opened){if(!this._Url)throw new n.ArgumentNullException("Url");this.getXHR().open(this._cpM(),this._Url,this._Async),this._Opened=!0}},f.prototype.send=function(n){this.open(),this._XHR.send(n?n:this._Body)},f.prototype.abort=function(){this._XHR&&this._XHR.abort(),this._Opened=!1},f.prototype.setRequestHeader=function(n,t){this.open(),this._XHR.setRequestHeader(n,t)},f.prototype.overrideMimeType=function(n){this.open(),this._XHR.overrideMimeType(n)},f.prototype.getSettings=function(){var n=r.prototype.getSettings.call(this);return delete n["@XHR"],delete n["@ResponseText"],delete n.Opened,n},f.prototype.dispose=function(){try{this._XHR.onreadystatechange=null}catch(n){}r.prototype.dispose.call(this)},f.prototype._cpL=function(){var t=this.getXHR();this.ReadyStateChange.fire(this,{State:t.readyState});switch(t.readyState){case u.LOADED:switch(this._cpN(t.status)){case this.ResponseStatus.SUCCESS:this._ResponseText=t.responseText,this.Success.fire(this,{ResponseText:t.responseText});break;case this.ResponseStatus.UNSET:case this.ResponseStatus.NOTFOUND:case this.ResponseStatus.ERROR:this._ResponseText=t.responseText,this.Fail.fire(this,{ResponseText:t.responseText,Status:t.status})}}},f.prototype._cpM=function(){switch(this._Type){case t.GET:return"GET";case t.POST:return"POST";case t.HEAD:return"HEAD"}return"GET"},f.prototype._cpN=function(n){var t=n/100|0;switch(t){case 5:return this.ResponseStatus.ERROR;default:return n}},f}(n.Object),r.Type={GET:t.GET,POST:t.POST,HEAD:t.HEAD},f([e("")],r.prototype,"_Url",void 0),f([e(t.GET)],r.prototype,"_Type",void 0),f([e(null)],r.prototype,"_Body",void 0),f([e(!0)],r.prototype,"_Async",void 0),n.Ajax=r}(n||(n={})),function(n){var r=function(){function n(){}return n.parse=function(n){var r="^(([^:/\\?#]+):)?(//(([^:/\\?#]*)(?::([^/\\?#]*))?))?([^\\?#]*)(\\?([^#]*))?(#(.*))?$",u=new RegExp(r),i=u.exec(n);return new t({Scheme:i[1],Host:i[3],HostName:i[5],Port:+i[6],Path:i[7],Query:i[8],Fragment:i[10],Segments:i})},n.splitQueryString=function(n,t){var r,o;t===void 0&&(t=!1),n=n.replace("?","&"),n=n.replace("#","&");var u=n.split("&"),f=[],e={},i;for(r=0,o=u.length;r<o;r++)i=u[r].split("="),i&&i[0]&&(t?f.push({Key:i[0],Value:i[1]}):e[i[0]]=i[1]+"");return t?f:e},n.replaceQueryParam=function(t,i,r,u){var o,f,h,s,e,c;return(r=r||"",!t)?r:(o=n.splitQueryString(r),f=i==null||i==undefined?"":t+"="+i,o.hasOwnProperty(t))?(h=r.indexOf(t+"=")>=0,s=(f?"w*":"[?|#|&]")+t+"s?=s?"+o[t],h||(s=(f?"w*":"[?|#|&]")+t+"s?"),e=r.replace(new RegExp(s),f),e.indexOf("?")<0&&e.indexOf("#")<0&&(e=e.replace(/[&]/,u||"?")),e):(c=r.indexOf("?")<0&&r.indexOf("#")<0,r+(f?(c?u||"?":"&")+f:f))},n.joinQueryParam=function(t,i,r,u){if(r=r||"",!t)return r;if(!u)return n.replaceQueryParam(t,i,r,u);var f=n.parse(r),e=f.getQuery(),o=f.getFragment(),s=u==="?"?i:null,h=u==="#"?i:null;return e=n.replaceQueryParam(t,s,e,"?"),o=n.replaceQueryParam(t,h,o,"#"),f.setQuery(e),f.setFragment(o),f.toString()},n.getQueryParam=function(t,i){i||(i=window.location.hash+window.location.search);var r=n.splitQueryString(i);return!t||!r?null:r[t]||r[t.toLowerCase()]},n.containsQueryParam=function(t,i){i||(i=window.location.hash+window.location.search);var r=n.splitQueryString(i);return r.hasOwnProperty(t)},n}(),t;n.Url=r,t=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._initFields=function(n){n=n||{},isNaN(n.Port)&&delete n.Port,t.prototype._initFields.call(this,n)},r.prototype.getHost=function(){return this._Host||""},r.prototype.getHostName=function(){return this._HostName||""},r.prototype.getPort=function(){return this._Port},r.prototype.getScheme=function(){return this._Scheme||""},r.prototype.getPath=function(){return this._Path||""},r.prototype.getQuery=function(){return this._Query||""},r.prototype.getFragment=function(){return this._Fragment||""},r.prototype.getSegments=function(){return this._Segments||[]},r.prototype.setHost=function(n){this._Host=n},r.prototype.setHostName=function(n){this._Host&&this._HostName&&(this._Host=this._Host.replace(this._HostName,n)),this._HostName=n},r.prototype.setPort=function(n){this._Host&&this._Port&&(this._Host=this._Host.replace(this._Port+"",n+"")),this._Port=n},r.prototype.setScheme=function(n){this._Scheme=n},r.prototype.setPath=function(n){this._Path=n},r.prototype.setQuery=function(n){this._Query=n},r.prototype.setFragment=function(n){this._Fragment=n},r.prototype.merge=function(t){var f=t.getPath().split("/"),r=this.getPath().split("/"),i,u;for(this.getScheme()||this.setScheme(t.getScheme()),this.getHost()||this.setHost(t.getHost()),this.getHostName()||this.setHostName(t.getHostName()),this.getPort()||this.setPort(t.getPort()),i=0;i<f.length;i++)u=n.String.trim(f[i],"/"),r.indexOf(u)<0&&r.splice(i,0,u);return r.length>1&&this.setPath(r.join("/")),this},r.prototype.toString=function(){return this.getScheme()+this.getHost()+this.getPath()+this.getQuery()+this.getFragment()},r}(n.Object),n.Uri=t}(n||(n={})),function(n){var t=function(){function t(){this._aly={},this._aQH=n.Version,this._ye=0,this._af5=[],this._ParentNode=null,this._Cacheable=!0,this.ScriptLoaded=new n.Delegate,this.ScriptLoading=new n.Delegate}return Object.defineProperty(t,"current",{get:function(){return t._kR||(t._kR=new t),t._kR},enumerable:!0,configurable:!0}),t.loadScript=function(n,i,r){return t.current.loadScript(n,i,r)},t.loadScripts=function(n,i){return t.current.loadScripts(n,i)},t.removeScript=function(n){return t.current.removeScript(n)},t.getRawUrl=function(n){return t.current.getRawUrl(n)},t.isAttached=function(n,i){return t.current.isAttached(n,i)},t.loadStyle=function(n,i,r){return t.current.loadStyle(n,i,r)},t.loadStyles=function(n,i){return t.current.loadStyles(n,i)},t.prototype._aQI=function(){var t,i;if(this._ye===0){for(t=this._af5.length;t;)i=this._af5.shift(),t=this._af5.length,n.Delegate.fire(i,this);return!0}return!1},t.prototype._oi=function(t){var u=t.currentTarget||t.srcElement,r=u.getAttribute("src")||u.getAttribute("href"),i=this._aly[r];i&&!i.isLoaded&&(i.isLoaded=!0,this.ScriptLoaded.fire(this,{Src:r}),i.Callback&&n.Delegate.fire(i.Callback,this,{Src:r}),delete this._aly[r])},t.prototype._bDS=function(t){var i=t.currentTarget||t.srcElement,r=i.getAttribute("src")||i.getAttribute("href"),u=this._aly[r];u.ErrCallback&&n.Delegate.fire(u.ErrCallback,this,{Src:r})},t.prototype._a8I=function(t,i){for(var f=i.Args.Type||"script",r=new n.Delegate(this._a8I,this,i.Args),u;i.Args.Urls.length;)if(u=f==="script"?this.loadScript(i.Args.Urls.shift(),r,r):this.loadStyle(i.Args.Urls.shift(),r,r),u)return!0;this._ye--,n.setTimeout(this._aQI,0,{},this)},t.prototype._cpO=function(n,t){var r=t.Args.Count,i=t.Args.Token,u=t.Args.Callback;this._jT=this._jT||{},this._jT[i]||(this._jT[i]=0),++this._jT[i]===r&&(delete this._jT[i],this._af5.push(u),this._aQI())},t.prototype._bDT=function(t){return this._aQH||(this._aQH=n.Version),t.indexOf(this._aQH)<0&&(t+=(t.indexOf("?")>0?"&pp=":"?pp=")+this._aQH),this.getCacheable()&&t.indexOf("cache")<0&&(t+=t.indexOf("?")>0?"&cache":"?cache"),t},t.prototype.setParentNode=function(n){this._ParentNode=n},t.prototype.getParentNode=function(){if(!this._ParentNode){var n=document.getElementById("head");n||(n=document.querySelector("head")),this._ParentNode=n}return this._ParentNode},t.prototype.setCacheable=function(n){this._Cacheable=n},t.prototype.getCacheable=function(){return this._Cacheable},t.prototype.loadScript=function(n,t,i){var u,r,e,f;return(n=this._bDT(n),u=this._aly[n],u)?(u.Callback?u.Callback.add(t):u.Callback=t,!0):this.isAttached(n,"script")?!1:(r=document.createElement("script"),e=this.getParentNode(),r.onload=this._oi.bind(this),r.onerror=this._bDS.bind(this),r.setAttribute("src",n),this._aly[n]={isLoaded:!1,Callback:t,ErrCallback:i},f={Src:this.getRawUrl(n),Cancel:!1,Node:r},this.ScriptLoading.fire(this,f),f.Cancel)?!1:(n=f.Src,r=f.Node,e.appendChild(r),!0)},t.prototype.loadScripts=function(n,t){return n.length?(this._ye++,this._a8I(this,{Args:{Urls:n}})||this._ye)?(t&&this._af5.push(t),!0):!1:!1},t.prototype.removeScript=function(n){var t;n=this.getRawUrl(n);var f="script",e="src",u=this.getParentNode(),i=u.getElementsByTagName(f),o=this.getRawUrl(n),r=null;for(t=0;t<i.length;t++)if(this.getRawUrl(i[t].getAttribute(e))===o){r=i[t];break}return r?(u.removeChild(r),delete this._aly[n],!0):!1},t.prototype.getRawUrl=function(t){var r,f,i,u;return(t=t||"",r=t.indexOf("?"),f=t.indexOf("#"),r<0&&f<0)?t:(i=t,u=r>=0?"?":"#",i=n.Url.replaceQueryParam("pp",null,i,u),i=n.Url.replaceQueryParam("cache",null,i,u))},t.prototype.isAttached=function(n,t){var f=this.getParentNode(),i=!1,r;if(t||(i=this.isAttached(n,"script")),t||i||(i=this.isAttached(n,"link")),!t)return i;var u=f.getElementsByTagName(t),e=this.getRawUrl(n),o=t==="script"?"src":"href";for(r=0;r<u.length;r++)if(this.getRawUrl(u[r].getAttribute(o))===e)return!0;return!1},t.prototype.loadStyle=function(n,t,i){var u=this.getParentNode(),r;return(n=this._bDT(n),this.isAttached(n,"link"))?!1:(r=document.createElement("link"),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",n),r.onload=this._oi.bind(this),r.onerror=this._bDS.bind(this),this._aly[n]={isLoaded:!1,Callback:t,ErrCallback:i},u.appendChild(r),!0)},t.prototype.loadStyles=function(t,i){var r,e;if(!t.length)return!1;var u=!1,f=t.length,o=n.String.getRandom(10);for(r=0;r<f;r++)e=new n.Delegate(this._cpO,this,{Url:t[r],Token:o,Index:r,Count:f,Callback:i}),this.loadStyle(t[r],e)&&(u=!0);return u},t}();n.ScriptManager=t,n.scriptManager=n.ScriptManager.current}(n||(n={})),function(n){var i,t;(function(n){n[n.None=0]="None",n[n.Success=1]="Success",n[n.Fail=2]="Fail"})(i=n.CMLoaderState||(n.CMLoaderState={})),t=function(){function t(n){this._yf=n&&n.Url}return t.prototype._iI=function(n){return n[0].toUpperCase()+n.substr(1)},t.prototype._cpP=function(n){var r={},i,t;if(n.nodeType==9){for(i=n.childNodes,t=-1;++t<i.length&&i[t]&&i[t].nodeType!==1;);t>=0&&(r=this._atj(i[t]))}return r},t.prototype._atj=function(t){var i={},f,r,o,c;if(t.nodeType==1){for(var s=t.childNodes,h=t.attributes,u=0,e=s.length;u<e;u++)f=s[u],r=this._iI(f.nodeName),f.nodeType==1&&(i[r]&&!n.Array.isArray(i[r])&&(i[r]=[i[r]]),n.Array.isArray(i[r])?i[r].push(this._atj(f)):i[r]=this._atj(f));for(u=0,e=h.length;u<e;u++)o=h[u],c=this._iI(o.name),i[c]=this._abZ(o.value)}return i},t.prototype._abZ=function(t){return n.String.isBoolean(t)?n.String.isTrue(t):n.String.isNumber(t)?parseFloat(t):n.isString(t)&&(t+="",/^(?:\{|\[).*(?:\}|\])$/.test(t))?JSON.parse(t):t},t.prototype._a8J=function(n,t){this._fz=n,this._je=t},t.prototype._a8K=function(t,i){var r;r=t.getXHR().responseXML?this._cpP(t.getXHR().responseXML):JSON.parse(i.ResponseText),this._a8J(r,1),n.Delegate.fire(this._jf,this,{Result:r})},t.prototype._a8L=function(t,i){this._je=2,n.Delegate.fire(this._lF,this,{Result:i.ResponseText})},t.prototype.load=function(t,i){this._jf=t,this._lF=i,this._je&&this._jf&&n.Delegate.fire(this._jf,this,{Result:this._fz});var r=new n.Ajax({Url:this._yf,Type:n.AjaxType.GET,Async:!1,Success:new n.Delegate(this._a8K,this),Fail:new n.Delegate(this._a8L,this)});r.send()},t.prototype.getStateName=function(){return"pp.clicfg"},t.prototype.getState=function(){return this._je},t.prototype.resetState=function(){this._je=0},t}(),n.XMLConfigLoader=t}(n||(n={})),function(n){var t=function(){function t(){}return t.resetLoaderState=function(t){var i=n.ConfigManager;return i.UseLocalStorage?n.storageManager.removeLocalItem(t):n.storageManager.removeSessionItem(t)},t.getLoaderResult=function(i){var f=r.instance,u;return f._aCF||(f._aCF={}),f._aCF[i]?u=f._aCF[i]:(u=t.UseLocalStorage?n.storageManager.getLocalItem(i):n.storageManager.getSessionItem(i),f._aCF[i]=u,f._je||(f._je={}),u&&(f._je[i]=u.lState)),u&&delete u.lState,u},t.getLoaderState=function(n){var u=r.instance,i=u._je&&u._je[n];return(i||(t.getLoaderResult(n),i=u._je[n]),!i)?0:i||0},t.loadConfig=function(i,u){var f=r.instance,e,o,s;(f._je||(f._je={}),e=i.getStateName(),t.getLoaderState(e)===0)&&(o=function(i,r){f._je[e]=1;var o=r.Result||{};o.lState=1,t.UseLocalStorage?n.storageManager.setLocalItem(e,o):n.storageManager.setSessionItem(e,o),u&&n.Delegate.fire(u,f,{Result:r.Result,State:1})},s=function(t,i){f._je[e]=2,f._aCF[e]=i,u&&n.Delegate.fire(u,f,{State:2,Result:i.ResponseText,Status:i.Status})},i.load(o,s))},t.getConfig=function(i){var u=r.instance,e,f;return(i=i||t.StorageName,u._aQJ||(u._aQJ={}),u._aQJ[i])?u._aQJ[i]:(e=t.getLoaderResult(i),f=n.ConfigClass.newctor(e),u._aQJ[i]=f,f)},t}(),r;t.StorageName="pp.clicfg",t.TypeName="PP.ConfigClass",t.UseLocalStorage=!1,n.ConfigManager=t,r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),Object.defineProperty(t,"instance",{get:function(){return t._kR||(t._kR=new t),t._kR},enumerable:!0,configurable:!0}),t}(t),n.CM=t}(n||(n={})),function(n){function r(t,i,r){var u=n.HtmlCache[t];return u?u=u.cloneNode(!0):(u=document.createElement("span"),u.innerHTML=t,r||(n.HtmlCache[t]=u.cloneNode(!0))),u.firstChild}function u(n,t,i){var r,u;return i||(i="DIV"),r=document.createElement(i),i.toUpperCase()=="TABLE"&&(u=r,u.cellPadding="0",u.cellSpacing="0",u.border="0"),t&&(r.className=t),n&&n.appendChild(r),r}function f(t,i){var r,u,s=i,f,e,o;return(i.match(/[A-Z]/)&&(i=i.replace(/([A-Z])/g,"-$1").toLowerCase()),r=t.style[i]||t.style[s],r||(f=document.defaultView.getComputedStyle(t,""),f.getPropertyValue&&(r=f.getPropertyValue(i))),r!=undefined)?(e=arguments[2],e===!0)?(o=0,u=parseFloat(r),isNaN(u))?o:u:n.isString(r)?r.replace(/^["'](.*)["']$/,"$1"):r:""}function e(t,i){if(i&&!n.hasClass(t,i))if(t.classList&&typeof t.className!="object"){var r=i.split(" ").filter(function(n){return n!=""});n.IsIE?r.forEach(function(n){return t.classList.add(n)}):t.classList.add.apply(t.classList,r)}else typeof t.className!="object"?t.className+=" "+i:t.setAttribute("class",(t.getAttribute("class")||"")+" "+i)}function o(t,i){var u,r,f;i&&n.hasClass(t,i)&&(t.classList&&typeof t.className!="object"?(u=i.split(" ").filter(function(n){return n!=""}),n.IsIE?u.forEach(function(n){return t.classList.remove(n)}):t.classList.remove.apply(t.classList,u)):(r=typeof t.className!="object"?t.className:t.getAttribute("class")||"",f=new RegExp("\\b"+i+"\\b","g"),r=r.replace(f,""),typeof t.className!="object"?t.className=r:t.setAttribute("class",r)))}function s(n,t){var i,r,u,f;if(t){if(n.classList&&typeof n.className!="object"){for(i=0,r=t.split(" ");i<r.length;i++)if(r[i].length>0&&n.classList.contains(r[i]))return!0;return!1}return u=typeof n.className!="object"?n.className:n.getAttribute("class")||"",f=new RegExp("\\b"+t+"\\b","g"),f.test(u)}return!1}function h(t){if(n.IsIE)while(t.firstChild)t.removeChild(t.firstChild);else t&&t.innerHTML&&(t.innerHTML="")}function i(n,t){if(t||(t=document.body),t.contains)return t.contains(n);for(var i=n;;){if(i==document)return!0;if(!i)return!1;i=i.parentNode}}function c(t,i){var u,a,p,w;if(!document.body.contains(t))return{X:0,Y:0};if(typeof t.getBoundingClientRect!="undefined"){var f,e=void 0,h=t.getBoundingClientRect(),c=document.body,l=document.documentElement,v=l.clientTop||c.clientTop||0,y=l.clientLeft||c.clientLeft||0;return n.isTouch&&!n.IsiPad?(u=document.createElement("div"),u.style.position="absolute",u.style.left=u.style.top="0",document.body.appendChild(u),a=u.getBoundingClientRect(),document.body.removeChild(u),f=h.top-a.top-v,e=h.left-a.left-y):(p=window.pageYOffset||l.scrollTop||c.scrollTop,w=window.pageXOffset||l.scrollLeft||c.scrollLeft,f=h.top+p-v,e=h.left+w-y),i||(f=Math.round(f),e=Math.round(e)),{X:e,Y:f}}var o=0,s=0,r=t;if(n.IsIE){while(r)o+=r.offsetLeft-r.scrollLeft,s+=r.offsetTop-r.scrollTop,r=r.offsetParent;return{X:o,Y:s}}while(r)o+=r.offsetLeft,s+=r.offsetTop,r=r.offsetParent;for(r=t;r;)r.scrollLeft&&(o-=r.scrollLeft),r.scrollTop&&(s-=r.scrollTop),r=r.parentNode;return{X:o,Y:s}}function l(n,t){return n.querySelector(t)}function a(n,t){return n.querySelectorAll(t)}function v(t){var u={Height:0,Width:0},f,r;if(i(t))u={Height:t.offsetHeight,Width:t.offsetWidth};else{if(f=t.innerHTML,typeof f=="undefined")return u;r=n.htmlToDOM("<div style='position:absolute; z-index:400; top:-500px; left:-500px; overflow:auto'>"+f+" <\/div>"),document.body.appendChild(r),u={Height:r.offsetHeight,Width:r.offsetWidth},document.body.removeChild(r)}return u}function y(t){if(!t||t.parentNode==null||t.offsetParent==null&&n.getStyle(t,"position")!="fixed"||n.getStyle(t,"visibility")=="hidden"||n.getStyle(t,"display")=="none")return!1;var r=!0,i=t.getAttribute("id"),u=!i;return i||(i="PPTempId",t.setAttribute("id",i)),document.getElementById(i)==null&&(r=!1),u&&t.removeAttribute("id"),r}function p(t){t instanceof SVGElement?t.style.display="":n.removeClass(t,"PPHide")}function w(t){t instanceof SVGElement?t.style.display="none":n.addClass(t,"PPHide")}function b(n){var i,r;return t[n]?t[n]:isNaN(parseInt(n))||isNaN(parseFloat(n))?0:n.length<3?null:n.substr(n.length-2,2)=="px"?Math.round(parseFloat(n)):(i=document.createElement("DIV"),i.style.cssText="flex-shrink: 0 !important;padding: 0 !important;border-width: 0 !important;",i.style.height=n,i.style.visibility="hidden",document.body.appendChild(i),r=i.offsetHeight,document.body.removeChild(i),t[n]=r,r)}function k(t){if(t){if(this._alz)return n.addClass(t,this._alz);if(this._alz="PPC",window.navigator.appVersion.indexOf("Win")!=-1)return n.addClass(t,"PPC");(n.IsiPad||n.IsiPhone)&&(this._alz+=" PPIPad"),window.navigator.appVersion.indexOf("Mac")!=-1?this._alz+=" PPMacOS":window.navigator.appVersion.indexOf("X11")!=-1?this._alz+=" PPUnix":window.navigator.appVersion.indexOf("Linux")!=-1&&(this._alz+=" PPLinux"),n.addClass(t,this._alz)}}var t,d;n.HtmlCache={},n.HeightsCache={},n.htmlToDOM=r,n.createElement=u,n.getStyle=f,n.addClass=e,n.removeClass=o,n.hasClass=s,n.removeChildren=h,n.isInDOM=i,n.calculateOffset=c,n.querySelector=l,n.querySelectorAll=a,n.getSizeOf=v,n.isVisible=y,n.show=p,n.hide=w,t={},n.widthToPixel=b,n.initOS=k,function(t){function i(t,i){var r,u;return i||(i=document.body),r=n.HtmlCache.PPCropTextDiv,r?i.appendChild(r):(r=n.createElement(i),r.className="PPCropTextDiv",n.HtmlCache.PPCropTextDiv=r),r.innerHTML=t,u=r.offsetWidth,i.removeChild(r),u}function r(t,i,r){var u,f;return i||(i=document.body),u=n.HtmlCache.PPCropTextDiv,u?i.appendChild(u):(u=n.createElement(i),u.className="PPCropTextDiv",n.HtmlCache.PPCropTextDiv=u),r&&(u.style.cssText=r.toCSSFormat()),u.innerHTML=t,f=u.offsetHeight,i.removeChild(u),f}function u(t){var r=document.createElement("div"),i=r.style;i.cssText=t;var e=i.lineHeight,o=i.fontSize,s=i.fontFamily,f=o+e+s,u=n.HeightsCache[f];return n.isNumber(u)||(r.innerHTML="a",i.position="absolute",i.zIndex="-1",i.top="0",i.left="0",document.body.appendChild(r),u=r.offsetHeight,document.body.removeChild(r),n.HeightsCache[f]=u),u}function f(t){return t.offsetWidth-n.Ui.getMarginsWidth(t)}function e(t){var i=n.Ui.getPixelSize(t,"padding-left"),r=n.Ui.getPixelSize(t,"margin-left"),u=n.Ui.getPixelSize(t,"border-left-width"),f=n.Ui.getPixelSize(t,"padding-right"),e=n.Ui.getPixelSize(t,"margin-right"),o=n.Ui.getPixelSize(t,"border-right-width");return i+r+u+f+e+o}function o(t){var i=n.Ui.getPixelSize(t,"padding-top"),r=n.Ui.getPixelSize(t,"margin-top"),u=n.Ui.getPixelSize(t,"border-top-width"),f=n.Ui.getPixelSize(t,"padding-bottom"),e=n.Ui.getPixelSize(t,"margin-bottom"),o=n.Ui.getPixelSize(t,"border-bottom-width");return i+r+u+f+e+o}function s(t){return n.Ui.getPixelSize(t,"padding-left")+n.Ui.getPixelSize(t,"border-left-width")+n.Ui.getPixelSize(t,"padding-right")+n.Ui.getPixelSize(t,"border-right-width")}function h(t){return n.Ui.getPixelSize(t,"padding-top")+n.Ui.getPixelSize(t,"border-top-width")+n.Ui.getPixelSize(t,"padding-bottom")+n.Ui.getPixelSize(t,"border-bottom-width")}function c(t,i){var r=n.getStyle(t,i),u=n.widthToPixel(r);return u||0}function l(t,i,r,u){var f=t,e=n.Ui.getWidthOfElement(f,u),s=!1,c=f.length,o,h;for(r=!n.isDefined(r)&&r!==null?"...":r||"";e>i&&c>1&&i>0;)c=f.length,f=f.substr(0,Math.round(c/2)),e=n.Ui.getWidthOfElement(f+r,u),s=!0;for(o=f;e<i&&f!=""&&s;)f=o,o+=t.charAt(o.length),e=n.Ui.getWidthOfElement(o+r,u);return h=e>i&&f.length===1?"":f,s&&(h=h+r),{Text:h,Original:t,IsCroped:s}}function a(t,i,r,u,f,e){var o,a,s,c,v,y,p,h,l,w;return!t&&!i?"":(y=t||"",p=i||"",v="",a=!n.isDefined(u)||u===null?1:u,s=t&&i?t+".."+i:t||i,c=a>1?" ("+a+")":"",t&&i&&(h=c?n.Ui.getWidthOfElement(c):1,h=Math.round(r/2)-Math.floor(h/2),l=n.Ui.cropText(t,h),w=n.Ui.cropText(i,h),v=l.IsCroped?" ":"..",o={IsCroped:l.IsCroped||w.IsCroped,Original:s},y=l.Text,p=w.Text),s=y+v+p+c,o?o.Text=s:o=n.Ui.cropText(s,r,"...",f),e=e||{Text:"",Original:"",IsCroped:!1},e.Text=o.Text,e.Original=o.Original,e.IsCroped=o.IsCroped,o.Text)}function v(t,i){var r="transform",u="rotate("+i+"deg)";t.style[r]==undefined&&(n.IsChrome||n.IsSafari?r="-webkit-transform":n.IsFF?r="MozTransform":n.IsIE&&(r="-ms-transform")),t.style[r]=i?u:""}function y(t){var r,u,e,f,o,i;if(!t||(r=document.getElementById(t),!r))return null;u=n.domEvent.getHandlersByNode(r);for(e in u){f=u[e];for(o in f)if(i=f[o].Context,i&&i.getId()===t)return i}return null}function p(n,t){n?(t.setAttribute("enabled","enabled"),t.removeAttribute("disabled")):(t.setAttribute("disabled","disabled"),t.removeAttribute("enabled"))}function w(t,i,r){var f,e,u;if(t)return r||(r=document.getElementsByTagName("head")[0]),f=t,n.isString(t)||(t instanceof n.Style?f=t.toCSSFormat():(t=new n.Style(t),f=t.toCSSFormat(),t.dispose())),e=document.createTextNode(i+"{"+f+"}"),u=document.createElement("style"),HTMLStyleElement,u.type="text/css",u.styleSheet?u.styleSheet.cssText=e.nodeValue:u.appendChild(e),r.appendChild(u),u}t.getConfig=n.ConfigManager.getConfig,t.DEFAULT_TIMEOUT=555,t.MOUSE_EMULATION_DELAY=666,t.getWidthOfElement=i,t.getHeightOfElement=r,t.getTextHeight=u,t.getOffsetWidthNoMargins=f,t.getMarginsWidth=e,t.getMarginsHeight=o,t.getBordersWidth=s,t.getBordersHeight=h,t.getPixelSize=c,t.cropText=l,t.getComboCaption=a,t.rotateNode=v,t.getCtrlById=y,t.setEnblTo=p,t.addStyleBySelector=w}(d=n.Ui||(n.Ui={}))}(n||(n={})),n.initNamespace(n.Ui,"PP.Ui",["MapMaster","ChartMaster","TabSheetMaster","TreeChartMaster","GaugeMaster"]),function(n){var r={Chart:{Animation:!0,ShowLoadConfirm:!0,EnableAxisScaling:!0,Templates:[]},Visualizers:{ToolTipDelay:500},Map:{LoadPostTopobase:!1},TabSheet:{EnableNativeContextMenu:!1,EnableSelection:!0,AutoUpdateFormulas:!1,LoadPostImage:!1},Dimension:{ChildrenReqCount:100},SourceTypes:[],SupportedLanguages:[]},t=function(){function t(t){this.setSettings(n.extend(r,t,!0,!0,!0))}return t.prototype.getSettings=function(){var i={},t;for(t in this)n.isFunction(this[t])||(i[t]=this[t]);return i},t.prototype.setSettings=function(t){n.extend(this,t,!0,!0)},t.prototype.getValue=function(t){var i=this.getSettings();return t?n.getProperty(i,t):i},t.prototype.setValue=function(t,i){n.setProperty(i,this,t)},t.newctor=function(n){return new u(n)},t}();n.ConfigClass=t;var u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t.prototype.getChart=function(){return this._bDU||(this._bDU=new f(this.Chart)),this._bDU},t.prototype.getVisualizers=function(){return this._aQK||(this._aQK=new e(this.Visualizers)),this._aQK},t.prototype.getTabSheet=function(){return this._atk||(this._atk=new o(this.TabSheet)),this._atk},t.prototype.getDimension=function(){return this._aQL||(this._aQL=new s(this.Dimension)),this._aQL},t.prototype.getSourceTypes=function(){return this.SourceTypes},t.prototype.getSupportedLanguages=function(){return this.SupportedLanguages},t}(t),f=function(){function n(n){this._aCG=n}return n.prototype.getAnimation=function(){return this._aCG.Animation},n.prototype.getShowLoadConfirm=function(){return this._aCG.ShowLoadConfirm},n.prototype.getEnableAxisScaling=function(){return this._aCG.EnableAxisScaling},n.prototype.getTemplates=function(){return this._aCG.Templates},n.prototype.setTemplates=function(n){this._aCG.Templates=n},n}(),e=function(){function n(n){this._aQK=n}return n.prototype.getToolTipDelay=function(){return this._aQK.ToolTipDelay},n}(),o=function(){function n(n){this._atk=n}return n.prototype.getEnableNativeContextMenu=function(){return this._atk.EnableNativeContextMenu},n.prototype.getEnableSelection=function(){return this._atk.EnableSelection},n.prototype.getAutoUpdateFormulas=function(){return this._atk.AutoUpdateFormulas},n}(),s=function(){function n(n){this._aQL=n}return n.prototype.getChildrenReqCount=function(){return this._aQL.ChildrenReqCount},n}()}(n||(n={})),function(n){function u(){var n=t[t.length-1];return n?n.getDomNode():undefined}function f(u,f){if(!u)throw new n.ArgumentNullException(u);f=f||n.Capture;var e=new i(u,f),o=t.indexOf(e);return o>=0&&r(t[o].getDomNode()),t.put(e),e}function r(n){var r=t.indexOf(n),u,f,i;if(r>=0){for(u=t[r],f=u.getCaptureEvents(),i=0;i<f.length;i++)u.releaseEventListener(f[i]);t.removeAt(r)}}function e(t,i,r){var u,o,f;if(i instanceof KeyboardEvent)if(n.IsIE){u=document.createEvent("KeyboardEvent");var s=i.type,h=i.bubbles,c=i.cancelable,l=i.view,a=i.keyCode,v=i.location,y=i.locale,e=[],p=["Alt","AltGraph","CapsLock","Control","Meta","NumLock","Scroll","Shift","Win"];p.forEach(function(n){i.getModifierState(n)?e.push(n):null}),u.initKeyboardEvent(s,h,c,l,a,v,e.join(" "),!1,y)}else u=new i.constructor(r||i.type,i);else{o={bubbles:i.bubbles,cancelable:i.cancelable},u=new CustomEvent(r||i.type,o);for(f in i)f==="originalTarget"||n.isFunction(i[f])||f==="cancelBubble"||f==="defaultPrevented"||(u[f]=i[f])}u.PPEvent=!0,"isTrusted"in u||(u.isTrusted=!1),"pointerType"in i&&(u.pointerType=i.pointerType,u.pointerId=i.pointerId,u.isPrimary=i.isPrimary),u&&t.dispatchEvent?t.dispatchEvent(u):t.fireEvent("on"+u.type,u)}function o(t,i){var f,r,u;if(t.isFixed)return t;if(t.isFixed=!0,t.target||(t.target=t.srcElement),!t.relatedTarget&&t.fromElement&&(f=t.fromElement==t.target?t.toElement:t.fromElement,n.IsIE||(t.relatedTarget=f)),t.pageX==null&&t.clientX!=null&&(r=document.documentElement,u=document.body,t.pageX=t.clientX+(r&&r.scrollLeft||u&&u.scrollLeft||0)-(r.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||u&&u.scrollTop||0)-(r.clientTop||0)),!t.which&&typeof t.button=="number")switch(t.button){case 1:t.which=1;break;case 2:t.which=3;break;case 3:t.which=0;break;case 4:t.which=2}return t.sourceElement=i,t}function s(n){return["touchstart","touchmove","touchend"].indexOf(n.type)>-1}function h(t){return{X:n.calculateMouseX(t),Y:n.calculateMouseY(t)}}function c(t){var i=t.targetTouches,r=t.changedTouches;if(i)return i.length>0?i[0].pageX:r.length>0?r[0].pageX:Math.abs(t.layerX);if(/mouse|pointer|click|context/.test(t.type)){if((n.IEVer!=10||!window.pageXOffset)&&t.pageX)return t.pageX;if(t.clientX)return t.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft)}return null}function l(t){var i=t.targetTouches,r=t.changedTouches;if(i)return i.length>0?i[0].pageY:r.length>0?r[0].pageY:Math.abs(t.layerY);if(/mouse|pointer|click|context/.test(t.type)){if((n.IEVer!=10||!window.pageYOffset)&&t.pageY)return t.pageY;if(t.clientY)return t.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)}return null}function a(n){if(["mousemove","mouseenter","mouseleave","mouseover","mouseout","pointermove","pointerenter","pointerleave","pointerover","pointerout"].indexOf(n.type)){if(n.buttons&1)return 1;if(n.buttons&4)return 2;if(n.buttons&2)return 3}return n.button===0?1:n.button===1?2:n.button===2?3:n.which}function v(n,t){for(var i=t.relatedTarget;i&&i!=n;)i=i.parentNode;return i!=n}function y(n,t){for(var i=t.relatedTarget;i&&i!=n;)i=i.parentNode;return i!=n}function p(t,i){var r=n.calculateMouseCoords(i),u=n.calculateOffset(t);return r.X>=u.X&&r.X<=u.X+t.offsetWidth&&r.Y>=u.Y&&r.Y<=u.Y+t.offsetHeight?!0:!1}var i=function(){function t(n,t){this._alA=[],this._DomNode=n,this._bDV=this._bDW.bind(this);for(var i=0;i<t.length;i++)this.addEventListener(t[i])}return t.prototype.getDomNode=function(){return this._DomNode},t.prototype.getCaptureEvents=function(){return this._alA.slice(0)},t.prototype.addEventListener=function(n){this._alA.indexOf(n)>-1&&this.releaseEventListener(n),window.addEventListener(n,this._bDV,!0),this._alA.push(n)},t.prototype.releaseEventListener=function(n){var t=this._alA.indexOf(n);t>=0&&this._alA.splice(t,1),window.removeEventListener(n,this._bDV,!0)},t.prototype._bDW=function(t){var i=this.getDomNode();i&&!i.flag&&(i.flag=!0,n.DOMEvent&&n.DOMEvent.isFreeBubblingNeeded(t)&&(t.stopPropagation=n.DOMEvent.stopPropagation),n.fireEvent(i,t),t.stopPropagation(),delete i.flag)},t}(),t;n.EventsCapture=i,t={length:0,put:function(n){return this[this.length]=n,this.length++-1},get:function(n){return this[n]},removeAt:function(n){if(this[n]){this.length--;for(var t=n;t<this.length;t++)this[t]=this[t+1];this[this.length]=undefined}},indexOf:function(n){for(var r=n instanceof i?n.getDomNode():n,t=this.length;t--&&this[t].getDomNode()!==r;);return t}},n.Capture=["click","mousedown","mouseup","mousemove","mouseover","mouseout","pointerdown","pointerup","pointermove","pointerover","pointerout"],n.getCaptureNode=u,n.setCapture=f,n.releaseCapture=r,n.fireEvent=e,n.fixEvent=o,n.isTouchEvent=s,n.calculateMouseCoords=h,n.calculateMouseX=c,n.calculateMouseY=l,n.calculateMouseButton=a,n.reallyOut=v,n.reallyOver=y,n.isDownOn=p}(n||(n={})),function(n){var t;(function(t){var u=function(t){function u(){return t!==null&&t.apply(this,arguments)||this}return i(u,t),u.prototype._a8M=function(t,i){var r=this._ab0;r&&r.Source!==t?u.DragDrop.fire(t,{Source:r.Source,Target:t,Event:i.Event,Element:i.Element}):n.DOMEvent.current.removeEvent(t.getDomNode(),"pointermove",this._aQM,this)},u.prototype._bDX=function(n,t){var i=this._ab0;i&&i.Source!==n&&u.DragOver.fire(n,{Source:i.Source,Target:n,Event:t.Event,Element:t.Element})},u.prototype._bDY=function(n,t){var i=this._ab0;i&&i.Source!==n&&u.DragOut.fire(n,{Source:i.Source,Target:n,Event:t.Event,Element:t.Element})},u.prototype._bDZ=function(t,i){if(!n.getCaptureNode()&&n.calculateMouseButton(i.Event)===1){this._cpQ=n.calculateMouseCoords(i.Event);var r=t.getDomNode();n.DOMEvent.current.addEvent(r,"pointermove",{Handler:this._aQM,Sender:t},this)}},u.prototype._aQM=function(t,i){var o=n.calculateMouseCoords(i.Event),f=this._cpQ,e,r;(Math.abs(f.X-o.X)>=1||Math.abs(f.Y-o.Y)>=1)&&(n.DOMEvent.current.removeEvent(i.Element,"pointermove",this._aQM,this),e={Event:i.Event,Element:i.Element,MovingNode:i.Element,Cancel:!1},u.DragStart.fire(t,e),e.Cancel||(r=e.MovingNode,this._ab0={MovingNode:r,Source:t,IsCertainlyAppendDom:!1,OffsetX:f.X-parseInt(r.style.left),OffsetY:f.Y-parseInt(r.style.top),Height:r.offsetHeight,Width:r.offsetWidth},n.addClass(r,"PPCtrlDragNode"),n.isInDOM(r)||(document.body.appendChild(r),this._ab0.IsCertainlyAppendDom=!0),n.DOMEvent.current.addEvent(document,"pointerup",{Handler:this._a8N,Sender:t},this),n.DOMEvent.current.addEvent(document,"pointermove",{Handler:this._bD0,Sender:t},this)))},u.prototype._bD0=function(t,i){var r=this._ab0.MovingNode,f,e,o;r&&(f=n.calculateMouseCoords(i.Event),e=this._ab0,r.style.top=f.Y-e.OffsetY+"px",r.style.left=f.X-e.OffsetX+"px",o={Data:this._ab0,Event:i.Event,Element:i.Element},u.DragMove.fire(t,o))},u.prototype._a8N=function(t,i){var r=this._ab0,f;n.DOMEvent.current.removeEvent(document,"pointerup",this._a8N,this),n.DOMEvent.current.removeEvent(document,"pointermove",this._bD0,this),f={Data:r,Event:i.Event,Element:i.Element},u.DragEnd.fire(t,f),r&&(r.IsCertainlyAppendDom&&document.body.removeChild(r.MovingNode),n.removeClass(r.MovingNode,"PPCtrlDragNode")),this._ab0=null},u.prototype.setData=function(n,t){n||(n=this.getHashCode()),this._aQN||(this._aQN={}),this._aQN[n]=t},u.prototype.getData=function(n){return(n||(n=this.getHashCode()),this._aQN)?this._aQN[n]:undefined},u.setData=function(n){var t=r.instance,i=arguments[0];arguments.length===1?t.setData(undefined,n):t.setData(i,n)},u.getData=function(n){return r.instance.getData(n)},u.doDrag=function(t){var i=r.instance,u;r.pushControl(t,"drag")&&(u=t.getDomNode(),n.DOMEvent.current.addEvent(u,"pointerdown",{Handler:i._bDZ,Sender:t},i),n.DOMEvent.current.addEvent(u,"pointerup",{Handler:i._a8M,Sender:t},i))},u.doDrop=function(t){var i=r.instance,u;r.pushControl(t,"drop")&&(u=t.getDomNode(),n.DOMEvent.current.addEvent(u,"pointerover",{Handler:i._bDX,Sender:t},i),n.DOMEvent.current.addEvent(u,"pointerout",{Handler:i._bDY,Sender:t},i),n.DOMEvent.current.addEvent(u,"pointerup",{Handler:i._a8M,Sender:t},i))},u.unDrag=function(t){var i=r.instance,f=r.popControl(t,"drag"),u;f&&(u=f.getDomNode(),n.DOMEvent.current.removeEvent(u,"pointerdown",i._bDZ,t),n.DOMEvent.current.removeEvent(u,"pointermove",i._aQM,t),n.DOMEvent.current.removeEvent(document,"pointerup",i._a8N,t))},u.unDrop=function(t){var u=r.instance,f=r.popControl(t,"drop"),i;f&&(i=f.getDomNode(),n.DOMEvent.current.removeEvent(i,"pointerover",u._bDX,t),n.DOMEvent.current.removeEvent(i,"pointerout",u._bDY,t),n.DOMEvent.current.removeEvent(i,"pointerup",u._a8M,t))},u}(n.Object),r;u.DragStart=new n.Delegate,u.DragMove=new n.Delegate,u.DragEnd=new n.Delegate,u.DragOut=new n.Delegate,u.DragOver=new n.Delegate,u.DragDrop=new n.Delegate,t.DragDrop=u,r=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),Object.defineProperty(t,"instance",{get:function(){return this._kR||(this._kR=new t),this._kR},enumerable:!0,configurable:!0}),t.getControls=function(n){return this._aq||(this._aq={}),this._aq[n]||(this._aq[n]=[]),this._aq[n]},t.pushControl=function(n,t){var i=this.getControls(t);return i.indexOf(n)<0?(i.push(n),!0):!1},t.popControl=function(n,t){var i=this.getControls(t),r=i.indexOf(n);return r<0?null:i.splice(r,1)[0]},t}(u)})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t=function(t){function r(n,i,r,u){var f=t.call(this,n,i,r)||this;return f._NativeEvent=null,f._HandleName=null,f._ParentControl=null,f._IsTouchDisabled=!1,u&&f._initFields(u),f}return i(r,t),r.prototype._initFields=function(n){var i,t,r;n=n||{};for(i in n)t=i,t.indexOf("@")==1&&(t=t.slice(0,1)),r="_"+t,this.hasOwnProperty(r)&&(this[r]=n[i])},r.prototype.add=function(i,r,u){var f=this._ParentControl,s=-1,e,o;return this._NativeEvent&&this._HandleName&&f&&(s=t.prototype.add.call(this,i,r,u),f.getIsBinded()&&(e=f.getDomNode(),n.isFunction(f[this._HandleName])&&(o=f[this._HandleName]),n.domEvent&&e&&o&&!(n.isTouch&&this._IsTouchDisabled)&&n.domEvent.addEvent(e,this._NativeEvent,o,f))),s},r.prototype.dispose=function(){delete this._ParentControl,t.prototype.dispose.call(this),console.assert(!!this.fire,"fire not found")},r}(n.Delegate);n.NativeDelegate=t}(n||(n={})),function(n){n.MIN_SAFE_INTEGER=-9007199254740991,n.MAX_SAFE_INTEGER=9007199254740991;var t=function(){function t(){}return Object.defineProperty(t,"MAX_VALUE",{get:function(){return window.Number.MAX_VALUE},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MIN_VALUE",{get:function(){return window.Number.MIN_VALUE},enumerable:!0,configurable:!0}),t.create=function(i){var r,u;if(n.isNumber(i)&&(r=i),n.isString(i)&&(r=+i),i instanceof t&&(i=i.getBuffer()),n.Array.isArray(i))if(u=n.Array.toArray(i),u.length===1)r=u[0];else return new n.Number64(u);return this.isSafeIntegerValue(r)?new n.Number32(r):new n.Number64(r)},t.isSafeIntegerValue=function(t){return t>=n.MIN_SAFE_INTEGER&&t<=n.MAX_SAFE_INTEGER},t.toNumber=function(n){return n instanceof t?n.toNumber():n},t.clone=function(n){return t.create(n)},t}();n.Number=t}(n||(n={})),function(n){var t,i;(function(n){n[n.pm=0]="pm",n[n.am=1]="am"})(t=n.TimeFlag||(n.TimeFlag={})),i=function(){function i(){this.CultureName="en",this.DisplayName="English",this.DayNames=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],this.ShortDayNames=["mo","tu","we","th","fr","sa","su"],this.MonthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.ShortMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.QuarterNames=["I quarter","II quarter","III quarter","IV quarter"],this.HalfYearNames=["I half-year","II half-year"],this.IsSundayFirst=!1,this.DateSeparator=".",this.DateOrder="dmy",this.TimeAmPm=["PM","AM"],this.Hour24Mode=!0,this.TimeSeparator=":",this.WEEKMS=6048e5,this.DecimalSeparator=".",this.GroupSeparator="",this.IsRTL=!1,this.LCID=1033,this.Currency="$",this._TimeZoneoffset=0}return i.prototype.getDaysInMonth=function(n,t){return 32-new window.Date(t,n,32,12).getDate()},i.prototype.to12hMode=function(n){if(n=parseInt(n,10),n=n%24,n==0)return{Hour:12,AmFlag:t.am};var i=n<12?t.am:t.pm;return(i||(n-=12),n==0)?{Hour:12,AmFlag:t.pm}:{Hour:n,AmFlag:i}},i.prototype.to24hMode=function(n,t){if(n<1||n>12)throw"Invalid hour range";return n==12?t?0:12:t?n:n+12},i.prototype.getWeekNumber=function(n){for(var t=new window.Date(n.getFullYear(),0,1,12,0,0,0),r=new window.Date(n.getFullYear(),n.getMonth(),n.getDate(),12,0,0,0),i=-1;t<=r;)i++,t.setDate(t.getDate()+7);return i},i.prototype.getFirstWeekDate=function(n,t){if(typeof n=="undefined"||n==null||typeof t=="undefined"||t==null)throw new Error("incorrect input arguments");var i=new window.Date(t,0,1,12,0,0,0);return i.setDate(n*7+1),i},i.prototype.getLastWeekDate=function(n,t){if(typeof n=="undefined"||n==null||typeof t=="undefined"||t==null)throw new Error("incorrect input arguments");var i=new window.Date(t,0,1,12,0,0,0);return i.setDate(n*7+7),i.setHours(23,59,0,0),i},i.prototype.dateToStr=function(n,t,i){var e,r,h,o,c,s,u,f,l;if(t=t==!0,i=i==!0,i&&t)return"";for(e={},r=n.getDate()+"",r.length<2&&(r="0"+r),e.d=r,r=n.getMonth()+1+"",r.length<2&&(r="0"+r),e.m=r,e.y=n.getFullYear()+"",h=[],o=0;o<3;o++)h[o]=e[this.DateOrder.substr(o,1)];return(c=h.join(this.DateSeparator),t)?c:(s="",u=n.getMinutes()+"",u.length<2&&(u="0"+u),f=n.getSeconds()+"",f.length<2&&(f="0"+f),this.Hour24Mode?s=n.getHours()+this.TimeSeparator+u+this.TimeSeparator+f:(l=this.to12hMode(n.getHours()),s=l[0]+this.TimeSeparator+u+this.TimeSeparator+f+" "+this.TimeAmPm[l[1]?0:1]),i?s:c+" "+s)},i.prototype.getTimezoneOffset=function(){return this._TimeZoneoffset||(this._TimeZoneoffset=(new window.Date).getTimezoneOffset()*6e4),this._TimeZoneoffset},i.prototype.validateNumber=function(t,i,r,u,f){var c=!1,e=t.value,h,l,a,v;if(n.isNumber(e))return t.numberValue=+e,!0;if(typeof e!="string")throw new Error("incorrect input arguments. Type of argument ValObj.value must be string");if(e.length<=1&&isNaN(parseInt(e)))return!1;var o=typeof i=="undefined"?this.GroupSeparator:i,s=typeof r=="undefined"?this.DecimalSeparator:r,y=typeof u=="undefined"?null:u;return o!=""&&this._bD1(o)&&(o="\\"+o),this._bD1(s)&&(s="\\"+s),o=o.split(" ").join("\\s"),s=s.split(" ").join("\\s"),h=o==""?"^[+-]?\\d*(DECIMAL\\d*)?$":f?"^[+-]?\\d*(GROUP\\d*)*(DECIMAL\\d*)?$":"^[+-]?\\d{1,3}(GROUP\\d{3})*(DECIMAL\\d*)?$",h=h.replace("GROUP",o).replace("DECIMAL",s),l=new RegExp(h),l.test(e)&&(o!=""&&(a=new RegExp(o+"(?=\\d)","img"),e=e.replace(a,"")),v=new RegExp(s,"img"),e=e.replace(v,"."),t.stringValue=e,t.numberValue=y==0?parseInt(e,10):parseFloat(e),c=!0),c},i.prototype.numberToFormattedString=function(t,i,r,u){var l;if(typeof t!="number")return null;var p=typeof r=="undefined"?this.DecimalSeparator:r,a=typeof i=="undefined"?this.GroupSeparator:i,e=typeof u=="undefined"?null:u,v=t+"";v.indexOf("e-")!==-1&&e!=null&&(v=t.toFixed(e));var h=v.split("."),y=t<0?h[0].substring(1):h[0],f=h[1]?h[1]:"",c="";if(c=a!==""?this._bD2(y,a):y,e!=null)if(e==0)f="";else{if(e<=f.length){var w=Math.pow(10,e),k=n.Number.create("0."+f).toNumber(),o=Math.round(k*w)/w,b=+y,s;Math.floor(o)>0&&(b+=Math.floor(o),c=this._bD2(b.toString(),a)),s=o.toString().indexOf("e-")!==-1?o.toFixed(e):o.toString(),f=s.indexOf(".")>0?s.substr(s.indexOf(".")+1):""}while(f.length<e)f+="0";f=p+f}else f!=""&&(f=p+f);return l=c+f,t<0&&(l="-"+l),l},i.prototype._bD1=function(n){return".()[]^$|?+".indexOf(n)>=0&&n!==""},i.prototype._bD2=function(n,t){for(var r=n.length-1,u=0,i="";r>=0;)i=n.charAt(r)+i,u==2&&r!=0?(i=t+i,u=0):u++,r--;return i},i}(),n.CultureInfo=i}(n||(n={})),function(n){var t=function(){function t(){this._aCH=n.ResourcePath,this._aQO={},this._u4=[],this._yg={},this._yh={},this.ResourcesLoaded=new n.Delegate,this.ResourceFileLoaded=new n.Delegate,this._aCH&&this.attachResourceFiles()}return t.prototype.getLocale=function(t){if(t instanceof n.CultureInfo)return t.CultureName;if(t)return t;var i=n.getCurrentCulture();return i?i.CultureName:"en"},t.prototype.getRootResourcesFolder=function(){return this._aCH||n.ResourcePath},t.prototype.setRootResourcesFolder=function(n,t,i){if(this._aCH!==n&&(this._aCH=n,this._aCH&&t)){var r=this.getLocale(i);this.isResourceFilesAttached(r)&&this.detachResourceFiles(r),this.attachResourceFiles()}},t.prototype.getString=function(n,t,i){var f=this.getLocale(i),u,r;if(this._yh[f]&&(u=this._yh[f],u))if(t){if(r=u[n],r)return r[t]||"";if(!r&&(r=u[t],r))return r[n]||""}else return u[n]||"";return""},t.prototype.setString=function(t,i,r,u){var h=this.getLocale(u),o,e,c,s,f;if(this._yh[h]||(this._yh[h]={}),o=this._yh[h],o[i]||(o[i]={}),e=r?o[i]:o,r)if(n.Array.isArray(r))for(c=r,f=0;f<c.length;f++)e[c[f]]=t;else e[r]=t;else e[i]=t;if(s=this._yg[i],n.Array.isArray(s))for(f=0;f<s.length;f++)s[f].setSettings(e)},t.prototype.setStrings=function(n){for(var t=0,i=n.length;t<i;t++)this.setString(n[t][0],n[t][3],n[t][2],n[t][1])},t.prototype.setResourceObject=function(n,t){var i,r;for(i in n)r=i.split("_",2),this.setString(n[i],r[0],r[1],t)},t.prototype.isResourceFileAttached=function(n,t){var r,i;if(!n)return!1;for(r=document.scripts,i=0;i<r.length;i++)if(r[i].src.indexOf(this._bD3(n,this.getLocale(t)))>=0)return!0;return!1},t.prototype.isResourceFilesAttached=function(n){for(var t=this._u4.length,i=this.getLocale(n);t--;)if(!this.isResourceFileAttached(this._u4[t],i))break;return t<0},t.prototype.attachResourceFiles=function(n){this._cpR(n)},t.prototype.attachResourceFile=function(n,t){this.addToResourceList([n],!0,t)},t.prototype.detachResourceFiles=function(n){for(var u=this.getLocale(n),r,t=0,i=this._u4.length;t<i;t++)r=this._u4[t],this.detachResourceFile(r,u)},t.prototype.detachResourceFile=function(n,t){var r=this.getLocale(t),u=document.getElementsByTagName("head")[0],i;n&&(i=document.getElementById(this._atl(n,r))),i&&u.removeChild(i),delete this._yh[r]},t.prototype.isControlRegistered=function(n){var t=this._yg[n.getResourceKey()];return t?t.indexOf(n)>=0:!1},t.prototype.registerControl=function(n){var t=n.getResourceKey(),u=this.getLocale(),r=this._yh[u],i;(this._yg[t]||(this._yg[t]=[]),this._yg[t].indexOf(n)>=0)||(this._yg[t].push(n),r&&(i=r[t],i&&n.setSettings(i)))},t.prototype.unRegisterControl=function(t){var i=this._yg[t.getResourceKey()]||[];n.Array.removeItem(i,t),i.length==0&&delete this._yg[t.getResourceKey()]},t.prototype.refreshControls=function(){var e=this.getLocale(),t,i,n,r,u,f;for(t in this._yg)for(i=this._yg[t],n=0;n<i.length;n++)r=i[n],r&&(u=this._yh[e],u&&(f=u[t],f&&r.setSettings(f)))},t.prototype.setResourceList=function(n){this._u4=n},t.prototype.addToResourceList=function(n,t,i){for(var u=this.getLocale(i),r=0,f=n.length;r<f;r++)this._aQO[this._atl(n[r],u)]!=!0&&(this._u4.indexOf(n[r])===-1&&this._u4.push(n[r]),t&&this._bD4(n[r],u))},t.prototype._jV=function(){var i=this.getLocale();this._yh[i]||(this._yh[i]={}),this.ResourcesLoaded.fire(this,{})},t.prototype._cpS=function(n,t){var i=this.getLocale(t.Args.Culture),r=this._atl(t.Args.Res,i);this._aQO[r]=!0,this.ResourceFileLoaded.fire(this,{Name:t.Args.Res,Culture:t.Args.Culture}),this._cpT(i)&&this._jV(n,t)},t.prototype._cpU=function(){},t.prototype._cpV=function(n,t){var i=t.Node,r=t.Args.ResourceName,u=t.Args.Culture;i.src===this._bD5(r,u)&&(i.id=this._atl(r,u))},t.prototype._cpT=function(n){for(var r=this.getLocale(n),t=0,i=this._u4.length;t<i;t++)if(!this._aQO[this._atl(this._u4[t],r)])return!1;return!0},t.prototype._cpR=function(n){for(var t=0,i=this._u4.length;t<i;t++)this._bD4(this._u4[t],n)},t.prototype._bD4=function(t,i){if(!this.getRootResourcesFolder())throw new n.ArgumentException(this,"ResourceManager: not set RootResourcesFolder");this._aQO[this._atl(t,this.getLocale(i))]||(n.scriptManager.ScriptLoading.addOne(this._cpV,this,{ResourceName:t,Culture:i}),n.scriptManager.loadScript(this._bD5(t,this.getLocale(i)),new n.Delegate(this._cpS,this,{Res:t,Culture:i}),new n.Delegate(this._cpU,this,{Res:t,Culture:i})))},t.prototype._bD3=function(n,t){return n+".resources."+t+".js"},t.prototype._bD5=function(n,t){var i=this.getRootResourcesFolder(),r=i[i.length-1];return r!=="\\"&&r!=="/"&&(i+="/"),i+this._bD3(n,t)},t.prototype._atl=function(n,t){return n+"."+t},t}();n.ResourceManager=t,n.resourceManager=new t}(n||(n={})),function(n){function p(){return v.getCurrentCulture()}function w(n){v.setCurrentCulture(n)}var i,r,t,y,u,f,e,o,s,h,c,l,a,v;n.CultureNames={ru:"ru",en:"en",ar:"ar",ae:"ar-AE",zh:"zh-CN",uk:"uk",fr:"fr",pt:"pt",it:"it",es:"es",de:"de",kk:"kk",az:"az"},i=new n.CultureInfo,i.CultureName=n.CultureNames.en,i.DisplayName="English",i.DayNames=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],i.ShortDayNames=["mo","tu","we","th","fr","sa","su"],i.MonthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],i.ShortMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i.QuarterNames=["I quarter","II quarter","III quarter","IV quarter"],i.HalfYearNames=["I half-year","II half-year"],i.DateSeparator="/",i.DateOrder="mdy",i.DecimalSeparator=".",i.GroupSeparator=",",i.IsRTL=!1,i.LCID=1033,i.Currency="$",r=new n.CultureInfo,r.CultureName=n.CultureNames.ru,r.DisplayName="Русский",r.DayNames=["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],r.ShortDayNames=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],r.MonthNames=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],r.ShortMonthNames=["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],r.QuarterNames=["I квартал","II квартал","III квартал","IV квартал"],r.HalfYearNames=["I полугодие","II полугодие"],r.DateSeparator=".",r.DateOrder="dmy",r.DecimalSeparator=",",r.GroupSeparator=" ",r.IsRTL=!1,r.LCID=1049,r.Currency="р.",t=new n.CultureInfo,t.CultureName=n.CultureNames.ar,t.DisplayName="العربية",t.DayNames=["الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"],t.ShortDayNames=["اث","ثل","أر","خم","جم","سب","حد"],t.MonthNames=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],t.ShortMonthNames=["ينا","فبر","مار","أبر","ماي","يون","يول","أغس","سبت","أكت","نوف","ديس"],t.QuarterNames=["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"],t.HalfYearNames=["نصف السنة الأول","نصف السنة الثاني"],t.DateSeparator="/",t.DateOrder="dmy",t.DecimalSeparator=".",t.GroupSeparator=",",t.IsRTL=!0,t.LCID=1025,t.Currency="ر.س.‏",y=new n.CultureInfo,n.extend(y,t,!0,!0,!0),y.CultureName=n.CultureNames.ae,y.LCID=14337,u=new n.CultureInfo,u.CultureName=n.CultureNames.zh,u.DisplayName="中文",u.DayNames=["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],u.ShortDayNames=["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],u.MonthNames=["1 月"," 2 月 "," 3 月 "," 4 月 "," 5 月 "," 6 月 "," 7 月 "," 8 月 "," 9 月 "," 10 月 "," 11 月 "," 12 月 "],u.ShortMonthNames=["1 月 ","2 月","3 月","4 月","5 月","6 月","7 月","8 月","9 月","10 月","11 月","12 月"],u.QuarterNames=["Ⅰ季度"," Ⅱ季度"," Ⅲ季度"," Ⅳ季度"],u.HalfYearNames=["上半年","下半年"],u.DateSeparator="/",u.DateOrder="mdy",u.DecimalSeparator=".",u.GroupSeparator=",",u.IsRTL=!1,u.LCID=2052,u.Currency="CNY",f=new n.CultureInfo,f.CultureName=n.CultureNames.uk,f.DisplayName="Українська",f.DayNames=["Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота","Неділя"],f.ShortDayNames=["П","В","С","Ч","П","С","Н"],f.MonthNames=["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],f.ShortMonthNames=["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лист","Гру"],f.QuarterNames=["I квартал","II квартал","III квартал","IV квартал"],f.HalfYearNames=["I півріччя ","II півріччя "],f.DateSeparator=".",f.DateOrder="dmy",f.DecimalSeparator=",",f.GroupSeparator=" ",f.IsRTL=!1,f.LCID=1058,f.Currency="₴",e=new n.CultureInfo,e.CultureName=n.CultureNames.fr,e.DisplayName="French",e.DayNames=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],e.ShortDayNames=["lu","ma","me","je","ve","sa","di"],e.MonthNames=["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],e.ShortMonthNames=["Jan","Fév","Mar","Avr","Mai","Jui","Jul","Aou","Sep","Oct","Nov","Déc"],e.QuarterNames=["I trimestre","II trimestre","III trimestre","IV trimestre"],e.HalfYearNames=["I semestre","II semestre"],e.DateSeparator="/",e.DateOrder="mdy",e.DecimalSeparator=",",e.GroupSeparator=" ",e.IsRTL=!1,e.LCID=1036,e.Currency="€",o=new n.CultureInfo,o.CultureName=n.CultureNames.pt,o.DisplayName="Portugues",o.DayNames=["Segunda-feira","Terca-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sabado","Domingo"],o.ShortDayNames=["S","T","Q","Q","S","S","D"],o.MonthNames=["Janeiro","Fevereiro","Marco","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],o.ShortMonthNames=["Jan","Fev","Mar","Abr","Maio","Jun","Jul","Agos","Set","Out","Nov","Dez"],o.QuarterNames=["Iº trimestre","IIº trimestre","IIIº trimestre","IVº trimestre"],o.HalfYearNames=["Iº semestre ","IIº semestre"],o.DateSeparator="/",o.DateOrder="dmy",o.DecimalSeparator=",",o.GroupSeparator=".",o.IsRTL=!1,o.LCID=2070,o.Currency="€",s=new n.CultureInfo,s.CultureName=n.CultureNames.it,s.DisplayName="Italiano",s.DayNames=["Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica"],s.ShortDayNames=["lun","mar","mer","gio","ven","sab","dom"],s.MonthNames=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],s.ShortMonthNames=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],s.QuarterNames=["I trimestre"," II trimestre"," III trimestre"," IV trimestre"],s.HalfYearNames=["I semestre"," II semestre"],s.DateSeparator="/",s.DateOrder="dmy",s.DecimalSeparator=",",s.GroupSeparator=".",s.IsRTL=!1,s.LCID=1040,s.Currency="€",h=new n.CultureInfo,h.CultureName=n.CultureNames.es,h.DisplayName="Español",h.DayNames=["lunes","martes","miércoles","jueves","viernes","sábado","domingo"],h.ShortDayNames=["lu.","ma.","mi.","ju.","vi.","sá.","do."],h.MonthNames=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],h.ShortMonthNames=["en.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic."],h.QuarterNames=["I trimestre"," II trimestre"," III trimestre"," IV trimestre"],h.HalfYearNames=["I semestre"," II semestre"],h.DateSeparator="/",h.DateOrder="dmy",h.DecimalSeparator=",",h.GroupSeparator=".",h.IsRTL=!1,h.LCID=1034,h.Currency="€",c=new n.CultureInfo,c.CultureName=n.CultureNames.de,c.DisplayName="Deutsch",c.DayNames=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],c.ShortDayNames=["Mo","Di","Mi","Do","Fr","Sa","So"],c.MonthNames=["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],c.ShortMonthNames=["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],c.QuarterNames=["I. Quartal","II. Quartal","III. Quartal","IV. Quartal"],c.HalfYearNames=["I. Halbjahr","II. Halbjahr"],c.DateSeparator=".",c.DateOrder="dmy",c.DecimalSeparator=",",c.GroupSeparator=".",c.IsRTL=!1,c.LCID=1031,c.Currency="€",l=new n.CultureInfo,l.CultureName=n.CultureNames.kk,l.DisplayName="Қазақ",l.DayNames=["Дүйсенбі","Сейсенбі","Сәрсенбі","Бейсенбі","Жұма","Сенбі","Жексенбі"],l.ShortDayNames=["Дс","Сс","Ср","Бс","Жм","Сн","Жс"],l.MonthNames=["Қаңтар","Ақпан","Наурыз","Сәуір","Мамыр","Маусым","Шілде","Тамыз","Қыркүйек","Қазан","Қараша","Желтоқсан"],l.ShortMonthNames=["Қаңт","Ақп","Наур","Сәу","Мам","Маус","Шілд","Там","Қырк","Қаз","Қар","Желт"],l.QuarterNames=["I тоқсан","II тоқсан","III тоқсан","IV тоқсан"],l.HalfYearNames=["I жартыжылдық","II жартыжылдық"],l.DateSeparator="/",l.DateOrder="mdy",l.DecimalSeparator=".",l.GroupSeparator=",",l.IsRTL=!1,l.LCID=1087,l.Currency="Т",a=new n.CultureInfo,a.CultureName=n.CultureNames.az,a.DisplayName="Azeri",a.DayNames=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],a.ShortDayNames=["mo","tu","we","th","fr","sa","su"],a.MonthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],a.ShortMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a.QuarterNames=["I First","II Second","III Third","IV Fourth"],a.HalfYearNames=["I First","II Second"],a.DateSeparator="/",a.DateOrder="mdy",a.DecimalSeparator=".",a.GroupSeparator=",",a.IsRTL=!1,a.LCID=1068,a.Currency="man.",n.Cultures={ru:r,en:i,de:c,zh_CN:u,ar:t,ar_AE:y,uk:f,fr:e,pt:o,it:s,es:h,kk:l,az:a},v=function(){function t(){}return t.getCurrentCulture=function(){if(!t._aQP){var i=n.Cultures.en;t._aQP=i}return t._aQP},t.setCurrentCulture=function(i){var r=!t._aQP,u=n.getCurrentCulture();(r||i instanceof n.CultureInfo&&u!==i)&&(t._aQP=i,t.CultureChanging.fire(this,new n.EventArgs),n.resourceManager.isResourceFilesAttached(i)?(n.resourceManager.refreshControls(),t.CultureChanged.fire(this,new n.EventArgs)):(n.resourceManager.ResourcesLoaded.addOne(t._jV,this),n.resourceManager.attachResourceFiles(i)))},t.isResourceLoaded=function(t,i){return n.resourceManager.isResourceFileAttached(t,i)},t.isResourceGroupLoaded=function(t){return n.resourceManager.isResourceFilesAttached(t)},t.getCulture=function(t){return n.Cultures[t.replace("-","_")]},t._jV=function(){t.CultureChanged.fire(this,new n.EventArgs),n.resourceManager.ResourcesLoaded.remove(t._jV,this)},t}(),v.CultureChanging=new n.Delegate,v.CultureChanged=new n.Delegate,n.Globalization=v,n.getCurrentCulture=p,n.setCurrentCulture=w,n.cultureChanging=v.CultureChanging,n.cultureChanged=v.CultureChanged}(n||(n={})),function(n){var t=function(){function t(){}return t.registerPlugin=function(t){var i=t,r;return(arguments.length>1||n.isString(arguments[0]))&&(i={Name:arguments[0],Path:arguments[1],Css:arguments[2]}),r=this.getLoader(i.Name),r||(r=new u(i)),this._oj[i.Name]=r,i.Loaded&&this.loadPlugin(i.Name),r},t.unRegisterPlugin=function(t,i){var r=this._oj[t],f=!1,u;r&&(f=r.isLoaded(),u=r.getPath(),r.dispose&&r.dispose()),i&&u&&f&&n.scriptManager.removeScript(u),delete this._oj[t]},t.loadPlugin=function(n,t){var e=this,r=this._oj[n],u=!1,f,i;for(f in this._oj)i=this._oj[f],i!==r&&i.isLoading()&&(u=!0,i.load().then(function(){return e.loadPlugin(n,t)}));return r&&!u?r.load(t):null},t.getPlugins=function(){var t=[],i,n;for(i in this._oj)n=this._oj[i],n.isLoaded()&&t.push(n.getPlugin());return t},t.getPlugin=function(n){var i=this._oj[n],t;return i?(t=i.getPlugin(),t&&t.getInstance?t.getInstance():t):null},t.getLoader=function(n){return this._oj[n]},t.isLoaded=function(n){var t=this._oj[n];return t?t.isLoaded():!1},t.isPluginAvailable=function(n){return!!this._oj[n]},t.getRegisterNames=function(){var n=[],t;for(t in this._oj)n.push(this._oj[t].getName());return n},t}(),r,u;t._oj={},t=f([at],t),n.PluginManager=t,r=function(n){function t(t){return n.call(this,t)||this}return i(t,n),t.prototype.getInstance=function(){return this._Instance},t.prototype.ready=function(){return!0},t}(n.Object),u=function(t){function u(n){return t.call(this,n)||this}return i(u,t),u.prototype._e=function(){t.prototype._e.call(this),this._Name="",this._Loaded=!1,this._Type="",this._ye=!1},u.prototype._initFields=function(i){var o,s,u,f;this._cpW=i,i=i||{Name:""};var h=i.Name,r=i.Path||"",c=r,e=i.Css;if(r&&(r[r.length-1]=="/"||r[r.length-1]=="\\")&&(c=r+h+".js",n.isDefined(e)||(e=r+h+".css")),this._Path=c,this._Css=e,i.Params)for(o={},s=n.toArray(i.Params.Param),u=0;u<s.length;u++)f=s[u],f&&(o[f.Name]=f.Value);this._Params=o,delete i.Path,delete i.Css,delete i.Params,t.prototype._initFields.call(this,i)},u.prototype._atm=function(){this._cpX()&&(this._ye=!1,this._Loaded=!0,this._jf&&this._jf(this._aQQ))},u.prototype._aQR=function(){this._ye=!1,this._Loaded=!1,this._lF&&this._lF()},u.prototype._cpX=function(){var i,u=this._Name,t;if(this._Type&&(i=n.getProperty(window,this._Type)),i||(i=n.getTypeByName(u)||n.getProperty(window,u)),i&&!this._aQQ){t=void 0;try{t=i.init?i.init(this._Params):new i(this._Params)}catch(f){}if(t&&(!n.isObject(t)||t.getInstance||t instanceof n.Object)||(t=new r(t)),this._aQQ=t,t.ready)return t.ready(this._atm,this._aQR)}return!0},u.prototype.getName=function(){return this._Name},u.prototype.getPath=function(){return this._Path},u.prototype.getCss=function(){return this._Css},u.prototype.getPlugin=function(){return this._aQQ},u.prototype.isLoaded=function(){return this._Loaded},u.prototype.isLoading=function(){return this._ye},u.prototype.getSettings=function(){return this._cpW},u.prototype.load=function(t){var r=this,i,u,f;return this._ye?this._aQS:(i=new n.Delegate(this._atm,this),i.add(t),u=n.getTypeByName(this._Type||this._Name)||n.getProperty(window,this._Type||this._Name),u)?(n.Delegate.fire(i,this),this._aQS?this._aQS:Promise.resolve(this._aQQ)):(this._aQS=new Promise(function(n,t){r._jf=n,r._lF=t}),this._ye=!0,f=n.scriptManager.loadScript(this._Path,i,new n.Delegate(this._aQR,this)),this._Css&&n.scriptManager.loadStyle(this._Css),this._aQS)},u}(n.Object)}(n||(n={})),function(n){function r(r,u){var v,l,o,s;if(!r||!u||u._Type!==n.Entity.Interface||!n.isPPInstance(r))return!1;var h=i,y=r.getTypeName(),c=y+"."+u._Name,a=h[c],f=!1;if(a!=undefined)return a;for(v=e(r),v.indexOf(u)==-1&&(f=!0),l=f?[]:t(u,!0),s=0;s<l.length&&!f;s++){o=l[s];switch(o.Type){case n.ClassMembers.Property:n.isFunction(r["get"+o.Name])||(f=!0);break;case n.ClassMembers.Method:n.isFunction(r[o.Name])||(f=!0);break;case n.ClassMembers.Event:r[o.Name]instanceof n.Delegate||(f=!0)}}return h[c]=!f,h[c+".Member"]=o,!f}function u(t,r){var u;if(t){if(t&&r?r._Type!==n.Entity.Interface?u=new n.ArgumentException(t):n.isPPInstance(t)||(u=new n.Exception("This object is not implemented "+r._Name+"")):u=new n.ArgumentNullException("obj or inter"),u)throw u;var e=n.isInterfaceOf(t,r),s=i,o=t.getTypeName(),h=o+"."+r._Name,f=s[h+".Member"];if(!e&&f)throw new n.Exception(o+" is not implemented "+r._Name+(f.Name?".Member - "+f.Name:""));return e}}function f(t){for(var r=[],i=t;!!i;)n.Array.isArray(i)?r=r.concat(i):r.push(i),i=i._aCD;return r}function t(i,r){var o;r=r!==!1;for(var u=-1,e=[],f=window.Object.keys(i);++u<f.length;)f[u]!="prototype"&&f[u][0]!="_"&&e.push({Name:f[u],Type:i[f[u]]});if(r&&i._aCD)for(o=n.Array.isArray(i._aCD)?i._aCD:[i._aCD],u=0;u<o.length;u++)e=e.concat(t(o[u],r));return e}function e(t){var r=[],i,e,u;if(!t||!n.isPPInstance(t))return r;for(i=t.constructor;!!i;){for(e=i._Interfaces||[],u=0;u<e.length;u++)r=r.concat(f(e[u]));i=i.base&&i.base.constructor}return r}n.isInterfaceOf=r,n.checkInterface=u;var i={}}(n||(n={})),function(n){var t;(function(n){n[n.Milli=0]="Milli",n[n.Second=1]="Second",n[n.Minute=2]="Minute",n[n.Hour=3]="Hour",n[n.Day=4]="Day",n[n.Month=5]="Month",n[n.Year=6]="Year"})(t=n.DateInterval||(n.DateInterval={})),n.DatePattern={Default:"Y-m-d\\TH:i:s.uP",ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:sP",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},n.Date={now:function(){return window.Date.now()},add:function(i,r,u){var f=this.clone(i),e;if(!n.isDefined(r)||u===0)return f;switch(r){case t.Milli:f.setMilliseconds(f.getMilliseconds()+u);break;case t.Second:f.setSeconds(f.getSeconds()+u);break;case t.Minute:f.setMinutes(f.getMinutes()+u);break;case t.Hour:f.setHours(f.getHours()+u);break;case t.Day:f.setDate(f.getDate()+u);break;case t.Month:e=i.getDate(),e>28&&(e=Math.min(e,this.getLastDateOfMonth(this.add(this.getFirstDateOfMonth(i),t.Month,u)).getDate())),f.setDate(e),f.setMonth(i.getMonth()+u);break;case t.Year:e=i.getDate(),e>28&&(e=Math.min(e,this.getLastDateOfMonth(this.add(this.getFirstDateOfMonth(i),t.Year,u)).getDate())),f.setDate(e),f.setFullYear(i.getFullYear()+u)}return f},clone:function(n){return new window.Date(n.getTime())},getFirstDateOfMonth:function(n){return new window.Date(n.getFullYear(),n.getMonth(),1)},getLastDateOfMonth:function(n){return new window.Date(n.getFullYear(),n.getMonth(),this.getDaysInMonth(n))},getDaysInMonth:function(n){var t=[31,28,31,30,31,30,31,31,30,31,30,31],i=n.getMonth();return i==1&&this.isLeapYear(n)?29:t[n.getMonth()]},isLeapYear:function(n){var t=n.getFullYear();return t%4==0&&t%100!=0||t%400==0},getDayOfYear:function(n){var r=0,t=this.clone(n),u=n.getMonth(),i;for(t.setDate(1),t.setMonth(0),i=0;i<u;i++)t.setMonth(i),r+=this.getDaysInMonth(t);return r+n.getDate()-1},getWeekOfYear:function(n){var t=864e5,i=7*t,u=window.Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()+3)/t,r=Math.floor(u/7),f=new window.Date(r*i).getUTCFullYear();return r-Math.floor(window.Date.UTC(f,0,7)/i)+1},getGMTOffset:function(t,i){var r=t.getTimezoneOffset();return(r>0?"-":"+")+n.String.leftPad(Math.floor(Math.abs(r)/60).toString(),2,"0")+(i?":":"")+n.String.leftPad(Math.abs(r%60).toString(),2,"0")},getTimezone:function(n){return n.toLocaleString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},format:function(t,i,r){var f,u,e,o;if(!n.isDate(t))return"";for(i=i||n.DatePattern.Default,u="",e=!1,o=0;o<i.length;o++){if(f=i.charAt(o),e){e=!1,u+=f;continue}switch(f){case"d":u+=n.String.leftPad(t.getDate()+"",2,"0");break;case"D":u+=n.getCurrentCulture().ShortDayNames[t.getDay()?t.getDay()-1:6];break;case"j":u+=t.getDate();break;case"l":u+=n.getCurrentCulture().DayNames[t.getDay()?t.getDay()-1:6];break;case"N":u+=t.getDay()?t.getDay():7;break;case"S":break;case"w":u+=t.getDay();break;case"z":u+=this.getDayOfYear(t);break;case"W":u+=n.String.leftPad(this.getWeekOfYear(t).toString(),2,"0");break;case"F":u+=n.getCurrentCulture().MonthNames[t.getMonth()];break;case"m":u+=n.String.leftPad(t.getMonth()+1+"",2,"0");break;case"M":u+=n.getCurrentCulture().ShortMonthNames[t.getMonth()];break;case"n":u+=t.getMonth()+1;break;case"t":u+=this.getDaysInMonth(t);break;case"L":u+=this.isLeapYear(t)?1:0;break;case"o":u+=t.getFullYear()+(this.getWeekOfYear(t)==1&&t.getMonth()>0?1:this.getWeekOfYear(t)>=52&&t.getMonth()<11?-1:0);break;case"Y":u+=n.String.leftPad(t.getFullYear()+"",4,"0");break;case"y":u+=n.String.leftPad(t.getFullYear()+"",4,"0").substring(2,4);break;case"a":u+=n.getCurrentCulture().TimeAmPm[t.getHours()<12?1:0].toLowerCase();break;case"A":u+=n.getCurrentCulture().TimeAmPm[t.getHours()<12?1:0].toUpperCase();break;case"g":u+=t.getHours()%12?t.getHours()%12:12;break;case"G":u+=t.getHours();break;case"h":u+=n.String.leftPad((t.getHours()%12?t.getHours()%12:12).toString(),2,"0");break;case"H":u+=n.String.leftPad(t.getHours()+"",2,"0");break;case"i":u+=n.String.leftPad(t.getMinutes()+"",2,"0");break;case"s":u+=n.String.leftPad(t.getSeconds()+"",2,"0");break;case"u":u+=n.String.leftPad(t.getMilliseconds()+"",3,"0");break;case"O":u+=this.getGMTOffset(t);break;case"P":u+=this.getGMTOffset(t,!0);break;case"T":break;case"Z":u+=t.getTimezoneOffset()*-60;break;case"c":u+=this.format(t,"Y-m-d",r)+"T"+this.format(t,"H:i:sP",r);break;case"U":u+=Math.round(t.getTime()/1e3);break;case"\\":e=!0;break;default:u+=r?f=="/"||f=="-"?n.getCurrentCulture().DateSeparator:f==":"?n.getCurrentCulture().TimeSeparator:f:f}}return u},parseFromOaDate:function(t){var i,r=window.Date.UTC(1899,11,30),u=864e5;return t=n.isNumber(t)?t:0,i=new window.Date(r+u*t),isNaN(i.valueOf())?null:i},parse:function(i,r,u){var e,o,c,l,a,v;if(i instanceof window.Date)return i;if(n.isNumber(i))return new window.Date(i);if(n.isString(i)){if(e=this.parseExact(i,r),e){var s=e.regResult,h=e.regPosition,f=e.position;if(o=new window.Date(window.Date.UTC(e.Year||0,e.Month||0,e.Day||1,e.Hour||0,e.Minute||0,e.Seconds||0,e.Milli||0)),(f=h.U)&&(o=new window.Date(parseInt(s[f],10)*1e3+(e.Milli||0))),(f=h.Z&&s[f])?(v=parseInt(s[f])||0,o=this.add(o,t.Second,v*-1)):(f=h.P)&&s[f]?s[f].toUpperCase()!=="Z"&&(l=parseInt(s[f].substr(1,2))||0,a=parseInt(s[f].substr(4,2))||0,c=(l*60+a)*(s[f].substr(0,1)==="+"?-1:1),o=this.add(o,t.Minute,c)):(f=h.O)&&s[f]?s[f].toUpperCase()!=="Z"&&(l=parseInt(s[f].substr(1,2))||0,a=parseInt(s[f].substr(3,2))||0,c=(l*60+a)*(s[f].substr(0,1)==="+"?-1:1),o=this.add(o,t.Minute,c)):o=this.add(o,t.Minute,o.getTimezoneOffset()),u&&this.format(o,r)!=i)return null}return o}},parseExact:function(t,i){var w,a,l,e,y,k,h,p,d,c;if(t instanceof window.Date)return t;if(n.isNumber(t))return new window.Date(t);if(n.isString(t)){if(!i){w=t.match(new RegExp("\\d+","g"))||[],a=t&&t.length?t.charAt(t.length-1).toUpperCase():"";switch(w.length){case 3:i="Y-m-d";break;case 6:i="Y-m-d\\TH:i:s",a==="Z"&&(i+="P");break;case 7:i="Y-m-d\\TH:i:s.u",a==="Z"&&(i+="P");break;case 8:i="Y-m-d\\TH:i:sP";break;case 9:i="Y-m-d\\TH:i:s.uP";break;default:i=n.DatePattern.Default}}var u={},o,v=!1,s="^",f={},b={a:"("+n.getCurrentCulture().TimeAmPm.join("|").toLowerCase()+")",A:"("+n.getCurrentCulture().TimeAmPm.join("|").toUpperCase()+")",d:"(3[01]|[12][0-9]|0[1-9])",D:"("+n.getCurrentCulture().ShortDayNames.join("|")+")",F:"("+n.getCurrentCulture().MonthNames.join("|")+")",g:"(1[0-2]|[1-9])",G:"(2[0-3]|1[0-9]|[0-9])",h:"(1[0-2]|0[1-9])",H:"(2[0-3]|[01][0-9])",i:"([0-5][0-9])",j:"(3[01]|[12][0-9]|[1-9])",l:"("+n.getCurrentCulture().DayNames.join("|")+")",L:"([01])",m:"(1[0-2]|0[1-9])",M:"("+n.getCurrentCulture().ShortMonthNames.join("|")+")",n:"(1[0-2]|[1-9])",N:"([1-7])",o:"(\\d{4})",O:"([+-]\\d{4}|Z)",P:"([+-]\\d{2}:\\d{2}|Z)",s:"([0-5][0-9])",t:"(3[01]|2[89])",T:"([A-Z]{3})",u:"(\\d{3})",U:"([+-]?\\d+)",w:"([0-6])",W:"(5[0-3]|[1-4][0-9]|0[1-9])",y:"(\\d{2})",Y:"(\\d{4})",z:"(\\d{0,3})",Z:"([+-]?\\d+)"},r=1;for(l=0;l<i.length;l++){if(o=i.charAt(l),v){v=!1,s+="(.)",r++;continue}if(o=="\\"){v=!0;continue}if(b[o]){s+=b[o],f[o]=r,r++;continue}s+="(.)",r++}if(s+="$",e=new RegExp(s,"gi").exec(t),e){if(r=0,(r=f.Y)?u.Year=parseInt(e[r],10):(r=f.y)&&(u.Year=parseInt(e[r],10),u.Year=u.Year>50?u.Year+1900:u.Year+2e3),(r=f.m)||(r=f.n))u.Month=parseInt(e[r],10)-1;else if(r=f.M){for(y=n.getCurrentCulture().ShortMonthNames,k=e[r].toUpperCase(),h=0;h<y.length;h++)if(y[h].toUpperCase()==k){u.Month=h;break}}else if(r=f.F)for(p=n.getCurrentCulture().MonthNames,d=e[r].toUpperCase(),c=0;c<p.length;c++)if(p[c].toUpperCase()==d){u.Month=c;break}return((r=f.d)||(r=f.j)||!n.isDefined(u.Month)&&(r=f.z))&&(u.Day=parseInt(e[r],10)),(r=f.G)||(r=f.H)?u.Hour=parseInt(e[r],10):((r=f.g)||(r=f.h))&&(u.Hour=parseInt(e[r],10),((r=f.a)||(r=f.A))&&e[r].toUpperCase()==n.getCurrentCulture().TimeAmPm[0]&&(u.Hour=(u.Hour+12)%24)),(r=f.i)&&(u.Minute=parseInt(e[r],10)),(r=f.s)&&(u.Seconds=parseInt(e[r],10)),(r=f.u)&&(u.Milli=parseInt(e[r],10)),u.regResult=e,u.regPosition=f,u.position=r,u}return null}},Pattern:{Default:"Y-m-d\\TH:i:s.uP",ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:sP",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"}}}(n||(n={})),function(n){var t=function(t){function u(n){return t.call(this,n)||this}return i(u,t),u.prototype._e=function(){t.prototype._e.call(this);var i=n.getCurrentCulture();this._Culture=i?i:n.Cultures.ru,this._DecimalPartLength=4,this._DecimalSeparator=null,this._GroupSeparator=null,this._LabelNaN=null,this._LabelPositiveInfinity=null,this._LabelNegativeInfinity=null},u.prototype._initFields=function(n){t.prototype._initFields.call(this,n),this._DecimalSeparator===null&&(this._DecimalSeparator=this._Culture.DecimalSeparator),this._GroupSeparator===null&&(this._GroupSeparator=this._Culture.GroupSeparator),this._LabelNaN===null&&(this._LabelNaN="-"),this._LabelPositiveInfinity===null&&(this._LabelPositiveInfinity="+Inf"),this._LabelNegativeInfinity===null&&(this._LabelNegativeInfinity="-Inf")},u.prototype.getCulture=function(){return this._Culture},u.prototype.format=function(n){var t;if(n==null||isNaN(n)||n==="NaN"||n==="")return this._LabelNaN;if(n==+Infinity)return this._LabelPositiveInfinity;if(n==-Infinity)return this._LabelNegativeInfinity;var o=n<0?"-":"",s=Math.abs(n).toFixed(this._DecimalPartLength),u=s.split("."),f=u[1],i=[],e,r;for(t=u[0];t.length>0;)t.length>3?(i.push(t.substr(t.length-3)),t=t.slice(0,t.length-3)):(i.push(t),t="");return e=i.reverse().join(this._GroupSeparator),r=o+e+"",f!=undefined&&(r+=this._DecimalSeparator+f),r},u.toDecimalString=function(n){var i=(n+"").split(/[eE]/);if(i.length==1)return i[0];var t="",f=n<0?"-":"",u=i[0].replace(".",""),r=parseFloat(i[1])+1;if(r<0){for(t=f+"0.";r++;)t+="0";return t+u.replace(/^\-/,"")}for(r-=u.length;r--;)t+="0";return u+t},u.tryRound=function(t){var h,f,e;if(n.isNumber(t)){t=t+"";var r=t,i,o,u=t.indexOf("."),s=["00000","11111","22222","33333","44444","55555","66666","77777","88888","99999"];if(u>=0&&t.indexOf("e+")===-1&&t.indexOf("e-")===-1)for(i=0,o=s.length;i<o;i++)if(h=s[i],f=t.indexOf(h),f>u){if(e=Math.pow(10,f-u),r=Math.round(r*e)/e,t=r+"",t.indexOf(".")!==-1)while(t[t.length-1]=="0"||t[t.length-1]==".")t=t.slice(0,t.length-1);return parseFloat(t)}t=parseFloat(t)}return t},u.beautify=function(t,i,r){var h=1,p=[.1,.75,1,1,1,.5,1,1,1,1,1,2],w,g,f,s,a,v,o,y,e,d;if(!n.isNumber(t))return t;(!n.isNumber(i)||i>t)&&(i=t*(1-h/100)),(!n.isNumber(r)||r<t)&&(r=t*(1+h/100)),w=1,t<0&&(w=-1,t=-t,g=i,i=-r,r=-g);var b=function(n,t,i,r){var e=Math.abs(n-t)/i*r[11],f;for(n=n.toString(),f=0;f<n.length;f++)e+=n[f]==="."?r[10]:r[n[f]];return e},k=Math.max(Math.abs(t-i),Math.abs(t-r)),u=t.toString().split(""),c=t,l=b(c,t,k,p,h);for(f=0;f<u.length;f++)u[f]!=="."&&(u[f]=parseFloat(u[f])||0);for(f=u.length-1;f>=0;f--)if(u[f]!==".")for(s=0;s<10;s++){for(a=u[f],u[f]=s,v=u.join(""),o=parseFloat(v),o>i&&o<r&&(y=b(o,t,k,p,h))<l?(c=o,l=y):u[f]=a,a=u[f],u[f]=s+10,e=f;u[e]>9&&e>0;u[e]=0,e-=u[e-1]==="."?2:1,u[e]++);if(d=!1,u[0]>9&&(u[0]=0,u.unshift(1),f++,d=!0),v=u.join(""),o=parseFloat(v),o>i&&o<r&&(y=b(o,t,k,p,h))<l)c=o,l=y,s=-1;else for(u[f]=a,d&&(u.unshift(),u[0]=10,f--),u[e]--,e=e;u[e]<0&&e>f-1;u[e]=9,e+=u[e+1]==="."?2:1,u[e]+=10);}return c*w},u.maskFormat=function(n,t){var i=new r({Mask:n});return i.format(t)},u}(n.Object),r;n.NumberFormat=t,r=function(r){function u(n){return r.call(this,n)||this}return i(u,r),u.prototype.getMask=function(){return this._Mask},u.prototype.setMask=function(n){this._Mask=n},u.prototype.format=function(t){for(var h=this._Mask,c=new RegExp('(@)|(;)|([$¢£¥€]?)([#?0][#?0, ]*[#?0,]+|[#?0][#?0,]*)(\\.([#?0]*))?(E\\+([#?0]*))?(%)?|([Hh]+[:-]+[Mm]+)|([Mm]+[:-]+[Ss]+)|([Yy]+)|([Mm]+)|([Dd]+)|([Hh]+)|([Ss]+)|[\'"](([^\\\\"]*(\\\\.)*)*)[\'"]|([Gg]\\d*)|.',"gi"),i=null,e=[],u=[],r=t;i=c.exec(h);)i[2]?(u.push(e),e=[]):e.push({Value:i[0],At:i[1],Money:i[3],Aliquot:i[4],Fractional:i[6],Exponent:i[8],Percent:i[9],TimeHM:i[10],TimeMS:i[11],Hour:i[15],Second:i[16],Year:i[12],Month:i[13],Day:i[14],Text:i[17],Specifier:i[20]});if(u.push(e),n.isString(r)){var o=this.getCulture().DecimalSeparator,s=this.getCulture().GroupSeparator,l="\\u"+n.String.leftPad(o.charCodeAt(0).toString(16),4,"0"),a="\\u"+n.String.leftPad(s.charCodeAt(0).toString(16),4,"0"),v=new RegExp("^[-+]?\\d+("+a+"\\d+)*("+l+"\\d*)?(e[-+]?\\d+)?$","i"),f=r;v.test(f)&&(f=f.split(s).join(""),f=f.split(o).join("."),r=parseFloat(f))}return isNaN(r)||!n.isNumber(r)?u[3]?this._aQT(u[3],t):t+"":u[2]&&r==0?this._aQT(u[2],r):u[1]&&r<0?this._aQT(u[1],Math.abs(r)):this._aQT(u[0],r)},u.prototype._aQT=function(t,i){var r,a,c,l,k,y,p;if(t.length===0)return n.isNumber(i)&&(i==0?i="":(i+="",i=i.replace(".",n.getCurrentCulture().DecimalSeparator))),i+"";var u="",b,g=new RegExp("\\\\(.)","gi"),o=n.Date.parseFromOaDate(i),e,s;for(r=0;r<t.length;r++){if(t[r].At){u+=n.isNumber(i)?i.toString().replace(".",n.getCurrentCulture().DecimalSeparator):i;continue}if(t[r].Text){u+=t[r].Text.replace(g,"$1");continue}if((t[r].Aliquot||t[r].Fractional||t[r].Specifier)&&n.isNumber(i)){var f=parseFloat(i),v=t[r].Fractional?t[r].Fractional.length:0,h=0;if(t[r].Aliquot){for(a=t[r].Aliquot.length-1;t[r].Aliquot[a]===",";)a--,f/=1e3;t[r].Aliquot=t[r].Aliquot.slice(0,a+1)}if(t[r].Specifier&&this._cpY(t[r],f),!t[r].Exponent&&f.toString().indexOf("e+")>=0&&(t[r].Exponent="000"),t[r].Percent&&(f*=100),f<0&&(b=!0,f=Math.abs(f)),t[r].Money&&(u+=t[r].Money),t[r].Exponent&&f){for(c=f,l=1;parseFloat(c.toFixed(v))<=1;)h--,l=Math.pow(10,h),c=f/l;while(parseFloat(c.toFixed(v))>=10)h++,l=Math.pow(10,h),c=f/l;f=c}if(t[r].Exponent)for(k=3-this._atn(t[r].Exponent,"0"),y=0;y<k;y++)t[r].Exponent+="0";p=Math.pow(10,v),f=Math.round(f*p)/p;var d=this._bD8(t[r].Aliquot,f),w=this._cpZ(t[r].Fractional,f),nt=this._bD8(t[r].Exponent,Math.abs(h));parseInt(d)==0&&!parseInt(w)||!b||(u="-"+u),u+=d,t[r].Fractional&&w.length&&(u+=n.getCurrentCulture().DecimalSeparator,u+=w),t[r].Exponent&&(u+="E",u+=h<0?"-":"+",u+=nt),t[r].Percent&&(u+="%");continue}if(t[r].TimeHM){s=t[r].TimeHM.match(/([Hh]+)[:-]+([Mm]+)/),u+=n.Date.format(o,t[r].TimeHM.replace(s[1],s[1].length==1?"G":"H").replace(s[2],"i"));continue}if(t[r].TimeMS){s=t[r].TimeMS.match(/([Mm]+)[:-]+([Ss]+)/),u+=n.Date.format(o,t[r].TimeMS.replace(s[1],"i").replace(s[2],"s"));continue}if(t[r].Year){e=t[r].Year.length,u+=n.Date.format(o,t[r].Year.replace(t[r].Year,e>2?"Y":"y"));continue}if(t[r].Month){e=t[r].Month.length,u+=n.Date.format(o,t[r].Month.replace(t[r].Month,e==1?"n":e==2?"m":e==3?"M":"F"));continue}if(t[r].Day){e=t[r].Day.length,u+=n.Date.format(o,t[r].Day.replace(t[r].Day,e==1?"j":e==2?"d":e==3?"D":"l"));continue}if(t[r].Hour){e=t[r].Hour.length,u+=n.Date.format(o,t[r].Hour.replace(t[r].Hour,e>1?"H":"G"));continue}if(t[r].Second){u+=n.Date.format(o,t[r].Second.replace(t[r].Second,"s"));continue}u+=t[r].Value}return u},u.prototype._cpY=function(t,i){var e,s,c,l,f,a,h;if(n.isDefined(t)&&(e=t.Specifier,e)){var v=e[0],u=parseInt(e.slice(1)),r,o=i+"",y=o.indexOf(".");switch(v){case"G":case"g":if(!u||o.length<=(y==-1?u:u+1)){if(t.Aliquot="#",t.Fractional="",s=o.split(".")[1],s)for(c=s.length>16?16:s.length,r=0;r<c;r++)t.Fractional+="#";t.Value=t.Aliquot+"."+t.Fractional}else if(l=o.split("."),f=l[0],f.length>u||f.length==1||f[0]==="0")t.Aliquot="#",t.Value="#E+#",t.Fractional="",t.Exponent="E+#";else{for(a=u-f.length,h="",t.Aliquot="#",r=0;r<a;r++)h+="#";t.Fractional=h,t.Value="#."+h}}}},u.prototype._bD8=function(i,r){var l,a,f;if(!n.isDefined(i))return"";var u=t.toDecimalString(r),h=u.indexOf("."),c=this._atn(i,"0"),v=this._atn(i,"?"),y=i.indexOf(",")>=0||i.indexOf(" ")>=0,o,s,e;for(h>=0&&(u=u.substr(0,h)),l=c-u.length,o=0;o<l;o++)u="0"+u;for(a=v+c-u.length,s=0;s<a;s++)u=" "+u;if(y){for(f="",e=u.length-3;e>0;e-=3)f=n.getCurrentCulture().GroupSeparator+u.substr(e,3)+f;f=u.substr(0,3+e)+f,u=f}return u},u.prototype._cpZ=function(i,r){var c,l;if(!n.isDefined(i))return"";var u=t.toDecimalString(r),s=u.indexOf("."),f=this._atn(i,"0"),h=this._atn(i,"?"),a=this._atn(i,"#"),e,o;for(u=s>=0?u.substr(s+1,u.length):"",u=u.substr(0,f+h+a),c=f-u.length,e=0;e<c;e++)u+="0";for(l=h+f-u.length,o=0;o<l;o++)u+=" ";return u},u.prototype._atn=function(n,t){if(!n)return 0;for(var r=0,i=0;i<n.length;i++)n.charAt(i)===t&&r++;return r},u}(t),n.MaskNumberFormat=r}(n||(n={})),function(n){var t=function(t){function r(n){var i=t.call(this)||this;i._Buffer=0;switch(typeof n){case"object":case"function":i._Buffer=NaN;break;case"number":case"boolean":i._Buffer=+n;break;case"string":i._Buffer=parseFloat(n)}return i}return i(r,t),r.prototype.getBuffer=function(){return n.Array.toArray(this._Buffer)},r.prototype.toNumber=function(){return+this._Buffer},r.prototype.toString=function(){return this._Buffer+""},r.prototype.negate=function(){return new r(-this._Buffer)},r.prototype.add=function(t){var i=this._ia(t);return i=this._Buffer+i,n.Number.create(i)},r.prototype.subtract=function(t){var i=this._ia(t);return i=this._Buffer-i,n.Number.create(i)},r.prototype.multiply=function(t){var i=this._ia(t);return i=this._Buffer*i,n.Number.create(i)},r.prototype.div=function(t){var i=this._ia(t);return i=this._Buffer/i,n.Number.create(i)},r.prototype.round=function(){return new r(Math.round(this._Buffer))},r.prototype.toFixed=function(n){return this._Buffer.toFixed(n)},r.prototype.isZero=function(){return this._Buffer===0},r.prototype.isNegative=function(){return this._Buffer<0},r.prototype.isOdd=function(){return this._Buffer%2==1},r.prototype.isNaN=function(){return isNaN(this._Buffer)},r.prototype.equals=function(n){return this._Buffer===this._ia(n)},r.prototype.notEquals=function(n){return this._Buffer!==this._ia(n)},r.prototype.compare=function(n){var t=this._ia(n);return this._Buffer===t?0:this._Buffer-t<0?-1:1},r.prototype.lessThan=function(n){return this._Buffer<this._ia(n)},r.prototype.lessThanOrEqual=function(n){return this._Buffer<=this._ia(n)},r.prototype.greaterThan=function(n){return this._Buffer>this._ia(n)},r.prototype.greaterThanOrEqual=function(n){return this._Buffer>=this._ia(n)},r.prototype.isRepresentableByNumber=function(){return this._Buffer>=window.Number.MIN_VALUE&&this._Buffer<=window.Number.MAX_VALUE||this.isNaN()},r.prototype._ia=function(t){var i,r;return t instanceof n.Number||(t=n.Number.create(t)),i=t,i.toNumber()},r}(n.Number);n.Number32=t}(n||(n={})),function(n){var t=function(t){function r(i){var r=t.call(this)||this;r._Buffer=[0,0];switch(typeof i){case"object":case"function":n.Array.isArray(i)?r._cp0(i):r._cp1(i);break;case"number":case"boolean":r._bD9(+i);break;case"string":r._bEa(i)}return r}return i(r,t),Object.defineProperty(r,"TWO_POWER_16",{get:function(){return 65536},enumerable:!0,configurable:!0}),Object.defineProperty(r,"TWO_POWER_32",{get:function(){return r.TWO_POWER_16*r.TWO_POWER_16},enumerable:!0,configurable:!0}),Object.defineProperty(r,"TWO_POWER_64",{get:function(){return r.TWO_POWER_32*r.TWO_POWER_32},enumerable:!0,configurable:!0}),Object.defineProperty(r,"TWO_POWER_63",{get:function(){return r.TWO_POWER_64/2},enumerable:!0,configurable:!0}),Object.defineProperty(r,"MIN_VALUE",{get:function(){return-r.TWO_POWER_63},enumerable:!0,configurable:!0}),Object.defineProperty(r,"MAX_VALUE",{get:function(){return r.TWO_POWER_63},enumerable:!0,configurable:!0}),Object.defineProperty(r,"MIN_VALUE_NUMBER64",{get:function(){return new r(n.MIN_SAFE_INTEGER)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"MAX_VALUE_NUMBER64",{get:function(){return new r(n.MAX_SAFE_INTEGER)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"MIN_NUMBER64",{get:function(){return new r([0,2147483648])},enumerable:!0,configurable:!0}),Object.defineProperty(r,"MAX_NUMBER64",{get:function(){return new r([4294967295,2147483647])},enumerable:!0,configurable:!0}),Object.defineProperty(r,"ZERO",{get:function(){return r.fromInteger(0)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"NAN",{get:function(){return r.fromInteger(NaN)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"ONE",{get:function(){return r.fromInteger(1)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"NEG_ONE",{get:function(){return r.fromInteger(-1)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"TEN",{get:function(){return r.fromInteger(10)},enumerable:!0,configurable:!0}),Object.defineProperty(r,"TWO_PWR_24",{get:function(){return r.fromInteger(16777216)},enumerable:!0,configurable:!0}),r.fromInteger=function(n){var t=n,i=0;return isNaN(n)||(t=n|0,i=n<0?-1:0),new r([t,i])},r.div=function(t,i){var e=t instanceof r?t:new r(n.Number.toNumber(t)),u=i instanceof r?i:new r(n.Number.toNumber(i)),o,f,s,l;if(e.equals(r.MIN_NUMBER64))return u.equals(r.ONE)||u.equals(r.NEG_ONE)?r.MIN_NUMBER64:u.equals(r.MIN_NUMBER64)?r.ONE:(l=e.shiftRight(1),f=l.div(u).shiftLeft(1),f.equals(r.ZERO)?u.isNegative()?r.ONE:r.NEG_ONE:(o=e.subtract(u.multiply(f)),s=f.add(o.div(u))));if(u.equals(r.MIN_NUMBER64))return r.ZERO;if(e.isNegative())return u.isNegative()?e.negate().div(u.negate()):e.negate().div(u).negate();if(u.isNegative())return e.div(u.negate()).negate();for(s=r.ZERO,o=e;o.greaterThanOrEqual(u);){f=Math.max(1,Math.floor(o.toNumber()/u.toNumber()));for(var a=Math.ceil(Math.log(f)/Math.LN2),v=a<=48?1:Math.pow(2,a-48),h=new r(f),c=h.multiply(i);c.isNegative()||c.greaterThan(o);)f-=v,h=new r(f),c=h.multiply(i);h.isZero()&&(h=r.ONE),s=s.add(h),o=o.subtract(c)}return s},r.prototype._cp0=function(n){this._Buffer[0]=n[0]|0,this._Buffer[1]=n[1]|0},r.prototype._cp1=function(){this._Buffer[0]=NaN,this._Buffer[1]=NaN},r.prototype._bD9=function(n){var t,u,i;if(isNaN(n)||!isFinite(n)){this._Buffer[0]=n,this._Buffer[1]=n<0?-1:0;return}if(n<=r.MIN_VALUE){t=r.MIN_NUMBER64,this._Buffer[0]=t._Buffer[0],this._Buffer[1]=t._Buffer[1];return}if(n>=r.MAX_VALUE){t=r.MAX_NUMBER64,this._Buffer[0]=t._Buffer[0],this._Buffer[1]=t._Buffer[1];return}if(n<0){this._bD9(-n),u=this.negate(),i=this._alB(u),this._Buffer[0]=i[0],this._Buffer[1]=i[1];return}this._Buffer[0]=n%r.TWO_POWER_32|0,this._Buffer[1]=n/r.TWO_POWER_32|0},r.prototype._bEa=function(n){var s,f,h,t,i,u,e,c,o;if(n=/[^.]*/.exec(n)[0],n.length===0||n.lastIndexOf("-")>0){this._Buffer[0]=NaN,this._Buffer[1]=0;return}if(n.charAt(0)=="-"){this._bEa(n.substring(1)),s=this.negate(),f=this._alB(s),this._Buffer[0]=f[0],this._Buffer[1]=f[1];return}for(h=new r(Math.pow(10,8)),t=r.ZERO,i=0;i<n.length;i+=8)u=Math.min(8,n.length-i),e=parseInt(n.substring(i,i+u),10),u<8?(c=new r(Math.pow(10,u)),t=t.multiply(c).add(new r(e))):(t=t.multiply(h),t=t.add(new r(e)));o=this._alB(t),this._Buffer[0]=o[0],this._Buffer[1]=o[1]},r.prototype.getBuffer=function(){return this._Buffer},r.prototype.toNumber=function(){var n=this._Buffer[0]>=0?this._Buffer[0]:r.TWO_POWER_32+this._Buffer[0];return this._Buffer[1]*r.TWO_POWER_32+n},r.prototype.toString=function(){var n,u,f,i;if(this.isNaN())return"NaN";if(this.isZero())return"0";if(this.isNegative())return this.equals(r.MIN_NUMBER64)?(u=this.div(r.TEN),n=u.multiply(r.TEN).subtract(this),u.toString()+n.getBuffer()[0].toString()):"-"+this.negate().toString();for(f=new r(Math.pow(10,6)),n=this,i="";;){var e=n.div(f),o=n.subtract(e.multiply(f)).getBuffer()[0],t=o.toString();if(n=e,n.isZero())return t+i;while(t.length<6)t="0"+t;i=""+t+i}},r.prototype.negate=function(){return this.equals(r.MIN_NUMBER64)?r.MIN_NUMBER64:this.not().add(r.ONE)},r.prototype.add=function(n){var e=this._alB(n),o=this._Buffer[1]>>>16,s=this._Buffer[1]&65535,h=this._Buffer[0]>>>16,c=this._Buffer[0]&65535,l=e[1]>>>16,a=e[1]&65535,v=e[0]>>>16,y=e[0]&65535,u,t,i,f;return u=t=i=f=0,f+=c+y,i+=f>>>16,f&=65535,i+=h+v,t+=i>>>16,i&=65535,t+=s+a,u+=t>>>16,t&=65535,u+=o+l,u&=65535,new r([i<<16|f,u<<16|t])},r.prototype.subtract=function(n){var t=this._ia(n);return this.add(t.negate())},r.prototype.multiply=function(n){var t=this._ia(n);if(this.isZero()||t.isZero())return r.ZERO;if(this.isNaN()||t.isNaN())return r.NAN;if(this.equals(r.MIN_NUMBER64))return t.isOdd()?r.MIN_NUMBER64:r.ZERO;if(t.equals(r.MIN_NUMBER64))return this.isOdd()?r.MIN_NUMBER64:r.ZERO;if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate();if(t.isNegative())return this.multiply(t.negate()).negate();if(this.lessThan(r.TWO_PWR_24)&&t.lessThan(r.TWO_PWR_24))return new r(this.toNumber()*t.toNumber());var e=this._alB(t),y=this._Buffer[1]>>>16,a=this._Buffer[1]&65535,c=this._Buffer[0]>>>16,o=this._Buffer[0]&65535,p=e[1]>>>16,v=e[1]&65535,l=e[0]>>>16,s=e[0]&65535,f=0,i=0,u=0,h=0;return h+=o*s,u+=h>>>16,h&=65535,u+=c*s,i+=u>>>16,u&=65535,u+=o*l,i+=u>>>16,u&=65535,i+=a*s,f+=i>>>16,i&=65535,i+=c*l,f+=i>>>16,i&=65535,i+=o*v,f+=i>>>16,i&=65535,f+=y*s+a*l+c*v+o*p,f&=65535,new r([u<<16|h,f<<16|i])},r.prototype.div=function(n){var t=this._ia(n);if(t.isZero())throw Error("division by zero");else{if(this.isZero())return r.ZERO;if(this.isNaN()||t.isNaN())return r.NAN}return r.div(this,n)},r.prototype.round=function(){return this},r.prototype.toFixed=function(n){return n=n||0,this.toString()+(n<=0?"":"."+window.Array(n+1).join("0"))},r.prototype.isZero=function(){return this._Buffer[1]===0&&this._Buffer[0]===0},r.prototype.isNegative=function(){return this._Buffer[1]<0},r.prototype.isOdd=function(){return(this._Buffer[0]&1)==1},r.prototype.isNaN=function(){return isNaN(this._Buffer[0])||isNaN(this._Buffer[1])},r.prototype.equals=function(n){var t=this._alB(n);return this._Buffer[1]===t[1]&&this._Buffer[0]===t[0]},r.prototype.notEquals=function(n){var t=this._alB(n);return this._Buffer[1]!==t[1]||this._Buffer[0]!==t[0]},r.prototype.compare=function(n){var r=this._ia(n),t,i;return this.equals(n)?0:(t=this.isNegative(),i=r.isNegative(),t&&!i)?-1:!t&&i?1:this.subtract(r).isNegative()?-1:1},r.prototype.lessThan=function(n){var t=this._ia(n);return this.isNaN()||t.isNaN()?!1:this.compare(t)<0},r.prototype.lessThanOrEqual=function(n){var t=this._ia(n);return this.isNaN()||t.isNaN()?!1:this.compare(t)<=0},r.prototype.greaterThan=function(n){var t=this._ia(n);return this.isNaN()||t.isNaN()?!1:this.compare(t)>0},r.prototype.greaterThanOrEqual=function(n){var t=this._ia(n);return this.isNaN()||t.isNaN()?!1:this.compare(t)>=0},r.prototype.isRepresentableByNumber=function(){return this.greaterThanOrEqual(r.MIN_VALUE_NUMBER64)&&this.lessThanOrEqual(r.MAX_VALUE_NUMBER64)||this.isNaN()},r.prototype.not=function(){return new r([~this._Buffer[0],~this._Buffer[1]])},r.prototype.shiftLeft=function(n){var t,i;return n&=63,n==0?this:(t=this._Buffer[0],n<32?(i=this._Buffer[1],new r([t<<n,i<<n|t>>>32-n])):new r([0,t<<n-32]))},r.prototype.shiftRight=function(n){var t,i;return n&=63,n==0?this:(t=this._Buffer[1],n<32?(i=this._Buffer[0],new r([i>>>n|t<<32-n,t>>n])):new r([t>>n-32,t>=0?0:-1]))},r.prototype.shiftRightUnsigned=function(n){var t,i;return n&=63,n==0?this:(t=this._Buffer[1],n<32?(i=this._Buffer[0],new r([i>>>n|t<<32-n,t>>>n])):n==32?new r([t,0]):new r([t>>>n-32,0]))},r.prototype._ia=function(t){return t instanceof n.Number||(t=n.Number.create(t)),t},r.prototype._alB=function(n){var i,t;return i=this._ia(n),t=i.getBuffer(),t.length===1&&(t[1]=0),t},r}(n.Number);n.Number64=t}(n||(n={})),function(n){var t,r;(function(n){n[n.None=0]="None",n[n.Add=1]="Add",n[n.Get=2]="Get",n[n.Set=3]="Set",n[n.Remove=4]="Remove",n[n.Change=5]="Change"})(t=n.ListOperation||(n.ListOperation={})),r=function(r){function u(n){return r.call(this,n)||this}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._defineEvents(["Changing","Changed"]),this._Items=[],this._ThrowIncorrectIndex=!0},u.prototype.getItems=function(){return this._Items},u.prototype.getCount=function(){return this._Items?this._Items.length:0},u.prototype.add=function(n){if(this._Items||(this._Items=[]),this._aQU(t.Add,n))return-1;var i=this._Items.push(n);return this.Changed.fire(this,{Index:this._Items.length-1,Operation:t.Add,Item:n}),i},u.prototype.insert=function(i,r){return this._aQU(t.Add,i,r)?-1:(this._Items.length<=r?r=this._Items.push(i):n.Array.insert(this._Items,i,r),this.Changed.fire(this,{Index:r,Operation:t.Add,Item:i}),r)},u.prototype.removeAt=function(n,i){this._ato(n);var r=this._Items[n];return this._aQU(t.Remove,r,n)?!1:(this._Items.splice(n,1),i&&r.dispose&&r.dispose(),this.Changed.fire(this,{Operation:t.Remove,Item:i?null:r,Index:n}),!0)},u.prototype.remove=function(t,i){if(!this._Items)return!1;var r=0;return r=n.isNumber(t)?t:this._Items.indexOf(t),this.removeAt(r,i)},u.prototype.clear=function(n){if(this._Items)while(this._Items.length)this.removeAt(this._Items.length-1,n)},u.prototype.getItem=function(n){return this._ato(n),this._Items[n]},u.prototype.setItem=function(n,i){if(this._ato(i),this._Items[i]!==n&&!this._aQU(t.Set,n,i)){this._Items[i]=n,this.Changed.fire(this,{Operation:t.Set,Item:n,Index:i});return}},u.prototype.contains=function(n){return this.indexOf(n)>-1},u.prototype.indexOf=function(t){var u=-1,i=this._Items,r;if(!i||i.length===0)return-1;if(n.isFunction(t)){for(r=-1;++r<i.length&&!t(i[r],r););u=r>=i.length?-1:r}else u=i.indexOf(t);return u},u.prototype.sort=function(n){return this._Items&&this._Items.length&&this._Items.sort(n),this._Items},u.prototype._aQU=function(n,t,i){i===void 0&&(i=-1);var r={Cancel:!1,Operation:n,Item:t,Index:i};return this.Changing.fire(this,r),r.Cancel},u.prototype._ato=function(t){if(this._ThrowIncorrectIndex&&(!this._Items||t<0||t>=this._Items.length))throw new n.OutOfRangeException(this,"IndexOuOfRangeException");},u}(n.Object),n.List=r}(n||(n={})),function(n){var t,r;(function(n){n[n.Default=1]="Default",n[n.Release=2]="Release",n[n.Hover=4]="Hover",n[n.Press=8]="Press",n[n.Active=16]="Active",n[n.Disable=32]="Disable"})(t=n.ControlState||(n.ControlState={})),r=function(r){function u(n){return r.call(this,n)||this}return i(u,r),u.prototype._initFields=function(i){i=i||{},i.Pressed=i.Pressed||i[t.Press],i.Release=i.Release||i[t.Release],i.Hover=i.Hover||i[t.Hover],i.Active=i.Active||i[t.Active],i.Disable=i.Disable||i[t.Disable],i.Default=i.Default||i[t.Default],i.Pressed&&(i.Press=i.Pressed),!i.Release||i.Release instanceof n.Style||(i.Release=new n.Style(i.Release)),!i.Hover||i.Hover instanceof n.Style||(i.Hover=new n.Style(i.Hover)),!i.Press||i.Press instanceof n.Style||(i.Press=new n.Style(i.Press)),!i.Active||i.Active instanceof n.Style||(i.Active=new n.Style(i.Active)),!i.Disable||i.Disable instanceof n.Style||(i.Disable=new n.Style(i.Disable)),!i.Default||i.Default instanceof n.Style||(i.Default=new n.Style(i.Default)),delete i.Pressed,r.prototype._initFields.call(this,i)},u.prototype.isEqual=function(n){var t=this.getRelease(),i=this.getHover(),r=this.getPress(),u=this.getActive(),f=this.getDisable(),e=this.getDefault(),o=n.getRelease(),s=n.getHover(),h=n.getPress(),c=n.getActive(),l=n.getDisable(),a=n.getDefault(),v=!t||!o?!1:t.isEqual(o),y=!i||!s?!1:i.isEqual(s),p=!r||!h?!1:r.isEqual(h),w=!u||!c?!1:u.isEqual(c),b=!f||!l?!1:f.isEqual(l),k=!e||!a?!1:e.isEqual(a);return v&&y&&p&&w&&b&&k},u.prototype.getRelease=function(){return this._Release},u.prototype.getHover=function(){return this._Hover},u.prototype.getPress=function(){return this._Press},u.prototype.getActive=function(){return this._Active},u.prototype.getDisable=function(){return this._Disable},u.prototype.getDefault=function(){return this._Default},u.prototype.setRelease=function(n){this._Release=n},u.prototype.setHover=function(n){this._Hover=n},u.prototype.setPress=function(n){this._Press=n},u.prototype.setActive=function(n){this._Active=n},u.prototype.setDisable=function(n){this._Disable=n},u.prototype.setDefault=function(n){this._Default=n},u.prototype.getState=function(n){var o={},i,r=!1,e,f;switch(n){case t.Default:i=this.getDefault(),r=!0;break;case t.Release:i=this.getRelease(),r=!0;break;case t.Hover:i=this.getHover(),r=!0;break;case t.Press:i=this.getPress(),r=!0;break;case t.Active:i=this.getActive(),r=!0;break;case t.Disable:i=this.getDisable(),r=!0}if(i||r)return i;for(n||(n=t.Default+t.Release+t.Hover+t.Press+t.Active+t.Disable),e=u.getStyles(n),f=0;f<e.length;f++)i=this.getState(e[f]),i&&(o[t[e[f]]]=i);return o},u.prototype.setState=function(n,i){for(var f=u.getStyles(i),r=0;r<f.length;r++)switch(i){case t.Default:this.setDefault(n);break;case t.Release:this.setRelease(n);break;case t.Hover:this.setHover(n);break;case t.Press:this.setPress(n);break;case t.Active:this.setActive(n);break;case t.Disable:this.setDisable(n)}},u.prototype.getSettings=function(){var n=r.prototype.getSettings.apply(this,arguments);return n.Release||n.Hover||n.Press||n.Active||n.Disable||!n.Default||(n=n.Default),n},u.getStyles=function(n){for(var r=[],t=32,i=0;;){if(t<1)break;if(i+t<=n){if(r.push(t),i+t==n)break;i=t}t/=2}return r},u}(n.Object),n.StateStyle=r}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(i,r){var u=t.call(this)||this;return n.isObject(i)?(u.UseAnimation=i.hasOwnProperty("UseAnimation")?i.UseAnimation:!0,u.AnimationTime=i.hasOwnProperty("AnimationTime")?i.AnimationTime:400):(u.UseAnimation=typeof i=="undefined"?!0:i,u.AnimationTime=typeof r=="undefined"?400:r),u}return i(r,t),r}(n.Object);t.AnimationSettings=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),n.AnimationSettings=n.Ui.AnimationSettings,function(n){var t;(function(t){var r=function(r){function u(n){return r.call(this,n)||this}return i(u,r),Object.defineProperty(u,"_DragDrop",{get:function(){var n=t.DragDrop.getData();return n||t.DragDrop.setData({}),t.DragDrop.getData()},set:function(n){t.DragDrop.setData(n)},enumerable:!0,configurable:!0}),u.prototype._e=function(){r.prototype._e.call(this),this._bEb("Control"),this._defineEvents(["DragStart","Drag","DragEnd","DragDrop","SizeChanging","SizeChanged","PositionChanged","EnabledChanged","VisibleChanged","OnContextMenu"],"Control"),this._Anchors=[n.AnchorStyles.Top,n.AnchorStyles.Left],this._IsVisible=!0,this._TabIndex=null,this._Enabled=!0,this._ToolTip=null,this._ShowToolTip=!0,this._ReleaseClass="Released",this._HoverClass="Hovered",this._ActiveClass="Selected",this._DisableClass="Disabled",this._PressClass="Pressed",this._Rotate=0,this._Top=0,this._Left=0,this._Bottom=0,this._Right=0,this._Opacity=1,this._cQ=!1,this._IsRTL=document.dir==="rtl",this._Draggable=!1,this._ContentDraggable=!1,this._AllowDrop=!1},u.prototype._initFields=function(t){if(t){var i=t.ParentNode;if(i)if(typeof i=="string")this._ParentNode=document.getElementById(i+"");else if(i instanceof Node)this._ParentNode=i;else throw new Error("Error in ParentNode");t.OnContextMenu&&(this.ContextMenu=t.OnContextMenu,delete t.OnContextMenu),t.ContextMenu instanceof n.Delegate&&(this.ContextMenu=t.ContextMenu,delete t.ContextMenu)}r.prototype._initFields.call(this,t)},u.prototype._addEvent=function(t,i,r){i=this._yi(i),n.domEvent.addEvent(t,i,r,this)},u.prototype._bV=function(t,i){if(!t||!i)throw new n.ArgumentNullException(this);for(var r in i)this._addEvent(t,r,i[r])},u.prototype._k=function(t,i,r){i=this._yi(i),n.domEvent.removeEvent(t,i,r,this)},u.prototype._d7=function(t){if(t instanceof n.Object){r.prototype._d7.call(this,t);return}n.domEvent.removeAllEvents(t)},u.prototype._yi=function(n){return u._EventTypeAliases[n]?u._EventTypeAliases[n]:n},u.prototype._bindEvents=function(){var r,t,i;if(!this._cQ){n.cultureChanged&&n.cultureChanged.add(this._aW,this),n.cultureChanging&&n.cultureChanging.add(this._a8P,this);var o=n.Ui.Control.prototype,u=n.Ui.Control._EventMap,f=this._DomNode,e=n.isTouch;for(r in u)t=u[r],i=t.HandleName,(this[i]!=o[i]||t.UseBaseHandler||this[r].getCount()>0)&&(!e||!t.IsTouchDisabled)&&this._addEvent(f,t.NativeEvent,this[i]);e&&n.IsIE&&this._addEvent(f,"MSGestureHold",this._a7),this.setAllowDrop(this._AllowDrop),this.setDraggable(this._Draggable),this._cQ=!0}},u.prototype._unBindEvents=function(){this._cQ&&(t.DragDrop.unDrop(this),t.DragDrop.unDrag(this),this._d7(this._DomNode),n.cultureChanged.remove(this._aW,this),n.cultureChanging.remove(this._a8P,this),this._cQ=!1)},u.prototype._bEc=function(t,i,r){return t=this._yi(t),n.domEvent.hasEvent(i,t,r,this)},u.prototype._alC=function(){return this._kS||(this._kS=n.htmlToDOM("<div class='PPCover'><\/div>")),this._kS},u.prototype._aQV=function(n){var o,s,h;if(this.isLive()&&this._Enabled&&this._ContextMenu instanceof t.Menu){var f=this._ContextMenu.getDomNode(),i=f.offsetWidth,r=f.offsetHeight,u=document.documentElement.clientWidth,e=document.documentElement.clientHeight;this._IsRTL&&(n.X-=i),o=n.X>-1&&n.X<u&&n.X+i>=0&&n.X+i<=u?!0:!1,s=n.Y>-1&&n.Y<e&&n.Y+r>=0&&n.Y+r<=e?!0:!1,s||(n.Y-=r,n.Y<0&&(n.Y+=r)),o||(this._IsRTL?n.X=0:(h=n.X,n.X=u-i,n.X<0&&(n.X=h))),this._ContextMenu.show(n.X,n.Y,!1)}},u.prototype._ab1=function(){this._ContextMenu&&this._ContextMenu.hide&&this._ContextMenu.hide()},u.prototype._a7=function(t,i){var r=i,u=i.Event,f;this.isLive()&&this._Enabled&&(this._ab1(),r.ShowMenu=!0,this.ContextMenu.fire(t,r),r.ShowMenu&&(f=n.calculateMouseCoords(u),this._aQV(f))),r.ShowNativeMenu||u.preventDefault()},u.prototype._bp=function(n,t){if(this.isLive()&&this._Enabled)return this.Click.fire(n,t)},u.prototype._hu=function(n,t){if(this.isLive()&&this._Enabled)return this.DblClick.fire(n,t)},u.prototype._db=function(n,t){if(this.isLive()&&this._Enabled)return this.KeyDown.fire(n,t)},u.prototype._hv=function(n,t){if(this.isLive()&&this._Enabled)return this.KeyUp.fire(n,t)},u.prototype._aQW=function(n,t){if(this.isLive()&&this._Enabled)return this.KeyPress.fire(n,t)},u.prototype._bk=function(t,i){if(this.isLive()&&this._Enabled){var r=i.Event;return r.pointerType===n.Ui.PointerEventType.Touch&&(this._aQX=n.Date.now(),this._bEd=n.calculateMouseCoords(r)),this.MouseDown.fire(t,i)}},u.prototype._dQ=function(t,i){var u,r;if(this.isLive()&&this._Enabled)return u=i.Event,u.pointerType===n.Ui.PointerEventType.Touch&&this._aQX&&!n.IsIE&&this._ContextMenu&&this._aQX&&(!this._ContextMenu.getIsVisible()&&n.Date.now()-this._aQX>666&&(r=n.calculateMouseCoords(i.Event),Math.abs(this._bEd.X-r.X)<40&&Math.abs(this._bEd.Y-r.Y)<40&&this._a7(t,i)),delete this._aQX),this.MouseUp.fire(t,i)},u.prototype._cG=function(t,i){this.isLive()&&this._Enabled&&n.reallyOver(this._DomNode,i.Event)&&this.MouseOver.fire(t,i)},u.prototype._b0=function(t,i){var r,u;this.isLive()&&this._Enabled&&n.reallyOut(this._DomNode,i.Event)&&(r=n.Ui.Control._HoveredStack,r&&(u=r.indexOf(this),u>-1&&r.splice(u,1),this.setIsHovered(!1)),this.MouseOut.fire(t,i))},u.prototype._m0=function(t,i){var e,o;if(t===this){if(!this._ContentDraggable){this.DragStart.fire(this,i);return}this._qf=n.htmlToDOM("<div class='PPDragClone' style='position: absolute;'><\/div>"),e=this._DomNode.offsetHeight,o=this._DomNode.offsetWidth,n.setCapture(this._qf);var r=n.calculateOffset(this._DomNode),u={X:0,Y:0},f=this._DomNode.offsetParent;f&&n.getStyle(f,"position")!="static"&&(u=n.calculateOffset(f)),this._qf.style.height=e+"px",this._qf.style.width=o+"px",this._qf.style.left=r.X+"px",this._qf.style.top=r.Y+"px",this._cp2=u.X,this._cp3=u.Y,this._cp4=r.X,this._cp5=r.Y,i.MovingNode=this._qf,this.DragStart.fire(this,i)}},u.prototype._cp6=function(n,t){n===this&&this.Drag.fire(this,t)},u.prototype._a8Q=function(t,i){var r,u,f;if(t===this){if(n.releaseCapture(this._qf),r=n.getStyle(this._DomNode,"position"),r!="relative"&&r!="absolute"&&(this._DomNode.style.position="absolute",r="absolute"),this._qf)if(r=="absolute")u=n.Ui.getPixelSize(this._DomNode,"margin-left"),f=n.Ui.getPixelSize(this._DomNode,"margin-top"),this._DomNode.style.left=parseInt(this._qf.style.left)-this._cp2-u+"px",this._DomNode.style.top=parseInt(this._qf.style.top)-this._cp3-f+"px";else{var e=this._DomNode.style.left||"0",o=this._DomNode.style.top||"0",s=parseInt(e),h=parseInt(o);this._DomNode.style.left=s+parseInt(this._qf.style.left)-this._cp4+"px",this._DomNode.style.top=h+parseInt(this._qf.style.top)-this._cp5+"px"}delete this._qf,this.DragEnd.fire(this,i)}},u.prototype._atp=function(t,i){n.Ui.Control._HoveredStack||(n.Ui.Control._HoveredStack=[]),n.Ui.Control._HoveredStack.push(this),n.isTouch||this._aCI.guid||n.domEvent.addEvent(document,"pointerup",this._aCI,this),this.DragOver.fire(this,i)},u.prototype._cp7=function(n,t){this.DragOut.fire(this,t)},u.prototype._cp8=function(n,t){this.DragDrop.fire(this,t)},u.prototype._aCI=function(){var u=n.Ui.Control._HoveredStack,r,f;if(u){for(r=0,f=u.length;r<f;r++)u[r].setIsHovered(!0);delete n.Ui.Control._HoveredStack}n.isTouch||(n.domEvent.removeEvent(document,"pointerup",this._aCI,this),delete this._aCI.guid)},u.prototype._bq=function(t,i){i.Event&&i.Event.pointerType!==n.Ui.PointerEventType.Mouse||(this._ToolTipTOId&&n.clearTimeout(this._ToolTipTOId),this._ToolTip&&this._ShowToolTip&&(n.domEvent.addEvent(this._DomNode,"pointermove",this._atq,this),this._ToolTipTOId=n.setTimeout(this._aQY,500,{Self:this},this)))},u.prototype._aQY=function(t){var i,r,u,f;t!=null&&t.Self!=null&&t.Self.isLive()&&(i=t.Self,n.domEvent.removeEvent(i._DomNode,"pointermove",i._atq,i),r=i._ToolTipCoords,r)&&(u=r.X,f=r.Y,i._ToolTipCoords=null,i._Enabled&&i._ShowToolTip&&i._ToolTip&&n.isVisible(i._DomNode)&&i._ToolTip.show(u,f+24))},u.prototype._atq=function(t,i){this._ToolTipCoords=n.calculateMouseCoords(i.Event)},u.prototype._fZ=function(){this.hideToolTip()},u.prototype._aW=function(){},u.prototype._a8P=function(){},u.prototype._initFromHTML=function(t){var i,r;i=t?n.isString(t)?n.htmlToDOM(t):t:document.createElement("div"),this._DomNode=i,this._Id!=null&&this.setId(this._Id),n.isNumber(this.getTabIndex())||this.setTabIndex(this._TabIndex),this._ToolTip&&this.setToolTip(this._ToolTip),this._Style&&(r=this._Style,delete this._Style,this.setStyle(r)),this._lG(),this._Class&&n.addClass(i,this._Class),n.initOS(i)},u.prototype._lG=function(){var r,u,t,i;this._Width&&this._Width!=="0"&&(r=this._Width,this._Width=null,n.Ui.Control.prototype.setWidth.call(this,r,!1)),this._Height&&this._Height!=="0"&&(u=this._Height,this._Height=null,n.Ui.Control.prototype.setHeight.call(this,u,!1)),t=this._Width,i=this._Height,t&&n.isString(t)&&t.indexOf("%")<0&&t!=="auto"&&(this._Width=parseFloat(t)),i&&n.isString(i)&&i.indexOf("%")<0&&i!=="auto"&&(this._Height=parseFloat(i))},u.prototype._atr=function(){this._DomNode&&(this._DomNode.dir=this._IsRTL?"rtl":"ltr")},u.prototype._bW=function(t,i,r,u){var o,e,f,h,s;if(typeof r=="undefined"&&(r="Content"),o=this["_"+r],!i)throw new n.ArgumentNullException(this);if(o!==t||u){if(o)for(o=n.toArray(o),e=0;e<o.length;e++)o[e]instanceof n.Ui.Control&&o[e].removeFromDOM();if(t===undefined)this["_"+r]=null;else if(this["_"+r]=t,n.removeChildren(i),n.isDefined(t)&&t!==null)for(t=n.toArray(t),e=0;e<t.length;e++)f=t[e],h=typeof f,n.isPrimitive(f)||n.isDate(f)?i.insertAdjacentHTML("beforeEnd",f):f&&(f instanceof n.Ui.Control?(f.setIsRTL(this._IsRTL),f.addToNode(i)):f.PPType?(t[e]=n.create(f),t[e].addToNode(i)):f instanceof n.Object||i.appendChild(f))}if(i===this._DomNode&&this._StyleNodes)for(s=0;s<this._StyleNodes.length;s++)this._DomNode.appendChild(this._StyleNodes[s])},u.prototype._render=function(){var t=this._DomNode,i=this._Enabled,r=this._IsRTL;this._IsRTL=null,this._Enabled=null,u.prototype.setIsRTL.call(this,r),this._IsRTL&&this.setIsRTL(!0),this.setEnabled(i),this._IsVisible||this.setIsVisible(this._IsVisible),this.setResourceKey(this._ResourceKey),this._Opacity!=1&&this.setOpacity(this._Opacity),this._Rotate!=0&&n.Ui.rotateNode(t,this._Rotate),this.setDraggable(this._Draggable),this.setAllowDrop(this._AllowDrop),this.addClass(this._ReleaseClass)},u.prototype._bEb=function(t){var i=this._Events,e,r,o,u,f;i||(i=this._Events={}),e=n.Ui.Control._EventMap,r=t?t:this.getTypeName(),i[r]||(i[r]={}),o=i[r];for(u in e)f=e[u],o[u]=this[u]=new n.NativeDelegate(null,null,null,{NativeEvent:this._yi(f.NativeEvent),HandleName:f.HandleName,IsTouchDisabled:f.IsTouchDisabled,ParentControl:this})},u.prototype.getParent=function(){return this._Parent},u.prototype.getDomNode=function(){return this._DomNode},u.prototype.getParentNode=function(){return this._ParentNode},u.prototype.getResourceKey=function(){return this._ResourceKey},u.prototype.setParent=function(n){this._Parent=n},u.prototype.setResource=function(n){this.setSettings(n)},u.prototype.bindEvents=function(){if(!this._cQ)return this._bindEvents.apply(this,arguments)},u.prototype.unBindEvents=function(){return this._unBindEvents.apply(this,arguments)},u.prototype.addEventHandler=function(t,i){return this[t]&&this[t]instanceof n.Delegate?!!this[t].add(i,this):!1},u.prototype.removeEventHandler=function(t,i){if(this[t]&&this[t]instanceof n.Delegate)return!!this[t].remove(i,this)},u.prototype.updatePosition=function(){this.PositionChanged.fire(this)},u.prototype.getTop=function(){var t=parseInt(this._Top+"");return this._Parent&&n.isString(this._Top)&&this._Top.indexOf("%")>-1&&(t=this._Parent.getHeight()*t/100),t},u.prototype.setTop=function(n){this._Top=n;var t=parseInt(this._DomNode.style.top);this._Top!==t&&(this._Parent?this.updatePosition():this._DomNode.style.top=typeof n=="string"?n+"":n+"px")},u.prototype.getLeft=function(){var t=parseInt(this._Left+"");return this._Parent&&n.isString(this._Left)&&this._Left.indexOf("%")>-1&&(t=this._Parent.getWidth()*t/100),t},u.prototype.setLeft=function(n){this._Left=n;var t=parseInt(this._DomNode.style.left);this._Left!==t&&(this._Parent?this.updatePosition():this._DomNode.style.left=typeof n=="string"?n+"":n+"px")},u.prototype.getBottom=function(){var t=parseInt(this._Bottom+"");return this._Parent&&n.isString(this._Bottom)&&this._Bottom.indexOf("%")>-1&&(t=this._Parent.getHeight()*t/100),t},u.prototype.setBottom=function(n){this._Bottom!=n&&(this._Bottom=n,this._Parent&&this.updatePosition())},u.prototype.getRight=function(){var t=parseInt(this._Right+"");return this._Parent&&n.isString(this._Right)&&this._Right.indexOf("%")>-1&&(t=this._Parent.getWidth()*t/100),t},u.prototype.setRight=function(n){this._Right!=n&&(this._Right=n,this._Parent&&this.updatePosition())},u.prototype.getAnchorFlags=function(){if(!this._AnchorFlags){this._AnchorFlags={Top:!1,Bottom:!1,Left:!1,Right:!1,None:!0};for(var i=n.Array.isArray(this._Anchors)?this._Anchors:[this._Anchors],r=i.length,t=0;t<r;t++)switch(i[t]){case n.AnchorStyles.Top:this._AnchorFlags.Top=!0,this._AnchorFlags.None=!1;break;case n.AnchorStyles.Left:this._AnchorFlags.Left=!0,this._AnchorFlags.None=!1;break;case n.AnchorStyles.Right:this._AnchorFlags.Right=!0,this._AnchorFlags.None=!1;break;case n.AnchorStyles.Bottom:this._AnchorFlags.Bottom=!0,this._AnchorFlags.None=!1}}return this._AnchorFlags},u.prototype.setAnchors=function(n){this._Anchors=n,this._AnchorFlags=null,this.updatePosition()},u.prototype.addClass=function(t){if(t){this._Class||(this._Class="");var i=" "+this._Class+" ";i.indexOf(" "+t+" ")<0&&(this._Class+=" "+t),this._Class=n.String.trim(this._Class),n.addClass(this._DomNode,t)}},u.prototype.removeClass=function(t){if(t){var i=this._Class||"";i.indexOf(t)>-1&&(i==t?this._Class="":(i=" "+i+" ",i=i.replace(" "+t+" "," "),this._Class=n.String.trim(i)),n.removeClass(this._DomNode,t))}},u.prototype.addStateClass=function(t){var u,i,r,f;for(this.removeStateClasses(),u=n.StateStyle.getStyles(t),i=0,r=u;i<r.length;i++){f=r[i];switch(f){case n.ControlState.Release:this.addClass(this._ReleaseClass);break;case n.ControlState.Hover:this.addClass(this._HoverClass);break;case n.ControlState.Press:this.addClass(this._PressClass);break;case n.ControlState.Active:this.addClass(this._ActiveClass);break;case n.ControlState.Disable:this.addClass(this._DisableClass)}}},u.prototype.removeStateClasses=function(){this.removeClass(this._ReleaseClass),this.removeClass(this._PressClass),this.removeClass(this._HoverClass),this.removeClass(this._ActiveClass),this.removeClass(this._DisableClass)},u.prototype.getId=function(){return this._DomNode?this._DomNode.id:r.prototype.getId.call(this)},u.prototype.setId=function(n){r.prototype.setId.call(this,n),this._DomNode&&(this._DomNode.id=n)},u.prototype.setSize=function(n,t,i){this.setWidth(n,i),this.setHeight(t,i)},u.prototype.setWidth=function(t,i){var o=arguments[2],u={OldValue:this._Width,NewValue:t,WidthChanged:!0,HeightChanged:!1,Cancel:!1},e=t!=this._Width||i==!0,f,r;i!==!1&&this.SizeChanging.fire(this,u),e&&!u.Cancel&&(f=this._DomNode,r=f.style,this._Width=this._g(parseFloat(t+"")),t===""||t===null?r.width="":t==="auto"?r.width="auto":t&&n.isString(t)&&(t+"").indexOf("%")>-1?this._Width=r.width=t:(r.width=this._Width+"px",n.IsIE&&(f.className=f.className))),this._Parent&&o!==!1&&this.updatePosition(),i!==!1&&!u.Cancel&&e&&this.SizeChanged.fire(this,u)},u.prototype.getWidth=function(){var t=this._DomNode;return t&&(!this._Width||!n.isNumber(this._Width))?t.offsetWidth:+this._Width},u.prototype.setHeight=function(t,i){var o=arguments[2],u={OldValue:this._Height,NewValue:t,WidthChanged:!1,HeightChanged:!0,Cancel:!1},e=t!=this._Height||i==!0,f,r;i!==!1&&this.SizeChanging.fire(this,u),e&&!u.Cancel&&(f=this._DomNode,r=f.style,this._Height=this._g(parseInt(t+"",10)),t===""||t===null?r.height="":t==="auto"?r.height="auto":t&&n.isString(t)&&(t+"").indexOf("%")>-1?this._Height=r.height=t:(r.height=this._Height+"px",n.IsIE&&(f.className=f.className))),this._Parent&&o!==!1&&this.updatePosition(),i!==!1&&e&&!u.Cancel&&this.SizeChanged.fire(this,u)},u.prototype.getHeight=function(){var t=this._DomNode;return t&&(!this._Height||!n.isNumber(this._Height))?t.offsetHeight:+this._Height},u.prototype.updateSize=function(){},u.prototype.setContent=function(n){this._Content=n},u.prototype.getContent=function(){return this._Content},u.prototype.getFocused=function(){return this._DomNode===document.activeElement},u.prototype.getContextMenu=function(){return this._ContextMenu},u.prototype.setContextMenu=function(n){this._ContextMenu=n,this._ContextMenu&&this._ContextMenu.setIsRTL(this._IsRTL)},u.prototype.setEnabled=function(t){var i=arguments[1];this._Enabled===t&&t===!0&&!i&&this._DomNode&&(i=this._DomNode.getAttribute("enabled")!=="enabled"),this._Enabled===t&&t===!1&&!i&&this._DomNode&&(i=this._DomNode.getAttribute("disabled")!=="disabled"),(this._Enabled!==t||i)&&(this._Enabled=t,n.Ui.setEnblTo(t,this._DomNode),t?(this.removeClass(this._DisableClass),this._kS&&this._kS.parentNode===this._DomNode&&this._DomNode.removeChild(this._kS)):(this.setIsHovered(!1),this.addClass(this._DisableClass),this._alC(),this._kS&&this._DomNode.appendChild(this._kS)),this.EnabledChanged.fire(this,{})),this.setTabIndex(this._TabIndex)},u.prototype.getEnabled=function(){return this._Enabled},u.prototype.setIsHovered=function(t){n.hasClass(this._DomNode,this._ActiveClass)?t&&this._Enabled?this.addClass(this._HoverClass):this.removeClass(this._HoverClass):this.addStateClass(t&&this._Enabled?n.ControlState.Hover:n.ControlState.Release)},u.prototype.setAnimation=function(n){this._Animation=n},u.prototype.setToolTip=function(t){t&&(this.MouseOver.contains(this._bq,this)||(this.MouseOver.add(this._bq,this),this.MouseOut.add(this._fZ,this))),this._ToolTip&&!t&&this.MouseOver.contains(this._bq,this)&&(this.MouseOver.remove(this._bq,this),this.MouseOut.remove(this._fZ,this)),t instanceof u?(this._ToolTip&&this._ToolTip instanceof u&&this._ToolTip.dispose(),this._ToolTip=t):t?!n.isString(t)&&n.isDefined(t.PPType)?this._ToolTip=n.create(t):(this._ToolTip instanceof u&&this._ToolTip.isLive()||(this._ToolTip=n.create({PPType:"PP.Ui.ToolTip"})),this._ToolTip.setContent(t)):this._ToolTip=null,this._ToolTip&&this._ToolTip.isLive()&&this._ToolTip.setIsRTL(this._IsRTL)},u.prototype.getToolTip=function(){return this._ToolTip},u.prototype.setShowToolTip=function(n){this._ShowToolTip!=n&&(this._ShowToolTip=n)},u.prototype.hideToolTip=function(){this._ToolTipTOId&&n.clearTimeout(this._ToolTipTOId),n.domEvent.removeEvent(this._DomNode,"pointermove",this._atq,this),this._ToolTip&&this._ToolTip.hide()},u.prototype.setTabIndex=function(n){this._TabIndex=n,this._DomNode&&(this.isLive()&&this._Enabled&&n!==null&&!isNaN(n)?this._DomNode.setAttribute("tabindex",n.toString()):this._DomNode.removeAttribute("tabindex"))},u.prototype.getTabIndex=function(){return this.isLive()&&!this._Enabled?this._TabIndex:this._DomNode?parseInt(this._DomNode.getAttribute("tabindex")):null},u.prototype.getIsRTL=function(){return this._IsRTL},u.prototype.setIsRTL=function(t){var i=arguments[1],r;t=!!t,this._IsRTL===t&&t===!0&&!i&&this._DomNode&&(i=this._DomNode.getAttribute("dir")!=="rtl"),this._IsRTL===t&&t===!1&&!i&&this._DomNode&&(i=this._DomNode.getAttribute("dir")!=="ltr"),(this._IsRTL!==t||i)&&(this._IsRTL=t,this._ContextMenu&&(r=this._ContextMenu,r instanceof n.Ui.Control?r.setIsRTL(t):r.IsRTL=t),this._ToolTip&&this._ToolTip.isLive&&this._ToolTip.isLive()&&this._ToolTip.setIsRTL(t),this._atr())},u.prototype.setResourceKey=function(t){this._ResourceKey&&n.resourceManager.isControlRegistered(this)&&n.resourceManager.unRegisterControl(this),this._ResourceKey=t,this._ResourceKey&&n.resourceManager.registerControl(this)},u.prototype.setIsVisible=function(t){if(!this._DomNode)throw new n.ArgumentException(this,"It's abstract class.");n.isBoolean(t)&&(t=t?n.Ui.Visibility.Visible:n.Ui.Visibility.Collapsed);var i=!1,r=this._DomNode.style;switch(t){case n.Ui.Visibility.Collapsed:n.hide(this._DomNode),i=this._IsVisible!==!1,this._IsVisible=!1;break;case n.Ui.Visibility.Visible:i=this._IsVisible!==!0,this._IsVisible=!0,r.visibility="",n.show(this._DomNode);break;case n.Ui.Visibility.Hidden:r.visibility="hidden",i=this._IsVisible!==!1,this._IsVisible=!1}i&&this.VisibleChanged.fire(this,{})},u.prototype.getIsVisible=function(){return this._IsVisible},u.prototype.setDraggable=function(n){this._Draggable=n,n?(t.DragDrop.doDrag(this),t.DragDrop.DragStart.addOne(this._m0,this),t.DragDrop.DragMove.addOne(this._cp6,this),t.DragDrop.DragEnd.addOne(this._a8Q,this)):t.DragDrop.unDrag(this)},u.prototype.getDraggable=function(){return this._Draggable},u.prototype.setAllowDrop=function(n){this._AllowDrop=n,n?(t.DragDrop.doDrop(this),t.DragDrop.DragOver.addOne(this._atp,this),t.DragDrop.DragOut.addOne(this._cp7,this),t.DragDrop.DragDrop.addOne(this._cp8,this)):t.DragDrop.unDrop(this)},u.prototype.getAllowDrop=function(){return this._AllowDrop},u.prototype.setData=function(n){this._Data=n},u.prototype.getData=function(){return this._Data},u.prototype.setHelpKey=function(n){this._HelpKey=n},u.prototype.getHelpKey=function(){return this._HelpKey},u.prototype.getStateStyle=function(){return this._Style},u.prototype.getStyle=function(t){return this._Style instanceof n.Style?this._Style:!this._Style&&!t?{}:this._Style&&this._Style.getState(t)},u.prototype.setStyle=function(t){var i=this._Style;n.isString(t)?(this._Style=new n.StateStyle({Default:new n.Style({CustomCss:t})}),this._DomNode.setAttribute("style",t)):(this._Style=t instanceof n.Style?new n.StateStyle({Default:t.clone()}):t instanceof n.StateStyle?t.clone():new n.StateStyle(t),this.refreshStyle()),i&&i.dispose&&i.dispose()},u.prototype.refreshStyle=function(){var i,u,e,t,o,r,f,s;if(this._DomNode){for(i=this._StyleNodes=this._StyleNodes||[];i.length;)u=i[0],i.splice(0,1),u.parentNode.removeChild(u),u=null;if(!n.isString(this._Style)){e=this._Id,this._Style instanceof n.Style?(t={},t[n.ControlState.Default]=this._Style,o=n.ControlState.Default):(t=this._Style.getState()||{},o=this._Style.getDefault()?n.ControlState.Default:n.ControlState.Release);for(r in t)f=t[r],s="#"+e,n.ControlState[r]===o?f.getFont()&&f.getFont().getIsUnderline()?this.addClass("PPTextUnderline"):this.removeClass("PPTextUnderline"):s+="."+this["_"+r+"Class"],r!=="Hover"&&i.push(n.Ui.addStyleBySelector(f,s,this._DomNode));t.Hover&&i.push(n.Ui.addStyleBySelector(t.Hover,"#"+e+"."+this._HoverClass,this._DomNode))}}},u.prototype.setFocus=function(){if(this.isLive()){var t=n.isDefined(this.getTabIndex());t||this.setTabIndex(0),this._DomNode.focus(),t||this.setTabIndex(null)}},u.prototype.addToNode=function(t,i,r){if(!t)throw new n.ArgumentException(this);if(n.isString(t)&&(t=document.getElementById(t),!t))throw new n.ArgumentException(this);var u=t;if(this._DomNode)i&&i.parentNode?u.insertBefore(this._DomNode,i):u.appendChild(this._DomNode);else throw new n.ArgumentException(this,"It's abstract class.");this._ParentNode=u,delete this._alD,r||this._bindEvents()},u.prototype.removeFromDOM=function(){if(this._DomNode&&this._DomNode.parentNode){n.domEvent.removeEventsByContext(document,this);var t=this._DomNode.parentNode;if(t._dDa==!0)return;this._unBindEvents(),t&&t.removeChild(this._DomNode),delete this._ParentNode}},u.prototype.show=function(){if(this._IsVisible||this.setIsVisible(!0),this._ParentNode){var t=this._DomNode.parentNode;(!t||n.IsIE&&t.nodeName=="#document-fragment")&&(this._alD&&this._alD.parentNode===this._ParentNode?this.addToNode(this._ParentNode,this._alD):this.addToNode(this._ParentNode),delete this._alD)}},u.prototype.hide=function(){if(!this._alD){var n=this._ParentNode;this._alD=this._DomNode.nextSibling,this.removeFromDOM(),this._ParentNode=n,this.setIsVisible(!1)}},u.prototype.getSettings=function(t,i,u){u=u||[],this._Parent&&n.Array.isArray(u)&&u.indexOf("_Parent")<0&&u.push("_Parent"),arguments[2]=u;var e=r.prototype.getSettings.apply(this,arguments);return e.AnchorFlags&&delete e.AnchorFlags,e},u.prototype.setSettings=function(n){n&&n.Class&&(this.addClass(n.Class),delete n.Class),r.prototype.setSettings.call(this,n)},u.prototype.getCssStyle=function(t,i){t||(t=this.getDomNode());var u=arguments.length>2?arguments[2]:!1,r=t.style[i];return(r||(r=n.getStyle(t,i)),u&&(r=parseFloat(r),isNaN(r)))?0:r},u.prototype.setRotate=function(t){this._Rotate!==t&&(this._Rotate=t,n.Ui.rotateNode(this._DomNode,t))},u.prototype.setOpacity=function(n){var i=arguments[1],t=this._DomNode&&this._DomNode.style;this._Opacity===n&&t&&(i=t.opacity!=n+""),(this._Opacity!==n||i)&&(this._Opacity=n,t.opacity!=undefined&&(t.opacity=n.toString()))},u.prototype.getIsBinded=function(){return this._cQ},u.prototype.dispose=function(){this.isLive()&&(n.cultureChanged&&n.cultureChanged.remove(this._aW,this),n.cultureChanging&&n.cultureChanging.remove(this._a8P,this),this.removeFromDOM(),this._Data=undefined,this._Tag=undefined,this._Value=undefined,this._alD=undefined,this._ParentNode=undefined,this._Parent=undefined,n.resourceManager.isControlRegistered(this)&&n.resourceManager.unRegisterControl(this),r.prototype.dispose.call(this))},u}(n.Object);r._dDc=0,r._HoveredStack=null,r._EventMap={Click:{NativeEvent:"click",HandleName:"_bp"},DblClick:{NativeEvent:"dblclick",HandleName:"_hu"},KeyDown:{NativeEvent:"keydown",HandleName:"_db"},KeyPress:{NativeEvent:"keypress",HandleName:"_aQW"},KeyUp:{NativeEvent:"keyup",HandleName:"_hv"},MouseDown:{NativeEvent:"pointerdown",HandleName:"_bk",UseBaseHandler:!0},MouseUp:{NativeEvent:"pointerup",HandleName:"_dQ",UseBaseHandler:!0},MouseOver:{NativeEvent:"pointerover",HandleName:"_cG"},MouseOut:{NativeEvent:"pointerout",HandleName:"_b0"},ContextMenu:{NativeEvent:"contextmenu",HandleName:"_a7",UseBaseHandler:!0},DragOver:{NativeEvent:"pointerover",IsTouchDisabled:!0,HandleName:"_cG"},DragOut:{NativeEvent:"pointerout",IsTouchDisabled:!0,HandleName:"_b0"}},r._EventTypeAliases={mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",click:"pointerclick",dblclick:"pointerdblclick"},f([e("0")],r.prototype,"_Width",void 0),f([e("0")],r.prototype,"_Height",void 0),t.Control=r,n.Object.defineProps(n.Ui.Control,["Tag","Value","Parent","Data","Content","ContentDraggable"],!0),n.Object.defineProps(n.Ui.Control,["ParentNode","Anchors","Class","ContextMenu","Enabled","Animation","ToolTip","ShowToolTip","IsRTL","ResourceKey","IsVisible","Rotate","Opacity","DomNode"])})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["ResizeStart","Resizing","Resize","Resized","ResizeEnd"]),this._EnableResizeTop=!0,this._EnableResizeLeft=!0,this._EnableResizeRight=!0,this._EnableResizeBottom=!0,this._ResizeOnMouseUp=!1,this._DefferedResizerClass="",this._MinWidth=0,this._MinHeight=0,this._MaxWidth=-1,this._MaxHeight=-1},r.prototype._initFields=function(i){i=i||{},n.isDefined(i.EnableResize)&&(i.EnableResizeTop=i.EnableResize,i.EnableResizeLeft=i.EnableResize,i.EnableResizeRight=i.EnableResize,i.EnableResizeBottom=i.EnableResize),t.prototype._initFields.call(this,i)},r.prototype._render=function(){this._yj(),t.prototype._render.call(this),this._af6()},r.prototype._alE=function(){var n=document.documentElement,t=document.body,i=Math.max(n.clientHeight,t.offsetHeight),r=Math.max(n.clientWidth,t.offsetWidth);return{Width:r,Height:i}},r.prototype._bW=function(n,i){t.prototype._bW.apply(this,arguments),i===this._DomNode&&(this._yj(),this._af6())},r.prototype._yj=function(){var t=n.createElement(null,"Resizer"),i=n.createElement(null,"Resizer"),r=n.createElement(null,"Resizer"),u=n.createElement(null,"Resizer"),f=n.createElement(null,"Resizer"),e=n.createElement(null,"Resizer"),o=n.createElement(null,"Resizer"),s=n.createElement(null,"Resizer");this._ResizerMap={T:{resizer:t,enabled:!1},L:{resizer:i,enabled:!1},R:{resizer:r,enabled:!1},B:{resizer:u,enabled:!1},TL:{resizer:f,enabled:!1},TR:{resizer:e,enabled:!1},BL:{resizer:o,enabled:!1},BR:{resizer:s,enabled:!1}}},r.prototype._d8=function(t,i){this._ResizerMap||this._yj();var u=this._ResizerMap[t]||{},r=u.resizer;r&&i!==u.enabled&&(u.enabled=i,i?(n.addClass(r,"Resizer"),r.setAttribute("ResizeWay",t),this._DomNode.appendChild(r)):(n.removeClass(r,"Resizer"),r.removeAttribute("ResizeWay",t),r.parentNode&&r.parentNode.removeChild(r)))},r.prototype._af6=function(){this._d8("T",this._EnableResizeTop),this._d8("B",this._EnableResizeBottom),this._d8(this._IsRTL?"R":"L",this._EnableResizeLeft),this._d8(this._IsRTL?"L":"R",this._EnableResizeRight),this._d8(this._IsRTL?"TR":"TL",this._EnableResizeTop&&this._EnableResizeLeft),this._d8(this._IsRTL?"TL":"TR",this._EnableResizeTop&&this._EnableResizeRight),this._d8(this._IsRTL?"BR":"BL",this._EnableResizeBottom&&this._EnableResizeLeft),this._d8(this._IsRTL?"BL":"BR",this._EnableResizeBottom&&this._EnableResizeRight)},r.prototype._a8R=function(t){this._u5||(this._u5=document.createElement("div"),this._DefferedResizerClass&&n.addClass(this._u5,this._DefferedResizerClass),t&&n.addClass(this._u5,t),document.body.appendChild(this._u5))},r.prototype._bEe=function(){this._u5&&(this._u5.parentNode&&this._u5.parentNode.removeChild(this._u5),delete this._u5)},r.prototype._bEf=function(t){var s=this._alE(),h=s.Height,c=s.Width,l=Math.max(0,Math.min(c,n.calculateMouseX(t))),a=Math.max(0,Math.min(h,n.calculateMouseY(t))),i=l-this._cp9,r=a-this._cqa,e=this._sn.getLeft(),o=this._sn.getTop(),u=this._sn.getWidth(),f=this._sn.getHeight();switch(this._qg){case"L":e+=i,u+=-i;break;case"R":u+=i;break;case"T":o+=r,f+=-r;break;case"B":f+=r;break;case"TL":o+=r,f+=-r,e+=i,u+=-i;break;case"TR":o+=r,u+=i,f+=-r;break;case"BR":u+=i,f+=r;break;case"BL":e+=i,f+=r,u+=-i}return this._alF||(this._alF=new n.Rect),this._alF.setLeft(e),this._alF.setTop(o),this._alF.setWidth(u),this._alF.setHeight(f),this._cqb(this._alF,this._qg),this._alF},r.prototype._cqb=function(n,t){var u=n.getLeft(),f=n.getTop(),i=n.getWidth(),r=n.getHeight();this._MinWidth>-1&&i<this._MinWidth&&((t==="L"||t==="TL"||t==="BL")&&(u-=this._MinWidth-i),i=this._MinWidth),this._MaxWidth>-1&&i>this._MaxWidth&&((t==="L"||t==="TL"||t==="BL")&&(u+=i-this._MaxWidth),i=this._MaxWidth),this._MinHeight>-1&&r<this._MinHeight&&((t==="T"||t==="TL"||t==="TR")&&(f-=this._MinHeight-r),r=this._MinHeight),this._MaxHeight>-1&&r>this._MaxHeight&&((t==="T"||t==="TL"||t==="TR")&&(f+=r-this._MaxHeight),r=this._MaxHeight),n.setTop(f),n.setLeft(u),n.setWidth(i),n.setHeight(r)},r.prototype._bEg=function(n){n.getLeft()!==this._sn.getLeft()&&this.setLeft(n.getLeft()),n.getTop()!==this._sn.getTop()&&this.setTop(n.getTop()),n.getWidth()!==this._sn.getWidth()&&this.setWidth(n.getWidth()),n.getHeight()!==this._sn.getHeight()&&this.setHeight(n.getHeight())},r.prototype._a8S=function(){n.isDefined(this._a8T)&&(document.body.style.cursor=this._a8T,delete this._a8T)},r.prototype._cqc=function(t,i){var r=i.Event,e=r.target||r.srcElement,o=this.getCssStyle(null,"position"),u,f;u=o=="absolute"||o=="relative"?{X:this._g(n.getStyle(this._DomNode,"left")),Y:this._g(n.getStyle(this._DomNode,"top"))}:n.calculateOffset(this._DomNode),this._af7=this._ResizerMap[e.getAttribute("ResizeWay")].resizer,this._qg=this._af7.getAttribute("ResizeWay"),this._cp9=n.calculateMouseX(r),this._cqa=n.calculateMouseY(r),this._sn=new n.Rect({Left:u.X,Top:u.Y,Width:this.getWidth(),Height:this.getHeight()}),this._ResizeOnMouseUp&&(this._bEh=n.calculateOffset(this._DomNode)),typeof this._af7.ownerSVGElement=="undefined"&&n.hasClass(this._af7,"Resizer")&&this._qg&&(n.setCapture(this._af7),this._bV(document,{mousemove:this._cF,mouseup:this._yk}),this._bV(document.body,{mousewheel:this._ab2,DOMMouseScroll:this._ab2}),r.preventDefault(),this._af8=!0),this._a8T=document.body.style.cursor,document.body.style.cursor=this.getCssStyle(e,"cursor"),f={ResizeWay:this._qg,Rect:this._sn,Event:r,Cancel:!1},this.ResizeStart.fire(this,f),f.Cancel&&this._yk(t,i)},r.prototype._cF=function(t,i){var f=i.Event,e=this._alE(),o=Math.max(0,Math.min(e[0],n.calculateMouseX(f))),s=Math.max(0,Math.min(e[1],n.calculateMouseY(f))),r,u;return o&&o<0||s&&s<0?(this._yk(t,i),!1):(r=this._bEf(f),this._sn.isEqual(r))?!1:(this._ResizeOnMouseUp?(this._u5||this._a8R(),u=this._u5.style,u.left=this._bEh.X+r.getLeft()-this._sn.getLeft()+"px",u.top=this._bEh.Y+r.getTop()-this._sn.getTop()+"px",u.width=r.getWidth()+"px",u.height=r.getHeight()+"px"):this._bEg(r),this.Resize.fire(this,{ResizeWay:this._qg,Rect:r,Event:i.Event}),!1)},r.prototype._yk=function(t,i){this._a8S();var r,u=i.Event;this._ResizeOnMouseUp&&(this._bEe(),r=this._bEf(u),this._bEg(r)),this._k(document,"mousemove",this._cF),this._k(document,"mouseup",this._yk),this._k(document.body,"mousewheel",this._ab2),this._k(document.body,"DOMMouseScroll",this._ab2),this._af7&&n.releaseCapture(this._af7),u.stopPropagation(),u.preventDefault(),this._af7=null,this._af8=!1,this.ResizeEnd.fire(this,{ResizeWay:this._qg,Rect:r,Event:i.Event})},r.prototype._dDd=function(n,t){this._af8&&this._yk(n,t)},r.prototype._dDe=function(n,t){this._af8&&this._cF(n,t)},r.prototype._bk=function(n,i){this.isLive()&&this._Enabled&&this._a8U(n,i),t.prototype._bk.call(this,n,i)},r.prototype._a8U=function(t,i){var r=i.Event,e=r.target||r.srcElement,f=n.calculateMouseButton(r),u;this._ResizerMap&&(u=this._ResizerMap[e.getAttribute("ResizeWay")],u&&u.enabled&&(f===n.MouseButton.Left||i.Event.pointerType===n.Ui.PointerEventType.Touch&&f===0)&&this._cqc(t,i))},r.prototype._ab2=function(){return!1},r.prototype.setIsRTL=function(n){if(this._IsRTL!==n){var i=this._EnableResizeTop,r=this._EnableResizeLeft,u=this._EnableResizeRight,f=this._EnableResizeBottom;this._EnableResizeTop=!1,this._EnableResizeLeft=!1,this._EnableResizeRight=!1,this._EnableResizeBottom=!1,this._af6(),this._EnableResizeTop=i,this._EnableResizeLeft=r,this._EnableResizeRight=u,this._EnableResizeBottom=f,this._af6()}t.prototype.setIsRTL.call(this,n)},r.prototype.setContent=function(n){this._DomNode?this._bW(n,this._DomNode,"Content",!0):this._Content=n},r.prototype.setWidth=function(n,i){var r=n===""||n===null||n==="0"||n==="auto"||(n+"").indexOf("%")>-1;r||(n=parseInt(n+"",10),this._MinWidth>-1&&n<this._MinWidth&&(n=this._MinWidth),this._MaxWidth>-1&&n>this._MaxWidth&&(n=this._MaxWidth)),t.prototype.setWidth.call(this,n,i)},r.prototype.setHeight=function(n,i){var r=n===""||n===null||n==="0"||n==="auto"||(n+"").indexOf("%")>-1;r||(n=parseInt(n+"",10),this._MinHeight>-1&&n<this._MinHeight&&(n=this._MinHeight),this._MaxHeight>-1&&n>this._MaxHeight&&(n=this._MaxHeight)),t.prototype.setHeight.call(this,n,i)},r.prototype.setMaxWidth=function(n){n!=this._MaxWidth&&(this._MaxWidth=n,this._MaxWidth<this._MinWidth&&(this._MaxWidth=this._MinWidth),this.getWidth()>this._MaxWidth&&this.setWidth(this._MaxWidth))},r.prototype.setMaxHeight=function(n){n!=this._MaxHeight&&(this._MaxHeight=n,this._MaxHeight<this._MinHeight&&(this._MaxHeight=this._MinHeight),this.getHeight()>this._MaxHeight&&this.setHeight(this._MaxHeight))},r.prototype.setMinWidth=function(n){if(n!=this._MinWidth){this._MinWidth=n,this._MinWidth>this._MaxWidth&&(this._MinWidth=this._MaxWidth);var t=this.getWidth();t&&t<this._MinWidth&&this.setWidth(this._MinWidth),this._DomNode&&(this._DomNode.style.minWidth=this._MinWidth+"px")}},r.prototype.setMinHeight=function(n){if(n!=this._MinHeight){this._MinHeight=n,this._MinHeight>this._MaxHeight&&(this._MinHeight=this._MaxHeight);var t=this.getHeight();t&&t<this._MinHeight&&this.setHeight(this._MinHeight),this._DomNode&&(this._DomNode.style.minHeight=this._MinHeight+"px")}},r.prototype.getMinWidth=function(){return this._MinWidth},r.prototype.getMinHeight=function(){return this._MinHeight},r.prototype.getMaxWidth=function(){return this._MaxWidth},r.prototype.getMaxHeight=function(){return this._MaxHeight},r.prototype.getResizeOnMouseUp=function(){return this._ResizeOnMouseUp},r.prototype.getDefferedResizerClass=function(){return this._DefferedResizerClass},r.prototype.setResizeOnMouseUp=function(n){this._ResizeOnMouseUp=n},r.prototype.setDefferedResizerClass=function(n){this._DefferedResizerClass=n},r.prototype.getEnableResizeTop=function(){return this._EnableResizeTop},r.prototype.getEnableResizeLeft=function(){return this._EnableResizeLeft},r.prototype.getEnableResizeRight=function(){return this._EnableResizeRight},r.prototype.getEnableResizeBottom=function(){return this._EnableResizeBottom},r.prototype.setEnableResizeTop=function(n){this._EnableResizeTop=n,this._d8("T",this._EnableResizeTop),this._d8(this._IsRTL?"TR":"TL",this._EnableResizeTop&&this._EnableResizeLeft),this._d8(this._IsRTL?"TL":"TR",this._EnableResizeTop&&this._EnableResizeRight)},r.prototype.setEnableResizeRight=function(n){this._EnableResizeRight=n,this._d8(this._IsRTL?"L":"R",this._EnableResizeRight),this._d8(this._IsRTL?"TL":"TR",this._EnableResizeTop&&this._EnableResizeRight),this._d8(this._IsRTL?"BL":"BR",this._EnableResizeBottom&&this._EnableResizeRight)},r.prototype.setEnableResizeLeft=function(n){this._EnableResizeLeft=n,this._d8(this._IsRTL?"R":"L",this._EnableResizeLeft),this._d8(this._IsRTL?"TR":"TL",this._EnableResizeTop&&this._EnableResizeLeft),this._d8(this._IsRTL?"BR":"BL",this._EnableResizeBottom&&this._EnableResizeLeft)},r.prototype.setEnableResizeBottom=function(n){this._EnableResizeBottom=n,this._d8("B",this._EnableResizeBottom),this._d8(this._IsRTL?"BR":"BL",this._EnableResizeBottom&&this._EnableResizeLeft),this._d8(this._IsRTL?"BL":"BR",this._EnableResizeBottom&&this._EnableResizeRight)},r.prototype.setEnableResize=function(n){this._EnableResizeTop=n,this._EnableResizeLeft=n,this._EnableResizeRight=n,this._EnableResizeBottom=n,this._af6()},r.prototype.getEnableResize=function(){return this._EnableResizeLeft||this._EnableResizeRight||this._EnableResizeTop||this._EnableResizeBottom},r.prototype.getIsResizing=function(){return this._af8},r.prototype.removeFromDOM=function(){this._af8===!0&&n.releaseCapture(this._af7),t.prototype.removeFromDOM.call(this)},r}(t.Control);t.ResizableControl=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){n.SVG={DEFS_ID:0,NAMESPACE:"http://www.w3.org/2000/svg",removeChildren:function(n){for(var t=n.childNodes,i=t.length-1;t.length>0;i--)n.removeChild(t[i])},removeElement:function(n){n.parentNode&&n.parentNode.removeChild(n)},back:function(n){n.parentNode&&n.parentNode.firstChild!=n&&n.parentNode.insertBefore(n,n.parentNode.firstChild)},svg:function(t){var i=n.SVG.element(t,"svg");return i.setAttribute("xmlns",n.SVG.NAMESPACE),i.setAttribute("version","1.1"),n.IsIE&&(i.style.overflow="hidden"),i},element:function(t,i){var r=document.createElementNS(n.SVG.NAMESPACE,i);return t&&t.appendChild(r),r},polygon:function(t,i){var r=n.SVG.element(t,"polygon");return i&&r.setAttribute("points",i),r},group:function(t,i){var u=n.SVG.element(t,"g"),r,f;if(i)for(r=0;r<i.length;r++)f=i[r],u.appendChild(f);return u},image:function(t,i){var r=n.SVG.element(t,"image");return i&&n.SVG.setAttr(r,{Src:i}),r},rect:function(t){return n.SVG.element(t,"rect")},roundRect:function(t){return n.SVG.rect(t)},circle:function(t){return n.SVG.element(t,"circle")},line:function(t,i,r,u,f){var e=n.SVG.element(t,"line");return i!=undefined&&e.setAttribute("x1",i.toString()),r!=undefined&&e.setAttribute("y1",r.toString()),u!=undefined&&e.setAttribute("x2",u.toString()),f!=undefined&&e.setAttribute("y2",f.toString()),e},ellipse:function(t){return n.SVG.element(t,"ellipse")},path:function(t){return n.SVG.element(t,"path")},dashArray:function(n,t,i){var r,f,u;i=i||1;switch(t){case"dotted":case"dot":r=[1,3];break;case"dashed":case"dash":r=[4,3];break;case"shortdot":r=[1,1];break;case"shortdash":r=[3,1];break;case"shortdashdot":r=[3,1,1,1];break;case"dashdot":r=[4,3,1,3];break;case"longdashdot":r=[8,3,1,3];break;case"shortdashdotdot":r=[3,1,1,1,1,1];break;case"dashdotdot":r=[4,3,1,3,1,3];break;case"longdashdotdot":r=[8,3,1,3,1,3];break;default:r=[]}if(r.length){for(f=[],u=0;u<r.length;u++)f.push(Math.round(r[u]*i));n.setAttribute("stroke-dasharray",f.join(",")),n.setAttribute("stroke-dashoffset",(i%2/2).toString())}else n.removeAttribute("stroke-dasharray"),n.removeAttribute("stroke-dashoffset")},style:function(t,i){var r,u,f,e,o;i.getEnabled()&&(r=i.getShadow(),r&&(u=r.getAngle()||0,!u&&(r.getX()||r.getY())&&(u=Math.atan2(r.getX(),-r.getY())*180/Math.PI-90),n.SVG.shadow(t,r.getColor(),r.getSize(),r.getDistance(),u,r.getBlurSize(),r.getOpacity(),!1)),f=i.getFont(),f&&n.SVG.font(t,f),e=i.getBorder(),e&&n.SVG.border(t,e),o=i.getBackground(),o&&n.SVG.brush(t,o))},border:function(t,i,r,u){i=i?i:"#000000";var e=function(t){return t instanceof n.Color?t.toString():n.Color.getColor(t).toString()},h=function(t){return n.isString(t)?t:"solid"},o=i instanceof n.Border,s=n.isObject(i)&&!(i instanceof n.Color),f;o&&!i.getEnabled()||s&&n.getProperty(i,"Enabled")===!1?(r=0,u="solid",f="#000000"):o?(r=i.getWidth(),u=i.getStyle(),f=i.getColor().toString()):s?(r=n.getProperty(i,"Width")||0,u=n.getProperty(i,"Style")||"solid",f=e(n.getProperty(i,"Color"))):f=e(i),n.SVG.dashArray(t,u,r),n.SVG.setAttr(t,{Stroke:f,StrokeWidth:r})},_ats:undefined,shadow:function(t,i,r,u,f,e,o,s){var y,p,a,d,c,w,k,v,rt,h,b,g,ut,l;if(i=i||"#000000",y=0,p=0,!n.isObject(i)||i instanceof n.Color?(r=r||0,u=u||0,f=f||0,e=e||0,o=o||1):(a=i,s=r,r=a.Size||0,u=a.Distance||0,f=a.Angle||0,e=a.EnableBlur?a.BlurSize||0:0,o=a.Opacity||1,y=a.X||0,p=a.Y||0,i=a.Color||a),i instanceof n.Color||typeof i!="string"||(i=n.Color.getColor(i)),i instanceof n.Color||typeof i!="number"||(i=new n.Color(i)),!u||y||p?(y||p)&&(u=Math.sqrt(y*y+p*p)):(d=f*Math.PI/180,y=Math.round(u*Math.cos(d)),p=Math.round(u*Math.sin(d))),w=n.SVG._aQZ(t,"isShadow"),w){w.tagName.toLowerCase()==="filter"?(c=w,k=c.getAttribute("id")):w.tagName.toLowerCase()==="defs"&&(k="shadow"+n.SVG.DEFS_ID,n.SVG.DEFS_ID++,c=n.SVG.element(null,"filter"),n.SVG.setAttr(c,{Id:k,IsShadow:!0}),c.refShape=t,w.appendChild(c)),v=n.IsFF?n.SVG.getBoundsRect(t,!0):t.getBBox(),v.width&&v.height||(v=n.SVG.getBoundsRect(t,!0));var nt=(r>0?r:0)+e+u,tt=v.width?(v.width+nt)*100/v.width:0,it=v.height?(v.height+nt)*100/v.height:0;for(n.SVG.setAttr(c,{X:-tt+"%",Y:-it+"%",Width:tt*2+"%",Height:it*2+"%"}),n.SVG._ats=n.SVG._ats||["feMorphology","feColorMatrix","feMorphology","feGaussianBlur","feOffset","feColorMatrix","feComposite","feBlend"],rt=c.childNodes,h=[],l=0;l<n.SVG._ats.length;l++)(b=rt[l])&&b.tagName===n.SVG._ats[l]?h[l]=b:(b&&c.removeChild(b),h[l]=n.SVG.element(null,n.SVG._ats[l]));for(n.SVG.setAttr(h[0],{Operator:"erode",Radius:1}),n.SVG.setAttr(h[1],{Result:"mask",Type:"matrix",Values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1000 0"}),n.SVG.setAttr(h[2],{In:"SourceGraphic",Operator:r>0?"dilate":"erode",Radius:Math.abs(r)}),n.SVG.setAttr(h[4],{DX:y,DY:p}),i instanceof n.Color&&n.SVG.setAttr(h[5],{Type:"matrix",Values:"0 0 0 0 "+i.getR()/255+" 0 0 0 0 "+i.getG()/255+" 0 0 0 0 "+i.getB()/255+" 0 0 0 "+o*i.getOpacity()+" 0"}),n.SVG.setAttr(h[3],{StdDeviation:Math.round(e/2.55)}),n.SVG.setAttr(h[6],{In2:"mask",Operator:"out"}),s?h[7]&&(h[7].parentNode&&c.removeChild(h[7]),h.pop()):n.SVG.setAttr(h[7],{In2:"SourceGraphic",Mode:"screen"}),l=n.SVG._ats.length-(s?2:1);l>=0;l--)(g=h[l]).parentNode||((ut=h[l+1])?c.insertBefore(g,ut):c.appendChild(g));return n.SVG.setAttr(t,{Filter:"url(#"+k+")"}),c}},brush:function(t,i,r){if(!i.getEnabled()){n.SVG.setAttr(t,{FillOpacity:0});return}if(i instanceof n.SolidColorBrush)n.SVG._cqd(t,i,r);else if(i instanceof n.ImageBrush)n.SVG.imgFill(t,{Opacity:i.getOpacity(),Source:i.getSource()});else if(i instanceof n.LinearGradientBrush){var f=0,e=0,u=n.SVG.getBoundsRect(t);u&&u.width&&u.height||(u=n.SVG._bEi(t)),u&&u.width&&u.height&&(f=u.width,e=u.height),n.SVG.linearGradient(t,i,f,e,r)}else i instanceof n.RadialGradientBrush&&n.SVG.radialGradient(t,i,r)},SIMPLE_COLOR_REGEXP:/^(#([0-9a-f]{6})|none|transparent)$/i,_cqd:function(t,i,r){var f={},u=i.getColor().toString(),e=r?"Stroke":"Fill",o,s;u.toLowerCase()=="transparent"?f[e+"Opacity"]=0:(o=i.getOpacity(),n.SVG.SIMPLE_COLOR_REGEXP.test(u)||(s=new n.Color(parseInt(u)),u=s.toString(),o=s.getOpacity()),f[e]=u,f[e+"Opacity"]=o),n.SVG.setAttr(t,f)},imgFill:function(t,i){var y=n.isDefined(n.getProperty(i,"Opacity"))?n.getProperty(i,"Opacity"):1,a=n.getProperty(i,"Source"),o,s,r,u,f=n.SVG._aQZ(t,"isBrush"),v=f.tagName.toLowerCase(),e;v!=="pattern"?(v==="defs"?s=f:(s=t.parentNode.getElementsByTagNameNS(n.SVG.NAMESPACE,"defs")[0],s.removeChild(f)),o="pattern"+n.SVG.DEFS_ID,n.SVG.DEFS_ID++,r=n.SVG.element(null,"pattern"),n.SVG.setAttr(r,{Id:o,PatternUnits:"userSpaceOnUse",IsBrush:!0}),r.refShape=t,s.appendChild(r),u=n.SVG.element(null,"image"),r.appendChild(u)):(r=f,o=f.id,u=f.getElementsByTagNameNS(n.SVG.NAMESPACE,"image")[0],u||(u=n.SVG.element(null,"image"),r.appendChild(u))),e=document.createElement("img"),e.src=a;var h=e.width,c=e.height,l=!1;h&&c?n.SVG.setAttr(r,{Width:h,Height:c}):l=!0,n.SVG.setAttr(u,{XLinkHref:a}),h&&c?n.SVG.setAttr(u,{Width:h,Height:c}):l=!0,l&&n.setTimeout(n.SVG._aQ0,1e3,{Image:e,ImageElement:u,PatternElement:r}),n.SVG.setAttr(t,{Fill:"url(#"+o+")",FillOpacity:y})},linearGradient:function(t,i,r,u,f){var p=i instanceof n.LinearGradientBrush?i:new n.LinearGradientBrush(i),rt=p.getGradientStops(),k,o,w,ut=!1,ft=!1,e=-p.getAngle(),b=p.getOpacity(),s=p.getStartPoint(),h=p.getEndPoint(),tt,y,it,nt;if(b=n.isDefined(b)?b:1,s instanceof n.Point||(ut=!0,s=new n.Point(s||{X:0,Y:0})),h instanceof n.Point||(ft=!0,h=new n.Point(h||{X:1,Y:0})),n.isNumber(e)){for(n.isNumber(r)&&n.isNumber(u)||(tt=n.SVG.getBoundsRect(t),r=tt.width,u=tt.height);e<0;)e+=Math.PI*2;while(e>=Math.PI*2)e-=Math.PI*2;var c=r/2,l=u/2,a=Math.sin(e),v=Math.cos(e),d=r*a-u*v,g=r*a+u*v;e>=0&&e<Math.PI/2?(c=d*a/2,l=-d*v/2):e>=Math.PI/2&&e<Math.PI?(c=r-a*g/2,l=v*g/2):e>=Math.PI&&e<Math.PI*3/2?(c=r-a*d/2,l=u+v*d/2):e>=Math.PI*3/2&&e<Math.PI*2&&(c=a*g/2,l=u-v*g/2),s.setX(c/r),s.setY((u-l)/u),h.setX((r-c)/r),h.setY(l/u)}return y=n.SVG._aQZ(t,f?"isBorder":"isBrush"),it=y.tagName.toLowerCase(),it!=="lineargradient"?(it==="defs"?k=y:(k=t.parentNode.getElementsByTagNameNS(n.SVG.NAMESPACE,"defs")[0],k.removeChild(y)),w="linearGradient"+n.SVG.DEFS_ID,n.SVG.DEFS_ID++,o=n.SVG.element(null,"linearGradient"),k.appendChild(o),nt={Id:w},f?nt.IsBorder=!0:nt.IsBrush=!0,n.SVG.setAttr(o,nt),o.refShape=t):(o=y,w=y.id),n.SVG.setAttr(o,{X1:s.getX(),Y1:s.getY(),X2:h.getX(),Y2:h.getY(),GradientUnits:n.isNumber(e)?"userSpaceOnUse":"objectBoundingBox"}),n.SVG._bEj(o,rt),f?n.SVG.setAttr(t,{Stroke:"url(#"+w+")",StrokeOpacity:b}):n.SVG.setAttr(t,{Fill:"url(#"+w+")",FillOpacity:b}),o},radialGradient:function(t,i,r){var c=i instanceof n.RadialGradientBrush?i:new n.RadialGradientBrush(i),h,f,e,a=c.getGradientStops(),o=c.getOpacity(),u=c.getCenter(),s=n.SVG._aQZ(t,"isBrush"),l=s.tagName.toLowerCase();return u=n.isDefined(u)?u.clone():new n.Point,o=n.isDefined(o)?o:1,u.setX(u.getX()*100),u.setY(u.getY()*100),l!=="radialgradient"?(l==="defs"?h=s:(h=t.parentNode.getElementsByTagNameNS(n.SVG.NAMESPACE,"defs")[0],h.removeChild(s)),e="radialGradient"+n.SVG.DEFS_ID,n.SVG.DEFS_ID++,f=n.SVG.element(null,"radialGradient"),n.SVG.setAttr(f,{Id:e,IsBrush:!0}),f.refShape=t,h.appendChild(f)):(f=s,e=s.id),n.SVG.setAttr(f,{CX:u.getX()+"%",CY:u.getY()+"%"}),n.SVG._bEj(f,a),r?n.SVG.setAttr(t,{Stroke:"url(#"+e+")",StrokeOpacity:o}):n.SVG.setAttr(t,{Fill:"url(#"+e+")",FillOpacity:o}),f},_bEj:function(t,i){var u,f,e,r;for(i=i||[],i.map(function(t){return t instanceof n.GradientStop?t:new n.GradientStop(t)}),f=t.childNodes,e=i.length;f.length>e;)t.removeChild(t.lastChild);for(r=0;r<i.length;r++){var o=i[r],h=o.getOffset()*100,s=o.getColor();t.childNodes[r]?u=t.childNodes[r]:(u=n.SVG.element(null,"stop"),t.appendChild(u)),n.SVG.setAttr(u,{Offset:h+"%",StopColor:s.toString(),StopOpacity:s.getOpacity()})}},getRootSvgNode:function(t){if(!t.parentNode)return!1;if(t.parentNode.tagName.toLowerCase()==="svg")return t.parentNode;n.SVG.getRootSvgNode(t.parentNode)},_aQZ:function(t,i){var u=t.parentNode,r,o,s,f,e;for(u&&(r=u.getElementsByTagNameNS(n.SVG.NAMESPACE,"defs")[0]),r&&r.parentNode==u||(r=n.SVG.element(null,"defs"),u&&(o=u.firstChild,o?u.insertBefore(r,o):u.appendChild(r))),s=r.childNodes,e=0;e<s.length;e++)if((f=s[e])&&f.getAttribute(i)&&f.refShape===t)return f;return r},span:function(t,i){var r=n.SVG.element(t,"tspan");return i&&r.appendChild(document.createTextNode(i)),r},text:function(t,i){var r=n.SVG.element(t,"text");return i&&r.appendChild(document.createTextNode(i)),r},setTextContent:function(n,t){for(var r=n.childNodes,i=0;i<r.length;i++)n.removeChild(r[i]);t&&n.appendChild(document.createTextNode(t))},font:function(t,i,r,u,f,e,o,s){i=i||"#000000",i instanceof n.Font?(r=i.getSize()||11,u=i.getFontFamily()||"Arial",f=i.getIsBold()||!1,e=i.getIsItalic()||!1,o=i.getIsUnderline()||!1,i=i.getColor().toString()||"#000000"):typeof i!="object"||i instanceof n.Color?(i=i instanceof n.Color?i.toString():i,r=r?r:0,u=u?u:"Arial",f=f?f:!1,e=e?e:!1,o=o?o:!1,s=s||n.SizeUnits.Px):(r=i.Size||i["@Size"]||11,u=i.FontFamily||i["@FontFamily"]||"Arial",f=i.IsBold||i["@IsBold"]||!1,e=i.IsItalic||i["@IsItalic"]||!1,o=i.IsUnderline||i["@IsUnderline"]||!1,i=i instanceof n.Color?i.toString():i,s=n.getProperty(i,"SizeUnits")||n.SizeUnits.Px),t.style.fill=i,s!=n.SizeUnits.Px&&(r=n.convertSizeUnits(r,s,n.SizeUnits.Px)),t.style.fontSize=r+"px",t.style.fontFamily=u+", Helvetica",t.style.fontWeight=f?"bold":"normal",t.style.fontStyle=e?"italic":"normal",t.style.textDecoration=o?"underline":"none",t.style.position="absolute",t.style.fontVariant="normal",t.style.lineHeight="normal"},_bEk:function(n,t,i){return(n-t)/i+t},scale:function(t,i,r,u,f,e,o){var s=t.scaleData,a=o?t.getAttribute("transform")||"":"",h="",c,l;s===undefined&&(s={y:0,x:0,dy:0,dx:0,offLeft:0,offTop:0,factor:1}),f==undefined&&(f=s.offLeft),e==undefined&&(e=s.offTop),r||u?(s.offLeft=f,s.offTop=e):(s.dy=s.dx=s.y=s.x=r=u=0,s.factor=1,s.offLeft=f=f/i,s.offTop=e=e/i),s.x=n.SVG._bEk(r,s.x,s.factor),s.y=n.SVG._bEk(u,s.y,s.factor),s.dx+=(r-s.x)/i,s.dy+=(u-s.y)/i,(s.x!==0||s.y!==0)&&(h="translate("+s.x+","+s.y+") "),h+="scale("+i+") ",c=-s.x+s.dx+f,l=-s.y+s.dy+e,(c!==0||l!==0)&&(h+="translate("+c+","+l+")"),s.factor=i,t.scaleData=s,n.SVG.setAttr(t,{Transform:h+a})},rotate:function(t,i,r,u,f){var o=0,s=0,h=f?t.getAttribute("transform")+" "||"":"",e;typeof r=="number"?(s=r,o=u):(e=n.SVG.getBoundsRect(t),e&&(s=e.width,o=e.height)),h+="rotate("+i+","+s+","+o+")",n.SVG.setAttr(t,{Transform:h})},translate:function(n,t,i,r){var u;u=r?" "+n.getAttribute("transform")||"":"",n.setAttribute("transform","translate("+t+","+i+")"+u)},getBoundsRect:function(t,i){if(i)return n.SVG._bEi(t);try{return t.getBBox()}catch(r){return{x:0,y:0,width:0,height:0}}},COMPRESS_SPACES:/[\s\r\t\n]+/gm,COMPRESS_SPACES_AND_COMMAS:/[,\s\r\t\n]+/gm,TRIM_SPACES:/(^\s+)|(\s+$)/gm,COMMAND_SPLITTER:/([a-zA-Z])/gm,SHORTHAND_ARC:/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,INT_DIGITS:/([0-9])([+\-])/gm,FLOAT_DIGITS:/(\.[0-9]*)(\.)/gm,IDENTITY:new Float32Array([1,0,0,0,1,0,0,0,1]),splitPathText:function(t){return t?(t=t.replace(/,/gm," ").replace(n.SVG.COMMAND_SPLITTER," $1 ").replace(n.SVG.INT_DIGITS,"$1 $2").replace(n.SVG.FLOAT_DIGITS,"$1 $2").replace(n.SVG.SHORTHAND_ARC,"$1 $3 $4 ").replace(n.SVG.COMPRESS_SPACES," ").replace(n.SVG.TRIM_SPACES,""),t.split(" ")):[]},getPathPoints:function(t,i){for(var f=n.SVG.splitPathText(t),u=-1,nt=f.length-1,ft="",ti="",a=null,tt={x:0,y:0},r={x:0,y:0},bt={m:!0,l:!0,h:!0,v:!0,c:!0,s:!0,q:!0,t:!0,a:!0,z:!0},et=/^[A-Za-z]$/,b,ii,v,h=[],o,at,vt,e,s,rt,ut;u<nt;){ti=ft,ft=f[++u],v=ft.toLowerCase(),o=bt[ft];switch(v){case"m":for(at=!0;u<nt&&!f[u+1].match(et);)r={x:parseFloat(f[++u])+(o?r.x:0),y:parseFloat(f[++u])+(o?r.y:0)},at&&(a&&h.push({x:a.x,y:a.y}),a=r,r.brk=!0,at=!1),h.push(r);break;case"l":case"h":case"v":while(u<nt&&!f[u+1].match(et))r={x:r.x,y:r.y},(v==="l"||v==="h")&&(r.x=parseFloat(f[++u])+(o?r.x:0)),(v==="l"||v==="v")&&(r.y=parseFloat(f[++u])+(o?r.y:0)),h.push(r);break;case"c":case"s":case"q":case"t":while(u<nt&&!f[u+1].match(et)){var ot=r,k=void 0,st=void 0;for(v==="s"||v==="t"?(vt=bt[ii],tt=k={x:r.x+(vt?r.x-tt.x:0),y:r.y+(vt?r.y-tt.y:0)}):tt=k={x:parseFloat(f[++u])+(o?r.x:0),y:parseFloat(f[++u])+(o?r.y:0)},(v==="c"||v==="s")&&(tt=st={x:parseFloat(f[++u])+(o?r.x:0),y:parseFloat(f[++u])+(o?r.y:0)}),r={x:parseFloat(f[++u])+(o?r.x:0),y:parseFloat(f[++u])+(o?r.y:0)},e=i;e<1;e+=i)s=1-e,st?h.push({x:s*s*(s*ot.x+3*e*k.x)+e*e*(3*s*st.x+e*r.x),y:s*s*(s*ot.y+3*e*k.y)+e*e*(3*s*st.y+e*r.y)}):h.push({x:s*(s*ot.x+2*e*k.x)+e*e*r.x,y:s*(s*ot.y+2*e*k.y)+e*e*r.y});h.push(r)}break;case"a":while(u<nt&&!f[u+1].match(et)){var d=parseFloat(f[++u]),g=parseFloat(f[++u]),kt=parseFloat(f[++u])*(Math.PI/180),ri=parseFloat(f[++u]),yt=parseFloat(f[++u]);b={x:parseFloat(f[++u])+(o?r.x:0),y:parseFloat(f[++u])+(o?r.y:0)};var l=r.x-b.x,y=r.y-b.y,ht=Math.sin(kt),ct=Math.cos(kt),c={x:(ct*l+ht*y)/(2*d),y:(-ht*l+ct*y)/(2*g)},it=c.x*c.x+c.y*c.y;it>1&&(rt=Math.sqrt(it),c.x/=rt,c.y/=rt,d*=rt,g*=rt,it=1);var dt=(ri===yt?-1:1)*Math.sqrt((1-it)/it)||0,p={x:dt*d*c.y,y:-dt*g*c.x},gt={x:(r.x+b.x)/2+ct*p.x-ht*p.y,y:(r.y+b.y)/2+ht*p.x+ct*p.y};l=c.x-p.x/d,y=c.y-p.y/g;var ni=(y<0?-1:1)*Math.acos(l/Math.sqrt(l*l+y*y)),pt=-(c.x+p.x/d),lt=-(c.y+p.y/g),wt=(l*pt+y*lt)/Math.sqrt((l*l+y*y)*(pt*pt+lt*lt)),w=0;for(wt<=-1?w=Math.PI:wt<=1&&(w=(l*lt<y*l?-1:1)*Math.acos(wt)),yt===0&&w>0?w-=2*Math.PI:yt===1&&w<0&&(w+=2*Math.PI),ut=i;ut<1;ut+=i)h.push({x:gt.x+d*Math.cos(ni+w*ut),y:gt.y+g*Math.sin(ni+w*ut)});r=b,h.push(r)}break;case"Z":case"z":r=a?{x:a.x,y:a.y}:{x:0,y:0},h.push(r)}}return h.push(a?{x:a.x,y:a.y}:{x:0,y:0}),h.precision=i,h},_bEm:function(n,t){var i=n[0],r=n[1],u=n[2];return n[0]=i*t[0]+r*t[3]+u*t[6],n[1]=i*t[1]+r*t[4]+u*t[7],n[2]=i*t[2]+r*t[5]+u*t[8],i=n[3],r=n[4],u=n[5],n[3]=i*t[0]+r*t[3]+u*t[6],n[4]=i*t[1]+r*t[4]+u*t[7],n[5]=i*t[2]+r*t[5]+u*t[8],i=n[6],r=n[7],u=n[8],n[6]=i*t[0]+r*t[3]+u*t[6],n[7]=i*t[1]+r*t[4]+u*t[7],n[8]=i*t[2]+r*t[5]+u*t[8],n},parseTransform:function(t){var o=new Float32Array(n.SVG.IDENTITY),c,s,e,f;if(!t)return o;for(c=n.String.trim(t.replace(n.SVG.COMPRESS_SPACES_AND_COMMAS," ")),s=c.split(/\s(?=[a-z])/),e=0;e<s.length;e++){var l=s[e].split("("),a=l[0],h=l[1].replace(")",""),r=void 0,u=parseFloat(h),i=new Float32Array(n.SVG.IDENTITY);switch(a){case"translate":r=h.split(" "),i[2]=parseFloat(r[0])||0,i[5]=parseFloat(r[1])||0;break;case"scale":r=h.split(" "),i[0]=parseFloat(r[0])||0,i[4]=parseFloat(r[1])||i[0]||0;break;case"rotate":f=u*Math.PI/180||0,i[0]=i[4]=Math.cos(f),i[1]=-(i[3]=Math.sin(f));break;case"skewX":f=u*Math.PI/180||0,i[4]=Math.tan(u);break;case"skewY":f=u*Math.PI/180||0,i[1]=Math.tan(u)}n.SVG._bEm(o,i)}return o},checkLinesIntersection:function(n,t,i,r){var u=(r.x-i.x)*(n.y-i.y)-(r.y-i.y)*(n.x-i.x),f=(r.x-i.x)*(t.y-i.y)-(r.y-i.y)*(t.x-i.x),e=(t.x-n.x)*(i.y-n.y)-(t.y-n.y)*(i.x-n.x),o=(t.x-n.x)*(r.y-n.y)-(t.y-n.y)*(r.x-n.x);return u*f<0&&e*o<0},checkLineCircleIntersection:function(n,t,i,r){var f=(r.x-i.x)*(r.x-i.x)+(r.y-i.y)*(r.y-i.y),u=(i.x-n.x)*(r.x-i.x)+(i.y-n.y)*(r.y-i.y),e=(i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)-t*t;return u>0?e<0:u>f?f*e-u*u<0:f+u*2+e<0},checkIntersection:function(t,i,r,u,f){var h,v,ft,p,nt,c,o,l,tt,b,k,d,w,s,it,rt,a;if(!t)return!1;if(n.Array.isArray(i))h=JSON.parse(JSON.stringify(i));else if(i instanceof n.Rect)h=[{x:i.getLeft(),y:i.getTop()},{x:i.getLeft()+i.getWidth(),y:i.getTop()},{x:i.getLeft()+i.getWidth(),y:i.getTop()+i.getHeight()},{x:i.getLeft(),y:i.getTop()+i.getHeight()}];else if(i)h=[{x:i.x,y:i.y},{x:i.x+i.width,y:i.y},{x:i.x+i.width,y:i.y+i.height},{x:i.x,y:i.y+i.height}];else return!1;if(v=t.tagName,!v)return!1;v=v.toUpperCase();var st=n.SVG.getAttr(t,["transform"]).transform,ht=n.SVG.parseTransform(st),e=new Float32Array(u||n.SVG.IDENTITY),ct=ht;n.SVG._bEm(e,ct);var lt=new Float32Array(e),y=e[0]*e[4]*e[8]-e[0]*e[5]*e[7]-e[1]*e[3]*e[8]+e[2]*e[3]*e[7]+e[1]*e[5]*e[6]-e[2]*e[4]*e[6],ut=e[0],g=e[2],at=e[3];for(e[2]=(e[1]*e[5]-e[2]*e[4])/y,e[0]=(e[4]*e[8]-e[5]*e[7])/y,e[4]=(ut*e[8]-g*e[6])/y,e[3]=(-e[3]*e[8]+e[5]*e[6])/y,e[5]=(-ut*e[5]+g*at)/y,e[1]=(-e[1]*e[8]+g*e[7])/y,ft=JSON.parse(JSON.stringify(h)),s=0;s<h.length;s++)p=h[s],nt=p.x,p.x=nt*e[0]+p.y*e[1]+e[2],p.y=nt*e[3]+p.y*e[4]+e[5];c=!1;switch(v){case"G":for(s=0;s<t.childNodes.length&&!c;s++)c=c||n.SVG.checkIntersection(t.childNodes[s],ft,r,lt,f);return c;case"PATH":case"POLYGON":case"RECT":if(l=t.parsedPoints,r=r||.1,!l||v==="PATH"&&r!==l.precision)if(v==="PATH"){if(tt=n.SVG.getAttr(t,["d"]).d,!tt)return!1;t.parsedPoints=l=n.SVG.getPathPoints(tt,r)}else if(v==="POLYGON"){if(b=n.SVG.getAttr(t,["points"]).points,!b)return!1;for(b=n.String.trim(b.replace(n.SVG.COMPRESS_SPACES_AND_COMMAS," ")),t.parsedPoints=l=[],k=b.split(" "),s=0;s<k.length;s+=2)l.push({x:parseFloat(k[s]),y:parseFloat(k[s+1])});l[l.length]=l[0]}else{o=n.SVG.getAttr(t,["x","y","width","height"]);for(s in o)o[s]=parseFloat(o[s]);l=[{x:o.x,y:o.y},{x:o.x+o.width,y:o.y},{x:o.x+o.width,y:o.y+o.height},{x:o.x,y:o.y+o.height},{x:o.x,y:o.y}]}var vt=h[h.length]=h[0],yt={x:h[0].x,y:0},et=0;for(s=1;s<l.length&&!c;s++)if(d=void 0,w=void 0,d=w||l[s-1],w=l[s],!w.brk){for(a=1;a<h.length;a++)c=c||n.SVG.checkLinesIntersection(d,w,h[a-1],h[a]);!f&&n.SVG.checkLinesIntersection(d,w,vt,yt)&&et++}return c=c||!!(et%2);case"CIRCLE":o=n.SVG.getAttr(t,["cx","cy","r"]);for(s in o)o[s]=parseFloat(o[s])||0;it=h[0].x-o.cx,rt=h[0].y-o.cy,c=c||it*it+rt*rt<=o.r*o.r;var pt={x:o.cx,y:o.cy},wt={x:o.cx,y:-Infinity},ot=0;for(a=1;a<h.length&&!c;a++)c=c||n.SVG.checkLineCircleIntersection({x:o.cx,y:o.cy},o.r,h[a-1],h[a]),n.SVG.checkLinesIntersection(pt,wt,h[a-1],h[a])&&ot++;return c||!!(ot%2);default:return c}},setAttr:function(t,i){var h,c,e,u,o,r,s,f;if(t&&i){if(h=0,c=0,n.isNumber(i.Width)&&(h=i.Width),n.isNumber(i.Height)&&(c=i.Height),i.StrokeBrush&&(n.SVG.brush(t,i.StrokeBrush,!0),delete i.StrokeBrush),i.StrokeDashArray&&(n.SVG.dashArray(t,i.StrokeDashArray,i.StrokeWidth),delete i.StrokeDashArray),i.XLinkHref&&(!h||!c)){n.SVG._alG(t,i);return}e=t.tagName.toUpperCase(),u=t.style,i.Src&&(e==="IMAGE"||e==="IMG")&&(t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i.Src),delete i.Src),i.RoundEdge>=0&&(i.RX=i.RY=i.RoundEdge,delete i.RoundEdge),e==="OVAL"&&(i.CX!==undefined||i.CY!==undefined)&&(i.CX===undefined&&(i.CX=parseFloat(u.left)||0),i.CY===undefined&&(i.CY=parseFloat(u.top)||0),typeof i.CX=="number"&&typeof i.CY=="number"&&(i.CX=Math.round(i.CX-h/2),i.CY=Math.round(i.CY-c/2))),i.Fill&&(typeof i.Fill=="number"&&(o=new n.Color(i.Fill),i.Fill=o.toString(),n.isNumber(i.FillOpacity)||(i.FillOpacity=o.getOpacity())),i.Fill instanceof n.Color&&(n.isNumber(i.FillOpacity)||(i.FillOpacity=i.Fill.getOpacity()),i.Fill=i.Fill.toString())),i.Stroke&&(typeof i.Stroke=="number"&&(o=new n.Color(i.Stroke),i.Stroke=o.toString(),n.isNumber(i.StrokeOpacity)||(i.StrokeOpacity=o.getOpacity())),i.Stroke instanceof n.Color&&(n.isNumber(i.StrokeOpacity)||(i.StrokeOpacity=i.Stroke.getOpacity()),i.Stroke=i.Stroke.toString())),e==="G"?(n.isNumber(i.StrokeWidth)&&(u.strokeWidth=i.StrokeWidth,delete i.StrokeWidth),i.Fill&&(u.fill=i.Fill,delete i.Fill),i.Stroke&&(u.stroke=i.Stroke,delete i.Stroke),n.isNumber(i.StrokeOpacity)&&(u.strokeOpacity=i.StrokeOpacity,delete i.StrokeOpacity),(i.FillOpacity||i.FillOpacity===0)&&(u.fillOpacity=i.FillOpacity,delete i.FillOpacity)):e==="RECT"&&(n.isDefined(i.Width)&&(u.width=i.Width),i.Height&&(u.height=i.Height));for(r in i)(s="",f=i[r],typeof f!="object")&&(s=r.match(/[a-z]/)?r.split(/(?=[A-Z])/).map(function(n){return n.toLowerCase()}).join("-"):r.toLowerCase(),f||n.isNumber(f)?r.match(/xLinkHref/i)?t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f):r.match(/viewBox/i)||r.match(/isShadow/i)||r.match(/stdDeviation/i)||r.match(/patternUnits/i)||r.match(/isBrush/i)||r.match(/isBorder/i)?t.setAttribute(r,f):t.setAttribute(s,f):t.removeAttribute(s));i.Brush&&n.SVG.brush(t,i.Brush)}},getAttr:function(n,t){var u={},i,r;if(n)for(i=0;i<t.length;i++)r=t[i],u[r]=n.getAttribute(r);return u},getStroke:function(t){var r,u,i;if(t.tagName.toUpperCase()==="G")return r=t.style,{stroke:r.stroke,"stroke-width":r.strokeWidth,"stroke-opacity":r.strokeOpacity||t.getAttribute("stroke-opacity")};if(t.tagName.toUpperCase()==="GROUP"){for(u=null,i=t.firstChild;i&&!u;i=i.nextSibling)u=n.SVG.getStroke(i);return u}return n.SVG.getAttr(t,["stroke","stroke-width","stroke-opacity"])},getFill:function(t){var i;return i=t.tagName.toUpperCase()==="G"?{fill:t.style.fill,"fill-opacity":t.style.fillOpacity||t.getAttribute("fill-opacity")}:n.SVG.getAttr(t,["fill","fill-opacity"])},getSize:function(t){return n.SVG.getAttr(t,["width","height"])},getDesaturationFilter:function(){var t;if(!n.SVG._bEn.grayscale){t=n.SVG._bEn.grayscale=n.SVG.svg(),t.setAttribute("class","PPSVGFilters"),t.style.display="none";var r=n.SVG.element(t,"defs"),i=n.SVG.element(r,"filter"),u=n.SVG.element(i,"feColorMatrix");n.SVG.setAttr(i,{Id:"grayscale"}),n.SVG.setAttr(u,{Type:"matrix",Values:"0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"}),document.body.appendChild(t)}return"url(#grayscale)"},_alG:function(t,i){var r=n.htmlToDOM('<img src="'+i.XLinkHref+'" onload="PP.SVG._cqe(this);" style="position: absolute; top: -1000px; left: -1000px; visibility: hidden;"/>');r.settings=i,r.node=t,document.body.appendChild(r)},_cqe:function(t){t.removeAttribute("onload"),t.onload=null;var i=t.settings,r=t.node;delete t.settings,delete t.node,i.width=t.offsetWidth,i.height=t.offsetHeight,n.SVG.setAttr(r,i)},_bEi:function(t){var i=null,r,e,u,o=n.SVG.svg(document.body),f;return t.parentNode&&(r=t.parentNode),t.nextElementSibling&&(e=t.nextElementSibling),t.previousElementSibling&&(u=t.previousElementSibling),o.appendChild(t),t.getBoundingClientRect&&(f=t.getBoundingClientRect(),i={x:0,y:0,width:f.width,height:f.height}),i&&i.width&&i.height||!t.getBBox||(i=t.getBBox()),r?r.insertBefore(t,e||u&&u.nextSibling):document.documentElement.removeChild(t),document.body.removeChild(o),i},_aQ0:function(t){var i=t.Image.width,r=t.Image.height;i&&r?(n.SVG.setAttr(t.ImageElement,{Width:i,Height:r}),n.SVG.setAttr(t.PatternElement,{Width:i,Height:r})):n.setTimeout(n.SVG._aQ0,500,t)},_bEn:{}}}(n||(n={})),function(n){var t;(function(t){var r=function(n){function t(t){return n.call(this,t)||this}return i(t,n),t.prototype.setMetadata=function(n){this._Metadata=n},t.prototype.getMetadata=function(){return this._Metadata},t.prototype.setPropertyName=function(n){this._PropertyName=n},t.prototype.getPropertyName=function(){return this._PropertyName},t}(n.Object);t.PropertyChangedEventArgs=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var f=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._fT=function(){return this._ViewType},r.prototype._initFields=function(i){var r,f,o,u,e;if(this._Control||(this._Control=null),r=this._fT(),this._cqf(r),i=i||{},delete i.ViewType,i.Control){if(this._Control instanceof r)throw new n.ArgumentException(this);i.Control instanceof r||(f=this._bEo(i),n.extend(i.Control,f,!0),this._Control=new r(i.Control),delete i.Control),t.prototype._initFields.call(this,i)}else this._Control?t.prototype._initFields.call(this,i):(f=this._bEo(i),o=this._cqg(i),t.prototype._initFields.call(this,o),n.extend(i,f),this._Control=new r(i));e=this._Events.Control;for(u in e)if(this._Control[u])this[u]=e[u]=this._Control[u],this[u].fire=this._ProxyFire;else throw new n.ArgumentException(this);this._Control.__OwnerProxy=this},r.prototype._ProxyFire=function(t,i){n.Delegate.prototype.fire.call(this,t.__OwnerProxy?t.__OwnerProxy:t,i)},r.prototype._cqf=function(t){if(!t)throw new n.ArgumentNullException(this,"ProxyControl.ViewType == null");},r.prototype._bEo=function(t){var r={},i;for(i in t)n.isFunction(n.Ui.Control.prototype["get"+i])&&(r[i]=t[i],delete t[i]);return r},r.prototype._cqg=function(t){var r={},i;for(i in t)(this[i]instanceof n.Delegate||typeof this["_"+i]!="undefined")&&(r[i]=t[i],delete t[i]);return r},r.prototype.getControl=function(){return this._Control},r.prototype.dispose=function(){delete this._ViewType,this._Control&&delete this._Control.__OwnerProxy,t.prototype.dispose.call(this)},r}(t.Control),u,r;t.ProxyControl=f,u=n.Ui.ProxyControl.prototype;for(r in u)r=="constructor"||r in n.Object.prototype||!n.isFunction(n.Ui.Control.prototype[r])||r=="_bEb"||(u[r]=function(n){return function(){if(this._Control)return this._Control[n].apply(this._Control,arguments)}}(r))})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._aga=1,i._alH=1,i._ol=!1,i._m1=!1,i._Context=null,i._GlobalOpacity=1,i._StrokeWidth=1,i._StrokeDashArray=null,i._ScaleToDPR=!0,i._render(),i}return i(r,t),r.prototype._render=function(){this._initFromHTML('<canvas class="PPCanvas"><\/canvas>'),this._Context=this._DomNode.getContext("2d"),this.setSize(this._Width,this._Height,!0),this._ParentNode&&this.addToNode(this._ParentNode)},r.prototype._aQ1=function(t,i,r,u,f){var e,o,h,c,s;if(t=t.getSettings?t.getSettings(!0):t,i instanceof n.Rect?(r=i.getTop(),u=i.getWidth(),f=i.getHeight(),i=i.getLeft()):i||(i=r=0,u=this._Context.canvas.width,f=this._Context.canvas.height),t.PPType==="PP.SolidColorBrush")return n.getProperty(t,"Color");if(t.PPType==="PP.LinearGradientBrush")h=n.getProperty(t,"StartPoint"),c=n.getProperty(t,"EndPoint"),o=t.GradientStop||t.GradientStops.GradientStop,e=this._Context.createLinearGradient(h.X*u+i,h.Y*f+r,c.X*u+i,c.Y*f+r);else if(t.PPType==="PP.RadialGradientBrush"){var l=n.getProperty(t,"Center"),a=l.X*u+i,v=l.Y*f+r;o=t.GradientStop||t.GradientStops.GradientStop,e=this._Context.createRadialGradient(a,v,0,a,v,u)}else return"#000000";for(s=0;s<o.length;s++){var y=o[s],p=parseFloat(n.getProperty(y,"Offset")||0),w=n.getProperty(y,"Color");e.addColorStop(p,w)}return e},r.prototype._cqh=function(n,t,i,r){if(this._Context.moveTo(n,t),!this._StrokeDashArray||this._Context.setLineDash)this._Context.lineTo(i,r);else for(var e=i-n,o=r-t,f=Math.sqrt(e*e+o*o),u=0,s=!0,h=0;u<f;)u+=this._StrokeDashArray[h],u>f&&(u=f),s?this._Context.lineTo(n+e*u/f,t+o*u/f):this._Context.moveTo(n+e*u/f,t+o*u/f),s=!s,h=(h+1)%this._StrokeDashArray.length},r.prototype._cqi=function(n,t,i){var f,s;if(!this._StrokeDashArray||this._Context.setLineDash)this._Context.arc(n,t,i,0,2*Math.PI,!1);else for(var r=2*Math.PI*i,u=0,o=!0,e=0;u<r;)u+=this._StrokeDashArray[e],u>r&&(u=r),f=2*Math.PI*u/r,s=2*Math.PI*this._StrokeDashArray[e]/r,o?this._Context.arc(n,t,i,f-s,f,!1):this._Context.moveTo(n+i*Math.cos(f),t+i*Math.sin(f)),o=!o,e=(e+1)%this._StrokeDashArray.length},r.prototype._cqj=function(){if(!this._ScaleToDPR)return 1;var n=window.devicePixelRatio||1,t=this._Context.webkitBackingStorePixelRatio||this._Context.mozBackingStorePixelRatio||this._Context.msBackingStorePixelRatio||this._Context.oBackingStorePixelRatio||this._Context.backingStorePixelRatio||1;return n/t},r.prototype._a8V=function(t,i){n.isDefined(t)&&t!==null||(t=this._Width),n.isDefined(i)&&i!==null||(i=this._Height);var r=this._cqj();this._DomNode.width=t*r,this._DomNode.height=i*r,r!=1&&this._Context.scale(r,r)},r.prototype.getContext=function(){return this._Context},r.prototype.getStrokeWidth=function(){return this._StrokeWidth},r.prototype.getStrokeDashArray=function(){return this._StrokeDashArray},r.prototype.getGlobalOpacity=function(){return this._GlobalOpacity},r.prototype.getScaleToDPR=function(){return this._ScaleToDPR},r.prototype.setWidth=function(n){var i=arguments[1];return(n!==this._Width||i)&&this._a8V(n,null),t.prototype.setWidth.call(this,n),this._Context.lineWidth=this._StrokeWidth,this},r.prototype.setHeight=function(n){var i=arguments[1];return(n!==this._Height||i)&&this._a8V(null,n),t.prototype.setHeight.call(this,n),this._Context.lineWidth=this._StrokeWidth,this},r.prototype.setSize=function(n,i,r){return(n!==this._Width||i!==this._Height||r)&&this._a8V(n,i),t.prototype.setSize.call(this,n,i),this._Context.lineWidth=this._StrokeWidth,this},r.prototype.setBounds=function(n,t,i,r){this.setLeft(n),this.setTop(t),this.setSize(i,r)},r.prototype.setFillStyle=function(t,i,r,u,f){(t=t||"rgba(0, 0, 0, 0)",t!==this._Context.fillStyle)&&(this.flush(),t instanceof n.Brush||t.PPType?(this._aga=(t.getOpacity?t.getOpacity():n.getProperty(t,"Opacity"))||1,this._Context.fillStyle=this._aQ1(t,i,r,u,f)):t instanceof n.Color?(this._aga=t.getOpacity(),this._Context.fillStyle=t.toString()):(this._aga=1,this._Context.fillStyle=t))},r.prototype.setStrokeStyle=function(t,i,r,u,f){var o,e;if(t=t||"rgba(0, 0, 0, 0)",t!==this._Context.strokeStyle){if(t instanceof n.Pen||t instanceof n.Border||t.PPType==="PP.Pen"||t.PPType==="PP.Border"){t=t.getSettings?t.getSettings():t,o=n.getProperty(t,"Enabled")!==!1,this.setStrokeStyle((o?n.getProperty(t,"Color"):null)||"rgba(0, 0, 0, 0)"),this.setStrokeWidth((o?n.getProperty(t,"Width"):0)||0),this.setStrokeDashArray((o?n.getProperty(t,"Style"):null)||"solid"),e=n.getProperty(t,"Opacity"),n.isNumber(e)||(e=1),this._alH!==e&&(this.flush(),this._alH=e);return}this.flush(),t instanceof n.Brush||t.PPType?(this._alH=(t.getOpacity?t.getOpacity():n.getProperty(t,"Opacity"))||1,this._Context.strokeStyle=this._aQ1(t,i,r,u,f)):t instanceof n.Color?(this._alH=t.getOpacity(),this._Context.strokeStyle=t.toString()):(this._alH=1,this._Context.strokeStyle=t)}},r.prototype.setStrokeWidth=function(n){return this._StrokeWidth!==n&&(this.flush(),this._Context.lineWidth=this._StrokeWidth=n),this},r.prototype.setStrokeDashArray=function(t){if(n.isString(t))switch(t.toLowerCase()){case"dot":case"dotted":t=[1,3];break;case"dash":case"dashed":t=[4,3];break;case"shortdot":t=[1,1];break;case"shortdash":t=[3,1];break;case"shortdashdot":t=[3,1,1,1];break;case"dashdot":t=[4,3,1,3];break;case"longdashdot":t=[8,3,1,3];break;case"shortdashdotdot":t=[3,1,1,1,1,1];break;case"dashdotdot":t=[4,3,1,3,1,3];break;case"longdashdotdot":t=[8,3,1,3,1,3];break;default:t=null}if(t)for(var i=0;i<t.length;i++)t[i]*=this._StrokeWidth;return(!t||n.Array.isArray(t))&&(this._StrokeDashArray=t),this._Context.setLineDash&&(this.flush(),this._Context.setLineDash(t||[])),this},r.prototype.setShadow=function(t){this.flush();var i=t&&t.getSettings?t.getSettings():t;return i&&n.getProperty(i,"Enabled")!==!1?(this._Context.shadowOffsetX=n.getProperty(i,"X")||0,this._Context.shadowOffsetY=n.getProperty(i,"Y")||0,this._Context.shadowBlur=n.getProperty(i,"EnableBlur")!==!1?n.getProperty(i,"Blur")||0:0,this._Context.shadowColor=n.getProperty(i,"Color")||"#000000"):(this._Context.shadowOffsetX=this._Context.shadowOffsetY=this._Context.shadowBlur=0,this._Context.shadowColor="#000000"),this},r.prototype.setGlobalOpacity=function(n){return n!==this._GlobalOpacity&&(this.flush(),this._GlobalOpacity=n),this},r.prototype.drawLine=function(n,t,i,r){this._m1&&this.flush(),this._ol||this._Context.beginPath(),this._cqh(n,t,i,r),this._ol=!0},r.prototype.drawCircle=function(n,t,i,r,u){((r?!this._m1:this._m1)||(u?!this._ol:this._ol))&&this.flush(),(u&&!this._ol||r&&!this._m1)&&this._Context.beginPath(),this._cqi(n,t,i),this._m1=r,this._ol=u},r.prototype.drawRect=function(n,t,i,r,u,f){(this._m1||this._ol)&&this.flush(),u!==!1&&(this._Context.globalAlpha=this._aga*this._GlobalOpacity,this._Context.fillRect(n,t,i,r)),f!==!1&&(this._Context.globalAlpha=this._alH*this._GlobalOpacity,this._Context.strokeRect(n,t,i,r))},r.prototype.drawPoly=function(n,t,i){((t?!this._m1:this._m1)||(i?!this._ol:this._ol))&&this.flush(),(i&&!this._ol||t&&!this._m1)&&this._Context.beginPath(),this._Context.moveTo(n[0].x||0,n[0].y||0);for(var u=1,r=n[u];r;r=n[++u])this._Context.lineTo(r.x||0,r.y||0);this._Context.closePath(),this._m1=t,this._ol=i},r.prototype.beginPath=function(n,t){return this.flush(),this._Context.beginPath(),this._m1=n,this._ol=t,this._Context},r.prototype.endPath=function(n){n&&this._Context.closePath(),this.flush()},r.prototype.flush=function(){if(this._m1&&(this._Context.globalAlpha=this._aga*this._GlobalOpacity,this._Context.fill()),this._ol&&this._StrokeWidth){var n=this._Context.shadowColor;this._m1&&this._Context.shadowColor!=="rgba(0, 0, 0, 0)"&&(this._Context.shadowColor="rgba(0, 0, 0, 0)"),this._Context.globalAlpha=this._alH*this._GlobalOpacity,this._Context.stroke(),this._m1&&(this._Context.shadowColor=n)}this._m1=this._ol=!1},r.prototype.clear=function(){this._Context.clearRect(0,0,this._Width,this._Height)},r}(t.Control);t.Canvas=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t=function(){function n(){this._aQ2=this._cqk.bind(this)}return Object.defineProperty(n,"current",{get:function(){return n._kR||(n._kR=new n),n._kR},enumerable:!0,configurable:!0}),n.prototype._alI=function(n){return n.handlers},n.prototype._cql=function(n,t){n.handlers=t},n.prototype._a8Y=function(n){delete n.handlers},n.prototype._cqk=function(t){var i=t.type,r=t.currentTarget||this;/MSPointer/.test(i)||(n.isFreeBubblingNeeded(t)&&(t.stopPropagation=n.stopPropagation),this.fire(r,i,t))},n.prototype._cqm=function(n){return!!n._bEp},n.prototype.fire=function(n,t,i){var s=this._alI(n),e,u,f,r,o;if(!this._cqm(i)){if(s)for(u=s[t],f=0;u&&f<u.length;f++)if(r=u[f],o={Event:i,Element:n,Break:!1,Args:r.Args},e=r.Handler.call(r.Context,r.Sender||r.Context,o),o.Break)break;if(e===!1)return i.preventDefault(),i.stopPropagation(),e}},n.prototype.addEvent=function(n,t,i,r){var u=this._alI(n),f;u||(u={},this._cql(n,u)),f=u[t],f||(f=u[t]=[],n.addEventListener(t,this._aQ2,!1)),f.every(function(n){return!(n.Handler===i&&n.Context===r)})&&f.push({Context:r,Handler:i.Handler||i,Sender:i.Sender,Args:i.Args})},n.prototype.removeEvent=function(n,t,i,r){var u,f,e;if((t=t.toLowerCase(),u=this._alI(n),u)&&(f=u[t],f)){f=u[t]=f.filter(function(n){return!(n.Handler===i&&n.Context===r)}),f.length||(delete u[t],n.removeEventListener(t,this._aQ2,!1));for(e in u)return;this._a8Y(n)}},n.prototype.removeEventsByContext=function(n,t){var i=this._alI(n),r,u,f;if(i){for(r in i)u=i[r],u=i[r]=u.filter(function(n){return n.Context!==t}),u.length===0&&(delete i[r],n.removeEventListener(r,this._aQ2,!1));for(f in i)return;this._a8Y(n)}},n.prototype.removeAllEvents=function(n){var t=this._alI(n),i;if(t){for(i in t)n.removeEventListener(i,this._aQ2,!1);this._a8Y(n)}},n.prototype.hasEvent=function(n,t,i,r){var f,u;return(t=t.toLowerCase(),f=this._alI(n),!f)?!1:(u=f[t],!u)?void 0:r?u.some(function(n){return n.Handler===i&&n.Context===r}):u.some(function(n){return n.Handler===i})},n.prototype.getHandlersByNode=function(n){return this._alI(n)},n}();t.isFreeBubblingNeeded=function(n){var t=n.type;return["pointerdown","pointerup"].indexOf(t)>-1||!("PointerEvent"in window)&&(t.indexOf("mouse")>-1||t.indexOf("touch")>-1)},t.stopPropagation=function(){this._bEp=!0},n.DOMEvent=t,n.domEvent=t.current}(n||(n={})),function(n){var t;(function(t){var u,s,h,c;(function(n){n[n.Text=0]="Text",n[n.HTML=1]="HTML",n[n.JSON=2]="JSON"})(u=t.ClipboardFormat||(t.ClipboardFormat={}));var e="PPLocalClipboardText",o="PPLocalClipboardHTML",f="PPLocalClipboardJSON",r=function(){function t(){this._Id="PPClipboard",this._aCJ=null,this._a8Z=null,this._a80=null,this._so=null,this._a81=null,this._a82=null,this._alJ="",this._alK="",this._a83=!1,this._e(),this.Copied=new n.Delegate,this.Pasted=new n.Delegate,this._bindEvents()}return t.prototype._e=function(){throw new n.NotSupportedException(this,"Class has only one instance. Use PP.Ui.Clipboard.current().");},t.prototype._cqn=function(){if(!this._a81){var t=document.createElement("textarea");t.style.fontSize="12pt",n.IsIE&&n.IEVer<=9&&(t.style.filter="alpha(opacity=0)"),this._bEq(t),t.addEventListener("keydown",this._bEr),this._a81=t}return this._a81},t.prototype._bEs=function(){if(!this._a82){var n=document.createElement("div");n.contentEditable="true",n.className="PPSelect",n.tabIndex=-1,this._bEq(n),n.addEventListener("keydown",this._bEr),this._a82=n}return this._a82},t.prototype._bEr=function(n){n.preventDefault()},t.prototype._bEq=function(n){var t=document.documentElement.getAttribute("dir")==="rtl";n.style.position="fixed",n.style[t?"right":"left"]="-9999px",n.style.top="0",n.style.border="0",n.style.margin="0",n.style.padding="0",n.style.width="1px",n.style.height="1px"},t.prototype._bEt=function(n){var t=this._cqn(),i;t.value=n,document.body.appendChild(t),t.focus(),t.select();try{i=document.execCommand("copy")}catch(r){i=!1}return t.value="",i},t.prototype._cqo=function(n){var t=this._bEs(),i,r,u;t.innerHTML=n,document.body.appendChild(t),t.focus(),i=document.getSelection(),i.removeAllRanges(),r=document.createRange(),r.selectNodeContents(t),i.addRange(r);try{u=document.execCommand("copy")}catch(f){u=!1}return t.innerHTML="",u},t.prototype._aCK=function(t,i,r){n.storageManager&&(n.storageManager.setLocalItem(e,t||""),n.storageManager.setLocalItem(o,i||""),n.storageManager.setLocalItem(f,r||""))},t.prototype._cqp=function(t){if(t===void 0&&(t=u.Text),n.storageManager){if(t===u.JSON)return n.storageManager.getLocalItem(f);if(t===u.HTML){var i=n.storageManager.getLocalItem(o);if(i)return i}return n.storageManager.getLocalItem(e)||""}},t.prototype._cqq=function(t,i){var r=i.Event,u;(r.ctrlKey&&r.keyCode===n.Key.V||r.shiftKey&&r.keyCode===n.Key.Ins)&&(this._bEu()&&!document.activeElement.readOnly||this._bEv()||(this._so=document.activeElement,u=this._bEs(),u.innerHTML="",document.body.appendChild(u),u.focus()))},t.prototype._cqr=function(n,t){var r=t.Event.target,i;r.getAttribute("contenteditable")&&(this._aCJ=r,i=r.innerHTML,i==="<br>"&&(i=""),this._a8Z=i)},t.prototype._cqs=function(t,i){if(this._aQ3&&n.clearTimeout(this._aQ3),this._aCJ){this._a80=i.Event,this._aQ3=n.setTimeout(this._cqt.bind(this),0);return}var r=window.clipboardData.getData("Text")||"",u=n.escapeHTML(r)||"",f=this._so||i.Event.target;this.Pasted.fire(this,{TextValue:r,HTMLValue:u,Event:i.Event,Target:f,IsNative:!0,Successful:!0}),this._so=null},t.prototype._cqt=function(){var u=this._aCJ.innerHTML,t=window.clipboardData.getData("Text"),i=c(this._a8Z,u)||t,e=JSON.stringify(n.storageManager.getLocalItem(f)),o=this._bEw(t),r;i=n.escapeHTML(i),this._so&&this._so.focus&&this._so.focus(),this._aCK(t,i,o?"":e),r=this._so||this._aCJ,this.Pasted.fire(this,{TextValue:t||"",HTMLValue:i||"",Event:this._a80,Target:r,IsNative:!0,Successful:!0}),this._aCJ=null,this._a8Z=null,this._a80=null,this._so=null},t.prototype._u6=function(t,i){var r=i.Event.clipboardData,u=this._bEx(r,"text/plain")?r.getData("text/plain"):"",e=this._bEx(r,"text/html")?r.getData("text/html"):u,o=JSON.stringify(n.storageManager.getLocalItem(f)),s=this._bEw(u);e=n.escapeHTML(e),this._aCK(u,e,s?"":o),this.Pasted.fire(this,{TextValue:u,HTMLValue:e,Event:i.Event,Target:document.activeElement,IsNative:!0,Successful:!0})},t.prototype._bEw=function(t){var i=n.storageManager.getLocalItem(f);return t=t||"",!i||!(i.Text.replace(/\s/g,"")===t.replace(/\s/g,""))},t.prototype._bEx=function(n,t){return n.types&&window.Array.prototype.indexOf.call(n.types,t)>-1},t.prototype._bEv=function(){var n=document.activeElement,t=n&&n.getAttribute?n.getAttribute("contenteditable"):null;return t!==null&&t!=="false"},t.prototype._bEu=function(){var n=document.activeElement;return n&&n.tagName&&["INPUT","TEXTAREA"].indexOf(n.tagName)>-1},t.prototype._aQ4=function(t,i){var e=i.Event,r="",u="",o,s,c,f;if(this._a83){o=e.clipboardData,o&&!n.IsEdge&&(r=this._alJ||"",u=this._alK||r,o.setData("text/plain",r),o.setData("text/html",u),i.Event.preventDefault()),this.Copied.fire(this,{TextValue:this._alJ,HTMLValue:this._alK,Event:e,Target:null,IsNative:!1,Successful:!0});return}s=this._bEv(),c=this._bEu(),(s||c)&&(s?(u=this._cqu()||"",r=n.unescapeHTML(h(u))):c&&(f=document.activeElement,r=f.value.substr(f.selectionStart,f.selectionEnd-f.selectionStart)||"",u=n.escapeHTML(r)),this._aCK(r,u),this.Copied.fire(this,{TextValue:r,HTMLValue:u,Event:e,Target:e.target,Successful:!!(r||u),IsNative:!0}))},t.prototype._cqu=function(){var r="",n,i,t;if(typeof window.getSelection!="undefined"&&(n=window.getSelection(),n.rangeCount)){for(i=document.createElement("div"),t=0;t<n.rangeCount;++t)i.appendChild(n.getRangeAt(t).cloneContents());r=i.innerHTML}return r},t.prototype._bindEvents=function(){n.domEvent.addEvent(window,"copy",this._aQ4,this),n.domEvent.addEvent(window,"cut",this._aQ4,this),n.IsIE?(n.domEvent.addEvent(window,"keydown",this._cqq,this),n.domEvent.addEvent(window,"beforepaste",this._cqr,this),n.domEvent.addEvent(window,"paste",this._cqs,this)):n.domEvent.addEvent(window,"paste",this._u6,this)},t.prototype._yl=function(){n.domEvent.removeEventsByContext(window,this)},t.prototype.isLive=function(){return this._Id!=undefined},t.prototype.setId=function(n){this._Id=n},t.prototype.getId=function(){return this._Id},t.prototype.copy=function(t){var r,i;return this._a83=!0,this._so=document.activeElement,this._aQ3&&n.clearTimeout(this._aQ3),n.isString(t)&&(t={Text:t,HTML:""}),r="",n.isDefined(t.JSON)&&(r=n.isString(t.JSON)?t.JSON:JSON.stringify(t.JSON)),this._alJ=t.Text?t.Text+"":"",this._alK=t.HTML?t.HTML+"":"",i=!1,t.HTML?i=this._cqo(this._alK):t.Text&&(i=this._bEt(this._alJ)),i||(this._alJ=this._alK=r=""),this._aCK(this._alJ,this._alK,r),this._alJ="",this._alK="",this._so.focus&&this._so.focus(),this._so=null,this._a83=!1,i},t.prototype.paste=function(n){return n===void 0&&(n=u.Text),this._cqp(n)},t.prototype.clear=function(){this._bEt("\x00"),this._aCK("","","")},t}();r.current=function(){return r._kR||(r._kR=new s),r._kR},t.Clipboard=r,s=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t.prototype._e=function(){},t}(r),t.clipboard=r.current(),h=function(n){return n=n.replace(/<style([\s\S]*?)<\/style>/gi,""),n=n.replace(/<script([\s\S]*?)<\/script>/gi,""),n=n.replace(/<\/div>/ig,"\n"),n=n.replace(/<\/li>/ig,"\n"),n=n.replace(/<li>/ig,"\n"),n=n.replace(/<\/ul>/ig,"\n"),n=n.replace(/<\/p>/ig,"\n"),n=n.replace(/<br\s*[\/]?>/gi,"\n"),n=n.replace(/<[^>]+>/ig,"")},c=function(n,t){for(var i=0,r;i<n.length&&i<t.length&&n[i]===t[i];)i++;for(r=0;r<n.length&&r<t.length&&n.length-r>i&&t.length-r>i&&n[n.length-1-r]==t[t.length-1-r];)r++;var f=n.length-r,e=t.length-r,o=f-i,u=e-i;return u>0?t.substr(i,u):""}})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(){var i={},t={},f=4,r=10;window.addEventListener("pointerdown",function(n){var t=n.type;n.button!==0||/MSPointer/.test(t)||(i[n.pointerType]={target:n.target,path:e(n.target),timeStamp:n.timeStamp,pointerType:n.pointerType,pageX:n.pageX,pageY:n.pageY})},!0),window.addEventListener("pointerup",function(e){var w=e.type,p,v,l;if(e.button===0&&!e.PPEvent&&!/MSPointer/.test(w)&&(p=e.pointerType===n.Ui.PointerEventType.Mouse?f:r,v=i[e.pointerType],v&&!h(e,v))){if(l=o(v.path,e.target),!l)return;delete e._bEp,n.fireEvent(l,e,"pointerclick");var s=t[e.pointerType],a=s&&s[s.length-1],y=s&&s[s.length-2];a&&e.timeStamp-a.timeStamp<n.Ui.DEFAULT_TIMEOUT&&(!y||a.timeStamp-y.timeStamp>n.Ui.DEFAULT_TIMEOUT||y.target!==a.target)&&u(e,a)<=p&&n.fireEvent(l,e,"pointerdblclick"),c({target:l,timeStamp:e.timeStamp,pointerType:e.pointerType,pageX:e.pageX,pageY:e.pageY})}},!1);var e=function(n){for(var t=[];n&&n!==document.body&&n!==document.documentElement;)t.push(n),n=n.parentNode;return t},o=function(n,t){for(var i,r=0;r<n.length;r++)if(i=n[r],(i.contains||s).call(i,t))return i;return null},s=function(n){if(this===n)return!0;while(n=n.parentNode)if(n===this)return!0;return!1},h=function(t,i){var f=t.pointerType===n.Ui.PointerEventType.Touch||i.pointerType===n.Ui.PointerEventType.Touch;return f&&u(t,i)>r},u=function(n,t){return Math.max(Math.abs(t.pageX-n.pageX),Math.abs(t.pageY-n.pageY))},c=function(n){var i=t[n.pointerType];i||(i=t[n.pointerType]=[]),i.push(n),i.length>2&&i.splice(0,i.length-2)},l=function(n,t){return t===window?!0:t.contains(n)}}(),"PointerEvent"in window||function(){var s={0:0,1:1,2:4,3:2},r={},e=function(n,t,i){var o,s;i=i||{};var r,f=i.bubbles!==undefined?i.bubbles:!0,e="button"in i?i.button:n.button,u="buttons"in i?i.buttons:n.buttons;return MouseEvent&&typeof MouseEvent.constructor.prototype=="function"?(r=new MouseEvent(t,{bubbles:f,cancelable:!0,view:window,detail:1,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey,metaKey:n.metaKey,button:e,buttons:u,relatedTarget:i.relatedTarget||n.relatedTarget}),r.buttons===undefined&&(r.buttons=u)):(r=document.createEvent("MouseEvents"),r.initMouseEvent(t,f,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,i.relatedTarget||n.relatedTarget),r.buttons=u),n.offsetX!==undefined&&(r.offsetX=n.offsetX,r.offsetY=n.offsetY),r.isPrimary=n.isPrimary!==undefined?n.isPrimary:!0,n.pressure?r.pressure=n.pressure:(o=u&&u>0||e!==-1,r.pressure=o?0:.5),r.rotation=n.rotation||0,r.hwTimestamp=n.hwTimestamp||0,r.tiltX=n.tiltX||0,r.tiltY=n.tiltY||0,r.height=n.height||n.radiusX||0,r.width=n.width||n.radiusY||0,r.preventDefault=function(){n.preventDefault!==undefined&&n.preventDefault()},r.stopPropagation!==undefined&&(s=r.stopPropagation,r.stopPropagation=function(){n.stopPropagation!==undefined&&n.stopPropagation(),s.call(this)}),r},u=function(t,i,r){r=r||{},["mousemove","mouseover","mouseout","mouseenter","mouseleave"].indexOf(t.type)>-1&&(r.button=-1),t.buttons!==undefined||r.buttons||t.which===undefined||(r.buttons=s[t.which]);var u=e(t,i,r);return u.pointerId=1,u.pointerType=n.Ui.PointerEventType.Mouse,(r&&r.target?r.target:t.target).dispatchEvent(u),u},t=function(t,i,r,u){var f,o;return u=u||{},f=e(i,r,u),f.pointerId=i.identifier+2,f.pointerType=n.Ui.PointerEventType.Touch,Object&&Object.defineProperty!==undefined&&(Object.defineProperty(f,"offsetX",{get:function(){return this.currentTarget&&this.currentTarget.offsetLeft?i.clientX-this.currentTarget.offsetLeft:i.clientX}}),Object.defineProperty(f,"offsetY",{get:function(){return this.currentTarget&&this.currentTarget.offsetTop?i.clientY-this.currentTarget.offsetTop:i.clientY}})),f.preventDefault=function(){t.preventDefault()},o=f.stopPropagation,f.stopPropagation=function(){t.stopPropagation!==undefined&&t.stopPropagation(),o.call(this)},(u&&u.target?u.target:i.target).dispatchEvent(f),f},i=!1,o=-1,f=function(){i=!0,clearTimeout(o),o=setTimeout(function(){i=!1},700)};window.addEventListener("mousedown",function(n){!i&&n.isTrusted&&u(n,"pointerdown")},!0),window.addEventListener("mousemove",function(n){!i&&n.isTrusted&&u(n,"pointermove")},!0),window.addEventListener("mouseup",function(n){!i&&n.isTrusted&&u(n,"pointerup")},!0),window.addEventListener("mouseover",function(n){!i&&n.isTrusted&&u(n,"pointerover")},!0),window.addEventListener("mouseout",function(n){!i&&n.isTrusted&&u(n,"pointerout")},!0),window.addEventListener("touchstart",function(n){var u,i;if(n.isTrusted){for(u=0;u<n.changedTouches.length;u++)i=n.changedTouches[u],r[i.identifier]=i.target,t(n,i,"pointerover",{button:-1,buttons:1}),t(n,i,"pointerdown",{button:0,buttons:1});f()}},!0),window.addEventListener("touchmove",function(n){var o;if(n.isTrusted){for(o=0;o<n.changedTouches.length;o++){var i=n.changedTouches[o],e=document.elementFromPoint(i.clientX,i.clientY),u=r[i.identifier];u&&(t(n,i,"pointermove",{target:u,button:-1,buttons:1}),u!==e)&&(u&&t(n,i,"pointerout",{target:u,relatedTarget:e,button:-1,buttons:1}),e&&t(n,i,"pointerover",{target:e,relatedTarget:u,button:-1,buttons:1}),r[i.identifier]=e)}f()}},!0),window.addEventListener("touchend",function(n){var u,i,e;if(n.isTrusted){for(u=0;u<n.changedTouches.length;u++)(i=n.changedTouches[u],e=r[i.identifier],e)&&(t(n,i,"pointerup",{target:e,button:0,buttons:0}),t(n,i,"pointerout",{target:e,button:-1,buttons:0}),delete r[i.identifier]);f()}},!0)}(),n.IsWebKit&&n.isTouch&&function(){var i=["pointerId","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","screenX","screenY","clientX","clientY","ctrlKey","shiftKey","altKey","metaKey","button","buttons","relatedTarget","region","detail","view","sourceCapabilities","bubbles","cancelable","composed"],r=function(n,t){var r,u;t===void 0&&(t={}),r={},i.forEach(function(t){t in n&&(r[t]=n[t])});for(u in t)r[u]=t[u];return new PointerEvent(n.type,r)},t=function(t){var i,u;t.isTrusted&&t.pointerType===n.Ui.PointerEventType.Touch&&(i=document.elementFromPoint(t.clientX,t.clientY),t.target!==i&&(u=r(t,{target:i}),t.stopPropagation(),t.preventDefault(),i&&i.dispatchEvent(u)))};window.addEventListener("pointermove",t,!0),window.addEventListener("pointerup",t,!0)}(),function(n){var t=function(){function t(){this.HelpMapLoaded=new n.Delegate,this._el={},n.isDefined(this._HelpPath)||(this._HelpPath=n.ScriptPath),n.isDefined(this._WithNavPane)||(this._WithNavPane=!0),n.isDefined(this._Locale)||(this._Locale="ru"),n.isDefined(this._HelpMapFile)||(this._HelpMapFile="PP.HelpMap.js"),n.isDefined(this._HelpPath)||(this._HelpPath=n.HelpPath),this._HelpPath&&this.attachHelpMapFile(),n.IsIE&&(window.onhelp=document.onhelp=function(){return!1})}return t.prototype._cqw=function(){if(!n.isDefined(this._HelpPath)||!n.isDefined(this._HelpMapFile))throw new n.ArgumentException(this,"HelpManager: not set HelpPath or HelpMapFile!");var t=this._HelpPath,i=t[t.length-1];return i!=="\\"&&i!=="/"&&(t+="/"),t+this._HelpMapFile},t.prototype._bEy=function(t){var i=n.String.format(this._HelpUrl,this._Locale!="ru"?"en":"ru");t!="root"&&(i+="help_csh.htm#topicid="+t+(this._WithNavPane?",withnavpane=true":"")),window.open(i)},t.prototype._cqx=function(n,t){this.HelpMapLoaded.fire(this,t)},t.prototype.setHelpPath=function(n,t){this._HelpPath!==n&&(this._HelpPath=n,this._HelpPath&&t!=!1&&this.attachHelpMapFile())},t.prototype.runHelpEl=function(t){var r=n.Ui.getCtrlById(t.id),u=null,e,f,i;if(r&&(e=r.getTypeName(),f=r.getHelpKey(),u=this._el[e]||f&&this._el[f]),u)return this._bEy(u),!0;for(i=t.parentNode;i&&i!=window.document.body;)return this.runHelpEl(i);return this._bEy("root"),!0},t.prototype.setHelpMap=function(n){this._el=n},t.prototype.isHelpFileAttached=function(n){var i,t;for(n||(n=this._HelpMapFile),i=document.scripts,t=0;t<i.length;t++)if(i[t].src.indexOf("/"+n)>=0)return!0;return!1},t.prototype.attachHelpMapFile=function(){this.isHelpFileAttached()||n.scriptManager.loadScript(this._cqw(),new n.Delegate(this._cqx,this))},t.prototype.extendHelpMapFromFile=function(t){n.scriptManager.loadScript(t)},t.prototype.extendHelpMap=function(t){n.extend(this._el,t)},t.prototype.setHelpUrl=function(n){this._HelpUrl=n},t.prototype.setHelpMapFile=function(n){this._HelpMapFile=n},t.prototype.setLocale=function(n){this._Locale=n},t.prototype.setWithNavPane=function(n){this._WithNavPane=n},t.prototype.getHelpMap=function(){return this._el},t}();n.HelpManager=t,n.helpManager=new t}(n||(n={})),function(n){var t=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._aQ0=function(t){var i=t.Image.width,r=t.Image.height;i&&r?(t.ImageElement.setAttribute("width",i),t.ImageElement.setAttribute("height",r),t.PatternElement.setAttribute("width",i),t.PatternElement.setAttribute("height",r)):n.setTimeout(this._aQ0,500,t,this)},r.prototype.isEqual=function(n){return t.prototype.isEqual.call(this,n)&&this.getSource()===n.getSource()},r.prototype.setSource=function(n){n!==this._Source&&(this._Source=n)},r.prototype.getSource=function(){return this._Source},r.prototype.toCSSFormat=function(){return this._Enabled&&this._Source?"background:url("+this._Source+");":"background:transparent;"},r}(n.Brush);n.ImageBrush=t}(n||(n={})),function(n){var t=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype._initFields=function(){t.prototype._initFields.apply(this,arguments),this.setCenter(this._Center)},r.prototype.isEqual=function(n){if(!n)return!1;var i=t.prototype.isEqual.call(this,n);return this.getCenter()&&(i=i&&this.getCenter().isEqual(n.getCenter())),i},r.prototype.getCenter=function(){return this._Center},r.prototype.setCenter=function(t){t&&(t instanceof n.Point||(t=new n.Point(t)),t!=this._Center)&&(this._Center&&this._Center.dispose&&this._Center.dispose(),this._Center=t)},r.prototype.toCSSFormat=function(){if(!this._Enabled)return"background:transparent;";var t="",u=this._GradientStops,r=u.length,i;if(r===0||n.IsIE)return t;for(t="background:",n.IsIE&&n.IEVer>9?t+="-ms-radial-gradient":n.IsFF?t+="-moz-radial-gradient":(n.IsChrome||n.IsSafari||n.IsiPad||n.IsiPhone)&&(t+="-webkit-radial-gradient"),t+="(",i=0;i<r;i++)t+=u[i].toCSSFormat(),i<r-1&&(t+=",");return t+=");"},r.prototype.applyToCanvas=function(n,t,i,r){var f,o,u,e,s;for(t=t+r*(2*this._Center.getX()-1),i=i+r*(2*this._Center.getY()-1),f=n.createRadialGradient(t,i,0,t,i,r),o=this._GradientStops.length,u=0;u<o;u++)e=this._GradientStops[u],s=e.getColor().toString(),f.addColorStop(e.getOffset(),s);n.fillStyle=f},r.prototype.getSettings=function(){var n=t.prototype.getSettings.apply(this,arguments);return n.Center=this._Center?this._Center.getSettings():this._Center,n},r}(n.GradientBrush);n.RadialGradientBrush=t}(n||(n={})),n.Version="9.2.27.27",function(n){var t;(function(t){var o,r,u;(function(n){n[n.Base=1]="Base",n[n.CSS=2]="CSS",n[n.DOMProp=3]="DOMProp",n[n.PPProp=4]="PPProp",n[n.SVGAttr=5]="SVGAttr"})(o=t.AnimationType||(t.AnimationType={})),function(n){n[n.EaseInQuad=0]="EaseInQuad",n[n.EaseOutQuad=1]="EaseOutQuad",n[n.EaseInOutQuad=2]="EaseInOutQuad",n[n.EaseInCubic=3]="EaseInCubic",n[n.EaseOutCubic=4]="EaseOutCubic",n[n.EaseInOutCubic=5]="EaseInOutCubic",n[n.EaseInQuart=6]="EaseInQuart",n[n.EaseOutQuart=7]="EaseOutQuart",n[n.EaseInOutQuart=8]="EaseInOutQuart",n[n.EaseInQuint=9]="EaseInQuint",n[n.EaseOutQuint=10]="EaseOutQuint",n[n.EaseInOutQuint=11]="EaseInOutQuint",n[n.EaseInSine=12]="EaseInSine",n[n.EaseOutSine=13]="EaseOutSine",n[n.EaseInOutSine=14]="EaseInOutSine",n[n.EaseInExpo=15]="EaseInExpo",n[n.EaseOutExpo=16]="EaseOutExpo",n[n.EaseInOutExpo=17]="EaseInOutExpo",n[n.EaseInCirc=18]="EaseInCirc",n[n.EaseOutCirc=19]="EaseOutCirc",n[n.EaseInOutCirc=20]="EaseInOutCirc",n[n.EaseInElastic=21]="EaseInElastic",n[n.EaseOutElastic=22]="EaseOutElastic",n[n.EaseInOutElastic=23]="EaseInOutElastic",n[n.EaseInBack=24]="EaseInBack",n[n.EaseOutBack=25]="EaseOutBack",n[n.EaseInOutBack=26]="EaseInOutBack",n[n.EaseInBounce=27]="EaseInBounce",n[n.EaseOutBounce=28]="EaseOutBounce",n[n.EaseInOutBounce=29]="EaseInOutBounce"}(r=t.EaseMethods||(t.EaseMethods={})),u=function(t){function u(n){return t.call(this,n)||this}return i(u,t),u.prototype._initFields=function(i){i.Start!==undefined&&this.setStart(i.Start),i.End!==undefined&&this.setEnd(i.End),this._IsFloat=i.IsFloat||!1,n.delFrom(i,["Start","End","IsFloat"]),t.prototype._initFields.call(this,i)},u.prototype._cqy=function(t){this._Now=this._Start||this._End?this._Start instanceof n.Color?n.Ui.Animation.getStepColor(this._Start,this._End,t):this._IsFloat?n.Ui.Animation.getStepFloat(this._Start,this._End,t):n.Ui.Animation.getStepInt(this._Start,this._End,t):t},u.prototype._aCL=function(t){var i=t.AnimationObject,r;if(!i._AnimationType){this._Execute=!1;return}r=n.Date.now()-i.getStartTime(),r<i.getDuration()?(n.Delegate.fire(t.Callback,i,{Value:i.step(r)}),t.AnimationObject._Callback&&n.Delegate.fire(t.AnimationObject._Callback,i,{Value:i.step(r)})):(i._aCM(),n.Delegate.fire(t.Callback,i,{Value:i.getEnd(),IsEnd:!0}),t.Callback.clear&&t.Callback.clear(),t.AnimationObject._Callback&&(n.Delegate.fire(t.AnimationObject._Callback,i,{Value:i.getEnd(),IsEnd:!0}),t.AnimationObject._Callback.clear&&t.AnimationObject._Callback.clear()))},u.prototype._aCN=function(t){var i=t.AnimationObject,u,r;if(!t.Context["set"+t.PropName])throw new n.Exception(this,"set"+t.PropName);if(!i._AnimationType){this._Execute=!1;return}u=n.Date.now()-i.getStartTime(),u<i.getDuration()?(r=i.step(u),t.Prev!==r&&t.Context["set"+t.PropName](t.Prev=r),t.Callback&&n.Delegate.fire(t.Callback,i,{Value:r}),t.AnimationObject._Callback&&n.Delegate.fire(t.AnimationObject._Callback,i,{Value:r})):(i._aCM(),t.Prev!==i.getEnd()&&t.Context["set"+t.PropName](i.getEnd()),t.Callback&&(n.Delegate.fire(t.Callback,i,{Value:i.getEnd(),IsEnd:!0}),t.Callback.clear&&t.Callback.clear()),t.AnimationObject._Callback&&(n.Delegate.fire(t.AnimationObject._Callback,i,{Value:i.getEnd(),IsEnd:!0}),t.AnimationObject._Callback.clear&&t.AnimationObject._Callback.clear()))},u.prototype._aCO=function(t){var i=t.AnimationObject,u,r;if(t.Context[t.PropName]===undefined)throw new n.Exception(this,t.PropName);if(!i._AnimationType){this._Execute=!1;return}u=n.Date.now()-i.getStartTime(),u<i.getDuration()?(r=i.step(u),t.Context[t.PropName]=r,t.Callback&&n.Delegate.fire(t.Callback,i,{Value:r}),t.AnimationObject._Callback&&n.Delegate.fire(t.AnimationObject._Callback,i,{Value:r})):(i._aCM(),t.Context[t.PropName]=i.getEnd(),t.Callback&&(n.Delegate.fire(t.Callback,i,{Value:i.getEnd(),IsEnd:!0}),t.Callback.clear&&t.Callback.clear()),t.AnimationObject._Callback&&(n.Delegate.fire(t.AnimationObject._Callback,i,{Value:i.getEnd(),IsEnd:!0}),t.AnimationObject._Callback.clear&&t.AnimationObject._Callback.clear()))},u.prototype._bEz=function(n){switch(n.toLowerCase()){case"bottom":case"left":case"right":case"top":case"background-position":return!0}return!1},u.prototype._aCP=function(t){var i=t.AnimationObject,f,r,u;if(!i._AnimationType){this._Execute=!1;return}f=n.Date.now()-i.getStartTime(),f<i.getDuration()?(r=i.step(f),t.PropName=="background-position"?t.Context.style.backgroundPosition=r+"px 0":t.PropName=="opacity"?t.Context.style.opacity=r.toFixed(2):t.Context.style[t.PropName]=r>0||this._bEz(t.PropName)?r+"px":"0",t.Callback&&n.Delegate.fire(t.Callback,i,{Value:r}),t.AnimationObject._Callback&&n.Delegate.fire(t.AnimationObject._Callback,i,{Value:r})):(i._aCM(),u=i.getEnd(),t.PropName=="background-position"?t.Context.style.backgroundPosition=u+"px 0":t.Context.style[t.PropName]=u>0||this._bEz(t.PropName)?u+"px":"0",t.Callback&&(n.Delegate.fire(t.Callback,i,{Value:i.getEnd(),IsEnd:!0}),t.Callback.clear&&t.Callback.clear()),t.AnimationObject._Callback&&(n.Delegate.fire(t.AnimationObject._Callback,i,{Value:i.getEnd(),IsEnd:!0}),t.AnimationObject._Callback.clear&&t.AnimationObject._Callback.clear()))},u.prototype._aCQ=function(t){var i=t.AnimationObject,r,f,u;if(!i._AnimationType){this._Execute=!1;return}r={},f=n.Date.now()-i.getStartTime(),f<i.getDuration()?(u=i.step(f),r[t.PropName]=u,n.SVG.setAttr(t.Context,r),t.Callback&&n.Delegate.fire(t.Callback,i,{Value:u}),t.AnimationObject._Callback&&n.Delegate.fire(t.AnimationObject._Callback,i,{Value:u})):(i._aCM(),r[t.PropName]=i.getEnd(),n.SVG.setAttr(t.Context,r),t.Callback&&(n.Delegate.fire(t.Callback,i,{Value:i.getEnd(),IsEnd:!0}),t.Callback.clear&&t.Callback.clear()),t.AnimationObject._Callback&&(n.Delegate.fire(t.AnimationObject._Callback,i,{Value:i.getEnd(),IsEnd:!0}),t.AnimationObject._Callback.clear&&t.AnimationObject._Callback.clear()))},u.prototype._aCM=function(){this._CurrentPars=null,this._Execute=!1,delete n.Ui.Animation.runningAnimations[this._Id]},u.prototype._cqz=function(n,t,i,r,u){return r*(t/=u)*t+i},u.prototype._cqA=function(n,t,i,r,u){return-r*(t/=u)*(t-2)+i},u.prototype._cqB=function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},u.prototype._cqC=function(n,t,i,r,u){return r*(t/=u)*t*t+i},u.prototype._cqD=function(n,t,i,r,u){return r*((t=t/u-1)*t*t+1)+i},u.prototype._cqE=function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},u.prototype._cqF=function(n,t,i,r,u){return r*(t/=u)*t*t*t+i},u.prototype._cqG=function(n,t,i,r,u){return-r*((t=t/u-1)*t*t*t-1)+i},u.prototype._cqH=function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t+i:-r/2*((t-=2)*t*t*t-2)+i},u.prototype._cqI=function(n,t,i,r,u){return r*(t/=u)*t*t*t*t+i},u.prototype._cqJ=function(n,t,i,r,u){return r*((t=t/u-1)*t*t*t*t+1)+i},u.prototype._cqK=function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t*t*t+i:r/2*((t-=2)*t*t*t*t+2)+i},u.prototype._cqL=function(n,t,i,r,u){return-r*Math.cos(t/u*(Math.PI/2))+r+i},u.prototype._cqM=function(n,t,i,r,u){return r*Math.sin(t/u*(Math.PI/2))+i},u.prototype._cqN=function(n,t,i,r,u){return-r/2*(Math.cos(Math.PI*t/u)-1)+i},u.prototype._cqO=function(n,t,i,r,u){return t==0?i:r*Math.pow(2,10*(t/u-1))+i},u.prototype._cqP=function(n,t,i,r,u){return t==u?i+r:r*(-Math.pow(2,-10*t/u)+1)+i},u.prototype._cqQ=function(n,t,i,r,u){return t==0?i:t==u?i+r:(t/=u/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i},u.prototype._cqR=function(n,t,i,r,u){return-r*(Math.sqrt(1-(t/=u)*t)-1)+i},u.prototype._cqS=function(n,t,i,r,u){return r*Math.sqrt(1-(t=t/u-1)*t)+i},u.prototype._cqT=function(n,t,i,r,u){return(t/=u/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},u.prototype._cqU=function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),-(e*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f))+i)},u.prototype._cqV=function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u)==1?i+r:(f||(f=u*.3),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),e*Math.pow(2,-10*t)*Math.sin((t*u-o)*2*Math.PI/f)+r+i)},u.prototype._cqW=function(n,t,i,r,u){var o=1.70158,f=0,e=r;return t==0?i:(t/=u/2)==2?i+r:(f||(f=u*.3*1.5),e<Math.abs(r)?(e=r,o=f/4):o=f/(2*Math.PI)*Math.asin(r/e),t<1)?-.5*e*Math.pow(2,10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f)+i:e*Math.pow(2,-10*(t-=1))*Math.sin((t*u-o)*2*Math.PI/f)*.5+r+i},u.prototype._cqX=function(n,t,i,r,u,f){return f==undefined&&(f=1.70158),r*(t/=u)*t*((f+1)*t-f)+i},u.prototype._cqY=function(n,t,i,r,u,f){return f==undefined&&(f=1.70158),r*((t=t/u-1)*t*((f+1)*t+f)+1)+i},u.prototype._cqZ=function(n,t,i,r,u,f){return(f==undefined&&(f=1.70158),(t/=u/2)<1)?r/2*t*t*(((f*=1.525)+1)*t-f)+i:r/2*((t-=2)*t*(((f*=1.525)+1)*t+f)+2)+i},u.prototype._bEA=function(n,t,i,r,u){return r-this._a84(n,u-t,0,r,u)+i},u.prototype._a84=function(n,t,i,r,u){return(t/=u)<1/2.75?r*7.5625*t*t+i:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+i:r*(7.5625*(t-=2.625/2.75)*t+.984375)+i},u.prototype._cq0=function(n,t,i,r,u){return t<u/2?this._bEA(n,t*2,0,r,u)*.5+i:this._a84(n,t*2-u,0,r,u)*.5+r*.5+i},u.prototype._cq1=function(){switch(this._Easing){case r.EaseInQuad:return"_cqz";case r.EaseOutQuad:return"_cqA";case r.EaseInOutQuad:return"_cqB";case r.EaseInCubic:return"_cqC";case r.EaseOutCubic:return"_cqD";case r.EaseInOutCubic:return"_cqE";case r.EaseInQuart:return"_cqF";case r.EaseOutQuart:return"_cqG";case r.EaseInOutQuart:return"_cqH";case r.EaseInQuint:return"_cqI";case r.EaseOutQuint:return"_cqJ";case r.EaseInOutQuint:return"_cqK";case r.EaseInSine:return"_cqL";case r.EaseOutSine:return"_cqM";case r.EaseInOutSine:return"_cqN";case r.EaseInExpo:return"_cqO";case r.EaseOutExpo:return"_cqP";case r.EaseInOutExpo:return"_cqQ";case r.EaseInCirc:return"_cqR";case r.EaseOutCirc:return"_cqS";case r.EaseInOutCirc:return"_cqT";case r.EaseInElastic:return"_cqU";case r.EaseOutElastic:return"_cqV";case r.EaseInOutElastic:return"_cqW";case r.EaseInBack:return"_cqX";case r.EaseOutBack:return"_cqY";case r.EaseInOutBack:return"_cqZ";case r.EaseInBounce:return"_bEA";case r.EaseOutBounce:return"_a84";case r.EaseInOutBounce:return"_cq0"}},u.prototype.setDuration=function(n){this._Duration=n},u.prototype.getDuration=function(){return this._Duration},u.prototype.setStart=function(t){return this._Start=n.isString(t)?n.Color.getColor(t):t,this._Now=this._Start instanceof n.Color?this._Start.clone():this._Start,this},u.prototype.getStart=function(){return this._Start},u.prototype.setEnd=function(t){return this._End=n.isString(t)?n.Color.getColor(t):t,this},u.prototype.getEnd=function(){return this._End},u.prototype.getNow=function(){return this._Now},u.prototype.isExecute=function(){return this._Execute},u.prototype.step=function(n){var t=n/this._Duration,i=this[this._cq1()](t,n,0,1,this._Duration);return this._cqy(i),this.getNow()},u.prototype.run=function(t){switch(this._AnimationType){case n.Ui.AnimationType.SVGAttr:this.animateSVGAttr(this._Context,this._PropertyName,t);break;case n.Ui.AnimationType.CSS:this.animateCSS(this._Context,this._PropertyName,t);break;case n.Ui.AnimationType.DOMProp:this.animateDomNodeProp(this._Context,this._PropertyName,t);break;case n.Ui.AnimationType.PPProp:this.animateProp(this._Context,this._PropertyName,t);break;case n.Ui.AnimationType.Base:this.animate(t)}},u.prototype.animate=function(t){if(typeof this._Start!=typeof this._End)throw new n.Exception(this);this._Execute=!0,this._AnimationType=n.Ui.AnimationType.Base,this._StartTime=n.Date.now(),this._CurrentPars={AnimationObject:this,Callback:t},n.Ui.Animation.runningAnimations[this._Id]||(n.Ui.Animation.runningAnimations[this._Id]={Context:this,Callback:this._aCL,Params:this._CurrentPars}),n.Ui.Animation.isRunning?this._CurrentPars&&this._aCL(this._CurrentPars):n.Ui.Animation.animationFrame()},u.prototype.animateProp=function(t,i,r){if(!n.isDefined(this._Start)||!n.isDefined(this._End)||typeof this._Start!=typeof this._End)throw new n.Exception(this);this._Execute=!0,this._AnimationType=n.Ui.AnimationType.PPProp,this._StartTime=n.Date.now(),this._CurrentPars={AnimationObject:this,Context:t,PropName:i,Callback:r},n.Ui.Animation.runningAnimations[this._Id]||(n.Ui.Animation.runningAnimations[this._Id]={Context:this,Callback:this._aCN,Params:this._CurrentPars}),n.Ui.Animation.isRunning?this._aCN(this._CurrentPars):n.Ui.Animation.animationFrame()},u.prototype.animateDomNodeProp=function(t,i,r){if(!n.isDefined(this._Start)||!n.isDefined(this._End)||typeof this._Start!=typeof this._End)throw new n.Exception(this);this._Execute=!0,this._AnimationType=n.Ui.AnimationType.DOMProp,this._StartTime=n.Date.now(),this._CurrentPars={AnimationObject:this,Context:t,PropName:i,Callback:r},n.Ui.Animation.runningAnimations[this._Id]||(n.Ui.Animation.runningAnimations[this._Id]={Context:this,Callback:this._aCO,Params:this._CurrentPars}),n.Ui.Animation.isRunning?this._aCO(this._CurrentPars):n.Ui.Animation.animationFrame()},u.prototype.animateCSS=function(t,i,r){if(!n.isDefined(this._Start)||!n.isDefined(this._End)||typeof this._Start!=typeof this._End)throw new n.ArgumentException(this);if(typeof t.style[i]=="undefined"&&i!="opacity"&&i!="background-position")throw new n.ArgumentException(this,i);return this._AnimationType=n.Ui.AnimationType.CSS,this._StartTime=n.Date.now(),i=="opacity"&&(this._IsFloat=!0),this._Start!==this._End?(this._Execute=!0,this._CurrentPars={AnimationObject:this,Context:t,PropName:i,Callback:r},n.Ui.Animation.runningAnimations[this._Id]||(n.Ui.Animation.runningAnimations[this._Id]={Context:this,Callback:this._aCP,Params:this._CurrentPars}),n.Ui.Animation.isRunning?this._aCP(this._CurrentPars):n.Ui.Animation.animationFrame(),!0):!1},u.prototype.animateSVGAttr=function(t,i,r){if(!n.isDefined(this._Start)||!n.isDefined(this._End)||typeof this._Start!=typeof this._End)throw new n.Exception(this);this._Execute=!0,this._AnimationType=n.Ui.AnimationType.SVGAttr,this._StartTime=n.Date.now(),this._CurrentPars={AnimationObject:this,Context:t,PropName:i,Callback:r},n.Ui.Animation.runningAnimations[this._Id]||(n.Ui.Animation.runningAnimations[this._Id]={Context:t,Callback:this._aCQ,Params:this._CurrentPars}),n.Ui.Animation.isRunning?this._aCQ(this._CurrentPars):n.Ui.Animation.animationFrame()},u.prototype.stop=function(){var i=this._Duration,t;if(this._Duration=0,t=this._End,this._End=this._Now,this._Execute)switch(this._AnimationType){case n.Ui.AnimationType.SVGAttr:this._aCQ(this._CurrentPars);break;case n.Ui.AnimationType.CSS:this._aCP(this._CurrentPars);break;case n.Ui.AnimationType.DOMProp:this._aCO(this._CurrentPars);break;case n.Ui.AnimationType.PPProp:this._aCN(this._CurrentPars);break;case n.Ui.AnimationType.Base:this._aCL(this._CurrentPars)}this._End=t,this._Duration=i},u.prototype.stopToEnd=function(){var t=this._Duration;if(this._Duration=0,this._Execute)switch(this._AnimationType){case n.Ui.AnimationType.SVGAttr:this._aCQ(this._CurrentPars);break;case n.Ui.AnimationType.CSS:this._aCP(this._CurrentPars);break;case n.Ui.AnimationType.DOMProp:this._aCO(this._CurrentPars);break;case n.Ui.AnimationType.PPProp:this._aCN(this._CurrentPars);break;case n.Ui.AnimationType.Base:this._aCL(this._CurrentPars)}this._Duration=t},u.prototype.stopToStart=function(){var i=this._Duration,t;if(this._Duration=0,t=this._End,this._End=this._Start,this._Execute)switch(this._AnimationType){case n.Ui.AnimationType.SVGAttr:this._aCQ(this._CurrentPars);break;case n.Ui.AnimationType.CSS:this._aCP(this._CurrentPars);break;case n.Ui.AnimationType.DOMProp:this._aCO(this._CurrentPars);break;case n.Ui.AnimationType.PPProp:this._aCN(this._CurrentPars);break;case n.Ui.AnimationType.Base:this._aCL(this._CurrentPars)}this._End=t,this._Duration=i},u.prototype.getSettings=function(){var n=t.prototype.getSettings.call(this);return delete n.StartTime,n},u.getStepColor=function(t,i,r,u,f){var e,o,s,h;return r<0?t:r>1?i:(e=t,o=i,n.isString(e)&&(e=n.Ui.Animation._ColorsCache[e],e||(e=n.Ui.Animation._ColorsCache[t]=n.Color.getColor(t))),n.isString(o)&&(o=n.Ui.Animation._ColorsCache[o],o||(o=n.Ui.Animation._ColorsCache[i]=n.Color.getColor(i))),s=1-r,h=f?n.Color.fromARGB(Math.floor(e._A*s+r*o._A),Math.floor(e._R*s+r*o._R),Math.floor(e._G*s+r*o._G),Math.floor(e._B*s+r*o._B)):n.Color.fromRGB(Math.floor(e._R*s+r*o._R),Math.floor(e._G*s+r*o._G),Math.floor(e._B*s+r*o._B)),u?h:u===!1||n.isString(t)?h.toString():h)},u.getStepFloat=function(t,i,r){if(r<0)return t;if(r>1)return i;var u=t+(i-t)*r;return n.isNumber(u)?u:i},u.getStepInt=function(t,i,r){return Math.round(n.Ui.Animation.getStepFloat(t,i,r))},u.animationFrame=function(){var i=n.Ui.Animation,f=i.runningAnimations,e,t,r;i.isRunning=!1;for(e in f)(t=f[e],r=t?t.Params.Context:null,r&&r.isLive&&!r.isLive())||(t&&t.Callback&&t.Callback.call(t.Context,t.Params),i.isRunning=!0);i.isRunning&&u.requestAnimationFrame.call(window,i.animationFrame)},u}(n.Object),u.runningAnimations={},u.isRunning=!1,u._ColorsCache={},u.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,13)},f([e(600)],u.prototype,"_Duration",void 0),f([e(!1)],u.prototype,"_IsFloat",void 0),f([e("")],u.prototype,"_PropertyName",void 0),f([e(o.Base)],u.prototype,"_AnimationType",void 0),f([e(r.EaseOutQuad)],u.prototype,"_Easing",void 0),f([e(0)],u.prototype,"_StartTime",void 0),f([e(null)],u.prototype,"_CurrentPars",void 0),f([e(null)],u.prototype,"_Callback",void 0),t.Animation=u,n.Object.defineProps(n.Ui.Animation,["PropertyName","Context"],!0),n.Object.defineProps(n.Ui.Animation,["StartTime"])})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Items=[[]],this._Callback=null,this._GroupAnimate=-1,this._GroupAnimationEnded=0,this._defineEvents(["Started","Step","Ended"])},r.prototype._cq2=function(t){for(var i=0,u=this._Items[t],r;i<u.length;i++)(r=u[i])instanceof n.Ui.Animation||(r=u[i]=new n.Ui.Animation(r)),r.run(new n.Delegate(this._a85,this));this.Step.fire(this,{Group:this._GroupAnimate})},r.prototype._a85=function(n,t){~this._GroupAnimate&&(t.IsEnd&&this._GroupAnimationEnded++,this._GroupAnimationEnded==this._Items[this._GroupAnimate].length&&this._bEB())},r.prototype._bEB=function(){this._GroupAnimationEnded=0;var t=this._Items;if(this._GroupAnimate++,typeof t[this._GroupAnimate]=="undefined"){this.Ended.fire(this,{IsEnd:!0}),this._Callback&&n.Delegate.fire(this._Callback,this,{IsEnd:!0}),this._GroupAnimate=-1;return}this._cq2(this._GroupAnimate)},r.prototype.run=function(n){(this._Callback=n,this._GroupAnimate>-1)||(this.Started.fire(this,{}),this._bEB())},r.prototype.stop=function(){var i,t;if(~this._GroupAnimate){for(i=this._Items[this._GroupAnimate],this._GroupAnimate=-1,t=0;t<i.length;t++)i[t].stop();this.Ended.fire(this,{IsEnd:!0}),this._Callback&&n.Delegate.fire(this._Callback,this,{IsEnd:!0})}},r}(n.Object);t.AnimationSequence=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._Items&&i.setItems(i._Items),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Value=0,this._Items=[],this._GroupAnimationEnded=0,this._Callback=null,this._defineEvents(["Started","Ended"])},r.prototype.setItems=function(t){if(this._Items=[],n.Array.isArray(t))for(var r=0,i;r<t.length;r++)(i=t[r])instanceof n.Ui.Animation?this._Items.push(i):typeof i=="object"&&this._Items.push(new n.Ui.Animation(i))},r.prototype.setValue=function(n){this._Value=this._g(n)},r.prototype.getValue=function(){return this._Value},r.prototype.getItems=function(){return this._Items},r.prototype._a85=function(t,i){i.IsEnd&&this._GroupAnimationEnded++,this._GroupAnimationEnded==this._Items.length&&(this.Ended.fire(this,{IsEnd:!0}),this._Callback&&n.Delegate.fire(this._Callback,this,{IsEnd:!0}))},r.prototype.run=function(t){this._Callback=t,this._GroupAnimationEnded=0,this._ym=n.setTimeout(this._cq3,this.getValue(),this)},r.prototype._cq3=function(t){if(t&&t.isLive&&t.isLive()){for(var i=0;i<t._Items.length;i++)t._Items[i].run(new n.Delegate(t._a85,t));t.Started.fire(t,{})}},r.prototype.stop=function(){for(var t=0;t<this._Items.length;t++)this._Items[t].stop();this._ym&&n.clearTimeout(this._ym),this._GroupAnimationEnded=0},r}(n.Object);t.AnimationPoint=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i.setItems(i._Items),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Items=[],this._GroupAnimationEnded=-1,this._Callback=null,this._defineEvents(["Started","Step","Ended"])},r.prototype.setItems=function(t){if(this._Items=[],n.Array.isArray(t))for(var i=0,r;i<t.length;i++)(r=t[i])instanceof n.Ui.AnimationPoint?this._Items.push(r):this._Items.push(new n.Ui.AnimationPoint(r));return this},r.prototype.getItems=function(){return this._Items},r.prototype.run=function(t){if(this._GroupAnimationEnded==-1){this._Callback=t,this._GroupAnimationEnded=0;for(var i=0;i<this._Items.length;i++)this._Items[i].run(new n.Delegate(this._cq4,this));this.Started.fire(this,{})}},r.prototype.stop=function(){if(~this._GroupAnimationEnded){this._GroupAnimationEnded=-1;for(var t=0;t<this._Items.length;t++)this._Items[t].stop();this._GroupAnimationEnded=-1,this.Ended.fire(this,{IsEnd:!0}),this._Callback&&n.Delegate.fire(this._Callback,this,{IsEnd:!0})}},r.prototype._cq4=function(t,i){i.IsEnd&&(this._GroupAnimationEnded++,this.Step.fire(this,{Group:this._GroupAnimationEnded})),this._GroupAnimationEnded==this._Items.length&&(this._GroupAnimationEnded=-1,this.Ended.fire(this,{IsEnd:!0}),this._Callback&&n.Delegate.fire(this._Callback,this,{IsEnd:!0}))},r}(n.Object);t.AnimationPoints=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.addOpenedPanel=function(t){n.Ui.DropPanel.OpenedPanels.indexOf(t)===-1&&n.Ui.DropPanel.OpenedPanels.push(t)},r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["Opening","Opened","Closing","Closed","FrameDown","OutOfPanelDown"]),this._ParentNode=document.body,this._IsVisible=!1,this._CloseOnFrameMouseDown=!0,this._MinWidth=23,this._MinHeight=23,this._MaxHeight=500,this._MaxWidth=500,this._Template=n.Templates.DropPanel,this._CloseOnDocumentMouseDown=!1,this._ContentAutoFit=!1,this._HeightDifference=-1,this._WidthDifference=-1,this._TabIndex=0,this._EnableRestoreFocus=!0,this._EnableEscapeClose=!0,this._FocusOnOpen=!0},r.prototype._initFields=function(i){i=i||{},i.MinWidth=i.MinWidth||this._MinDropDownWidth||this._MinWidth,i.MaxWidth=i.MaxWidth||this._MaxDropDownWidth||this._MaxWidth,i.MinHeight=i.MinHeight||this._MinDropDownHeight||this._MinHeight,i.MaxHeight=i.MaxHeight||this._MaxDropDownHeight||this._MaxHeight,this._MinDropDownWidth=this._MinWidth,this._MaxDropDownWidth=this._MaxWidth,this._MinDropDownHeight=this._MinHeight,this._MaxDropDownHeight=this._MaxHeight,n.isDefined(i.MinDropDownWidth)&&(i.MinWidth=i.MinDropDownWidth),n.isDefined(i.MaxDropDownWidth)&&(i.MaxWidth=i.MaxDropDownWidth),n.isDefined(i.MinDropDownHeight)&&(i.MinHeight=i.MinDropDownHeight),n.isDefined(i.MaxDropDownHeight)&&(i.MaxHeight=i.MaxDropDownHeight),delete i.UseScrollBox,delete i.MinDropDownWidth,delete i.MaxDropDownWidth,delete i.MinDropDownHeight,delete i.MaxDropDownHeight,t.prototype._initFields.call(this,i)},r.prototype._render=function(){var n=this._Template;n=n.replace("{Content}",""),this._initFromHTML("<DIV class='PPDropPanel'>"+n+"<\/div>"),t.prototype._render.call(this),this._lG(),this._Content&&this.setContent(this._Content),this._IsInitialized=!0},r.prototype._lG=function(){var r,u,t,i;this._ContentDomNode&&(this._Width!=="0"&&(r=this._Width,this._Width=null,this.setWidth(r,!1)),this._Height!=="0"&&(u=this._Height,this._Height=null,this.setHeight(u,!1)),t=this._Width+"",i=this._Height+"",t&&n.isString(this._Width)&&t.indexOf("%")<0&&t!=="auto"&&(this._Width=parseFloat(t)),i&&n.isString(this._Height)&&i.indexOf("%")<0&&i!=="auto"&&(this._Height=parseFloat(i)))},r.prototype._yj=function(){t.prototype._yj.call(this),this._ContentDomNode=this._DomNode},r.prototype._a8R=function(n){n="PPDropPanelResizerRect",t.prototype._a8R.call(this,n)},r.prototype._a86=function(n,t){this._h3(n,t)},r.prototype._h3=function(t,i){var r,u,f;this.isLive()&&(this._a87=i.Event,r=this._a88(i.Event),this._DroppedDown&&r&&this.OutOfPanelDown.fire(this,i),this._Frame?(this.FrameDown.fire(this._Frame,i),u=!n.hasClass(i.Event.target,"PPDropFrame"),this._DroppedDown&&!u&&this._CloseOnFrameMouseDown&&this.hide()):(f=!this._ContentMouseDownTimeStamp||this._ContentMouseDownTimeStamp!==i.Event.timeStamp,this._DroppedDown&&this._CloseOnDocumentMouseDown&&f&&r&&this.hide(),delete this._ContentMouseDownTimeStamp))},r.prototype._ib=function(){this._a8S(),delete this._a87},r.prototype.isOutOfPanelDown=function(t){var i=n.calculateMouseCoords(t),e=this,r=e.getDomNode(),u=parseInt(r.style.left),f=parseInt(r.style.top),o=r.offsetWidth,s=r.offsetHeight;return i.X>=u&&i.X<=u+o&&i.Y>=f&&i.Y<=f+s?!1:!0},r.prototype._a88=function(t){for(var r=n.Ui.DropPanel.OpenedPanels,u,i=0;i<r.length;i++)if(u=r[i],!this.isOutOfPanelDown(t))return!1;return!0},r.prototype._cq5=function(t){var i=n.Ui.DropPanel.OpenedPanels,r=i.length;return this!==i[r-1]?!1:!this._a88(t)},r.prototype._a8U=function(n,i){t.prototype._a8U.call(this,n,i);var r=i.Event;this.getIsResizing()||(this._ContentMouseDownTimeStamp=r.timeStamp),this._cq5(r)||(i.Break=!0)},r.prototype._bk=function(n,i){t.prototype._bk.call(this,n,i)},r.prototype._db=function(i,r){this._EnableEscapeClose&&r.Event.keyCode==n.Key.Esc&&(this.hide(),r.Event.preventDefault(),r.Event.stopPropagation()),t.prototype._db.call(this,i,r)},r.prototype._bEC=function(){var t=n.Ui.DropPanel.OpenedPanels,i=t.length;return i?parseInt(t[i-1].getDomNode().style.zIndex)+1:this._g(n.getStyle(this._DomNode,"zIndex"))},r.prototype._bED=function(t,i,r,u){var f=this._DomNode.getBoundingClientRect(),e=this._ContentDomNode.getBoundingClientRect(),w=Math.min(f.bottom-f.top,this._MaxHeight),b=Math.min(f.right-f.left,this._MaxWidth),h=Math.min(e.bottom-e.top,this._MaxHeight),c=Math.min(e.right-e.left,this._MaxWidth),o=i+e.left-f.left,k=o+c,s=t+e.top-f.top,d=s+h,g=document.body.getAttribute("dir")=="rtl"||document.documentElement.getAttribute("dir")=="rtl",l=n.IsIE&&g?-1:1,a=l*window.pageYOffset,v=l*window.pageXOffset,y=a<0?a-1:-1,p=v<0?v-1:-1,nt=s>y&&s<u&&s+h>=y+1&&s+h<=u?!0:!1,tt=o>p&&o<r&&o+c>=p+1&&o+c<=r?!0:!1,it=d-u,rt=k-r;return{VisibleByWidth:tt,VisibleByHeight:nt,Width:b,Height:w,invisDiffHeight:it,invisDiffWidth:rt}},r.prototype._bEE=function(){if(!this._DroppedDown){if(this._yn&&this._yn.focus){var n=this._cq6();this._yn.focus(),this._cq7(n)}delete this._yn}return this},r.prototype._cq6=function(){for(var i=[],t=this._yn,n;t.parentNode!=document&&t.parentNode!=null;)n=t.parentNode,(n.offsetHeight!=n.scrollHeight||n.offsetWidth!=n.scrollWidth)&&i.push({node:n,st:n.scrollTop,sl:n.scrollLeft}),t=n;return i},r.prototype._cq7=function(n){for(var t,i=0;i<n.length;i++)t=n[i],t.node.scrollTop=t.st,t.node.scrollLeft=t.sl;n=null},r.prototype._aQ5=function(){return this._Frame&&(this._d7(this._Frame),this._Frame.parentNode&&this._Frame.parentNode.removeChild(this._Frame),this._Frame=null),this},r.prototype._bEF=function(n,t){return{X:n||0,Y:t||0}},r.prototype._aCR=function(){if(this._HeightDifference<0&&n.isVisible(this._DomNode)){var t=0;this._HeightDifference=0,this._DomNode!==this._ContentDomNode&&(t=this._g(n.getStyle(this._ContentDomNode,"paddingTop")),isNaN(t)||(this._HeightDifference+=t),t=this._g(n.getStyle(this._ContentDomNode,"paddingBottom")),isNaN(t)||(this._HeightDifference+=t),t=this._g(n.getStyle(this._ContentDomNode,"borderBottomWidth")),isNaN(t)||(this._HeightDifference+=t),t=this._g(n.getStyle(this._ContentDomNode,"borderTopWidth")),isNaN(t)||(this._HeightDifference+=t)),t=n.Ui.getMarginsHeight(this._DomNode),isNaN(t)||(this._HeightDifference+=t)}return this._HeightDifference},r.prototype._cq8=function(){if(this._WidthDifference<0&&n.isVisible(this._DomNode)){var t=0;this._WidthDifference=0,this._DomNode!==this._ContentDomNode&&(t=this._g(n.getStyle(this._ContentDomNode,"paddingLeft")),isNaN(t)||(this._WidthDifference+=t),t=this._g(n.getStyle(this._ContentDomNode,"paddingRight")),isNaN(t)||(this._WidthDifference+=t),t=this._g(n.getStyle(this._ContentDomNode,"borderLeftWidth")),isNaN(t)||(this._WidthDifference+=t),t=this._g(n.getStyle(this._ContentDomNode,"borderRightWidth")),isNaN(t)||(this._WidthDifference+=t)),t=n.Ui.getMarginsWidth(this._DomNode),isNaN(t)||(this._WidthDifference+=t)}return this._WidthDifference},r.prototype._dP=function(){if(n.isVisible(this._DomNode)){var i=!1,t=this.getContentHeight();this._bEG!==t&&(this._ContentDomNode!==this._DomNode&&(this._ContentDomNode.style.height=t+"px"),this._bEG=t),this._Content&&this._Content instanceof n.Ui.Control&&this._ContentAutoFit&&(this._Content.setWidth(this.getContentWidth()),this._Content.setHeight(t))}},r.prototype.getFocusOnOpen=function(){return this._FocusOnOpen},r.prototype.getEnableRestoreFocus=function(){return this._EnableRestoreFocus},r.prototype.getEnableEscapeClose=function(){return this._EnableEscapeClose},r.prototype.getDroppedDown=function(){return this._DroppedDown},r.prototype.getCloseOnFrameMouseDown=function(){return this._CloseOnFrameMouseDown},r.prototype.getFrame=function(){return this._Frame},r.prototype.setFocusOnOpen=function(n){this._FocusOnOpen=n},r.prototype.setResizeOnMouseUp=function(n){this._ResizeOnMouseUp=n},r.prototype.setDefferedResizerClass=function(n){this._DefferedResizerClass=n},r.prototype.setEnableRestoreFocus=function(n){this._EnableRestoreFocus=n},r.prototype.updateSize=function(){},r.prototype.updatePosition=function(){this._DomNode&&(this._DomNode.style.left=this._Left+"px",this._DomNode.style.top=this._Top+"px"),t.prototype.updatePosition.call(this)},r.prototype.notifyContentMouseDown=function(n){this._ContentMouseDownTimeStamp=n.timeStamp},r.prototype.setEnableEscapeClose=function(n){n!=this._EnableEscapeClose&&(this._EnableEscapeClose=n)},r.prototype.setWidth=function(n,i){t.prototype.setWidth.call(this,n,i),this._dP()},r.prototype.setHeight=function(n,i){t.prototype.setHeight.call(this,n,i),this._dP()},r.prototype.getContentHeight=function(){return this._g(this.getHeight())-this._aCR()},r.prototype.getContentWidth=function(){return this._g(this.getWidth())-this._cq8()},r.prototype.setMaxDropDownWidth=function(n){this.setMaxWidth(n),this._MaxDropDownWidth=n},r.prototype.setMaxDropDownHeight=function(n){this.setMaxHeight(n),this._MaxDropDownHeight=n},r.prototype.setMinDropDownWidth=function(n){this.setMinWidth(n),this._MinDropDownWidth=n},r.prototype.setMinDropDownHeight=function(n){this.setMinHeight(n),this._MinDropDownHeight=n},r.prototype.getMaxDropDownWidth=function(){return n.Debug.assert(!1,"deprecated Use getMaxWidth"),this.getMaxWidth()},r.prototype.getMaxDropDownHeight=function(){return n.Debug.assert(!1,"deprecated Use getMaxHeight"),this.getMaxHeight()},r.prototype.getMinDropDownWidth=function(){return n.Debug.assert(!1,"deprecated Use getMinWidth"),this.getMinWidth()},r.prototype.getMinDropDownHeight=function(){return n.Debug.assert(!1,"deprecated Use getMinHeight"),this.getMinHeight()},r.prototype.setContent=function(n){this._Content=n,this._ContentDomNode&&this._bW(n,this._ContentDomNode,"Content",!0)},r.prototype.setIsVisible=function(i){t.prototype.setIsVisible.call(this,i),n.removeClass(this._DomNode,"PPHide")},r.prototype.setPosition=function(n,t){this.setCoords({X:n,Y:t})},r.prototype.setLeft=function(n){t.prototype.setLeft.call(this,n),this._Coords||(this._Coords={X:0,Y:0}),this._Coords.X=this._Left},r.prototype.setTop=function(n){t.prototype.setTop.call(this,n),this._Coords||(this._Coords={X:0,Y:0}),this._Coords.Y=this._Top},r.prototype.getCoords=function(){return this._Coords||{X:this.getLeft(),Y:this.getTop()}},r.prototype.setCoords=function(n){this._Coords=n,this._DroppedDown&&(this.setLeft(n.X),this.setTop(n.Y))},r.prototype.show=function(i,r,u){var o={Cancel:!1,left:i,top:r},h,c,s,f,e;(this.Opening.fire(this,o),n.Ui.DropPanel.Opening.fire(this,o),o.Cancel)||(this._DroppedDown=!0,this.setCoords({X:0,Y:0}),this.getEnableRestoreFocus()&&document.activeElement&&(this._yn=document.activeElement),this.setIsVisible(n.Ui.Visibility.Hidden),this._ParentNode.appendChild(this._DomNode),s=this._bEC(),this._CloseOnFrameMouseDown&&(this._DomNode.style.zIndex=s+"",n.Ui.DropPanel.addOpenedPanel(this)),n.domEvent.addEvent(document.documentElement,"pointerup",this._ib,this),u===!1?this._CloseOnFrameMouseDown&&n.domEvent.addEvent(document.documentElement,"pointerdown",this._a86,this):(this._Frame||(this._Frame=n.htmlToDOM("<div class='PPDropFrame PPNoSelect'><\/div>"),this._Frame.id=this.getId()+"_jg",document.body.appendChild(this._Frame),n.domEvent.addEvent(this._Frame,"contextmenu",this._a7,this),n.domEvent.addEvent(this._Frame,"pointerdown",this._a86,this)),this._Frame.style.zIndex=s-1+""),t.prototype.show.call(this),this._dP(),this._bindEvents(),this._FocusOnOpen&&this.setFocus(),this.setCoords(this._bEF(i,r)),this.Opened.fire(this,{}),f=this.getWidth(),e=this.getHeight(),(e>this._MaxHeight||e<this._MinHeight)&&this.setHeight(e),(f>this._MaxWidth||f<this._MinWidth)&&this.setWidth(f))},r.prototype.hide=function(){var e,o,l,i,f,h,c,r;if(this._DroppedDown){if(this._a8S(),e={Cancel:!1},this.Closing.fire(this,e),e.Cancel)return;this._bEe(),this._DroppedDown=!1,o=this._a87,l=!!this._Frame,delete this._a87,n.domEvent.removeEvent(document.documentElement,"pointerup",this._ib,this),this._Frame?this._aQ5():n.domEvent.removeEvent(document.documentElement,"pointerdown",this._a86,this);for(var a=0,u=n.Ui.DropPanel.OpenedPanels,s=u.length-1;s>=0;)i=u[s],this._CloseOnFrameMouseDown&&(i===this&&(a=-1),i!==this&&(f=i.getDomNode(),h=i.getFrame(),f.style.zIndex=parseInt(f.style.zIndex)+a+"",h&&(h.style.zIndex=parseInt(f.style.zIndex)-1+""))),i.isDependent(this)&&i.hide(),s--;n.Array.removeItem(n.Ui.DropPanel.OpenedPanels,this),t.prototype.hide.call(this),this._DomNode.parentNode&&this._DomNode.parentNode.removeChild(this._DomNode),c=u.length,r=void 0,this._FocusOnOpen&&c>0&&(r=u[c-1]),r&&r.isLive()&&r.getFocusOnOpen()&&r.setFocus(),this._IsVisible=!1,this.Closed.fire(this,{}),n.Ui.DropPanel.Closed.fire(this,{}),this.getEnableRestoreFocus()&&this._yn&&this._yn.focus&&(o&&!l?this.isOutOfPanelDown(o)||n.setTimeout(function(){this._bEE()},0,null,this):this._bEE())}},r.prototype.isDependent=function(){return!1},r.prototype.addToNode=function(t){if(n.isString(t)&&(t=document.getElementById(t),!t))throw new n.ArgumentException(this);this._ParentNode=t},r.prototype.isVisibleArea=function(t,i,r){var e=this._DomNode.style,l=e.display,o=15e3,h=n.isInDOM(this.getDomNode()),s,u,f,c;return e.visibility="hidden",e.marginTop=parseInt(n.getStyle(this._DomNode,"margin-top"))-o+"px",e.marginLeft=parseInt(n.getStyle(this._DomNode,"margin-left"))-o+"px",s=this._alE(),h||this._ParentNode.appendChild(this._DomNode),u=this._DomNode.offsetWidth,f=this._DomNode.offsetHeight,r||(f>this._MaxHeight&&(f=this._MaxHeight,this.setHeight(f,!1)),f<this._MinHeight&&(f=this._MinHeight,this.setHeight(f,!1)),u>this._MaxWidth&&(u=this._MaxWidth,this.setWidth(u,!1)),u<this._MinWidth&&(u=this._MinWidth,this.setWidth(u,!1))),c=this._bED(t,i,s.Width,s.Height),h||this._ParentNode.removeChild(this._DomNode),e.marginTop=parseInt(n.getStyle(this._DomNode,"margin-top"))+o+"px",e.marginLeft=parseInt(n.getStyle(this._DomNode,"margin-left"))+o+"px",this._DomNode.style.visibility="",c},r.prototype.isVisibleInWindow=function(t,i){var r=this._DomNode.style,o=r.display,u,f,e;return r.display="none",r.display=o,u=15e3,f=n.isInDOM(this.getDomNode()),r.visibility="hidden",r.marginTop=parseInt(n.getStyle(this._DomNode,"margin-top"))-u+"px",r.marginLeft=parseInt(n.getStyle(this._DomNode,"margin-left"))-u+"px",f||this._ParentNode.appendChild(this._DomNode),e=this._bED(t-window.pageYOffset,i-window.pageXOffset,document.documentElement.clientWidth,document.documentElement.clientHeight),f||this._ParentNode.removeChild(this._DomNode),r.marginTop=parseInt(n.getStyle(this._DomNode,"margin-top"))+u+"px",r.marginLeft=parseInt(n.getStyle(this._DomNode,"margin-left"))+u+"px",this._DomNode.style.visibility="",e},r.prototype.getSettings=function(i,r,u,f){var e,o;if(n.isObject(u)){e=[];for(o in u)e.push(o);u=e}return u=(u||[]).concat(["_Coords","_DroppedDown"]),t.prototype.getSettings.call(this,i,r,u,f)},r.prototype.dispose=function(){this.isLive()&&(this.hide(),delete this._yn,t.prototype.dispose.call(this))},r}(t.ResizableControl);r.OpenedPanels=[],r.Opening=new n.Delegate,r.Closed=new n.Delegate,t.DropPanel=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i.setEnableResize(!1),i.setMinDropDownHeight(0),i.setMinDropDownWidth(0),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._AutoReduce=!1,this._FocusOnOpen=!1,this._MaxContentLength=500},r.prototype._render=function(){t.prototype._render.call(this),n.addClass(this._DomNode,"PPToolTip")},r.prototype._h3=function(){return this.hide(),!0},r.prototype._alE=function(){var t=document.documentElement,i=document.body,r=n.getStyle(i,"overflow")==="hidden",u=r?0:t.scrollHeight,f=r?0:t.scrollWidth,e=Math.max(t.clientHeight,u,i.offsetHeight),o=Math.max(t.clientWidth,f,i.offsetWidth);return{Width:o,Height:e}},r.prototype.getMaxContentLength=function(){return this._MaxContentLength},r.prototype.getAutoReduce=function(){return this._AutoReduce},r.prototype.setAutoReduce=function(n){this._AutoReduce=n},r.prototype.show=function(i,r){var p,e,f,u,o,v,y;if(this.getContent()&&!n.IsiPad&&!n.IsiPhone){var h=this.isVisibleArea(r,i),c,w=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,s=r,l=i,a=!1;if(h.VisibleByHeight||(s=r-h.Height-24,s>-1&&(c=this.isVisibleArea(s,i),c.VisibleByHeight||(s=r))),h.VisibleByWidth||(p=document.documentElement.clientWidth+w,l=p-h.Width,c=this.isVisibleArea(r,l),c.VisibleByWidth||(l=i)),t.prototype.show.call(this,l,s,!1),e=this._DomNode.style,e.height="",f=this._DomNode.getBoundingClientRect(),u=Math.ceil(f.right-f.left),u<this._MinDropDownWidth?(u=this._MinDropDownWidth,a=!0):u>this._MaxDropDownWidth&&(u=this._MaxDropDownWidth,a=!0),a&&(e.width=u+"px",f=this._DomNode.getBoundingClientRect()),o=Math.ceil(f.bottom-f.top),this._AutoReduce){for(v=u,y=o;y==o&&u>0;)u-=5,e.width=u+"px",f=this._DomNode.getBoundingClientRect(),y=Math.ceil(f.bottom-f.top);u=u>0?u+5:v,e.width=u+"px",u!=v&&this.show(i,r)}o<this._MinDropDownHeight?e.height=this._MinDropDownHeight+"px":o>this._MaxDropDownHeight?e.height=this._MaxDropDownHeight+"px":this.setHeight(o,!1)}},r.prototype.isDependent=function(){return!0},r.prototype.setIsRTL=function(n){t.prototype.setIsRTL.call(this,n),this._ContentDomNode.dir=this._IsRTL?"rtl":"ltr"},r.prototype.setContent=function(i){n.isString(i)&&this._MaxContentLength>0?(this._a89=i,i=n.String.ellipsis(i,this._MaxContentLength)):delete this._a89,t.prototype.setContent.call(this,i),this.setWidth(null),this.setHeight(null)},r.prototype.setText=function(t){this.setContent(n.escapeHTML(t))},r.prototype.getContent=function(){return n.isDefined(this._a89)?this._a89:t.prototype.getContent.call(this)},r.prototype.setMaxContentLength=function(n){n!==this._MaxContentLength&&(this._MaxContentLength=n,this.setContent(this.getContent()))},r}(t.DropPanel);t.ToolTip=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r,u;(function(n){n[n.None=0]="None",n[n.Icon=1]="Icon",n[n.Check=2]="Check",n[n.Radio=3]="Radio",n[n.Button=4]="Button",n[n.Auto=5]="Auto",n[n.Holder=6]="Holder"})(r=t.MenuItemLeftPartStyle||(t.MenuItemLeftPartStyle={})),u=function(u){function f(n){var i=u.call(this,n)||this;return n&&n.Arrow instanceof t.Arrow&&(i._Arrow=n.Arrow),i._render(),i}return i(f,u),f.prototype._e=function(){this._defineEvents(["Selected","CheckedChanged","MenuOpened","MenuClosed"]),this._CloseOnChecked=!0,this._ImageUrl="",this._GroupName="",this._Checked=null,this._HotKey="",this._Height=null,this._RowIndex=-1,this._ColumnIndex=-1,this._LeftPartStyle=r.Auto,this._Visible=!0,this._IsSelected=!1,this._Template=n.Templates.MenuItem,this._IgnoreDimensions=!1,this._ToolTipFollowPointer=!0,this._ThreeState=!1,this._InversionCheck=!1,u.prototype._e.call(this)},f.prototype._render=function(){if(this._initFromHTML(this._cq9()),this._ContentDomNode=n.querySelector(this._DomNode,".PPMenuItemContentPart"),this._ArrowContainerDomNode=n.querySelector(this._DomNode,".PPMenuItemRightPart"),this._HotKeyContainer=n.querySelector(this._DomNode,".PPMenuItemHotKey"),this._u7=n.querySelector(this._DomNode,"td"),this._bW(this._Content,this._ContentDomNode,"Content",!0),this._aQ6(),this._agb(),this._jW()&&this._ArrowContainerDomNode){var t=this._bEH();this._ArrowContainerDomNode.appendChild(t.getSvgElement())}this.getHotKeyColor()&&this.setHotKeyColor(this.getHotKeyColor()),this._Visible||this.setIsVisible(this._Visible),this._GroupName&&this.setGroupName(this._GroupName),this._bindEvents(),this._bEI(),u.prototype._render.call(this)},f.prototype._bEI=function(){if(this._Menu&&!(this._Menu instanceof n.Ui.DropPanel)){var t=this._Menu;t.PPType=t.PPType||"PP.Ui.Menu",t.Width==0&&delete t.Width,t.Height==0&&delete t.Height,this._Menu=n.create(t)}this._Menu instanceof n.Ui.DropPanel&&(this._Menu.setIsRTL(this._IsRTL),this._Menu.MouseOver.addOne(this._cra,this),this._Menu.Closed.addOne(this._kT,this))},f.prototype._cq9=function(){var n=this._Checked!=null&&(this._ImageUrl||this._RowIndex>-1&&this._ColumnIndex>-1&&this.getImageList());return"<div class='PPMenuItem"+(n?" Overflow":"")+"'>"+this._Template.replace("{Content}","<table border='0' cellspacing='0' cellpadding='0' class='PPMenuItemTable'><tr>"+this._a9a()+"<td class='PPMenuItemContentPart'><\/td><td class='PPMenuItemHotKey'>"+this._HotKey+"<\/td>"+this._bEJ()+"<\/tr><\/table>")+"<\/div>"},f.prototype._a9a=function(){var n="<td><\/td>";return this.getShowIcon()&&(n="<td class='PPMenuItemLeftPart'><\/td>"),n},f.prototype._bEJ=function(){var n="<td class='PPMenuItemRightPart'>";return n+="<span><span>",n+="<\/td>"},f.prototype._aQ6=function(){if(this._u7){var t="PPMenuItemLeftPart";this.getShowIcon()?n.addClass(this._u7,t):n.removeClass(this._u7,t)}},f.prototype._agb=function(t){var i,u,f;if(this._u7&&n.hasClass(this._u7,"PPMenuItemLeftPart")){t=n.isDefined(t)?t:this._LeftPartStyle,n.removeChildren(this._u7),i=this._ImageList||this._Parent&&this._Parent.getImageList(),u=i&&i.getSource()&&this._RowIndex>-1&&this._ColumnIndex>-1;switch(t){case r.Icon:this._e1=new n.Ui.Label({ParentNode:this._u7}),f=this._e1.getDomNode(),!this._ImageUrl&&u?i.applyToBackground(f,this._RowIndex,this._ColumnIndex):this._ImageUrl&&new n.Image({Source:this._ImageUrl,Loaded:new n.Delegate(this._fk,this)});break;case r.Check:this._e1=new n.Ui.CheckBox({ParentNode:this._u7,Checked:this._Checked,Enabled:this._Enabled,ThreeState:this._ThreeState,InversionCheck:this._InversionCheck,CheckedChanged:new n.Delegate(this._bEK,this)});break;case r.Radio:this._e1=new n.Ui.RadioButton({ParentNode:this._u7,GroupName:this._GroupName,Checked:this._Checked,Enabled:this._Enabled,CheckedChanged:new n.Delegate(this._bEK,this)});break;case r.Button:this._e1=new n.Ui.Button({ParentNode:this._u7,ImageList:i,RowIndex:this._RowIndex,ColumnIndex:this._ColumnIndex,ImageUrl:this._ImageUrl,IsToggleButton:!0,IsPressed:this._Checked,Click:new n.Delegate(this._bEL,this)});break;case r.Auto:case r.Holder:this._Checked==null||this._ImageUrl||u?(this._ImageUrl||u)&&(this._Checked!=null?this._agb(r.Button):this._agb(r.Icon)):this._GroupName?this._agb(r.Radio):this._agb(r.Check)}}},f.prototype._jW=function(){return!!this._Menu},f.prototype._crb=function(){return!!this._ImageUrl||!!this.getImageList()&&this._RowIndex>-1&&this._ColumnIndex>-1},f.prototype._fk=function(n){n.applyToBackground(this._e1.getDomNode())},f.prototype._bp=function(t,i){if(!this._Enabled||this._Parent&&!this._Parent.getEnabled())return!1;var r={Cancel:!1};return this._jW()?n.isTouch&&this._bEM(i):(this._e1&&!this._e1.getDomNode().contains(i.Event.target)&&n.DOMEvent.current.fire(this._e1.getDomNode(),i.Event.type,i.Event),this.Selected.fire(this,r),r.Cancel||(this.isLive()?((this._Checked==null||this._CloseOnChecked)&&(n.Ui.Menu.RootMenu&&n.Ui.Menu.RootMenu.isLive()?n.Ui.Menu.RootMenu.hide():n.Ui.Menu.RootMenu=null),this.Click.fire(this,i)):n.Ui.Menu.RootMenu&&n.Ui.Menu.RootMenu.isLive()?n.Ui.Menu.RootMenu.hide():n.Ui.Menu.RootMenu=null)),r.Cancel?void 0:!1},f.prototype._bk=function(n,t){return!this._Enabled||this._Parent&&!this._Parent.getEnabled()||!this._CloseOnChecked?!1:this._jW()?u.prototype._bk.call(this,n,t):!1},f.prototype._cG=function(t,i){if(this._Enabled&&(!this._Parent||this._Parent.getEnabled())){if(this._crc(i.Event)){if(this._jW()){this._aQ7&&n.clearTimeout(this._aQ7);var r=300;n.Ui.Menu.RootMenu&&n.Ui.Menu.RootMenu.isLive()&&(r=n.Ui.Menu.RootMenu.getChildMenuOpenDelay()),this._aQ7=n.setTimeout(this._bEM,r,i,this)}i.IsReallyOver=!0}u.prototype._cG.call(this,t,i)}},f.prototype._bEN=function(t,i){var r=n.calculateMouseCoords(i.Event);this._ToolTip&&this._ToolTipFollowPointer&&this._ToolTip.setCoords({X:r.X,Y:r.Y+24})},f.prototype._b0=function(t,i){this._Enabled&&(!this._Parent||this._Parent.getEnabled())&&(this._crd(i.Event)&&(this._jW()&&(this.setIsSelected(!1),this._aQ7&&n.clearTimeout(this._aQ7),this._aQ8&&n.clearTimeout(this._aQ8),this._aQ8=n.setTimeout(this._aQ9,200,i,this)),i.IsReallyOut=!0),u.prototype._b0.call(this,t,i))},f.prototype._cra=function(){this._aQ8&&n.clearTimeout(this._aQ8)},f.prototype._kT=function(n,t){this.setIsSelected(!1),this.MenuClosed.fire(this,t)},f.prototype._bEK=function(n,t){this.CheckedChanged.fire(this,t)},f.prototype._bEL=function(n,t){this.CheckedChanged.fire(this,t)},f.prototype._bEM=function(t){if(this.setIsSelected(!0),n.isVisible(this._Parent.getDomNode())&&this._jW()){var o=this._ChildMenuHorizontalOffset,f=n.calculateOffset(this._DomNode),r,e=f.Y+this._ChildMenuVerticalOffset,u,i;this._IsRTL?(r=this._Menu.isVisibleArea(0,0,!0),u=f.X-o):u=f.X+this._DomNode.offsetWidth+o,r=this._Menu.isVisibleArea(e,u,!0),r.VisibleByHeight||(e=Math.max(document.documentElement.clientHeight-r.Height,0)),r.VisibleByWidth||(this._IsRTL?(i=f.X+this._DomNode.offsetWidth+o,i>=0&&this._Menu.isVisibleArea(e,i,!0).VisibleByWidth&&(u=i)):(i=f.X-r.Width-o,i>=0&&this._Menu.isVisibleArea(e,i,!0).VisibleByWidth&&(u=i))),this._Parent.getDroppedDown()&&(this._Menu.show(u,e,!1),this.MenuOpened.fire(this,t))}},f.prototype._aQ9=function(n){var i=n.Event,r=this._Menu,t=r.getDomNode();t.offsetLeft<=i.pageX&&t.offsetLeft+t.offsetWidth>=i.pageX&&t.offsetTop<=i.pageY&&t.offsetTop+t.offsetHeight>=i.pageY||(r.hide(),r.getDroppedDown()||this.setIsSelected(!1))},f.prototype._crc=function(n){for(var t=n instanceof FocusEvent?n.relatedTarget:n.fromElement;t&&t!=this._DomNode;){if(this._Menu&&t==this._Menu.getDomNode())return!1;t=t.parentNode}return t!=this._DomNode},f.prototype._crd=function(n){var t;if(t=n instanceof FocusEvent?n.relatedTarget:n.fromElement||n.relatedTarget||n.toElement,t==null)return!1;while(t&&t!=this._DomNode){if(this._Menu&&t==this._Menu.getDomNode())return!1;t=t.parentNode}return t!=this._DomNode},f.prototype._bEH=function(){if(!(this._Arrow instanceof t.Arrow)){var i={Width:6,Height:3,Fill:"#7c7c7c",Direction:n.LTRB.Right,IsRTL:this._IsRTL};this._Arrow=new t.Arrow(n.extend(this._Arrow||{},i))}return this._Arrow},f.prototype.getMenu=function(){return this._Menu},f.prototype.getCloseOnChecked=function(){return this._CloseOnChecked},f.prototype.getImageUrl=function(){return this._ImageUrl},f.prototype.getGroupName=function(){return this._GroupName},f.prototype.getHotKey=function(){return this._HotKey},f.prototype.getHotKeyColor=function(){return this._HotKeyColor},f.prototype.getRowIndex=function(){return this._RowIndex},f.prototype.getColumnIndex=function(){return this._ColumnIndex},f.prototype.getIsSelected=function(){return this._IsSelected},f.prototype.getTemplate=function(){return this._Template},f.prototype.getIgnoreDimensions=function(){return this._IgnoreDimensions},f.prototype.getToolTipFollowPointer=function(){return this._ToolTipFollowPointer},f.prototype.getContent=function(){return this._Content},f.prototype.getChildMenuHorizontalOffset=function(){return this._ChildMenuHorizontalOffset},f.prototype.getChildMenuVerticalOffset=function(){return this._ChildMenuVerticalOffset},f.prototype.setChildMenuHorizontalOffset=function(n){this._ChildMenuHorizontalOffset=n},f.prototype.setChildMenuVerticalOffset=function(n){this._ChildMenuVerticalOffset=n},f.prototype.getShowIcon=function(){return this._LeftPartStyle!=r.None&&this._LeftPartStyle!=r.Auto?!0:this._LeftPartStyle==r.Auto?this._crb()||this._Checked!=null:!1},f.prototype.getWidth=function(){return this._Parent?this._Parent.getWidth():u.prototype.getWidth.call(this)},f.prototype.getImageList=function(){return this._ImageList||(this._Parent instanceof t.Menu?this._Parent.getImageList():null)},f.prototype.clearToolTip=function(){if(this._ContentDomNode){var n=this.getToolTip();n&&n.isLive&&n.isLive()&&n.dispose(),this._k(this._ContentDomNode,"mousemove",this._bEN)}},f.prototype.updateToolTip=function(){if(this._Content&&this._ContentDomNode){var t=this.getToolTip(),i=n.isString(this._Content)?this._Content:"";t&&t.isLive&&t.isLive()?t.setContent(i):(t=new n.Ui.ToolTip({Content:i}),this.setToolTip(t)),this._addEvent(this._ContentDomNode,"mousemove",this._bEN)}},f.prototype.hasSpecifiedWidth=function(){return!!this._Width&&this._Width!=="auto"},f.prototype.getNonContentWidth=function(){if(this._DomNode){var r=this._u7,i=this._HotKeyContainer,u=this._ArrowContainerDomNode,t=0;return t+=n.Ui.getMarginsWidth(this._DomNode),t+=r?r.clientWidth:0,t+=i?this._g(n.getStyle(i,"padding-left"))+this._g(n.getStyle(i,"padding-right")):0,t+=u?u.clientWidth:0}},f.prototype.getContentWidth=function(){return this._ContentDomNode?this._ContentDomNode.offsetWidth:0},f.prototype.setMaxContentWidth=function(n){this._ContentDomNode&&(this._ContentDomNode.style.maxWidth=n!==null?n+"px":"")},f.prototype.setContent=function(n){this._ContentDomNode&&this._bW(n,this._ContentDomNode,undefined,!0)},f.prototype.setMenu=function(t){if(t!=this._Menu)if(this._Menu&&n.removeChildren(this._ArrowContainerDomNode),t instanceof n.Ui.DropPanel){if(this._Menu=t,this._Menu){var i=this._bEH();this._ArrowContainerDomNode.appendChild(i.getSvgElement())}this._bEI()}else t===null&&(this._Menu=t)},f.prototype.setChecked=function(t){this._e1&&(this._e1 instanceof n.Ui.CheckBox||t!=null)||(this._aQ6(),this._agb()),this._e1&&(this._e1 instanceof n.Ui.CheckBox&&this._e1.setChecked(t),this._e1 instanceof n.Ui.Button&&(this._e1.setIsPressed(t),this._bEL(this._e1,null)))},f.prototype.getChecked=function(){if(this._e1){if(this._e1 instanceof n.Ui.CheckBox)return this._e1.getChecked();if(this._e1 instanceof n.Ui.Button)return this._e1.getIsPressed()}return!1},f.prototype.setCloseOnChecked=function(n){n!=this._CloseOnChecked&&(this._CloseOnChecked=n==!0)},f.prototype.getVisible=function(){return this.getIsVisible()},f.prototype.setVisible=function(n){this.setIsVisible(n)},f.prototype.setColumnIndex=function(t){n.isNumber(t)&&(this._ColumnIndex=t)},f.prototype.setRowIndex=function(t){n.isNumber(t)&&(this._RowIndex=t)},f.prototype.setImageUrl=function(n){n!=this._ImageUrl&&(this._ImageUrl=n,this._aQ6(),this._agb())},f.prototype.setEnabled=function(n){u.prototype.setEnabled.call(this,n),this._e1&&this._e1.setEnabled(n)},f.prototype.setIsRTL=function(t){u.prototype.setIsRTL.call(this,t);var r=n.querySelector(this._DomNode,".PPRoundedMiddleCenter"),i=this._Menu;r&&(r.dir=this._IsRTL?"rtl":"ltr"),i&&i.isLive()&&i.setIsRTL(t),this._Arrow instanceof n.Ui.Arrow&&this._Arrow.setIsRTL(t)},f.prototype.setShowIcon=function(n){var t=this._LeftPartStyle;n==!0&&t==r.None&&(t=r.Holder),this.setLeftPartStyle(n==!0?t:r.None)},f.prototype.setLeftPartStyle=function(n){this._LeftPartStyle!==n&&(this._LeftPartStyle=n,this._aQ6(),this._agb())},f.prototype.setIsSelected=function(n){n!==this._IsSelected&&(n?this.addClass(this._ActiveClass):this.removeClass(this._ActiveClass)),this._IsSelected=n},f.prototype.setGroupName=function(t){this._GroupName=t,this._e1 instanceof n.Ui.RadioButton&&this._e1.setGroupName(t)},f.prototype.setHotKeyColor=function(t){var i=t instanceof n.Color?t:n.Color.getColor(t);this._HotKeyColor=i,this._HotKeyContainer&&(this._HotKeyContainer.style.color=this._HotKeyColor.toString())},f.prototype.setHeight=function(t,i){u.prototype.setHeight.call(this,t,i),(this._e1 instanceof n.Ui.Label||this._e1 instanceof n.Ui.Button)&&this._e1.setHeight(t)},f.prototype.getInversionCheck=function(){return this._InversionCheck},f.prototype.dispose=function(){delete this._Parent,delete this._ImageList,u.prototype.dispose.call(this)},f}(t.Control),t.MenuItem=u})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype._render=function(){this._initFromHTML("<div class='PPMenuHeader'><div><\/div><\/div>"),this._ContentDomNode=this._DomNode.firstChild,this._bW(this._Content,this._ContentDomNode,"Content",!0);var t=this._Enabled;this._Enabled=null,this.setEnabled(t),this._IsVisible||this.setIsVisible(this._IsVisible),this.setResourceKey(this._ResourceKey),this._Opacity!=1&&this.setOpacity(this._Opacity),this._Rotate!=0&&n.Ui.rotateNode(this._DomNode,this._Rotate),this.addClass(this._ReleaseClass)},r.prototype._bp=function(){return!1},r.prototype._bk=function(){return!1},r}(t.MenuItem);t.MenuHeader=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype._render=function(){this._initFromHTML("<div class='PPMenuSeparator'><\/div>"),this._Visible||n.hide(this._DomNode)},r.prototype._bp=function(){return!1},r.prototype._bk=function(){return!1},r.prototype.setHeight=function(){},r}(t.MenuItem);t.Separator=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype._render=function(){this._initFromHTML("<div class='PPMenuShortSeparator'><\/div>"),t.prototype._render.call(this),this._Visible||n.hide(this._DomNode)},r}(t.Separator);t.ShortSeparator=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(n){var t=function(n){function t(t){return n.call(this,t)||this}return i(t,n),t.prototype._e=function(){n.prototype._e.call(this),this._CloseOnClick=!0},t.prototype._render=function(){n.prototype._render.call(this),this.addClass("PPContentMenuItem"),this._ActivateIconSeparator&&this.addClass("PPActiveMenuItem")},t.prototype._a9a=function(){var t=this._Parent&&this._Parent.getImageList(),i=t&&this._RowIndex>-1&&this._ColumnIndex>-1;return this._ActivateIconSeparator||this._Checked!=null||this._ImageUrl||i?n.prototype._a9a.call(this):""},t.prototype._bEJ=function(){return""},t.prototype._jW=function(){return!1},t.prototype._bEO=function(n){var i=n.target||n.srcElement,t=i&&i.tagName;return(t=t&&t.toLowerCase(),t&&(t==="input"||t==="textarea"||i.getAttribute("contenteditable")||!this._CloseOnClick))?!0:!1},t.prototype._bk=function(t,i){if(this._bEO(i.Event))i.Event.stopPropagation(),i.Break=!0;else return n.prototype._bk.apply(this,arguments)},t.prototype._bp=function(t,i){if(this._bEO(i.Event))i.Event.stopPropagation(),i.Break=!0;else return n.prototype._bp.apply(this,arguments)},t}(n.MenuItem);n.ContentMenuItem=t})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t=function(t){function r(n){var i=t.call(this,n)||this;return i._ResourceId&&i.setResourceId(i._ResourceId),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["Loaded"]),this._Width=-1,this._Height=-1,this._Source="",this._ResourceId=null,this._Image=null},r.prototype._initFields=function(n){n=n||{},n.Image&&this.setImage(n.Image),n.Source&&this.setSource(n.Source),t.prototype._initFields.call(this,n)},r.prototype._cre=function(n){var v=[],o,t,h,u,s,a,e,i,y,p;n instanceof r?(h=n,t=document.createElement("canvas"),t.width=h.getWidth(),t.height=h.getHeight(),o=t.getContext("2d"),o.drawImage(n,0,0)):(t=n,o=t.getContext("2d"));var c=t.width,l=t.height,f=o.getImageData(0,0,c,l).data;for(u=0;u<3;u++){for(t=document.createElement("canvas"),t.width=c,t.height=l,s=t.getContext("2d"),s.drawImage(n,0,0),a=s.getImageData(0,0,c,l),e=a.data,i=0,y=f.length;i<y;i+=4)e[i]=u===0?f[i]:0,e[i+1]=u===1?f[i+1]:0,e[i+2]=u===2?f[i+2]:0,e[i+3]=f[i+3];s.putImageData(a,0,0),p=new r({Source:t.toDataURL()}),v.push(p)}return v},r.prototype._a9b=function(){return this._Image instanceof HTMLCanvasElement?this._Image.width:this._Image instanceof HTMLImageElement?this._Image.width:-1},r.prototype._a9c=function(){return this._Image instanceof HTMLCanvasElement?this._Image.height:this._Image instanceof HTMLImageElement?this._Image.height:-1},r.prototype._fk=function(){if(this.isLive()){var n=this._a9b(),t=this._a9c();this._Image.onload=null,this._Width===-1&&this.setWidth(n),this._Height===-1&&this.setHeight(t),this._om=!0,this.Loaded.fire(this,{Image:this._Image}),delete this._aRa}},r.prototype.getWidth=function(){return this._Width},r.prototype.getHeight=function(){return this._Height},r.prototype.getSource=function(){return this._Source},r.prototype.getImage=function(){return this._Image},r.prototype.getResourceId=function(){return this._ResourceId},r.prototype.setWidth=function(n){this._Width=n},r.prototype.setHeight=function(n){this._Height=n},r.prototype.setResourceId=function(t){this._ResourceId=t;var i=n.resourceManager.getString(t,"Source"),r=n.resourceManager.getString(t,"Width"),u=n.resourceManager.getString(t,"Height");r&&this.setWidth(+r),u&&this.setHeight(+u),i&&n.ImagePath&&this.setSource(n.ImagePath+i)},r.prototype.isLoaded=function(){return this._om},r.prototype.setSource=function(n){if(this._Source!==n){this._Source=n;var t=document.createElement("img");t.onload=this._fk.bind(this),t.src=n,this._Image=t,this._om=!1,delete this._aRa}},r.prototype.setImage=function(t){var i;if(t instanceof r)i=t,this._Width=i.getWidth(),this._Height=i.getHeight(),this._Source=i.getSource(),this._Image=i.getImage();else if(t instanceof HTMLCanvasElement)i=t,this._Width=i.width,this._Height=i.height,this._Source=i.toDataURL(),this._Image=t;else if(t instanceof HTMLImageElement)i=t,this._Width=i.width,this._Height=i.height,this._Source=i.src,this._Image=t;else throw new n.ArgumentException(this);this._om=!0,delete this._aRa},r.prototype.applyToBackground=function(n){var t=Math.max(this._Width,0),i=Math.max(this._Height,0);n.style.width=t+"px",n.style.height=i+"px",n.style.backgroundImage="url("+this.getSource()+")",n.style.backgroundSize=this._Image&&t===this._a9b()&&i===this._a9c()?"":t+"px "+i+"px"},r.prototype.applyToCanvas=function(t,i,r,u,f){var c,p,e,o,a,d,h,v;if(i=i||0,r=r||0,!this._om)throw new n.Exception(this,"image not loaded");if(this._Width<0||this._Height<0)throw new n.Exception(this,"invalid image size");if(this._Image instanceof HTMLCanvasElement?c=this._Image:this._Image instanceof HTMLImageElement&&(p=this._Image),e=this._a9b(),o=this._a9c(),u){var nt=t.globalAlpha,w=u.getR(),b=u.getG(),k=u.getB(),l=u.getA();if(f)a=this._aRa=this._aRa||this._cre(c),d=t.globalCompositeOperation,t.globalCompositeOperation="lighter",w>0&&(t.globalAlpha=w*l/65025,t.drawImage(a[0],0,0,e,o,i,r,this._Width,this._Height)),b>0&&(t.globalAlpha=b*l/65025,t.drawImage(a[1],0,0,e,o,i,r,this._Width,this._Height)),k>0&&(t.globalAlpha=k*l/65025,t.drawImage(a[2],0,0,e,o,i,r,this._Width,this._Height)),t.globalCompositeOperation=d;else{h=document.createElement("canvas"),v=h.getContext("2d"),h.width=this._Width,h.height=this._Height,v.drawImage(c||p,0,0);for(var g=v.getImageData(0,0,this._Width,this._Height),y=g.data,tt=y.length,s=0;s<tt;s+=4)y[s]*=w/255,y[s+1]*=b/255,y[s+2]*=k/255;v.putImageData(g,0,0),t.globalAlpha=l/255,t.drawImage(h,0,0,e,o,i,r,this._Width,this._Height)}t.globalAlpha=nt}else t.drawImage(c||p,0,0,e,o,i,r,this._Width,this._Height)},r}(n.Object);n.Image=t}(n||(n={})),function(n){var t=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._initFields=function(n){this._defineEvents(["ImageLoading","ImageLoaded"]),n=n||{},t.prototype._initFields.call(this,n),n.Image&&this.setImage(n.Image),this._IsRetinaAvailable=n.IsRetinaAvailable&&window.devicePixelRatio==2,this._IsRetinaAvailable&&(this._Source=r.getRetinaUrl(this._Source))},r.prototype._fk=function(n){this.isLive()&&(this._Source=n.getSource(),this.ImageLoaded.fire(this,{Image:this._Image.getImage()}))},r.getRetinaUrl=function(n){if(n.indexOf("data:image/")==0)return n;var t=n.split("."),i=t[t.length-1];return t[t.length-1]="retina",t.push(i),t.join(".")},r.prototype.getIconHeight=function(){return this._IconHeight},r.prototype.getIconWidth=function(){return this._IconWidth},r.prototype.getIsRetinaAvailable=function(){return this._IsRetinaAvailable},r.prototype.getSource=function(){return this._Source},r.prototype.setIconHeight=function(n){this._IconHeight=n},r.prototype.setIconWidth=function(n){this._IconWidth=n},r.prototype.setIsRetinaAvailable=function(n){this._IsRetinaAvailable=n},r.prototype.getIcon=function(n,t){return(n>-1||t>-1)&&this._IconHeight>-1&&this._IconWidth>-1&&this._Source?((!n||n<0)&&(n=0),(!t||t<0)&&(t=0),this._IsRetinaAvailable?"-"+t*this._IconWidth*2+"px -"+n*this._IconHeight*2+"px":"-"+t*this._IconWidth+"px -"+n*this._IconHeight+"px"):""},r.prototype.getLeft=function(n){return n>-1&&this._IconHeight>-1&&this._IconWidth>-1&&this._Source?this._IsRetinaAvailable?-(n*this._IconWidth)*2:-(n*this._IconWidth):0},r.prototype.getTop=function(n){return n>-1&&this._IconHeight>-1&&this._IconWidth>-1&&this._Source?this._IsRetinaAvailable?-(n*this._IconHeight)*2:-(n*this._IconHeight):0},r.prototype.setSource=function(n){this._Source!==n&&(this._Image&&this._Image.setSource(n),this._Source=n)},r.prototype.setImage=function(t){(t instanceof n.Image||!t)&&(this._Image=t),!this._Image&&t&&(this._Image=new n.Image),(t instanceof HTMLCanvasElement||t instanceof HTMLImageElement)&&this._Image.setImage(t)},r.prototype.loadImage=function(){if(!this._Image||!this._Image.isLoaded()){var t=this;this._Image=new n.Image({Source:this.getSource(),Loaded:new n.Delegate(this._fk,this)}),this.ImageLoading.fire(this,{})}},r.prototype.isImageLoaded=function(){return this._Image?this._Image.isLoaded():!1},r.prototype.applyToBackground=function(n,t,i,r,u){this._IsRetinaAvailable&&(n.style.zoom=".5"),n.style.width=(this._IsRetinaAvailable?this.getIconWidth()*2:this.getIconWidth())+"px",n.style.height=(this._IsRetinaAvailable?this.getIconHeight()*2:this.getIconHeight())+"px",n.style.backgroundImage="url("+this.getSource()+")"+(r?r:""),n.style.backgroundRepeat="no-repeat",(t!=undefined||i!=undefined)&&(n.style.backgroundPosition=this.getIcon(t,i)+(u?u:""))},r.prototype.applyToCanvas=function(t,i,r,u,f){if(u=u||0,f=f||0,!this.isImageLoaded())throw new n.Exception(this,"image not loaded");if(this._IconWidth<0||this._IconHeight<0)throw new n.Exception(this,"invalid icon size");var c=-this.getLeft(r),l=-this.getTop(i),e=this._IsRetinaAvailable?2:1,o=this._Image.getImage(),s,h;o instanceof HTMLCanvasElement?s=o:h=o,t.drawImage(s||h,c,l,this._IconWidth*e,this._IconHeight*e,u*e,f*e,this._IconWidth*e,this._IconHeight*e)},r}(n.Object);n.ImageList=t}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._ScrollingMouseDown=!1,t._OpenedChildMenu=null,t.OutOfPanelDown.add(t._crf,t),t.Opened.add(t._ae,t),t.Closed.add(t._kO,t),t.setEnableResize(!1),t.setMinDropDownHeight(0),t.setMinDropDownWidth(0),t.setMaxDropDownHeight(1e4),t.setMaxDropDownWidth(1e4),t._aCS=[],t._m2=!1,t._IsInitialized=!0,t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._Items=[],this._ImageList=null,this._ScrollHeight=100,this._ScrollPosition=n.Orientation.Horizontal,this._Animation=null,this._FocusOnOpen=!1,this._ChildMenuOpenDelay=300,this._defineEvents(["ItemSelected","ItemCheckedChanged"])},u.prototype._initFields=function(t){r.prototype._initFields.call(this,t),!t||!t.ImageList||t.ImageList instanceof n.ImageList||(this._ImageList=new n.ImageList(t.ImageList)),this._ImageList&&!n.isDefined(this._ShowIcons)&&(this._ShowIcons=!0)},u.prototype._render=function(){r.prototype._render.call(this),n.addClass(this._DomNode,"PPDropMenu"),this._MenuDomNode=document.createElement("ul"),n.addClass(this._MenuDomNode,"PPMenu"),this._UpArrow=n.htmlToDOM("<li><div><\/div><\/li>"),n.addClass(this._UpArrow,"PPMenuUpArrow"),this._MenuDomNode.appendChild(this._UpArrow),this._ItemsLi=document.createElement("li"),n.addClass(this._ItemsLi,"PPItemsContainer"),this._MenuDomNode.appendChild(this._ItemsLi),this._DownArrow=n.htmlToDOM("<li><div><\/div><\/li>"),n.addClass(this._DownArrow,"PPMenuDownArrow"),this._MenuDomNode.appendChild(this._DownArrow),this._ContentDomNode.appendChild(this._MenuDomNode),this._Animation||this.setAnimation(new t.AnimationSettings),this._UpArrowHeight=this._UpArrow.offsetHeight,this._DownArrowHeight=this._DownArrow.offsetHeight},u.prototype._bindEvents=function(){r.prototype._bindEvents.call(this),this._bV(this._UpArrow,{mousedown:this._a9d,mouseup:this._a9d}),this._bV(this._DownArrow,{mousedown:this._a9e,mouseup:this._a9e}),this._bV(this._DomNode,{mousewheel:this._a1,DOMMouseScroll:this._a1})},u.prototype._unBindEvents=function(){this._k(this._UpArrow,"mousedown",this._a9d),this._k(this._DownArrow,"mousedown",this._a9e),this._d7(this._UpArrow),this._d7(this._DownArrow),this._k(this._DomNode,"mousewheel",this._a1),this._k(this._DomNode,"DOMMouseScroll",this._a1),r.prototype._unBindEvents.call(this)},u.prototype._cr=function(){var r,t,u,i;if(!this._m2){if(r=this._Items,this._Items=[],r)for(u=0;u<r.length;u++)i=r[u],i.MenuItem?(t=i.MenuItem,t.Parent||(t.Parent=this),this.addItem(new n.Ui.MenuItem(t))):i.MenuHeader?(t=i.MenuHeader,t.Parent||(t.Parent=this),this.addItem(new n.Ui.MenuHeader(t))):i.SplitMenuItem?(t=i.SplitMenuItem,t.Parent||(t.Parent=this),this.addItem(new n.Ui.SplitMenuItem(t))):i.Separator?(t=i.Separator,t.Parent||(t.Parent=this),this.addItem(new n.Ui.Separator(t))):i.ShortSeparator?(t=i.ShortSeparator,t.Parent||(t.Parent=this),this.addItem(new n.Ui.ShortSeparator(t))):i.ContentMenuItem?(t=i.ContentMenuItem,t.Parent||(t.Parent=this),this.addItem(new n.Ui.ContentMenuItem(t))):this.addItem(i);this._m2=!0}},u.prototype._cG=function(t,i){this._CloseChildMenuTimeoutId&&n.clearTimeout(this._CloseChildMenuTimeoutId),r.prototype._cG.call(this,t,i)},u.prototype._a1=function(n,t){var r=t.Event;if(this.getEnabled()){var u=this._ItemsLi,f=r.wheelDelta?r.wheelDelta:r.detail*-1,i=u.clientHeight/2;i=f<0?i:-i,u.scrollTop=u.scrollTop+i,this._att()}},u.prototype._ae=function(){(n.Ui.Menu.RootMenu==null||n.Ui.Menu.RootMenu.isLive&&!n.Ui.Menu.RootMenu.isLive())&&(n.Ui.Menu.RootMenu=this),this._m2||(this._cr(),this._yo(),this.updateSize()),this._crg()},u.prototype._cR=function(n,t){t.Item=t.MenuItem=n,t.SelectedIndex=this._Items.indexOf(n),this.ItemSelected.fire(this,t)},u.prototype._crh=function(n,t){var r={Cancel:t.Cancel,Element:t.Element,Event:t.Event,SelectedIndex:this._Items.indexOf(n),Item:n,MenuItem:n},i=n.getGroupName();i&&n.getChecked()&&n.getShowIcon()&&this._Items.forEach(function(t){t.getGroupName()==i&&t!=n&&(t.CheckedChanged.suspend(),t.setChecked(!1),t.CheckedChanged.resume())}),this.ItemCheckedChanged.fire(this,r)},u.prototype._cri=function(n){this._OpenedChildMenu=n.getMenu(),this._OpenedChildMenu instanceof u&&this._OpenedChildMenu.setScrollPosition(this._ScrollPosition)},u.prototype._crj=function(){this._OpenedChildMenu=null},u.prototype._crk=function(n,t){for(var r=this.getItems(),i=0;i<r.length;i++)r[i]!==n&&r[i].setIsHovered(!1);t.IsReallyOver&&this._aQ9(this)},u.prototype._crg=function(){for(var i=[],l=["ShortSeparator","Separator"],f,o,s,e,h,c,n=0;n<this._Items.length;n++)f=this._Items[n],(f.getIsVisible()||f instanceof t.Separator&&this._aCS.indexOf(f.getId())>-1)&&i.push(f);for(var a=i.length,r=0,u=0;r<a;){if(f=i[r],f instanceof t.Separator){for(u=r;u+1<a&&i[u+1]instanceof t.Separator;)u++;if(o=i[r-1],s=i[u+1],!o||o instanceof t.MenuHeader||o instanceof t.Separator||!s||s instanceof t.MenuHeader||s instanceof t.Separator)for(n=r;n<=u;n++)this._bEP(i[n]);else{for(e=r,h=l.indexOf(i[e].getTypeName()),n=r;n<=u;n++)c=l.indexOf(i[n].getTypeName()),c>h&&(h=c,e=n);for(this._crl(i[e]),n=r;n<=u;n++)n!==e&&this._bEP(i[n])}r=u}r++}},u.prototype._bEP=function(n){if(n instanceof t.Separator&&n.getIsVisible()){n.setIsVisible(!1);var i=n.getId();this._aCS.indexOf(i)===-1&&this._aCS.push(i)}},u.prototype._crl=function(n){if(n instanceof t.Separator){var i=this._aCS.indexOf(n.getId());i>-1&&(n.setIsVisible(!0),this._aCS.splice(i,1))}},u.prototype._bEQ=function(){this._MenuDomNode.style.height="",this._ItemsLi.style.height="",this._DomNode.style.height=""},u.prototype._dDg=function(){this._MenuDomNode.style.width="",this._ItemsLi.style.width="",this._DomNode.style.width=""},u.prototype._a9f=function(t){this._ScrollPosition===n.Orientation.Vertical?(this._bER(t),this._aRb(!1)):(this._bER(!1),this._aRb(t))},u.prototype._aRb=function(t){if(!n.isBoolean(t))throw n.ArgumentException;var i=t?"block":"none";this._UpArrow&&(this._UpArrow.style.display=i),this._DownArrow&&(this._DownArrow.style.display=i)},u.prototype._crm=function(){return this._u8||(this._u8=new n.Ui.ScrollBar({Orientation:n.Orientation.Vertical,Class:"PPMenuScrollBar",MoveScroll:new n.Delegate(this._crn,this)})),this._u8},u.prototype._bER=function(n){if(n){var t=this._crm();t.addToNode(this._DomNode),this.addClass("PPDropMenuVScroll")}else this._u8&&this._u8.removeFromDOM(),this.removeClass("PPDropMenuVScroll")},u.prototype._att=function(n){n=n||this._ItemsLi.offsetHeight,this._UpArrow.className=this._ItemsLi.scrollTop>0?"PPMenuUpArrow":"PPMenuUpArrowDisabled",this._UpArrowHeight||(this._UpArrowHeight=this._UpArrow.offsetHeight),this._DownArrow.className=n-this._ItemsLi.scrollTop-this._UpArrowHeight<=0?"PPMenuDownArrowDisabled":"PPMenuDownArrow"},u.prototype._kO=function(){n.Ui.Menu.RootMenu==this&&(n.Ui.Menu.RootMenu=null)},u.prototype._a9d=function(n,t){this._bES(t.Event,"up")},u.prototype._a9e=function(n,t){this._bES(t.Event,"down")},u.prototype._bES=function(t,i){if(this._Enabled)if(t.type=="pointerdown"){n.setCapture(t.target),this._ScrollingMouseDown=!0;var r=this;n.setTimeout(function(){r._u9(i==="up"?!0:!1)},20)}else t.type=="pointerup"&&(n.releaseCapture(t.target),this._ScrollingMouseDown=!1)},u.prototype._u9=function(i){var r,u,f;this._ScrollingMouseDown&&(r=this._ItemsLi,u=i?-this._ScrollHeight:this._ScrollHeight,this.getAnimation().UseAnimation&&this.getAnimation().AnimationTime>0?(f=new t.Animation({Duration:this.getAnimation().AnimationTime,Start:r.scrollTop,End:r.scrollTop+u}),f.animateDomNodeProp(r,"scrollTop",new n.Delegate(this._cro,this)),n.setTimeout(function(){this._u9(i)},this.getAnimation().AnimationTime,{},this)):(r.scrollTop=r.scrollTop+u,this._att()))},u.prototype._crn=function(n,t){var i=this._ItemsLi,r=i.scrollHeight-i.offsetHeight;i.scrollTop=r*t.NewValue*.01},u.prototype._cro=function(n,t){this._att(),t.IsEnd&&n.dispose()},u.prototype._crf=function(){var f=t.DropPanel.OpenedPanels[t.DropPanel.OpenedPanels.length-1];(f instanceof u||f instanceof t.ToolTip)&&(n.Ui.Menu.RootMenu||(n.Ui.Menu.RootMenu=this),n.Ui.Menu.RootMenu.hide())},u.prototype._aQ9=function(n){n.getOpenedChildMenu()!=null&&n.getOpenedChildMenu().hide()},u.prototype._a88=function(n){for(var f=t.DropPanel.OpenedPanels,r,i=0;i<f.length;i++)if(r=f[i],r instanceof u&&!r.isOutOfPanelDown(n))return!1;return!0},u.prototype._bEF=function(n,t){var i={X:n,Y:t},r=this._DomNode.offsetWidth,u=this._DomNode.offsetHeight,f=document.documentElement.clientWidth,e=document.documentElement.clientHeight,o,s,h;return this._IsRTL&&(i.X-=r),o=i.X>-1&&i.X<f&&i.X+r>=0&&i.X+r<=f?!0:!1,s=i.Y>-1&&i.Y<e&&i.Y+u>=0&&i.Y+u<=e?!0:!1,s||(i.Y-=u,i.Y<0&&(i.Y+=u)),o||(this._IsRTL?i.X=0:(h=i.X,i.X=f-r,i.X<0&&(i.X=h))),i},u.prototype._a7=function(n,t){t.Event.preventDefault()},u.prototype._aCT=function(t,i){i.Event.keyCode==n.Key.Esc&&this._EnableEscapeClose&&this.hide()},u.prototype._aRc=function(t){n.querySelector(this.getDomNode(),"#"+t._Id)||this.hide()},u.prototype._yo=function(){var e,l,u,s,a,i,h,f,c,r,o;if(this._m2&&(e=this.getItems(),this._Items.length)){for(this.setMaxDropDownWidth(1e5),this._aRd=!0,l=this.getWidth(),this.setWidth(null),delete this._aRd,this._Width=0,u=0,s=0,r=0;r<e.length;r++)i=e[r],i.getIgnoreDimensions()?i.hide():(h=i.getContentWidth(),i.getContentWidth&&(i.setMaxContentWidth(null),h>=s&&(s=h,a=i)),i.getContent()&&!i.hasSpecifiedWidth()&&n.isVisible(i.getDomNode())&&(u=Math.max(u,i.getWidth())));var w=n.getStyle(document.body,"overflow")!="hidden"?document.body.scrollWidth:document.documentElement.clientWidth,v=this.getCoords(),b=window.pageXOffset||document.body.scrollLeft,k=Math.max(w-Math.max(v.X,0)+b,0);for(this._aRd=!0,this.setMaxDropDownWidth(k),delete this._aRd,c=a.getNonContentWidth(),f=n.isDefined(c)?Math.max(u-c-Math.max(-v.X,0),0):1e4,r=0;r<e.length;r++){var i=e[r],y=i.getIgnoreDimensions(),p=i instanceof t.MenuHeader;(y&&i.show(),n.isString(i.getContent()))&&(o=i.getContentWidth(),(!p||y)&&(o>=f||i.hasSpecifiedWidth()&&i.getWidth()<o)?p?(i.setMaxContentWidth(u+1),o>u?i.updateToolTip():i.clearToolTip()):(f>0&&i.setMaxContentWidth(f+1),o!==f?i.updateToolTip():i.clearToolTip()):i.clearToolTip())}return this._MaxDropDownWidth=1e5,this._Width=0,l-this.getWidth()}},u.prototype._crp=function(){var t=document.createElement("div");t.style.height="101%",document.body.appendChild(t),n.setTimeout(function(){document.body.removeChild(t),t=null},0,null,this)},u.prototype.getImageList=function(){return this._ImageList},u.prototype.getShowIcons=function(){return this._ShowIcons},u.prototype.getScrollHeight=function(){return this._ScrollHeight},u.prototype.getChildMenuOpenDelay=function(){return this._ChildMenuOpenDelay},u.prototype.getAnimation=function(){return this._Animation},u.prototype.getOpenedChildMenu=function(){return this._OpenedChildMenu},u.prototype.getScrollPosition=function(){return this._ScrollPosition},u.prototype.setChildMenuOpenDelay=function(n){this._ChildMenuOpenDelay=n},u.prototype.updateSize=function(){var e=this._ItemsLi.offsetHeight,t=-1,c=this._alE().Height,o=0,i=this._DomNode,y=i.style,l=n.calculateOffset(i).Y,s,a,r,f,v,h;this._bEQ(),this._aRb(!0),this._UpArrowHeight||(this._UpArrowHeight=this._UpArrow.offsetHeight),this._DownArrowHeight||(this._DownArrowHeight=this._DownArrow.offsetHeight),this._ScrollPosition===n.Orientation.Horizontal&&(o=this._UpArrowHeight+this._DownArrowHeight),this._aRb(!1),s=this._MenuDomNode.parentNode.offsetHeight,i.offsetHeight+l>c?(this._a9f(!0),a=this._crq?this._crq.offsetHeight:0,t=c-l-a-o-n.Ui.getBordersHeight(i),this._ItemsLi.style.height=t>-1?t+"px":"0px",this._att(e)):e>s?(this._a9f(!0),t=s-o,this._ItemsLi.style.height=t>-1?t+"px":"0px",this._att(e)):(this._a9f(!1),this._bEQ()),this._u8&&this._u8.getParentNode()&&(r=this._ItemsLi.offsetHeight,f=this._ItemsLi.scrollHeight-r,this._u8.setHeight(r),this._u8.setValue(this._ItemsLi.scrollTop/f*100),v=Math.ceil(this._u8.getTrackSize()*(1-f/r)),h=100*u.ITEM_HEIGHT/f,this._u8.setDraggerSize(v),h>0&&this._u8.setScrollSpeed(h))},u.prototype.scrollToItem=function(n){var t=n.getDomNode().offsetTop,i=this._ItemsLi;if(i){var r=i.scrollTop,u=r,f=i.offsetHeight-n.getHeight();t-f>r?u=t-f:t<r&&(u=t),i.scrollTop=u,this._att()}},u.prototype.getItems=function(){return this._cr(),this._Items},u.prototype.setItems=function(t){var i,r;if(t!=this._Items&&n.Array.isArray(t)){for(i=0;i<this._Items.length;i++)r=this._Items[i],r.dispose&&r.dispose();this._Items=t,this._m2=!1}this._DroppedDown&&(this._cr(),this._yo(),this.updateSize())},u.prototype.setImageList=function(i){var u,r,f;if(i!=this._ImageList)for(this._ImageList=i,n.isDefined(this._ShowIcons)||(this._ShowIcons=!!this._ImageList),u=0;u<this._Items.length;u++)r=this._Items[u],f=this._ShowIcons?t.MenuItemLeftPartStyle.Auto:t.MenuItemLeftPartStyle.None,r instanceof t.MenuItem?r.setLeftPartStyle(f):n.getProperty(r,"MenuItem")&&(r.LeftPartStyle=f)},u.prototype.setIsRTL=function(t){var i,u;for(r.prototype.setIsRTL.call(this,t),i=0;i<this._Items.length;i++)u=this._Items[i],u instanceof n.Ui.MenuItem&&u.setIsRTL(t)},u.prototype.setShowIcons=function(i){var u,r,f;if(n.isBoolean(i)&&i!=this._ShowIcons)for(this._ShowIcons=i,u=0;u<this._Items.length;u++)r=this._Items[u],f=this._ShowIcons?t.MenuItemLeftPartStyle.Holder:t.MenuItemLeftPartStyle.None,r instanceof n.Ui.MenuItem?r.setLeftPartStyle(f):n.getProperty(r,"MenuItem")&&(r.LeftPartStyle=f)},u.prototype.setScrollPosition=function(n){this._ScrollPosition=n,this.updateSize(),this._OpenedChildMenu instanceof u&&this._OpenedChildMenu.setScrollPosition(this._ScrollPosition)},u.prototype.setWidth=function(n,t){r.prototype.setWidth.call(this,n,t),this._aRd||this._yo()},u.prototype.setHeight=function(n,t){r.prototype.setHeight.call(this,n,t),this._IsInitialized&&this.updateSize()},u.prototype.setScrollHeight=function(t){n.isNumber(t)&&t!=this._ScrollHeight&&(this._ScrollHeight=t)},u.prototype.isVisibleArea=function(n,t,i){return this._cr(),r.prototype.isVisibleArea.call(this,n,t,i)},u.prototype.addItem=function(n){return this.insertItem(n,null)},u.prototype.insertItem=function(i,r){var u,f;if(r===undefined)throw new Error("index can not be undefined");if(r>this._Items.length-1&&(r=null),f=r==null,!f&&typeof r!="number")throw new Error("incorrect type of index");if(!f&&r<0)throw new Error("incorrect value of index");return u=i instanceof t.MenuItem||i instanceof t.Separator?i:!n.isObject(i)||i instanceof t.Control?new t.MenuItem({Content:i}):i.PPType?n.create(i):new t.MenuItem(i),u.getParent()||u.setParent(this),u.setIsRTL(this._IsRTL),this._ShowIcons&&u.setLeftPartStyle(t.MenuItemLeftPartStyle.Holder),u.setChildMenuHorizontalOffset(this._ChildMenuHorizontalOffset),u.setChildMenuVerticalOffset(this._ChildMenuVerticalOffset),this._ItemHeight&&u.setHeight(this._ItemHeight),f||this._Items.length==0?this._Items.push(u):this._Items.splice(r,0,u),u.addToNode(this._ItemsLi),u.Selected.addOne(this._cR,this),u.CheckedChanged.addOne(this._crh,this),u.MouseOver.addOne(this._crk,this),u.MenuOpened.addOne(this._cri,this),u.MenuClosed.addOne(this._crj,this),f||this._ItemsLi.childNodes.length==0||this._ItemsLi.insertBefore(u.getDomNode(),this._ItemsLi.childNodes[r]),u},u.prototype.insertItemBefore=function(n,t){var i=this._Items.indexOf(t);i>-1&&this.insertItem(n,i)},u.prototype.insertItemAfter=function(n,t){var i=this._Items.indexOf(t);i>-1&&this.insertItem(n,i+1)},u.prototype.removeItem=function(n,t){this.removeItemByIndex(this._Items.indexOf(n),t)},u.prototype.removeItemByIndex=function(n,i){if(n>-1&&n<this._Items.length){var r=this._Items[n];r instanceof t.MenuItem&&(i!==!1?r.dispose():r.removeFromDOM()),this._Items.splice(n,1)}},u.prototype.clearItems=function(n){for(var i,r=0;r<this._Items.length;r++)i=this._Items[r],i instanceof t.MenuItem&&(n!==!1?i.dispose():(i.setMenu(null),i.removeFromDOM()));this._Items=[]},u.prototype.setCoords=function(n){n.X=Math.max(n.X,0),r.prototype.setCoords.call(this,n)},u.prototype.show=function(t,i,u){this._cr(),r.prototype.show.call(this,t,i,u),this.updateSize(),this._addEvent(document.documentElement,"keydown",this._aCT),n.Ui.ScrollBox.ScrollBoxMove.add(this._aRc,this),n.IsiPad&&this._crp()},u.prototype.showContext=function(n,t,i){this.show(n,t,!i)},u.prototype.hide=function(){this._aQ9(this),r.prototype.hide.call(this),this._k(document.documentElement,"keydown",this._aCT),n.Ui.ScrollBox.ScrollBoxMove.remove(this._aRc,this)},u.prototype.getMenuItemById=function(n,t){var u,i,r,f,e;for(t=t==!0,u=this.getItems(),i=0;i<u.length;i++){if(r=u[i],r.getId()==n)return r;if(!t&&(f=r.getMenu(),f&&(e=f.getMenuItemById(n),e)))return e}return null},u.prototype.clearCheckedByGroupName=function(n){for(var r=this.getItems(),t,i=0;i<r.length;i++)t=r[i],t.getGroupName()==n&&(t.CheckedChanged.suspend(),t.setChecked(!1),t.CheckedChanged.resume())},u.prototype.dispose=function(){var n,i;if(this.isLive()){if(delete this._ImageList,this._Items&&this._Items.length){for(n=0;n<this._Items.length;n++)i=this._Items[n],!(i instanceof t.Control)&&i.Content instanceof t.Control&&i.Content.dispose();this._abY(this._Items)}this.removeAllEvents(this)}r.prototype.dispose.call(this)},u}(t.DropPanel);r.RootMenu=null,r.ITEM_HEIGHT=22,f([e(-3)],r.prototype,"_ChildMenuHorizontalOffset",void 0),f([e(-2)],r.prototype,"_ChildMenuVerticalOffset",void 0),t.Menu=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._render(),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._defineEvents(["ContentChanged"]),this._Template=n.Templates.Button,this._ImageList=null,this._ImageUrl=null,this._Menu=null,this._RowIndex=-1,this._ColumnIndex=-1,this._ImagePosition=n.AnchorStyles.Top,this._MenuDropPosition=n.AnchorStyles.Bottom,this._MenuArrowPosition=null,this._ArrowDomNode=undefined,this._Arrow=null,this._IsToggleButton=!1,this._UseWrapping=!1,this._EnableEdit=!1,this._CenterVertically=!1,this._IsPressed=!1,this._IsFocused=!1,this._IsRetinaAvailable=window.devicePixelRatio==2,this._EnableBorderHighlightOnFocus=!1},u.prototype._initFields=function(t){t=t||{},t.Menu instanceof n.Ui.Menu&&(this._agc=!0,t.MenuArrowPosition===undefined&&this._MenuArrowPosition===null&&(t.MenuArrowPosition=n.AnchorStyles.Bottom)),t.Arrow instanceof n.Ui.Arrow||(typeof t.Arrow=="object"||t.Menu)&&(t.Arrow=t.Arrow||{},n.extend(t.Arrow,{Width:6,Height:3,Fill:"#313533"}),t.Arrow=new n.Ui.Arrow(t.Arrow));var i=t.ImagePosition,u=t.MenuDropPosition,f=t.MenuArrowPosition;n.isString(i)&&(t.ImagePosition=n.AnchorStyles[i]),n.isString(u)&&(t.MenuDropPosition=n.AnchorStyles[u]),n.isString(f)&&(t.MenuArrowPosition=n.AnchorStyles[f]),r.prototype._initFields.call(this,t)},u.prototype._render=function(){var t,i;this._initFromHTML("<div class='PPButton'>"+this._Template.replace("{Content}","<div class='PPImage'><\/div><div class='PPContent'><\/div><div class='PPArrow'><\/div>")+"<\/div>"),this.addClass("PPNoSelect"),t=this._DomNode,this._gX=n.querySelector(t,".PPImage"),this._ContentDomNode=n.querySelector(t,".PPContent"),this._ArrowDomNode=n.querySelector(t,".PPArrow"),this._NodesNode=this._ContentDomNode?this._ContentDomNode.parentNode:this._DomNode,this._ArrowDomNode&&(this._NodesNode.removeChild(this._ArrowDomNode),this._Arrow instanceof n.Ui.Arrow&&this._ArrowDomNode.appendChild(this._Arrow.getSvgElement())),n.IsIE&&this._addEvent(this._DomNode,"focusin",this._crr),this._crs(),this._alL(),this._lH(),this._bET(),this.setMenuArrowPosition(this._MenuArrowPosition),this.setMenuDropPosition(this._MenuDropPosition),this._bEU=!1,this._EnableEdit&&this.setEnableEdit(!0),this.getCenterVertically()&&this.setCenterVertically(!0),this._ContentDomNode&&this._bW(this._Content,this._ContentDomNode,"Content",!0),r.prototype._render.call(this),this._IsToggleButton&&this._IsPressed&&(this._IsPressed=null,this.setIsPressed(!0)),i=this._IsFocused,this._IsFocused&&(this._IsFocused=null),this.setIsFocused(i),this._EnableBorderHighlightOnFocus&&(this._EnableBorderHighlightOnFocus=null,this.setEnableBorderHighlightOnFocus(!0)),this._BorderStyle&&this.setBorderStyle(this._BorderStyle),this._ParentNode&&this.addToNode(this._ParentNode),this._agd(),this._ab3()},u.prototype._crs=function(){var t=this.getStyle(),i=n.ControlState.Release,r;t||(t={}),n.isString(t)||(i=t[n.ControlState.Default]?n.ControlState.Default:n.ControlState.Release,t[i]||(r=new n.Style,t[i]=r),t[i].getRowIndex()===null&&t[i].setRowIndex(this._RowIndex),t[i].getColumnIndex()===null&&t[i].setColumnIndex(this._ColumnIndex),this.setStyle(new n.StateStyle(t)),r&&r.dispose()),this._IsToggleButton||this._IsPressed||this._aCU(!0,i)},u.prototype._crr=function(){this.isLive()&&this._DomNode.focus()},u.prototype._bp=function(n,i){if(this._Enabled){if(this.hideToolTip(),this._jW())if(this._IsRTL&&this._Menu instanceof t.Menu&&this._Menu.getItems(),this._Menu.getDroppedDown())this._Menu.hide(),this._alM=!1,this._a9g(!1);else{var u=this._age();this._Menu.show(u.X,u.Y,!1),this._alM=this._Menu.getDroppedDown(),this._alM&&this._a9g(!0)}else this.setIsPressed(this._bEV());return r.prototype._bp.call(this,n,i)}},u.prototype._bEV=function(){return!this._IsPressed},u.prototype._bEW=function(){return this._ImageList&&this._ColumnIndex>-1&&this._RowIndex>-1},u.prototype._age=function(){var u=this._Menu.isVisibleArea(0,0,!0),t=n.calculateOffset(this._DomNode),r={X:0,Y:0},o,i,f,e;switch(this._MenuDropPosition){case n.AnchorStyles.Left:r.Y=t.Y,r.X=this._IsRTL?t.X+this._DomNode.offsetWidth:t.X-u.Width;break;case n.AnchorStyles.Top:r.Y=t.Y-u.Height-1,r.X=this._IsRTL?t.X+this._DomNode.offsetWidth:t.X;break;case n.AnchorStyles.Right:r.Y=t.Y,r.X=this._IsRTL?t.X:t.X+this._DomNode.offsetWidth;break;case n.AnchorStyles.Bottom:r.Y=t.Y+this._DomNode.offsetHeight+1,r.X=this._IsRTL?t.X+this._DomNode.offsetWidth:t.X;break;case null:r.Y=t.Y-u.Height+this._DomNode.offsetHeight,r.X=this._IsRTL?t.X-1:t.X+this._DomNode.offsetWidth+1}if(u=this._Menu.isVisibleArea(r.Y,r.X,!0),o=null,!u.VisibleByHeight){f=0;switch(this._MenuDropPosition){case n.AnchorStyles.Left:case n.AnchorStyles.Right:case null:f=t.Y+this._DomNode.offsetHeight-u.Height;break;case n.AnchorStyles.Top:f=t.Y+this._DomNode.offsetHeight+1;break;case n.AnchorStyles.Bottom:f=t.Y-u.Height-1}o=this._Menu.isVisibleArea(f,r.X,!0),o.VisibleByHeight&&(r.Y=f)}if(!u.VisibleByWidth)if(this._IsRTL){i=0;switch(this._MenuDropPosition){case n.AnchorStyles.Left:i=t.X-u.Width;break;case n.AnchorStyles.Right:case null:i=t.X+this._DomNode.offsetWidth;break;case n.AnchorStyles.Top:case n.AnchorStyles.Bottom:e=Math.max(document.documentElement.clientWidth,document.body.offsetWidth),i=t.X+this._DomNode.offsetWidth>e-t.X?t.X+this._DomNode.offsetWidth-u.Width:t.X,(i<0||i===t.X)&&(i=e-u.Width,i=i<0?0:i)}o=this._Menu.isVisibleArea(r.Y,i,!0),o.VisibleByWidth&&(r.X=i)}else{i=0;switch(this._MenuDropPosition){case n.AnchorStyles.Left:i=t.X+this._DomNode.offsetWidth;break;case n.AnchorStyles.Right:case null:i=t.X-u.Width;break;case n.AnchorStyles.Top:case n.AnchorStyles.Bottom:e=Math.max(document.documentElement.clientWidth,document.body.offsetWidth),i=t.X+this._DomNode.offsetWidth>e-t.X?t.X+this._DomNode.offsetWidth-u.Width:t.X,(i<0||i===t.X)&&(i=e-u.Width,i=i<0?0:i)}r.X=i}return r},u.prototype._bk=function(t,i){if(this._Enabled)return i.Event.which==1?(this._atu=!0,this._Menu&&this._Menu.isLive()&&n.Ui.Menu&&n.Ui.Menu.RootMenu&&this._Menu==n.Ui.Menu.RootMenu&&i.Event.stopPropagation()):this._Menu&&this._Menu.isLive()&&this._Menu.getDroppedDown()&&(this._Menu.hide(),this._alM=!1),r.prototype._bk.call(this,t,i)},u.prototype._cG=function(n,t){return r.prototype._cG.call(this,n,t)},u.prototype._b0=function(t,i){if(n.reallyOut(this._DomNode,i.Event))return this._atu&&(this._atu=!1),r.prototype._b0.call(this,t,i)},u.prototype._dQ=function(){if(this._Enabled)return this._atu=!1,r.prototype._dQ.apply(this,arguments)},u.prototype._db=function(n,t){var i=r.prototype._db.call(this,n,t);return t.Event.keyCode===13||t.Event.keyCode===32?(this._bp(n,t),!1):i},u.prototype._bEX=function(n,t){this._atu&&this._Menu&&this._Menu.isLive()&&this._Menu.getDroppedDown()&&(t.IsCancelClose=!0)},u.prototype._kT=function(){this._alM&&(this._alM=!1),this._a9g(!1),this._atu=!1},u.prototype._agd=function(){var t,i;if(this._ArrowDomNode){if(t=this._Content,this._alN()||!this._UseWrapping){(n.isString(t)||n.isNumber(t)||n.isDate(t))&&this._bW(t.toString().replace("<br />"," "),this._ContentDomNode),this._aRe=!1,n.removeClass(this._ArrowDomNode,"BR"),this._jW()&&this._MenuDropPosition===n.AnchorStyles.Bottom&&(this._MenuArrowPosition===n.AnchorStyles.Bottom||this._MenuArrowPosition===n.AnchorStyles.Right)&&this._NodesNode.appendChild(this._ArrowDomNode);return}if(n.isString(t)||n.isNumber(t)||n.isDate(t))if(t=this._Content=t.toString().replace("<br />"," "),t.indexOf(" ")>-1){if(i=t.split(" "),i.length==2)this._bW(i[0]+"<br />"+i[1],this._ContentDomNode);else{for(var o=0,u=1,r,s=i[0].length,f="",e=0;e<i.length;e++)o+=i[e].length;while(s<Math.ceil(o/2)&&u<i.length-1)s+=i[u].length,u++;for(r=0;r<i.length;r++)f+=i[r],r==u-1?f+="<br />":r!=i.length-1&&(f+=" ");this._bW(f,this._ContentDomNode)}this._aRe=!0,this._jW()&&this._MenuDropPosition===n.AnchorStyles.Bottom&&(this._MenuArrowPosition===n.AnchorStyles.Bottom||this._MenuArrowPosition===n.AnchorStyles.Right)?(n.addClass(this._ArrowDomNode,"BR"),this._ContentDomNode.appendChild(this._ArrowDomNode)):n.removeClass(this._ArrowDomNode,"BR")}else this._aRe=!1,n.removeClass(this._ArrowDomNode,"BR"),this._jW()&&this._MenuDropPosition===n.AnchorStyles.Bottom&&(this._MenuArrowPosition===n.AnchorStyles.Bottom||this._MenuArrowPosition===n.AnchorStyles.Right)&&this._NodesNode.appendChild(this._ArrowDomNode)}},u.prototype._a9g=function(t){if(n.isBoolean(t)&&t!==this._bEU){if(!t&&this._Menu&&this._Menu.isLive()&&this._alM)return;this._bEU=t,this.addStateClass(t?n.ControlState.Press:this._IsPressed?n.ControlState.Active:n.ControlState.Release),this._aCU(!0,t?n.ControlState.Press:this._IsPressed?n.ControlState.Active:n.ControlState.Release)}},u.prototype._fk=function(t){if(this.isLive()){this._alO=n.SVG.svg(),this._alO.style.position="relative";var f=n.SVG.image(this._alO,t.getSource()),r=t.getWidth(),u=t.getHeight();n.SVG.setAttr(this._alO,{Width:r,Height:u}),n.SVG.setAttr(f,{Width:r,Height:u}),this._gX.appendChild(this._alO),this._aCV(),this._gX.style.width||(this._gX.style.width=this._ImageList?this._ImageList.getIconWidth()+"px":""),this._gX.style.height||(this._gX.style.height=this._ImageList?this._ImageList.getIconHeight()+"px":""),t.dispose(),this._dDh=!0,this.setEnabled(this._Enabled),this.updateSize()}},u.prototype._crt=function(){n.removeClass(this._ArrowDomNode,"L"),n.removeClass(this._ArrowDomNode,"T"),n.removeClass(this._ArrowDomNode,"R"),n.removeClass(this._ArrowDomNode,"B")},u.prototype._aRf=function(t){this._ArrowDomNode&&(this._crt(),n.addClass(this._ArrowDomNode,t))},u.prototype._a9h=function(){return n.isDefined(this._Content)&&this._Content!==null},u.prototype._bW=function(t,i,u,f){var e=!1;this._ArrowDomNode&&this._ArrowDomNode.parentNode===this._ContentDomNode&&(e=!0),r.prototype._bW.call(this,t,i,u,f),this.removeClass("PPArrowButton"),this._a9h()?(n.show(this._ContentDomNode),this.removeClass("PPImageButton")):(n.hide(this._ContentDomNode),this._ImageUrl||this._ImageList&&this._RowIndex>-1&&this._ColumnIndex>-1?this.addClass("PPImageButton"):this.addClass("PPArrowButton")),this._Menu&&this._Menu.isLive()&&e&&this._ContentDomNode.appendChild(this._ArrowDomNode)},u.prototype._ab3=function(){if(this._alN()?this.addClass("H"):this.removeClass("H"),this.removeClass("ButtonArrowTop"),this.removeClass("ButtonArrowRight"),this.removeClass("ButtonArrowBottom"),this.removeClass("ButtonArrowLeft"),this.removeClass("PPArrowButton"),this.removeClass("ContentMoveLeft"),this.removeClass("ContentMoveRight"),this._jW())if(this.hasImage()||this._a9h()){if(this._ArrowDomNode&&this._ArrowDomNode.parentNode!==this._ContentDomNode){var i,r,t;switch(this._MenuArrowPosition){case n.AnchorStyles.Top:this.addClass("ButtonArrowTop");break;case n.AnchorStyles.Bottom:this.addClass("ButtonArrowBottom");break;case n.AnchorStyles.Left:case n.AnchorStyles.Right:t=this._IsRTL?this._MenuArrowPosition===n.AnchorStyles.Right:this._MenuArrowPosition===n.AnchorStyles.Left,t?this.addClass("ButtonArrowLeft"):this.addClass("ButtonArrowRight"),this._a9h()&&this._alN()&&(i=!this.hasImage()||this._ImagePosition===n.AnchorStyles.Right&&!this._IsRTL||this._ImagePosition===n.AnchorStyles.Left&&this._IsRTL,r=!this.hasImage()||this._ImagePosition===n.AnchorStyles.Left&&!this._IsRTL||this._ImagePosition===n.AnchorStyles.Right&&this._IsRTL,t&&i&&this.addClass("ContentMoveLeft"),!t&&r&&this.addClass("ContentMoveRight"))}}}else this.addClass("PPArrowButton")},u.prototype._alN=function(){return this.hasImage()&&(this._ImagePosition===n.AnchorStyles.Left||this._ImagePosition===n.AnchorStyles.Right)||!this.hasImage()&&(this._MenuArrowPosition===n.AnchorStyles.Left||this._MenuArrowPosition===n.AnchorStyles.Right||this._MenuArrowPosition===n.AnchorStyles.None)},u.prototype._jW=function(){return this._Menu instanceof n.Ui.DropPanel&&this._Menu.isLive()},u.prototype._cru=function(){n.isFunction(document.body.onselectstart)&&(this._m3=document.body.onselectstart,document.body.onselectstart=null)},u.prototype._crv=function(){var i=this._ContentDomNode;i.removeAttribute("contenteditable"),i.removeAttribute("tabIndex"),this.setContent(i.innerHTML),this._m3&&(document.body.onselectstart=this._m3,this._m3=null),this.ContentChanged.fire(this)},u.prototype._aCU=function(t,i){i=n.isNumber(i)?i:n.ControlState[i];var u=this.getStyle(),r=u[n.ControlState[i]],f=n.ControlState[n.ControlState.Release];switch(i){case n.ControlState.Active:case n.ControlState.Press:case n.ControlState.Disable:u&&r&&(r.getRowIndex()!==null&&this.setRowIndex(t?r.getRowIndex():u[f].getRowIndex()),r.getColumnIndex()!==null&&this.setColumnIndex(t?r.getColumnIndex():u[f].getColumnIndex()));break;case n.ControlState.Hover:u&&r&&(n.isNumber(r.getRowIndex())&&this.setRowIndex(t?r.getRowIndex():this._IsPressed?u[n.ControlState.Active].getRowIndex():u[f].getRowIndex()),n.isNumber(r.getColumnIndex())&&this.setColumnIndex(t?r.getColumnIndex():this._IsPressed?u[n.ControlState.Active].getColumnIndex():u[f].getColumnIndex()));break;case n.ControlState.Release:case n.ControlState.Default:u&&r&&(r.getRowIndex()!==null&&this.setRowIndex(r.getRowIndex()),r.getColumnIndex()!==null&&this.setColumnIndex(r.getColumnIndex()))}},u.prototype._lH=function(){if(this._gX){if(!this._bEW()&&!this._ImageUrl){this._gX.parentNode===this._NodesNode&&this._NodesNode.removeChild(this._gX),this.removeClass("PPImageButton"),this._ab3();return}this._gX.style.width=this._ImageUrl?"":this._ImageList.getIconWidth()+"px",this._gX.style.height=this._ImageUrl?"":this._ImageList.getIconHeight()+"px",n.removeChildren(this._gX),this._gX.parentNode!==this._NodesNode&&(this._NodesNode.appendChild(this._gX),this.setImagePosition(this._ImagePosition)),this._Content||this.addClass("PPImageButton"),n.IsIE&&n.IEVer>=10?new n.Image({Source:this._ImageUrl?this._ImageUrl:this._ImageList.getSource(),Loaded:this._fk.bind(this)}):(this._b1=n.htmlToDOM("<img class='PPImageElement' />"),this._b1.src=this._ImageUrl?this._ImageUrl:this._ImageList.getSource(),this._gX.appendChild(this._b1),this._aCV()),this._ab3()}},u.prototype._aCV=function(){var n=this._alO||this._b1,i,r,t;this._ImageList&&!this._ImageUrl&&n&&(i=this._ImageList.getLeft(this._ColumnIndex),r=this._ImageList.getTop(this._RowIndex),this._ImageList.getIsRetinaAvailable()&&(t="scale(.5)",n.style.WebkitTransform=t,n.style.MsTransform=t,n.style.transform=t,i/=2,r/=2),n.style.left=i+"px",n.style.top=r+"px")},u.prototype._bET=function(){if(this._gX&&this.hasImage())switch(this._ImagePosition){case n.AnchorStyles.Left:case n.AnchorStyles.Top:this._NodesNode.insertBefore(this._gX,this._ContentDomNode);break;case n.AnchorStyles.Right:case n.AnchorStyles.Bottom:this._aRe?this._NodesNode.appendChild(this._gX):this._NodesNode.insertBefore(this._gX,this._ArrowDomNode.parentNode===this._NodesNode?this._ArrowDomNode:null)}},u.prototype._alL=function(){var t=this._Menu;t?(t instanceof n.Ui.DropPanel?(this._Menu=t,this._agc=!0):(this._Menu=new n.Ui.Menu(t),this._agc=!1),this._Menu.Closing.add(this._bEX,this),this._Menu.Closed.add(this._kT,this),this._ArrowDomNode.parentNode!==this._NodesNode&&(this._NodesNode.appendChild(this._ArrowDomNode),this.setMenuArrowPosition(this._MenuArrowPosition===null?n.AnchorStyles.Bottom:this._MenuArrowPosition))):(this._jW()&&(this._Menu.Closing.remove(this._bEX,this),this._Menu.Closed.remove(this._kT,this),this._Menu=null,this._agc=!1),this._ArrowDomNode&&(this._ArrowDomNode.parentNode===this._NodesNode?this._NodesNode.removeChild(this._ArrowDomNode):this._ArrowDomNode.parentNode===this._ContentDomNode&&this._ContentDomNode.removeChild(this._ArrowDomNode)))},u.prototype.getImageList=function(){return this._ImageList},u.prototype.getRowIndex=function(){return this._RowIndex},u.prototype.getColumnIndex=function(){return this._ColumnIndex},u.prototype.getImageUrl=function(){return this._ImageUrl},u.prototype.getImagePosition=function(){return this._ImagePosition},u.prototype.getIsToggleButton=function(){return this._IsToggleButton},u.prototype.getUseWrapping=function(){return this._UseWrapping},u.prototype.getIsPressed=function(){return this._IsPressed},u.prototype.getEnableEdit=function(){return this._EnableEdit},u.prototype.getMenu=function(){return this._Menu},u.prototype.getMenuDropPosition=function(){return this._MenuDropPosition},u.prototype.getMenuArrowPosition=function(){return this._MenuArrowPosition},u.prototype.getCenterVertically=function(){return this._CenterVertically},u.prototype.getIsRetinaAvailable=function(){return this._IsRetinaAvailable},u.prototype.getBorderStyle=function(){return this._BorderStyle},u.prototype.getTextAligment=function(){var t;switch(this._ContentDomNode.style.textAlign){case"left":t=n.HorizontalAlignment.Left;break;case"center":t=n.HorizontalAlignment.Center;break;case"right":t=n.HorizontalAlignment.Right;break;default:t=this._ContentDomNode.style.textAlign}return t},u.prototype.getMenuArrowDirection=function(){return this._Arrow instanceof n.Ui.Arrow?this._Arrow.getDirection():undefined},u.prototype.setIsRetinaAvailable=function(n){this._IsRetinaAvailable=n},u.prototype.setImageList=function(n){n!=this._ImageList&&(this._ImageList=n,this._lH())},u.prototype.setRowIndex=function(t){if(n.isNumber(t)&&t!==this._RowIndex){t=Math.max(t,-1);var i=this._RowIndex;this._RowIndex=t,i===-1&&this._ImageList||i>-1&&t===-1?this._lH():this._aCV()}},u.prototype.setColumnIndex=function(t){if(n.isNumber(t)&&t!==this._ColumnIndex){t=Math.max(t,-1);var i=this._ColumnIndex;this._ColumnIndex=t,i===-1&&this._ImageList||i>-1&&t===-1?this._lH():this._aCV()}},u.prototype.setIsToggleButton=function(n){n!=this._IsToggleButton&&(this._IsToggleButton=n,!this._IsToggleButton&&this._IsPressed&&this.setIsPressed(!1))},u.prototype.setUseWrapping=function(t){n.isBoolean(t)&&t!=this._UseWrapping&&(this._UseWrapping=t,this._agd(),this._ab3())},u.prototype.setImageUrl=function(n){n!=this._ImageUrl&&(this._ImageUrl=n,this._lH())},u.prototype.setImagePosition=function(t){this._ImagePosition=t,(t!=n.AnchorStyles.None||this.hasImage())&&(this._bET(),this._agd(),this._ab3())},u.prototype.setContent=function(n){this._bW(n,this._ContentDomNode),this._agd(),this._ab3()},u.prototype.setMenu=function(t){t!=this._Menu&&(this._Menu=t,this._Arrow instanceof n.Ui.Arrow||!this._ArrowDomNode||t===null||(this._Arrow=new n.Ui.Arrow({ParentNode:this._ArrowDomNode,Width:6,Height:3,Fill:"#313533"})),this._alL(),this._agd(),this._ab3())},u.prototype.setMenuDropPosition=function(t){this._MenuDropPosition=t;switch(t){case n.AnchorStyles.Left:this._aRf("L");break;case n.AnchorStyles.Top:this._aRf("T");break;case n.AnchorStyles.Right:this._aRf("R");break;case n.AnchorStyles.Bottom:this._aRf("B")}},u.prototype.setMenuArrowPosition=function(t){this._MenuArrowPosition=t,t!=n.AnchorStyles.None&&(this._jW()&&((this._MenuArrowPosition===n.AnchorStyles.Right||this._MenuArrowPosition===n.AnchorStyles.Bottom)&&this._aRe?this._ContentDomNode.appendChild(this._ArrowDomNode):this._NodesNode.appendChild(this._ArrowDomNode)),this._Arrow instanceof n.Ui.Arrow&&this._NodesNode.appendChild(this._ArrowDomNode),this._agd(),this._ab3())},u.prototype.setIsFocused=function(n){this._IsFocused!==n&&(this._IsFocused=n,n?this.addClass("Focused"):this.removeClass("Focused"))},u.prototype.setIsPressed=function(t){if(this._IsToggleButton&&t!=this._IsPressed){this._IsPressed=t;var i=t?n.ControlState.Active:n.ControlState.Release;this._Enabled||(i|=n.ControlState.Disable),this.addStateClass(i),this._aCU(t,n.ControlState.Active)}},u.prototype.setIsHovered=function(t){this._jW()&&this._alM||(r.prototype.setIsHovered.call(this,t),this._aCU(t,n.ControlState.Hover))},u.prototype.setWidth=function(n,t){r.prototype.setWidth.call(this,n,t),this._agd(),this.updateSize()},u.prototype.setIsRTL=function(t){r.prototype.setIsRTL.call(this,t),this._ContentDomNode&&(this._ContentDomNode.parentNode.dir=this._IsRTL?"rtl":"ltr"),this._bEW()&&this._aCV(),this._jW()&&this._Menu.setIsRTL(t),this._Arrow instanceof n.Ui.Arrow&&this._Arrow.setIsRTL(t),this._ab3()},u.prototype.setEnabled=function(t){if(t=!!t,t!=this._Enabled&&(r.prototype.setEnabled.call(this,t),this.getStyle(n.ControlState.Disable)&&this._aCU(!t,n.ControlState.Disable),this._Menu instanceof n.Ui.Control&&this._Menu.isLive()&&this._Menu.hide(),this._IsRTL&&this.setIsRTL(this._IsRTL)),this._alO){var i=this._alO.querySelector("image");this._Enabled?i.removeAttribute("filter"):n.SVG.setAttr(i,{Filter:n.SVG.getDesaturationFilter()})}},u.prototype.setEnableEdit=function(t){if(t!==this._EnableEdit){this._EnableEdit=t;var i=this._ContentDomNode;t?(this._addEvent(i,"focus",this._cru),this._addEvent(i,"blur",this._crv),n.addClass(i,"PPSelect")):(this._d7(i),n.removeClass(i,"PPSelect"))}},u.prototype.setCenterVertically=function(n){this._CenterVertically=n,this.isLive()&&(n?this.addClass("CenterContentVertically"):this.removeClass("CenterContentVertically"))},u.prototype.setTextAligment=function(t){this._ContentDomNode.style.textAlign=n.HorizontalAlignment[t]},u.prototype.setBorderStyle=function(n){var i={Release:n&&n.Release&&n.Release.Enabled,Hover:n&&n.Hover&&n.Hover.Enabled,Press:n&&n.Press&&n.Press.Enabled,Active:n&&n.Active&&n.Active.Enabled,Disable:n&&n.Disable&&n.Disable.Enabled},t;for(t in i)(n.Enabled===!1||i[t]===!1)&&this.addClass("No"+t+"Border"),i[t]===!0&&this.removeClass("No"+t+"Border")},u.prototype.setMenuArrowDirection=function(t){this._Arrow instanceof n.Ui.Arrow&&this._Arrow.setDirection(t)},u.prototype.setEnableBorderHighlightOnFocus=function(n){n!==this._EnableBorderHighlightOnFocus&&(this._EnableBorderHighlightOnFocus=n,n?this.addClass("PPHighlightBorderOnFocus"):this.removeClass("PPHighlightBorderOnFocus"))},u.prototype.hasImage=function(){return!!this._ImageUrl||!!this._ImageList&&this._RowIndex>-1&&this._ColumnIndex>-1},u.prototype.updateSize=function(){if(this._ContentDomNode)if(this._Width!=0&&this._alN()){var t=this._NodesNode,i=t.offsetWidth-n.Ui.getPixelSize(t,"padding-left")-n.Ui.getPixelSize(t,"padding-right"),r=this._gX.offsetWidth+n.Ui.getMarginsWidth(this._gX),u=n.Ui.getMarginsWidth(this._ContentDomNode);this._ContentDomNode.style.maxWidth=i>0?this._g(Math.floor(i-r-u))+"px":""}else this._ContentDomNode.style.maxWidth=""},u.prototype.addToNode=function(n,t,i){r.prototype.addToNode.call(this,n,t,i),this._agd(),this.updateSize()},u.prototype.dispose=function(){delete this._ImageList,this._jW()&&!this._agc?this._Menu.dispose():delete this._Menu,r.prototype.dispose.call(this)},u}(t.Control);t.Button=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this,r;return(typeof i._Content=="undefined"||i._Content===null)&&(i._Content=""),(typeof i._Value=="undefined"||i._Value==null)&&(i._Value=""),i._aCW="",i._agf=null,i._fl="",i._e2="",r=i._ResourceKey,delete i._ResourceKey,i._render(),i.setContent(i._Content||i._Value,!1),i.setResourceKey(r),i._fl=i.getContent(),i._e2=i.getValue(),i._ParentNode&&i.addToNode(i._ParentNode),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["BeforeChange","AfterChange","AfterTimeout","TextChanged","ValueChanged","Pasted","Enter","Blur","Focus"]),this._EnableEdit=!0,this._IsPassword=!1,this._IsWatermark=!1,this._Ellipsis=!1,this._WatermarkText="",this._LeftContent=[],this._RightContent=[],this._LeftContentWidth=0,this._RightContentWidth=0,this._MaxLength=-1,this._AllowedSymbols=/.*/,this._ValidState=!0,this._AfterChangeDelay=null,this._agg="PPTextBoxInput",this._agh="PPTextBoxTd",this._atv="PPTextBoxNotValid",this._a9i="PPTextBoxEllipsisNode"},r.prototype.getAfterChangeDelay=function(){return this._AfterChangeDelay},r.prototype.getIsPassword=function(){return this._IsPassword},r.prototype.getMaxLength=function(){return this._MaxLength},r.prototype.getEnableEdit=function(){return this._EnableEdit},r.prototype.getIsWatermark=function(){return this._IsWatermark},r.prototype.getWatermarkText=function(){return this._WatermarkText},r.prototype.getEllipsis=function(){return this._Ellipsis},r.prototype.getValidState=function(){return this._ValidState},r.prototype.getLeftContent=function(){return this._LeftContent},r.prototype.getRightContent=function(){return this._RightContent},r.prototype.getAllowedSymbols=function(){return this._AllowedSymbols},r.prototype.setAfterChangeDelay=function(n){this._AfterChangeDelay=n},r.prototype._render=function(){this._initFromHTML("<div class='PPTextBox'><input class='PPTextBoxInput' type='"+(this._IsPassword?"password":"text")+"' value=''/><\/div>"),this._o=this._DomNode.getElementsByTagName("input")[0],this._va=this._o.parentNode,t.prototype._render.call(this),this.setEnableEdit(this._EnableEdit),this.setEllipsis(this._Ellipsis),this._ParentNode&&this.addToNode(this._ParentNode),this.setLeftContent(this._LeftContent),this.setRightContent(this._RightContent),this.setValidState(this._ValidState!=!1),this._e3=!0},r.prototype._aCX=function(){n.hasClass(this._va,this._agh)||(this._lI=n.htmlToDOM("<table cellspacing='0' cellpadding='0' border='0' class='PPTextTable' tmplid='table'><tbody><tr><td class='Custom PPTextBoxSideContainer'><div><\/div><\/td><td class='PPTextBoxTd'><\/td><td class='Custom PPTextBoxSideContainer'><div><\/div><\/td><\/tr><\/tbody><\/table>"),this._DomNode.appendChild(this._lI),this._va=n.querySelector(this._lI,"."+this._agh),this._ab4=this._va.previousSibling.firstChild,this._ab5=this._va.nextSibling.firstChild,this._va.appendChild(this._o))},r.prototype._crw=function(){n.hasClass(this._va,this._agh)&&(this._lI&&this._lI.parentNode==this._DomNode&&(this._DomNode.removeChild(this._lI),delete this._lI),this._DomNode.appendChild(this._o),this._va=this._DomNode,this._ab4=null,this._ab5=null)},r.prototype._a9j=function(){this._LeftContent.length||this._RightContent.length||this._Ellipsis?this._aCX():this._crw()},r.prototype._bindEvents=function(){this._cQ||(t.prototype._bindEvents.call(this),this._bV(this._o,{keyup:this._agi,keydown:this._on,keypress:this._yp,blur:this._qj,focus:this._m4,drop:this._m4,paste:this._m4,mouseover:this._bEY,mouseout:this._bEZ,mouseup:this._sp,mousedown:this._atw,input:this._crx}))},r.prototype._unBindEvents=function(){t.prototype._unBindEvents.call(this),this._d7(this._o)},r.prototype._a7=function(n,i){if(this._Enabled)i.ShowNativeMenu=!0,t.prototype._a7.call(this,n,i),i.Event.stopPropagation();else return!1},r.prototype._bp=function(n,i){var r=i.Event&&i.Event.target;return i.onSideContent=r?this._ab4&&this._ab4.contains(r)||this._ab5&&this._ab5.contains(r):!1,t.prototype._bp.apply(this,arguments)},r.prototype._bk=function(n,i){var r=i.Event&&i.Event.target;return i.onSideContent=r?this._ab4&&this._ab4.contains(r)||this._ab5&&this._ab5.contains(r):!1,t.prototype._bk.apply(this,arguments)},r.prototype._bEY=function(){this._a9k()},r.prototype._bEZ=function(){this._a9l()},r.prototype._qj=function(t,i){if(this._bE0=this._o.selectionStart,this._lJ=this._o.selectionEnd,this.removeClass("PPTextBoxFocused"),this._Ellipsis&&this._cry(),!this.isLive())return!1;this._eM(!0,!1,0),this._bE1(i),this._IsWatermark&&this._o.value.length==0&&this._yq(this._WatermarkText,!0),n.IsIE&&document.selection&&n.setTimeout(this._crz,0,this)},r.prototype._crz=function(){var n=document.selection.createRange();n.parentElement()&&n.parentElement().type||document.selection.empty()},r.prototype._m4=function(t,i){var r,f,u,e;if(!this._EnableEdit||!this._Enabled)return!1;this.addClass("PPTextBoxFocused"),r=this._o.value,n.IsIE||i.Event.type=="paste"||(this._lJ!==undefined?(this._o.selectionStart=this._bE0,this._o.selectionEnd=this._lJ):this._o.selectionStart=this._o.selectionEnd=r.length),this._IsWatermark&&r.length>=0&&r==this._WatermarkText&&n.hasClass(this._o,"PPWatermark")&&(this._yq(""),i.Event.type=="drop"&&n.setTimeout(this._crA,10,{value:i.Event.dataTransfer.getData("Text")},this)),this._a9m(i),f=i.Event.type=="drop",u=i.Event.type=="paste",(u||f)&&(this._a9n?i.Event.preventDefault():(e=n.IsIE?10:0,this._a9n=n.setTimeout(this._crB,e,{OldContent:this.getContent(),OldValue:this.getValue(),Event:i.Event,isPaste:u,inputStyle:{pos:this._o.style.position,left:this._o.style.left,top:this._o.style.top,height:this._o.style.height,width:this._o.style.width,caretPos:this._f0()},selection:this._eB()},this)))},r.prototype._crB=function(t){var i,r;delete this._a9n,this._bE2(this.getValue())||this.setValue(t.OldValue),i={Event:t.Event,OldValue:t.OldValue,NewValue:this.getValue(),OldContent:t.OldContent,NewContent:this.getContent()},this.Pasted.fire(this,i),i.Cancel=!1,i.Selection=t.selection,this._qk(i),i.Cancel&&!i.ContentSetted&&this._yq(t.OldContent),t.isPaste&&n.IsChrome&&(r=t.inputStyle.caretPos,r+=i.Cancel?0:(i.NewContent+"").length-(i.OldContent+"").length,this._fm(r)),i.Cancel||this._sq(t.Event,0,t.OldValue,t.OldContent)},r.prototype._crA=function(){},r.prototype._dDi=function(n){this._o.focus(),this._a9m(n)},r.prototype._crx=function(t,i){this._bE3||this._a9n||this._sq(i.Event,0,this._bE4,this._bE5);var r=this.getValue();this._bE4=r,this._bE5=this.getContent(),this._Ellipsis&&(this._aRg.innerHTML=n.String.escapeHTML(r))},r.prototype._on=function(t,i){var u,o;if(this._a9k(),u=i.Event,o=u.keyCode?u.keyCode:u.which,i.Event.keyCode!=9){if(!this._EnableEdit&&!(u.ctrlKey&&(o==67||o==45))&&!(u.shiftKey&&(o==n.Key.Right||o==n.Key.Left)))return!1;var r={},s=this.getValue()+"",c=this.getContent(),f=this._eB(),e,h;r.Event=u,r.OldValue=s,r.OldContent=c,r.Cancel=!1;switch(o){case 8:if(f.Start==f.End&&f.Start==0)break;e="",u.ctrlKey||(e=s.substring(0,f.Start),f.Start==f.End&&(e=e.substring(0,e.length-1))),h=s.substring(f.End),r.NewValue=e+h,r.NewContent=n.String.escapeHTML(r.NewValue),this._qk(r),r.Cancel?(u.preventDefault(),u.stopPropagation()):this._sq(u);break;case 88:if(!u.ctrlKey||f.Start==f.End)break;case 46:if(u.shiftKey&&f.Start==f.End)break;if(f.Start==f.End&&f.End==s.length)break;e=s.substring(0,f.Start),h=s.substring(f.End),f.Start==f.End&&(h=h.substring(1)),r.NewValue=e+h,r.NewContent=n.String.escapeHTML(r.NewValue),this._qk(r),r.Cancel?(u.preventDefault(),u.stopPropagation()):this._sq(u);break;case 90:u.ctrlKey&&(this._qk(r),r.Cancel?(u.preventDefault(),u.stopPropagation()):this._sq(u));break;case 13:if(!this.isLive())return!1;this._eM(!0,!1,0),r.NewValue=n.isNumber(this._Value)?this._Value:this.getValue(),r.NewContent=n.String.escapeHTML(r.NewValue),r.Value=r.NewValue,this.Enter.fire(this,r)}}},r.prototype._yp=function(t,i){var r=i.Event,f=r.keyCode?r.keyCode:r.which,e=this.getValue()+"",a=this.getContent(),s=this._eB(),o=!0,u={Event:i.Event,OldValue:e,OldContent:a,Cancel:!1},h,c,l;switch(f){case 9:case 8:case 13:o=!1;break;default:if(r.charCode===0||r.which===0||r.ctrlKey){o=!1;break}h=e.substring(0,s.Start),c=e.substring(s.End),u.NewValue=h+window.String.fromCharCode(f)+c,u.NewContent=n.String.escapeHTML(u.NewValue)}if(o){if(l=this._yr(f),!l)return!1;this._qk(u),u.Cancel?(r.preventDefault(),r.stopPropagation()):this._sq(r)}return!0},r.prototype._agi=function(){this._a9l()},r.prototype._atw=function(){this._EnableEdit&&this._Enabled&&document.activeElement!==this._o&&(n.IsIE&&n.IEVer===11||n.IsEdge)&&this._o.focus(),document.body.className.indexOf("PPNoSelect")>-1&&(this._PPNoSelect=!0),n.removeClass(document.body,"PPNoSelect"),this._addEvent(document.body,"mouseup",this._atx),this._addEvent(document.body,"mouseout",this._atx),this._addEvent(document.body,"dragstart",this._atx)},r.prototype._atx=function(t,i){var r=i.Event.type;(r=="mouseup"||r=="dragstart"||r=="mouseout"&&(i.Event.x>=document.documentElement.offsetWidth||i.Event.y>=document.documentElement.offsetHeight))&&(this._PPNoSelect&&(n.addClass(document.body,"PPNoSelect"),delete this._PPNoSelect),this._k(document.body,"mouseup",this._atx),this._k(document.body,"mouseout",this._atx),this._k(document.body,"dragstart",this._atx))},r.prototype._sp=function(n,t){this._a9l();var i=t.Event.target;return i.disabled?!1:!0},r.prototype._a9k=function(){n.IsIE&&(document.body.onselectstart&&(this._m3=document.body.onselectstart),document.body.onselectstart=null)},r.prototype._a9l=function(){n.IsIE&&(this._m3&&(document.body.onselectstart=this._m3),this._m3=null)},r.prototype._yr=function(n,t){t=t==undefined||t;var r=t?window.String.fromCharCode(n):n,u=this._AllowedSymbols instanceof RegExp?this._AllowedSymbols.test(r):this._AllowedSymbols===""||this._AllowedSymbols.indexOf(r)>-1,f=this._aCW instanceof RegExp?this._aCW.test(r):this._aCW.indexOf(r)>-1;return u&&!f},r.prototype.addToSideContent=function(t,i){var u=i===n.LTRB.Right,r=u?this._RightContent:this._LeftContent;this.removeFromSideContent(t,u?n.LTRB.Left:n.LTRB.Right),t&&r.indexOf(t)===-1&&(r.push(t),u?this.setRightContent(r):this.setLeftContent(r))},r.prototype.removeFromSideContent=function(t,i){t&&((i===undefined||i===n.LTRB.Left)&&this._LeftContent.indexOf(t)>-1&&(this._LeftContent.splice(this._LeftContent.indexOf(t),1),this.setLeftContent(this._LeftContent)),(i===undefined||i===n.LTRB.Right)&&this._RightContent.indexOf(t)>-1&&(this._RightContent.splice(this._RightContent.indexOf(t),1),this.setRightContent(this._RightContent)))},r.prototype._dDj=function(t){var u,i,r=0;if(t instanceof n.Ui.Control){if(!t.getIsVisible())return 0;r+=t.getWidth(),u=t.getDomNode()}else r+=t.offsetWidth,u=t;return i=parseFloat(n.getStyle(u,"margin-left")),r+=isNaN(i)?1:i,i=parseFloat(n.getStyle(u,"margin-right")),r+=isNaN(i)?1:i},r.prototype._f0=function(){return n.isNumber(this._o.selectionEnd)?this._o.selectionEnd:this._o.value.length},r.prototype._eB=function(){var t=null,i=null;if(document.selection&&!n.IsIE){var r=document.selection.createRange(),f=(r.text+"").length,u=this.getContent().length,e=r.moveStart("character",u);t=u-e,i=t+f}else t=typeof this._o.selectionStart=="number"?this._o.selectionStart:0,i=typeof this._o.selectionEnd=="number"?this._o.selectionEnd:0;return{Start:t,End:i}},r.prototype._fm=function(t){var i=this._o,u=this._o.value.length,r;!u||t>u||(i.createTextRange?(r=i.createTextRange(),r.move("character",t),n.isVisible(i)&&r.select()):(i.selectionStart=t,i.selectionEnd=i.selectionStart))},r.prototype._cry=function(){if(!n.IsIE||n.IEVer>10)this._o.scrollLeft=0;else{var t=this._o.parentNode;t.removeChild(this._o),t.appendChild(this._o)}},r.prototype._yq=function(t,i){this._o.value!==t&&(this._o.value=t),this._Ellipsis&&(this._aRg.innerHTML=n.String.escapeHTML(t)),i?(this._o.setAttribute("value",t),n.addClass(this._o,"PPWatermark"),this._Ellipsis&&n.addClass(this._vb,"PPWatermark")):(this._o.setAttribute("value",""),n.removeClass(this._o,"PPWatermark"),this._Ellipsis&&n.removeClass(this._vb,"PPWatermark"))},r.prototype._bE2=function(n){if(n&&n.length)for(var t=0;t<n.length;t++)if(!this._yr(n.charCodeAt(t)))return!1;return!0},r.prototype._a9o=function(){for(var t=this.getContent().split(""),i=[],n=0;n<t.length;n++)this._yr(t[n].charCodeAt(0))&&i.push(t[n]);if(i.length===t.length)return!0;this.setContent(i.join(""))},r.prototype._sq=function(t,i,r,u){var f={};i=i||10,f.OldContent=n.isDefined(u)?u:this.getContent(),f.OldValue=n.isDefined(r)?r:this.getValue(),f.Cancel=!1,this._bE3=n.setTimeout(this._aCY,i,{args:f},this)},r.prototype._aCY=function(t){n.clearTimeout(this._bE3);var i=this,r=t.args;i.isLive()&&(i._MaxLength>-1&&i._o.value.length>i._MaxLength&&(i._o.value=n.isDefined(r.OldValue)&&r.OldValue!==null&&r.OldValue.toString().length>=i._MaxLength?r.OldValue:i._o.value.substr(0,i._MaxLength)),i._eM(!0,!1,this._AfterChangeDelay))},r.prototype._qk=function(t,i){var r,o,e,u,f,s,h,c;i!==!1&&this.BeforeChange.fire(this,t),r=this,o=t.Event,t.Cancel||(e=(t.NewContent||t.NewValue||"")+"",u=t.OldContent||t.OldValue,r._MaxLength>-1&&e.length>r._MaxLength&&(f=t.Selection,!n.isDefined(u)||u===null||(u+"").length>r._MaxLength?(r.setContent(e.substr(0,r._MaxLength),!1),t.ContentSetted=!0):o.type==="paste"&&f&&(t.ContentSetted=!0,f.Start!==f.End?e.length>r._MaxLength?(h=u.substring(0,f.Start),c=u.substring(f.End,u.length),s=e.substring(f.Start,f.End),r.setContent(h+s+c,!1)):r.setContent(e,!1):u==""?r.setContent(e.substr(0,r._MaxLength),!1):e.length>r._MaxLength&&u.length<r._MaxLength?(h=u.substring(0,f.Start),c=u.substring(f.End,u.length),s=e.substring(f.Start,f.Start+r._MaxLength-u.length),r.setContent(h+s+c,!1)):t.ContentSetted=!1),o.preventDefault(),o.stopPropagation(),t.Cancel=!0,r._eM(i,!1,r._AfterChangeDelay)))},r.prototype._eM=function(t,i,r,u){t=typeof t=="undefined"?!0:t==!0,this._agf&&n.clearTimeout(this._agf),n.isObject(u)||(u={}),u.fireEvents=t,u.reInit=i,r===0?this._gY(u):r!==null&&(this._agf=n.setTimeout(this._gY,r,u,this))},r.prototype._gY=function(t){var f;if(this.isLive()){var r=this.getValue(),u=this.getContent(),i={};i.OldValue=this._e2,i.NewValue=r,i.OldContent=this._fl,i.NewContent=u,i.OldText=this._e2,i.NewText=r,i=n.extend(i,t.args),f=this._aCZ(this._e2,r)||this._aCZ(this._fl,u)||t.reInit,t.fireEvents&&f&&(this.AfterChange.fire(this,i),this.ValueChanged.fire(this,i),this.AfterTimeout.fire(this,i),this.TextChanged.fire(this,i)),this._e2=r,this._fl=u}},r.prototype._aCZ=function(n,t){return n!==t},r.prototype._bE1=function(n){this.Blur.fire(this,n)},r.prototype._a9m=function(n){this.Focus.fire(this,n)},r.prototype._alP=function(){this._o.setSelectionRange(0,this._o.value.length)},r.prototype._crC=function(){this._o.selectionStart=this._o.selectionEnd=-1,n.IsFF&&this._o.setSelectionRange(-1,-1)},r.prototype.setLeftContent=function(t){if(t=n.toArray(t),t.length?(this.addClass("PPTextBoxLeftContent"),this._aCX()):this.removeClass("PPTextBoxLeftContent"),this._ab4){this._bW(t,this._ab4,"LeftContent",!0);for(var i=0;i<this._LeftContent.length;i++)this._LeftContent[i]instanceof n.Ui.Control&&this._LeftContent[i].setEnabled(this._Enabled)}this._a9j()},r.prototype.setRightContent=function(t){if(t=n.toArray(t),t.length?(this.addClass("PPTextBoxRightContent"),this._aCX()):this.removeClass("PPTextBoxRightContent"),this._ab5){this._bW(t,this._ab5,"RightContent",!0);for(var i=0;i<this._RightContent.length;i++)this._RightContent[i]instanceof n.Ui.Control&&this._RightContent[i].setEnabled(this._Enabled)}this._a9j()},r.prototype.isValid=function(){return!n.hasClass(this._o,this._atv)},r.prototype.applyValidCSS=function(){this.removeClass(this._atv)},r.prototype.applyNotValidCSS=function(){this.addClass(this._atv)},r.prototype.setIsPassword=function(t){if(this._Ellipsis&&t&&this.setEllipsis(!1),this._IsPassword!==!!t)if(this._IsPassword=!!t,n.IsIE){var i=this.getContent();this._d7(this._o),this._va.removeChild(this._o),this._o=n.htmlToDOM("<input type='"+(this._IsPassword?"password":"text")+"' value='"+i+"'/>"),n.addClass(this._o,this._agg),this._va.appendChild(this._o),this._bV(this._o,{keyup:this._agi,keydown:this._on,keypress:this._yp,blur:this._qj,focus:this._m4,mouseover:this._bEY,mouseout:this._bEZ,mouseup:this._sp,mousedown:this._atw})}else this._o.setAttribute("type",this._IsPassword?"password":"text")},r.prototype.setMaxLength=function(n){if(isFinite(n)){this._MaxLength=n;var t=this.getContent();this._MaxLength>-1&&t.length>this._MaxLength&&(t=t.substr(0,this._MaxLength),this.setContent(t))}},r.prototype.setValidState=function(n){var t=!0;this._DomNode&&(t=this._DomNode.classList.contains(this._atv)&&!this._ValidState),this._ValidState===n&&t||(this._ValidState=!!n,n?this.applyValidCSS():this.applyNotValidCSS())},r.prototype.setFocus=function(){this._o&&this._o.focus()},r.prototype.blur=function(){this._o&&this._o.blur()},r.prototype.setTabIndex=function(n){this._o||(this._o=this._DomNode.getElementsByTagName("input")[0]),isNaN(n)?this._o.removeAttribute("tabindex"):this._o.setAttribute("tabindex",n+"")},r.prototype.getTabIndex=function(){return this._o?this._g(this._o.getAttribute("tabindex")):null},r.prototype.setEnabled=function(i){n.isBoolean(i)&&i!=this._Enabled&&(t.prototype.setEnabled.apply(this,arguments),this._o&&(i?(this._o.removeAttribute("disabled"),n.removeClass(this._o,"PPNoSelect")):(this._o.setAttribute("disabled","disabled"),n.addClass(this._o,"PPNoSelect"))));for(var r=0;r<this._LeftContent.length;r++)this._LeftContent[r]instanceof n.Ui.Control&&this._LeftContent[r].setEnabled(i);for(r=0;r<this._RightContent.length;r++)this._RightContent[r]instanceof n.Ui.Control&&this._RightContent[r].setEnabled(i)},r.prototype.getContent=function(){var t=this._o?this._o.value:"",i=this._IsWatermark;return(t=t==""?"":t,!i||i&&t!==this._WatermarkText||i&&t===this._WatermarkText&&!n.hasClass(this._o,"PPWatermark"))?n.String.escapeHTML(t):""},r.prototype.getValue=function(){var t=this._o?this._o.value:"",i=this._IsWatermark;return(t=t==""?"":t,!i||i&&t!==this._WatermarkText||i&&t===this._WatermarkText&&!n.hasClass(this._o,"PPWatermark"))?t:""},r.prototype.insert=function(n,t){var i=this.getValue(),r=i.substring(0,this._bE0),u=i.substring(this._lJ,i.length),f=r+n+u;this.setValue(f,t)},r.prototype.setContent=function(n,t){this.setValue(n,t)},r.prototype.setValue=function(t,i){(typeof t=="undefined"||t===null)&&(t="");for(var c=n.isNumber(t),r=t+"",o=r.split(""),f=0;f<o.length;)this._yr(r[f],!1,f)?f++:o.splice(f,1);r=o.join(""),this._MaxLength>-1&&r.length>this._MaxLength&&(r=r.substr(0,this._MaxLength)),t=c?parseFloat(r):r,i=typeof i=="undefined"?!0:i==!0;var u={},s=this.getValue(),h=this.getContent(),e=n.String.unescapeHTML(r);u.OldValue=s,u.OldContent=h,u.NewContent=t,u.NewValue=e,u.Cancel=!1,this._qk(u,i),u.Cancel||(this._yq(e),this._o.setAttribute("value",t),this._IsWatermark&&(this.getFocused()||this._o.value.length!=0&&(this._o.value!=this._WatermarkText||this._o.value==t||n.hasClass(this._o,"PPWatermark"))?(n.removeClass(this._o,"PPWatermark"),this._Ellipsis&&(this._aRg.innerHTML=n.String.escapeHTML(this._o.value))):this._yq(this._WatermarkText,!0)),(s!=e||h!=t)&&this._eM(i,undefined,0),this._bE4=e,this._bE5=t)},r.prototype.getIsCropped=function(){var n=!1,t;return this._Ellipsis&&(t=this._vb.offsetWidth,this.addClass("PPTextBoxTextMeasure"),n=!!(this._vb.offsetWidth>t),this.removeClass("PPTextBoxTextMeasure")),n},r.prototype.setRestrictedSymbols=function(t){if(!t){this._aCW="";return}var i;i=n.Array.isArray(t)?t.join():t,this._aCW=i,this.setContent(this.getContent())},r.prototype.setAllowedSymbols=function(n){n?(this._AllowedSymbols=n,this.setContent(this.getContent())):(this._AllowedSymbols=/.*/,this.setContent(this.getContent()))},r.prototype.setEnableEdit=function(n){this._EnableEdit=!!n,this._o.style.cursor=this._EnableEdit?"":"default",this._EnableEdit?this._o.removeAttribute("readonly"):this._o.setAttribute("readonly","readonly")},r.prototype.setIsWatermark=function(t){n.isBoolean(t)&&t!=this._IsWatermark&&(this._IsWatermark=t,t?this.getFocused()||this._o.value.length!=0||this._yq(this._WatermarkText,!0):this._o.value==this._WatermarkText&&n.hasClass(this._o,"PPWatermark")&&this._yq(""))},r.prototype.setWatermarkText=function(t){n.isString(t)&&t!=this._WatermarkText&&(this._IsWatermark&&this._o.value==this._WatermarkText&&this._yq(t,!0),this._WatermarkText=t)},r.prototype.setEllipsis=function(n){n=this._IsPassword?!1:!!n,this._Ellipsis=n,this._a9j(),n?(this.addClass("PPTextBoxEllipsis"),this._vb||(this._vb=document.createElement("div"),this._vb.className=this._a9i,this._aRg=document.createElement("span"),this._vb.appendChild(this._aRg),this._va.insertBefore(this._vb,this._o))):(this.removeClass("PPTextBoxEllipsis"),this._vb&&this._va.removeChild(this._vb),delete this._vb),this._IsWatermark&&this._o.value==this._WatermarkText?this._yq(this._WatermarkText,!0):this._yq(this._o.value)},r.prototype.getFocused=function(){return t.prototype.getFocused.call(this)||this._o===document.activeElement},r.prototype.getSettings=function(){var n=t.prototype.getSettings.apply(this,arguments);return delete n.LeftContentWidth,delete n.RightContentWidth,n},r.prototype.selectAll=function(){this._IsWatermark&&this._o.value===this._WatermarkText&&n.hasClass(this._o,"PPWatermark")||(this._o.focus(),this._alP(null))},r.prototype.deSelectAll=function(){this._crC(null)},r.prototype.getLeftContentWidth=function(){return this._ab4?this._ab4.offsetWidth:0},r.prototype.getRightContentWidth=function(){return this._ab5?this._ab5.offsetWidth:0},r.prototype.refreshStyle=function(){var o,i,a,e,c,f,t,r,h;if(this._DomNode){for(o=this._StyleNodes=this._StyleNodes||[];o.length;)i=o[0],o.splice(0,1),i.parentNode.removeChild(i),i=null;if(!n.isString(this._Style)){a=this._Id,this._Style instanceof n.Style?(e={},e[n.ControlState.Default]=this._Style,c=n.ControlState.Default):(e=this._Style.getState(),c=this._Style.getDefault()?n.ControlState.Default:n.ControlState.Release);for(f in e){t=e[f],r="#"+a,n.ControlState[f]===c?t.getFont()&&t.getFont().getIsUnderline()?this.addClass("PPTextUnderline"):this.removeClass("PPTextUnderline"):r+=f===n.ControlState[n.ControlState.Hover]?"."+this["_"+f+"Class"]+"[id|class]":"."+this["_"+f+"Class"];var v=t._Shadow?t._Shadow.toCSSFormat():"",y=t._Border?t._Border.toCSSFormat():"",s=t._Background?t._Background.toCSSFormat():"",l=t._Font?t._Font.toCSSFormat():"",u=[];for(v+y!==""&&u.push(r+" {"+v+y+"}"),l!==""&&(u.push(r+" ."+this._agg+" {"+l+"}"),u.push(r+" .PPTextTable ."+this._a9i+" {"+l+"}")),s!==""&&(u.push(r+":not(.PPTextBoxNotValid) {"+s+"}"),u.push(r+":not(.PPTextBoxNotValid) ."+this._agg+" {"+s+"}"),u.push(r+":not(.PPTextBoxNotValid) .PPTextTable ."+this._a9i+" {"+s+"}")),i=document.createElement("style"),i.type="text/css",h=0;h<u.length;h++)i.appendChild(document.createTextNode(u[h]));this._DomNode.appendChild(i),this._StyleNodes.push(i)}}}},r}(t.Control);t.TextBox=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._render(),t.setHeight(t._Height),t.setWidth(t._Width),t._a9p=!1,t._aRh=!1,t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._defineEvents(["TextChanged","ValueChanged"]),this._IsHint=!0,this._ImagePath=n.ImagePath,this._EnableEdit=!1,this._OpenOnKeyDown=!0,this._IsDropHasCombosWidth=!0,this._DropPanel=null,this._OpenOnContentClick=!0,this._OpenOnSideContentClick=!0,this._CloseOnContentClick=!0,this._AfterChangeDelay=null,this._ShowClearButton=!1,this._ShowFindButton=!1,this._ClearButtonAlign=n.LTRB.Left,this._FindButtonAlign=n.LTRB.Right,this._UseContentEditor=!0,this._ab6=-1},u.prototype._render=function(){var t,i,u;this._initFromHTML("<div class='PPCombo'><div class='PPControlNode'><\/div><div class='PPButtonNode PPNoSelect'><div class='PPArrow'><\/div><\/div><\/div>"),t=this._DomNode,this._ContentNode=n.querySelector(t,".PPControlNode"),this._ButtonNode=n.querySelector(t,".PPButtonNode"),this._ArrowNode=n.querySelector(t,".PPArrow"),this._Arrow=new n.Ui.Arrow({ParentNode:this._ArrowNode,Fill:"#656565",Width:7,Height:3}),this.setUseContentEditor(this._UseContentEditor),this._EnableEdit?this._a9q():this._p4(),r.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode),i=this._ys(),i&&(n.IsFF||n.IsSafari)&&(u=n.querySelector(i.getDomNode(),".PPTextTable"),u&&(u.style.borderLeft="0"))},u.prototype._bindEvents=function(){this._cQ||(r.prototype._bindEvents.apply(this,arguments),this._addEvent(this._ContentNode,"mousedown",this._vc),this._addEvent(this._ButtonNode,"mousedown",this._aRi),this._addEvent(this._ButtonNode,"mouseover",this._alQ),this._addEvent(this._ButtonNode,"mouseout",this._crD))},u.prototype._unBindEvents=function(){r.prototype._unBindEvents.apply(this,arguments),this._d7(this._ContentNode),this._d7(this._ButtonNode)},u.prototype._fS=function(t,i){i.Source=t,i.OldContent=n.String.escapeHTML(i.OldValue),i.NewValue=this.getValue(),i.NewContent=this.getContent(),this.TextChanged.fire(this,i),this.ValueChanged.fire(this,i)},u.prototype._crE=function(n,t){this.Click.fire(this,t)},u.prototype._crF=function(){return!1},u.prototype._agj=function(){if(!this._OpenOnSideContentClick)return!1},u.prototype._asM=function(){this.setContent("")},u.prototype._p4=function(){var t;if(this.removeClass("PPEditable"),this._UseContentEditor&&document.body.contains(this._DomNode)){this._ic||(this._ic=n.htmlToDOM("<div class='PPCover PPControlCover'><\/div>")),this._ContentNode.appendChild(this._ic),t=parseInt(this.getCssStyle(this._ButtonNode,"width")),(t==0||isNaN(t))&&(t=19);var u=this.getWidth(),f=u-t,r=this.getLeft(),i=this._ys();return i&&(f=u-t-i.getLeftContentWidth()-i.getRightContentWidth()-5,r=this._IsRTL?t+i.getRightContentWidth():i.getLeftContentWidth()),this._ic.style.width=this._g(f)+"px",this._ic.style.left=this._g(r)+"px",this._ic}},u.prototype._a9q=function(){return this.addClass("PPEditable"),this._ic&&this._ic.parentNode&&this._ic.parentNode.removeChild(this._ic),this._ic},u.prototype._vc=function(t,i){var r=this.getDropPanel(),u;this._EnableEdit||i.Event.which!==n.MouseButton.Left||r.getIsVisible()?this._EnableEdit&&r.notifyContentMouseDown(i.Event):(n.setTimeout(this._bE6,0,{DoNotOpen:!this._Enabled||r.getDroppedDown()&&this._CloseOnContentClick},this),u=this._ys(),u&&u.blur())},u.prototype._alQ=function(t,i){if(this.getEnabled()&&this._IsHint){var r=n.calculateMouseCoords(i.Event),f=this.getIsDropPanelCreated()&&this.getDropPanel().getDroppedDown(),u=n.resourceManager.getString("Content",f?"collapseButton":"openButton");this._ToolTip?this._ToolTip.setContent(u):this._ToolTip=new n.Ui.ToolTip({Content:u}),this._ToolTip.show(r.X+1,r.Y+18)}},u.prototype._crD=function(){this.getEnabled()&&this._ToolTip&&this._ToolTip.getIsVisible()&&this._ToolTip.hide()},u.prototype._aRi=function(t,i){i.Event.which===n.MouseButton.Left&&n.setTimeout(this._bE6,0,{DoNotOpen:!this._Enabled||this.getDropPanel().getDroppedDown()},this)},u.prototype._bE6=function(n){n.DoNotOpen||this.showDropPanel()},u.prototype._h3=function(t,i){if(this.getIsDropPanelCreated()){var e=this.getDropPanel(),u=e.getDomNode(),r=n.calculateMouseCoords(i.Event),o=parseInt(u.style.left),s=parseInt(u.style.top),c=u.offsetWidth,l=u.offsetHeight,f=n.calculateOffset(this._DomNode),a=this._DomNode.offsetWidth,v=this._DomNode.offsetHeight,y=r.X>=o&&r.X<=o+c&&r.Y>=s&&r.Y<=s+l,h=r.X>=f.X&&r.X<=f.X+a&&r.Y>=f.Y&&r.Y<=f.Y+v;(!y&&!h||h&&this._CloseOnContentClick)&&e.hide()}},u.prototype._aRc=function(t){this.getIsDropPanelCreated()&&this.getDropPanel().getIsVisible()&&n.querySelector(t.getDomNode(),"#"+this._Id)!=null&&this.getDropPanel().hide()},u.prototype._d3=function(){this._a9r(!1),n.Ui.ScrollBox.ScrollBoxMove.clear(this),this._k(document.documentElement,"mousedown",this._h3),this.removeClass(this._PressClass)},u.prototype._aRj=function(n,t){this._bE7?(this._bE7=!1,t.IsCancelClose=!1,this.getDropPanel().Closing.remove(this._aRj,this)):(this._bE7=!0,t.IsCancelClose=!0)},u.prototype._a9r=function(t){t?n.addClass(this._ButtonNode,this._PressClass):n.removeClass(this._ButtonNode,this._PressClass)},u.prototype._ys=function(){return this._Editor&&this._Editor instanceof n.Ui.TextBox?this._Editor:null},u.prototype.getEnableEdit=function(){return this._EnableEdit},u.prototype.getShowClearButton=function(){return this._ShowClearButton},u.prototype.getContentNode=function(){return this._ContentNode},u.prototype.getEditor=function(){return this._Editor},u.prototype.getIsDropHasCombosWidth=function(){return this._IsDropHasCombosWidth},u.prototype.getOpenOnKeyDown=function(){return this._OpenOnKeyDown},u.prototype.getOpenOnContentClick=function(){return this._OpenOnContentClick},u.prototype.getOpenOnSideContentClick=function(){return this._OpenOnSideContentClick},u.prototype.getCloseOnContentClick=function(){return this._CloseOnContentClick},u.prototype.getUseContentEditor=function(){return this._UseContentEditor},u.prototype.getImagePath=function(){return this._ImagePath},u.prototype.getIsHint=function(){return this._IsHint},u.prototype.getHeaderWidth=function(){var n=0;return this._ic&&(n=this._ic.clientWidth),n?n=n-4:this._UseContentEditor&&(n=this._Editor.getWidth()-8),n},u.prototype.getClearButton=function(){return this._ClearButton||(this._ClearButton=new n.Ui.Button({ImagePosition:n.AnchorStyles.Left,Width:17,Height:"100%",Class:"PPComboControlButton PPClearText NoReleaseBorder",CenterVertically:!0,Click:new n.Delegate(this._asM,this),MouseDown:new n.Delegate(this._crF,this)})),this._ClearButton},u.prototype.getFindButton=function(){return this._FindButton||(this._FindButton=new n.Ui.Button({ImagePosition:n.AnchorStyles.Left,Width:17,Height:"100%",Class:"PPComboControlButton PPFindText NoReleaseBorder",CenterVertically:!0,MouseDown:new n.Delegate(this._agj,this)})),this._FindButton},u.prototype.getDropPanel=function(){if(!this.getIsDropPanelCreated()){var i={MinDropDownHeight:0,Template:n.Templates.DropPanel,FocusOnOpen:!1,CloseOnDocumentMouseDown:!0,EnableResizeTop:!1,EnableResizeBottom:!0,EnableResizeRight:!this._IsRTL,EnableResizeLeft:this._IsRTL,IsRTL:this._IsRTL};this._DropPanel&&this._DropPanel instanceof t.DropPanel?this._DropPanel.setSettings(i):(n.extend(i,this._DropPanel,!0,!0),this._DropPanel=new n.Ui.DropPanel(i)),this._DropPanel.addClass("PPComboDropPanel"),this._DropPanel.Click.add(this._crE,this),this._DropPanel.Closed.add(this._d3,this),this._alR=!0}return this._DropPanel},u.prototype.getIsDropPanelCreated=function(){return this._alR},u.prototype.getContent=function(){return this._UseContentEditor?this._Editor.getContent():this._ContentNode.innerHTML},u.prototype.setContent=function(t){var i,r;this._UseContentEditor?(n.isString(t)&&(i=n.htmlToDOM("<div>"+t+"<\/div>"),t=i.innerText||i.textContent),this._Editor.setContent(t)):(r=t,n.isDefined(t)&&t!==null||(r=""),this._ContentNode&&(this._ContentNode.innerHTML=r))},u.prototype.getValue=function(){return this.getContent()},u.prototype.setValue=function(t){t=n.String.escapeHTML(t),this.setContent(t)},u.prototype.setWidth=function(n){if(r.prototype.setWidth.apply(this,arguments),n=this._Width,this._IsDropHasCombosWidth&&this.getIsDropPanelCreated()){var i=this.getDropPanel();i.getMaxWidth()<n&&i.setMaxWidth(this._g(n)),i.setWidth(n)}this._EnableEdit||this._p4(),this._a9p=!0},u.prototype.setEnabled=function(n){r.prototype.setEnabled.call(this,n),this._UseContentEditor&&this._Editor.setEnabled(n),!n&&this.getIsDropPanelCreated()&&this.getDropPanel().hide()},u.prototype.setEnableEdit=function(n){this._EnableEdit=n,n?this._a9q():this._p4();var t=this._ys();t&&t.setEnableEdit(n)},u.prototype.setAfterChangeDelay=function(n){var t=this._ys();t&&t.setAfterChangeDelay(n)},u.prototype.getAfterChangeDelay=function(){var n=this._ys();return n?n.getAfterChangeDelay():null},u.prototype.setFocus=function(){this._UseContentEditor&&this._EnableEdit?this._ys().setFocus():r.prototype.setFocus.apply(this,arguments)},u.prototype.getTabIndex=function(){return this._TabIndex},u.prototype.setTabIndex=function(n){this._TabIndex=n,this._UseContentEditor&&this._Editor&&this._Editor.setTabIndex(n)},u.prototype.setShowClearButton=function(n){if(n!==this._ShowClearButton){this._ShowClearButton=!!n;var t=this._ys();t&&(this._ShowClearButton?t.addToSideContent(this.getClearButton(),this._ClearButtonAlign):t.removeFromSideContent(this.getClearButton(),this._ClearButtonAlign)),this._EnableEdit||this._p4()}},u.prototype.setClearButtonAlign=function(n){if(n!==this._ClearButtonAlign){this._ClearButtonAlign=n;var t=this._ShowClearButton;this._ShowClearButton=!this._ShowClearButton,this.setShowClearButton(t)}},u.prototype.setShowFindButton=function(n){if(n!==this._ShowFindButton){this._ShowFindButton=!!n;var t=this._ys();t&&(this._ShowFindButton?t.addToSideContent(this.getFindButton(),this._FindButtonAlign):t.removeFromSideContent(this.getFindButton(),this._FindButtonAlign))}this._EnableEdit||this._p4()},u.prototype.setFindButtonAlign=function(n){if(n!==this._FindButtonAlign){this._FindButtonAlign=n;var t=this._ShowFindButton;this._ShowFindButton=!this._ShowFindButton,this.setShowFindButton(t)}},u.prototype.setUseContentEditor=function(t){var r=this._Content||this._Value,u,i;this._UseContentEditor=t,this._UseContentEditor?(this._Editor&&this._Editor.PPType&&(this._Editor.Content=r,this._Editor=n.create(this._Editor)),this._Editor instanceof n.Ui.Control||(u={Content:r,EnableEdit:this._EnableEdit,ValueChanged:new n.Delegate(this._fS,this),AfterChangeDelay:this._AfterChangeDelay,TabIndex:this._TabIndex},n.extend(u,this._Editor,!0,!0),i=new n.Ui.TextBox(u),this._ShowFindButton&&i.addToSideContent(this.getFindButton(),this._FindButtonAlign),this._ShowClearButton&&i.addToSideContent(this.getClearButton(),this._ClearButtonAlign),this._Editor=i),this._Editor.addToNode(this._ContentNode),n.removeClass(this._ContentNode,"PPComboContent")):(n.addClass(this._ContentNode,"PPComboContent"),this._Editor instanceof n.Ui.Control&&this._Editor.hide(),this.setContent(r))},u.prototype.setEditor=function(n){this._UseContentEditor&&(this._Editor&&this._Editor.removeFromDOM(),n&&this._ContentNode&&n.addToNode(this._ContentNode)),this._Editor=n},u.prototype.getTextBox=function(){return this._ys()},u.prototype.setIsRTL=function(n){r.prototype.setIsRTL.apply(this,arguments),this.getIsDropPanelCreated()&&this.getDropPanel().setIsRTL(n),this._Editor&&this._Editor.setIsRTL(n)},u.prototype.showDropPanel=function(){var t=this.getDropPanel(),e,u,c,a;this._Width=this._DomNode.offsetWidth,this._IsDropHasCombosWidth&&(u=this._DomNode.style.width,(u===""||u.indexOf("%")>-1)&&(u=""+this._Width),t.setWidth(u)),this._a9r(!0),this._Height=this._DomNode.offsetHeight,c=0,this._IsRTL&&(a=t.isVisibleInWindow(0,0),c=a.Width);var i=this._IsRTL?t.isVisibleInWindow(0,0):null,l=n.calculateOffset(this._DomNode),f=l.Y+this.getHeight()+1,r=l.X+c,o=null,s,h;i=t.isVisibleInWindow(f,r),i.VisibleByHeight?this._aRh&&(e=t.getEnableResizeTop(),t.setEnableResizeTop(t.getEnableResizeBottom()),t.setEnableResizeBottom(e),this._aRh=!1):(h=l.Y-i.Height,h>window.pageYOffset?(o=t.isVisibleInWindow(h,r),o.VisibleByHeight&&(f=h,this._aRh||(e=t.getEnableResizeTop(),t.setEnableResizeTop(t.getEnableResizeBottom()),t.setEnableResizeBottom(e)),this._aRh=!0)):(f=window.pageYOffset,t.getDomNode().style.height!==""&&t.setHeight(document.documentElement.clientHeight))),i.VisibleByWidth||(s=r-i.Width+this.getWidth(),s>-1?(o=t.isVisibleInWindow(f,s),o.VisibleByWidth&&(r=s)):r=document.documentElement.clientWidth-i.Width>-1?document.documentElement.clientWidth-i.Width:0),t.show(r,f,!1),n.Ui.ScrollBox.ScrollBoxMove.add(this._aRc,this),this.addClass(this._PressClass),t.getCloseOnFrameMouseDown()&&this._addEvent(document.documentElement,"mousedown",this._h3)},u.prototype.addToNode=function(){r.prototype.addToNode.apply(this,arguments),this.updateSize()},u.prototype.setStyle=function(){var t=this.getDomNode(),i,u;t&&(i=t.style.width,u=t.style.height),r.prototype.setStyle.apply(this,arguments),t&&(i&&(t.style.width=i),u&&(t.style.height=u))},u.prototype.getSettings=function(){var n=r.prototype.getSettings.apply(this,arguments);return delete n.DropPanel,delete n.Editor,n},u.prototype.updateSize=function(){var t=this;n.clearTimeout(this._ab6),this._ab6=n.setTimeout(function(){var i,n;t._ab6=-1,i=t.getTextBox(),i&&(n=t.getTextBox().getHeight(),t.getFindButton().setHeight(n||"100%"),t.getClearButton().setHeight(n||"100%")),t._EnableEdit||t._p4()},0)},u.prototype.removeFromDOM=function(){this.getIsDropPanelCreated()&&this.getDropPanel()&&this.getDropPanel().isLive()&&this.getDropPanel().hide(),r.prototype.removeFromDOM.apply(this,arguments)},u.prototype.dispose=function(){n.clearTimeout(this._ab6),this._k(document.documentElement,"mousedown",this._h3),r.prototype.dispose.apply(this,arguments)},u}(t.Control);t.Combo=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._TabIndex=null,t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._Items=[]},u.prototype._alC=function(){return null},u.prototype._yt=function(i){return i instanceof t.Control?i:i.PPType?n.create(i):null},u.prototype.add=function(n){this._Items.push(n)},u.prototype.insert=function(t,i){this._Items.length<=i?i=this._Items.push(t):n.Array.insert(this._Items,t,i)},u.prototype.getItem=function(n){return this._Items[n]},u.prototype.getItemById=function(i){for(var r,u=0;u<this._Items.length;u++)if((r=this._Items[u],r instanceof t.Control&&r.getId()===i)||n.isDOMNode(r)&&r.id===i)return r;return null},u.prototype.getCount=function(){return this._Items.length},u.prototype.removeAt=function(n,t){var r=this._Items[n],i;r&&(i=this._yt(r),i&&(t!==!1?i.dispose():i.removeFromDOM()),this._Items.splice(n,1))},u.prototype.remove=function(n,t){this.removeAt(this._Items.indexOf(n),t)},u.prototype.hideAt=function(n){this._Items[n].hide()},u.prototype.showAt=function(n){this._Items[n].show()},u.prototype.getItems=function(){return this._Items},u.prototype.setEnabled=function(n){if(this._Enabled!==n){var t,i;if(!this._ab7&&(this._ab7=[],this._Items))for(t=0;t<this._Items.length;t++)i=this._yt(this._Items[t]),i&&!i.getEnabled()&&this._ab7.push(i.getId());if(r.prototype.setEnabled.call(this,n),this._Items)if(n)for(t=0;t<this._Items.length;t++)i=this._yt(this._Items[t]),i&&this._ab7.indexOf(i.getId())<0&&i.setEnabled(n);else for(t=0;t<this._Items.length;t++)i=this._yt(this._Items[t]),i&&i.setEnabled(n)}},u.prototype.setIsRTL=function(n){var t,i;if(r.prototype.setIsRTL.call(this,n),this._Items)for(t=0;t<this._Items.length;t++)i=this._yt(this._Items[t]),i&&i.setIsRTL(n)},u.prototype.clear=function(n){for(var t=0;t<this._Items.length;t++)this.removeAt(t,n);this._Items=[]},u.prototype.contains=function(n){var t=this._Items;return t?t.indexOf(n)>-1:!1},u}(t.Control);t.Container=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._BeginUpdate=0,i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._IsAbsolutePositioning=!0},r.prototype._render=function(){var r,i;if(this._initFromHTML("<div class='PPPanel'><div class='PPPanelCnt'><\/div><\/div>"),this._CntDomNode=this._DomNode.firstChild,n.Array.isArray(this._Items)&&this._Items.length>0)for(r=this._Items,this._Items=[],i=0;i<r.length;i++)this.add(r[i]);else this._Items=[],this._Content&&this.setContent(this._Content);t.prototype._render.apply(this,arguments),this._ParentNode&&this.addToNode(this._ParentNode),this.updateSize()},r.prototype._crG=function(t){if(t.PPType&&(t=n.create(t)),t instanceof n.Ui.Control&&t.isLive())this._Items.push(t),this._IsAbsolutePositioning&&t.addClass("PPPanelElem"),t.addToNode(this._CntDomNode),t.PositionChanged.addOne(this._bE8,this);else if(typeof t=="string"){var i=n.htmlToDOM(t);this._CntDomNode.appendChild(i),this._Items.push(t)}else this._CntDomNode.appendChild(t),this._Items.push(t)},r.prototype._bE8=function(t){if(this._IsAbsolutePositioning){var f=this.getWidth()-n.Ui.getBordersWidth(this._DomNode),e=this.getHeight()-n.Ui.getBordersHeight(this._DomNode),r=t.getDomNode(),u=t.getAnchorFlags(),o=t.getLeft(),s=t.getRight(),h=t.getTop(),c=t.getBottom();u.Left&&u.Right&&t.setWidth(f-o-s,!1,!1),r.style.left=u.Left?this._g(o)+"px":u.Right?this._g(f-t.getWidth()-s-(parseInt(n.getStyle(r,"marginRight"))||0)-(parseInt(n.getStyle(r,"marginLeft"))||0))+"px":this._g((f-t.getWidth())/2)+"px",u.Top&&u.Bottom&&t.setHeight(e-h-c,!1,!1),r.style.top=u.Top?this._g(h)+"px":u.Bottom?this._g(e-t.getHeight()-c-(parseInt(n.getStyle(r,"marginBottom"))||0))+"px":this._g((e-t.getHeight())/2)+"px"}},r.prototype.beginUpdate=function(){this._BeginUpdate?this._BeginUpdate++:this._BeginUpdate=1},r.prototype.endUpdate=function(){!this._BeginUpdate||this._BeginUpdate<=1?(this._BeginUpdate=0,this.updateSize()):this._BeginUpdate--},r.prototype.add=function(n){if(!n)throw new Error("ArgumentNullException");this._Items&&this._Items.length&&(this._Content=null),this._crG(n),this.updateSize()},r.prototype.remove=function(n){this._Content==n&&(this._Content=undefined),t.prototype.remove.apply(this,arguments);var i=this._yt(n);i&&i.isLive()&&(this._IsAbsolutePositioning&&i.removeClass("PPPanelElem"),i.PositionChanged.remove(this._bE8,this))},r.prototype.clear=function(){for(t.prototype.clear.apply(this,arguments);this._CntDomNode.firstChild;)this._CntDomNode.removeChild(this._CntDomNode.firstChild)},r.prototype.updateSize=function(){var r,u,i;if(this._BeginUpdate==0){r=n.Ui.getBordersWidth(this._DomNode),u=n.Ui.getBordersHeight(this._DomNode),this._Width&&(this._DomNode.style.width=this._g(this._Width)-r+"px"),this._Height&&(this._DomNode.style.height=this._g(this._Height)-u+"px");var f=this._Items||[],e=f.length,t=null;for(i=0;i<e;i++)t=f[i],t instanceof n.Ui.Control&&t.isLive()&&t.updatePosition()}},r.prototype.getContentNode=function(){return this._CntDomNode},r.prototype.getContent=function(){return this._Items.slice()},r.prototype.setContent=function(t){var i=this;this.clear(!1),this._Content=t,t!==null&&(n.Array.isArray(t)?t.forEach(function(n){i.add(n)}):this.add(t))},r.prototype.setItems=function(n){this.setContent(n)},r.prototype.setWidth=function(){t.prototype.setWidth.apply(this,arguments),this.updateSize()},r.prototype.setHeight=function(){t.prototype.setHeight.apply(this,arguments),this.updateSize()},r.prototype.supportAnchors=function(){return this._IsAbsolutePositioning},r.prototype.getIsAbsolutePositioning=function(){return this._IsAbsolutePositioning},r.prototype.setIsAbsolutePositioning=function(t){var u,r,f,i;for(this._IsAbsolutePositioning=typeof t=="undefined"?!0:t==!0,u=this._Items,r=0,f=u.length;r<f;r++)i=u[r],i instanceof n.Ui.Control&&i.isLive()&&(this._IsAbsolutePositioning?i.addClass("PPPanelElem"):i.removeClass("PPPanelElem"))},r.prototype.toFront=function(n){this._CntDomNode.appendChild(n.getDomNode())},r.prototype.toBack=function(n){n.getDomNode().previousSibling!=null&&this._CntDomNode.insertBefore(n.getDomNode(),n.getDomNode().previousSibling)},r}(t.Container);t.Panel=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var u,r,f;(function(n){n[n.Triangle=0]="Triangle",n[n.TriangleDouble=1]="TriangleDouble",n[n.TriangleWithLine=2]="TriangleWithLine"})(u=t.ArrowType||(t.ArrowType={})),function(n){n[n.Fill=0]="Fill",n[n.Stroke=1]="Stroke",n[n.Both=2]="Both",n[n.None=3]="None"}(r=t.ArrowFillType||(t.ArrowFillType={})),f=function(t){function f(n){var i=t.call(this,n)||this;return i._render(),i}return i(f,t),f.prototype._e=function(){this._ParentNode=null,this._ArrowType=u.Triangle,this._FillType=r.Fill,this._MaintainAspectRatio=!1,this._Direction=n.LTRB.Bottom,this._Fill=new n.Color(0),this._Stroke=new n.Color(0),this._Width=7,this._Height=4,this._Class="",this._SvgElement=null,this._SvgGroup=null,this._SvgPaths=[],this._IsRTL=!1},f.prototype._initFields=function(n){n=n||{},t.prototype._initFields.call(this,n),n.ParentNode&&(this._ParentNode=n.ParentNode),n.Fill!==undefined&&this.setFill(n.Fill),n.Stroke!==undefined&&this.setStroke(n.Stroke)},f.prototype._render=function(){this._SvgElement=n.SVG.svg(this._ParentNode),this._SvgElement.style.overflow="visible",this._SvgElement.style.pointerEvents="none",this._SvgGroup=n.SVG.group(this._SvgElement,this._SvgPaths),this._aRk(),this.refresh(),n.addClass(this._SvgElement,"PPArrow"),n.addClass(this._SvgGroup,"PPArrow__Group")},f.prototype._yu=function(t){var i;return i=typeof t=="number"?new n.Color(t):typeof t=="string"?n.Color.getColor(t):t},f.prototype._aRk=function(){var t,r,i,e;if(this._SvgPaths=[],this._SvgGroup){while(this._SvgGroup.firstChild)this._SvgGroup.removeChild(this._SvgGroup.firstChild);for(t=[],this._ArrowType==u.Triangle&&t.push([{x:0,y:0},{x:this._Width/2,y:this._Height},{x:this._Width,y:0}]),this._ArrowType==u.TriangleDouble&&(t.push([{x:0,y:0},{x:this._Width/2,y:this._Height*3/8},{x:this._Width,y:0}]),t.push([{x:0,y:this._Height-this._Height*3/8},{x:this._Width/2,y:this._Height},{x:this._Width,y:this._Height-this._Height*3/8}])),this._ArrowType==u.TriangleWithLine&&(t.push([{x:this._Width/7,y:0},{x:this._Width-this._Width/7,y:0},{x:this._Width-this._Width/7,y:this._Height/6},{x:this._Width/7,y:this._Height/6}]),t.push([{x:0,y:this._Height/3},{x:this._Width/2,y:this._Height-this._Height/12},{x:this._Width,y:this._Height/3}])),r=0;r<t.length;r++){var o=t[r],s=n.SVG.path(this._SvgGroup),f="";for(this._SvgPaths.push(s),i=0;i<o.length;i++)e=o[i],f+=i?" L ":"M ",f+=e.x+","+e.y;n.SVG.setAttr(s,{D:f})}}},f.prototype.setArrowType=function(n){this._ArrowType=n,this._aRk(),this.refresh()},f.prototype.setFillType=function(n){this._FillType=n,this.refresh()},f.prototype.setMaintainAspectRatio=function(n){this._MaintainAspectRatio=n,this.refresh()},f.prototype.setDirection=function(n){this._Direction=n,this.refresh()},f.prototype.setFill=function(n){this._Fill=this._yu(n),this.refresh()},f.prototype.setStroke=function(n){this._Stroke=this._yu(n),this.refresh()},f.prototype.setWidth=function(n){this._Width=n,this._aRk(),this.refresh()},f.prototype.setHeight=function(n){this._Height=n,this._aRk(),this.refresh()},f.prototype.setClass=function(n){this._Class=n,this.refresh()},f.prototype.setIsRTL=function(n){this._IsRTL=n,this.refresh()},f.prototype.getSvgElement=function(){return this._SvgElement||this._render(),this._SvgElement},f.prototype.refresh=function(){var i,h,c;if(this._SvgElement){var u=this._Width>this._Height?this._Width:this._Height,f=this._MaintainAspectRatio?this._Width:u,e=this._MaintainAspectRatio?this._Height:u;n.SVG.setAttr(this._SvgElement,{Width:f,Height:e});var o=90,s=270,t=0;switch(this._Direction){case n.LTRB.Left:t=this._IsRTL?s:o;break;case n.LTRB.Top:t=180;break;case n.LTRB.Right:t=this._IsRTL?o:s}i="rotate("+t+","+f/2+","+e/2+")",this._Class?(n.addClass(this._SvgGroup,this._Class),n.SVG.setAttr(this._SvgGroup,{Transform:i})):(h=this._FillType==r.Both||this._FillType==r.Fill?this._Fill:"none",c=this._FillType==r.Both||this._FillType==r.Stroke?this._Stroke:"none",n.SVG.setAttr(this._SvgGroup,{Fill:h,Stroke:c,Transform:i}))}},f}(n.Object),t.Arrow=f,n.Object.defineProps(f,["ArrowType","FillType","MaintainAspectRatio","Direction","Fill","Stroke","Width","Height","Class","IsRTL"])})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype.getContent=function(){return this._Content},r.prototype.setContent=function(n){var t={NewValue:n,OldValue:this._Content};this._bW(n,this._DomNode,"Content",!0),t.NewValue!==t.OldValue&&this.ContentChanged.fire(this,t)},r.prototype._e=function(){t.prototype._e.call(this),this._Content=null,this._MaxWidth=null,this._MinHeight=null,this._EnableResizeLeft=null,this._EnableEscapeClose=null,this._EnableResizeBottom=null,this._EnableResizeRight=null,this._EnableResizeTop=null},r.prototype._render=function(){t.prototype._render.call(this),n.addClass(this._DomNode,"PPBalloon")},r}(t.DropPanel);t.Balloon=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._DisableClass="PPLineLabel_Disabled",i._render(),i}return i(r,t),r.prototype._render=function(){this._initFromHTML("<div class='PPLineLabel'><div class='PPLineLabel__Content'><\/div><div class='PPLineLabel__Line'><div class='PPLineLabel__LineContent'><\/div><\/div><\/div>"),this._Line=n.querySelector(this._DomNode,".PPLineLabel__LineContent"),this._ContentDomNode=this._DomNode.firstChild,this._bW(this._Content,this._ContentDomNode,"Content",!0),t.prototype._render.apply(this,arguments),this._ParentNode&&this.addToNode(this._ParentNode),typeof this._LineHeight=="number"&&this.setLineHeight(this._LineHeight),typeof this._LineColor!="undefined"&&this.setLineColor(this._LineColor)},r.prototype.getLineHeight=function(){return this._LineHeight},r.prototype.getLineColor=function(){return this._LineColor},r.prototype.setContent=function(n){this._bW(n,this._ContentDomNode,"Content",!0)},r.prototype.setLineHeight=function(n){n=this._g(n),this._LineHeight=n,this._Line&&(this._Line.style.height=n+"px")},r.prototype.useCssLineHeight=function(){this._LineHeight=undefined,this._Line&&(this._Line.style.height="")},r.prototype.setLineColor=function(t){this._LineColor=t;var i=new n.SolidColorBrush({Color:t});i.applyToNode(this._Line),i.dispose()},r.prototype.useCssLineColor=function(){this._LineColor=undefined,this._Line&&(this._Line.style.background="")},r.prototype.setEnabled=function(i){t.prototype.setEnabled.apply(this,arguments),this._Content instanceof n.Ui.Control&&this._Content.setEnabled(i)},r}(t.Control);t.LineLabel=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r,u;(function(n){n[n.Absolute=0]="Absolute",n[n.Fixed=1]="Fixed"})(r=t.WindowPositioning||(t.WindowPositioning={})),u=function(t){function u(n){var i=t.call(this,n)||this;return i._ab8=100,i._ab9=100,i._yv=0,i._yw=0,i._agk=0,i._agl=0,i._a9s=null,i._dDk=null,i._dDl=null,i}return i(u,t),u.prototype._e=function(){t.prototype._e.call(this),this._EnableMove=!0,this._EnableExpand=!0,this._DragContentView=!0,this._ExpandButton=null,this._CloseButton=null,this._defineEvents(["Moving","Moved","Expanding","Expanded"]),this._Caption="",this._CaptionIcon="",this._WindowPositioning=null,this._bE9=!1,this._Template=n.Templates.Window},u.prototype._render=function(){t.prototype._render.call(this),this.addClass("PPWindow"),this._Caption&&this.setCaption(this._Caption),this.setCaptionIcon(this._CaptionIcon);var i=n.querySelector(this._DomNode,".PPWindow__Buttons");this._ExpandButton=new n.Ui.Button(this._bFa),this._CloseButton=new n.Ui.Button(this._bFb),delete this._bFa,delete this._bFb,this._ExpandButton.addToNode(i),this._CloseButton.addToNode(i)},u.prototype._yj=function(){t.prototype._yj.call(this);var i=this._DomNode;this._DragCell=n.querySelector(i,".PPWindow__Caption"),this._ContentDomNode=n.querySelector(i,".PPWindow__Content"),this._WindowContentDomNode=this._ContentDomNode,this._crH=n.querySelector(i,".PPWindow__Header")},u.prototype._initFields=function(i){i=i||{},i.ExpandButton instanceof n.Ui.Button||(this._bFa=n.extend(i.ExpandButton,{ImagePosition:n.AnchorStyles.Left,Class:"PPButton_Expand"})),i.CloseButton instanceof n.Ui.Button||(this._bFb=n.extend(i.CloseButton,{ImagePosition:n.AnchorStyles.Left,Class:"PPButton_Close"})),i.ExpandButton=undefined,i.CloseButton=undefined,t.prototype._initFields.call(this,i)},u.prototype._bindEvents=function(){this._cQ||(t.prototype._bindEvents.call(this),this.SizeChanging.add(this._bFc,this),this.SizeChanged.add(this._lK,this),this._DragCell&&(this._EnableMove&&this._addEvent(this._DragCell,"mousedown",this._alS),this._addEvent(this._DragCell,"dblclick",this._aty)),this._CloseButton.Click.add(this._gr,this),this._ExpandButton.Click.add(this._aty,this))},u.prototype._unBindEvents=function(){t.prototype._unBindEvents.call(this),this.SizeChanging.remove(this._bFc,this),this.SizeChanged.remove(this._lK,this),this._DragCell&&this._d7(this._DragCell),this._CloseButton.Click.remove(this._gr,this),this._ExpandButton.Click.remove(this._aty,this)},u.prototype._lK=function(){if(!this._IsExpanded){this._agk=this.getWidth(),this._agl=this.getHeight();var r=n.calculateOffset(this._DomNode);this._ab8=r.Y,this._ab9=r.X}},u.prototype._bFc=function(){this._IsExpanded},u.prototype._alS=function(t,i){if(n.IsIE&&n.IEVer==9&&this.setFocus(),n.calculateMouseButton(i.Event)!=1)return!1;n.hasClass(this._DomNode,"PPNoSelect")?this._bFd=!0:n.addClass(this._DomNode,"PPNoSelect"),this._ql(),n.IsIE&&this._DragCell.focus();var f=this._ParentNode||this._DomNode.offsetParent||document.body,r=n.calculateOffset(f),c=this.getHeight(),e,u,o,s,h;this.getDomNode().style.position==="fixed"?(this._aRl=!0,e=Math.max(document.documentElement.clientWidth,f.offsetWidth+r.X),u=document.documentElement.clientHeight,o=document.documentElement.clientWidth,s=0,h=0,this._bFe={left:0,top:0}):(this._aRl=!1,e=f.offsetWidth+r.X,u=f.offsetHeight+r.Y,o=e,s=r.Y,h=r.X,this._bFe={left:r.X,top:r.Y}),this._yv=this._aRl?i.Event.clientX:n.calculateMouseX(i.Event),this._yw=this._aRl?i.Event.clientY:n.calculateMouseY(i.Event),this._bFf=e,this._aC0=u>=c?u-c:u,this._bFg=o-this.getWidth(),this._bFh=s,this._bFi=h,this._k(this._DragCell,"mousedown",this._alS),this._addEvent(this._DragCell,"mouseup",this._bFj),this._addEvent(this._DragCell,"mousemove",this._aRm),n.setCapture(this._DragCell),this._a9t(),this._DragContentView||(this._DomDrag=n.htmlToDOM('<div class="PPWindowDrag"><\/div>'),this._DomDrag.style.top=this._DomNode.offsetTop+"px",this._DomDrag.style.left=this._DomNode.offsetLeft+"px",this._DomDrag.style.width=this._DomNode.offsetWidth+"px",this._DomDrag.style.height=this._DomNode.offsetHeight+"px",this._DomDrag.style.zIndex=this._DomNode.style.zIndex+1,this._ParentNode.appendChild(this._DomDrag))},u.prototype._bFj=function(t,i){return(this._DomDrag&&(this._DomDrag.parentNode.removeChild(this._DomDrag),this._DomDrag=null),this._bFd?delete this._bFd:n.removeClass(this._DomNode,"PPNoSelect"),this._DragContentView||this.setPosition(this._ab9,this._ab8),n.calculateMouseButton(i.Event)!=1)?!1:(this._addEvent(this._DragCell,"mousedown",this._alS),this._k(this._DragCell,"mouseup",this._bFj),this._k(this._DragCell,"mousemove",this._aRm),n.releaseCapture(this._DragCell),this._a9u(),this.Moved.fire(this,i),!1)},u.prototype._aRm=function(t,i){if(!this.getEnabled())return!1;this.Moving.fire(this,i);var s=this._aRl?{X:i.Event.clientX,Y:i.Event.clientY}:n.calculateMouseCoords(i.Event),e=s.X,o=s.Y,h=e-this._yv,c=o-this._yw,u=this._ab8+c,f=this._ab9+h,r=this._bFe;return f<this._bFi-r.left&&(f=this._bFi-r.left),f>this._bFg-r.left&&(f=this._bFg-r.left),u<this._bFh-r.top&&(u=this._bFh-r.top),u>this._aC0-r.top&&(u=this._aC0-r.top),this._yv=e<r.left?r.left:e>this._bFf?this._bFf:e,this._yw=o<r.top?r.top:o>this._aC0?this._aC0:o,this._ab8=u,this._ab9=f,this._DomDrag?(this._DomDrag.style.top=this._ab8+"px",this._DomDrag.style.left=this._ab9+"px"):this.setPosition(this._ab9,this._ab8),!1},u.prototype._gr=function(){this.close()},u.prototype._aty=function(){if(!this.getEnabled())return!1;this.expand()},u.prototype._bFk=function(){window.scrollTo(this._bFl.x,this._bFl.y)},u.prototype._bFm=function(t){t?n.IsIE?(this._crI=document.body.style.overflow,document.body.style.overflow="hidden"):(this._bFl={x:window.scrollX,y:window.scrollY},this._addEvent(window,"scroll",this._bFk)):n.IsIE?document.body.style.overflow=this._crI:this._k(window,"scroll",this._bFk)},u.prototype._aCR=function(){if(this._HeightDifference<0&&n.isVisible(this._DomNode)){var i=t.prototype._aCR.call(this);this._HeightDifference=i+this._crH.offsetHeight}return this._HeightDifference},u.prototype.isOutOfPanelDown=function(){return!0},u.prototype._a9v=function(n,t){var i={left:0,top:0},r=Math.max(this.getMinWidth(),Math.min(this.getWidth(),this.getMaxWidth())),u=Math.max(this.getMinHeight(),Math.min(this.getHeight(),this.getMaxHeight()));return this._crJ(),this._ParentNode&&this._ParentNode!==document.body?(i.left=n>-1?n:(this._ParentNode.offsetWidth-r)/2+this._ParentNode.offsetLeft,i.top=t>-1?t:(this._ParentNode.offsetHeight-u)/2+this._ParentNode.offsetTop):(i.left=n>-1?n:(window.innerWidth-r)/2,i.top=t>-1?t:(window.innerHeight-u)/2),i},u.prototype._crJ=function(){var t=this._ParentNode,n="absolute";(this.getWindowPositioning()===r.Fixed||t===document.body)&&(n="fixed"),this.getDomNode().style.position=n},u.prototype._crK=function(){var s=n.Ui.DropPanel.OpenedPanels,e=s.length,h=s[e-1],i,r,t,u,o,f;if(e>0&&h!=this){for(this._DomNode.style.zIndex=h.getDomNode().style.zIndex,i=0,r=-1,t=0;t<e;t++)u=n.Ui.DropPanel.OpenedPanels[t],u==this?(i=-1,r=t):(o=u.getDomNode(),f=u.getFrame(),o.style.zIndex=parseInt(o.style.zIndex)+i+"",f&&(f.style.zIndex=parseInt(f.style.zIndex)+i+""));r>-1&&n.Ui.DropPanel.OpenedPanels.splice(r,1),n.Ui.DropPanel.addOpenedPanel(this)}},u.prototype._ql=function(){var n;window.getSelection?n=window.getSelection():document.getSelection?n=document.getSelection():document.selection&&(n=document.selection),n.removeAllRanges?n.removeAllRanges():n.empty()},u.prototype._a9t=function(){var t=document.body;this._bEc("selectstart",t,this._alT)||(this._addEvent(t,"selectstart",this._alT),this._aC1=!0),n.hasClass(t,"PPNoSelect")||(n.addClass(t,"PPNoSelect"),this._aC2=!0)},u.prototype._a9u=function(){var t=document.body;this._aC1&&(this._k(t,"selectstart",this._alT),delete this._aC1),this._aC2&&(n.removeClass(t,"PPNoSelect"),delete this._aC2)},u.prototype._alT=function(t,i){n.disableSelection(i.Event)},u.prototype._iJ=function(i,r,u,f){if(!this._DroppedDown){this._bE9=f,f?(this.addClass("PPDialogWindow"),this._ExpandButton.hide(),this._CloseOnFrameMouseDown=!1):this.removeClass("PPDialogWindow");var s=this._a9v(i,r),e=s.top,o=s.left,h=Math.max(document.documentElement.clientHeight,document.documentElement.scrollHeight),c=Math.max(document.documentElement.clientWidth,document.documentElement.scrollWidth);u instanceof n.Ui.Control&&(this._a9s=u),h-e<this._Height&&(e=h-this._g(this._Height)),c-o<this._Width&&(o=c-this._g(this._Width)),t.prototype.show.call(this,o,e,f),this._CloseOnFrameMouseDown||(this._DomNode.style.zIndex=this._bEC()+"",n.Ui.DropPanel.addOpenedPanel(this)),this._ab8=e,this._ab9=o,n.Ui.Window.FocusWindow=this,this._Frame&&f&&n.addClass(this._Frame,"PPWindowFrame"),this._IsExpanded&&this._a9w(!0),this._bFm(f)}},u.prototype._a9w=function(t){var r,u,f,i;if(t){if(!this._EnableExpand)return;if(i={Cancel:!1},this.Expanding.fire(this,i),i.Cancel)return;r=n.calculateOffset(this._ParentNode),this._IsExpanded=!0,u=this._ParentNode.offsetHeight,f=this._ParentNode.offsetWidth,this._agk=this._agk==0?this.getWidth():this._agk,this._agl=this._agl==0?this.getHeight():this._agl,this._crL=this.getEnableResize(),this.setEnableResize(!1),this._crM=this._MaxDropDownHeight,this._crN=this._MaxDropDownWidth,this.setMaxDropDownHeight(u),this.setMaxDropDownWidth(f),this._crO=this._ab9,this._crP=this._ab8,this.setPosition(r.X,r.Y),this.setSize(f,u),this._EnableMove&&this._k(this._DragCell,"mousedown",this._alS),this._ExpandButton.addClass("PPButton_Collapse"),this._ExpandButton.removeClass("PPButton_Expand"),this.Expanded.fire(this,{})}else{if(!this._IsExpanded)return;if(i={Cancel:!1},this.Expanding.fire(this,i),i.Cancel)return;this._IsExpanded=!1,this.setSize(this._agk,this._agl),this.setPosition(this._crO,this._crP),this.setEnableResize(this._crL),this.setMaxDropDownHeight(this._crM),this.setMaxDropDownWidth(this._crN),this._EnableMove&&this._addEvent(this._DragCell,"mousedown",this._alS),this._ExpandButton.addClass("PPButton_Expand"),this._ExpandButton.removeClass("PPButton_Collapse"),this.Expanded.fire(this,{})}},u.prototype.getIsExpanded=function(){return this._IsExpanded},u.prototype.getCaption=function(){return this._Caption},u.prototype.getCaptionIcon=function(){return this._CaptionIcon},u.prototype.getCloseButton=function(){return this._CloseButton},u.prototype.getExpandButton=function(){return this._ExpandButton},u.prototype.getEnableMove=function(){return this._EnableMove},u.prototype.getWindowPositioning=function(){return this._WindowPositioning},u.prototype.getDragContentView=function(){return this._DragContentView},u.prototype.getIsModal=function(){return this._bE9},u.prototype.getEnableExpand=function(){return this._EnableExpand},u.prototype.setDragContentView=function(n){this._DragContentView=n},u.prototype.setEnableExpand=function(n){this._EnableExpand=n},u.prototype.setCaption=function(n){this._Caption=n;var t=this._DragCell.lastChild;t.innerHTML=n},u.prototype.setCaptionIcon=function(n){this._CaptionIcon=n;var t=this._DragCell.firstChild;this._CaptionIcon?(t.style.display="",t.style.backgroundImage="url("+n+")",t.style.backgroundRepeat="no-repeat"):t.style.display="none"},u.prototype.setIsRTL=function(){t.prototype.setIsRTL.apply(this,arguments),this._ContentDomNode.dir=this._IsRTL?"rtl":"ltr"},u.prototype.setEnableMove=function(n){n!==this._EnableMove&&(this._EnableMove=n,this._EnableMove&&!this._IsExpanded?this._addEvent(this._DragCell,"mousedown",this._alS):this._k(this._DragCell,"mousedown",this._alS))},u.prototype.setWindowPositioning=function(n){var i,t;this._WindowPositioning!==n&&(this._WindowPositioning=n,i=!!this._Frame,this.hide(),t=this.getCoords(),this.setCoords(t))},u.prototype.show=function(n,t,i){this._iJ(n,t,i,!1)},u.prototype.showDialog=function(n,t,i){this._iJ(n,t,i,!0)},u.prototype.close=function(){this._agk=this._agk==0?this.getWidth():this._agk,this._agl=this._agl==0?this.getHeight():this._agl,this.hide()},u.prototype.hide=function(){var u=n.Ui.DropPanel.OpenedPanels,e=u.length,f=u.indexOf(this),r,i;if(f!==-1)for(r=e-1;r>f;r--)i=u[r],!i||i.getDomNode().parentNode!==document.body||i instanceof n.Ui.Window||i.hide();this._bFm(!1),t.prototype.hide.call(this),this===n.Ui.Window.FocusWindow&&(n.Ui.Window.FocusWindow=null),this._a9s&&this._a9s.setFocus()},u.prototype.expand=function(){var n=arguments[0];this._a9w(n||!this._IsExpanded)},u.prototype.collapse=function(){this._a9w(!1)},u.prototype.setPosition=function(n,i){t.prototype.setPosition.call(this,n,i),this._ab8=i,this._ab9=n},u.prototype.setFocus=function(){t.prototype.setFocus.call(this),this._crK()},u.prototype.getSettings=function(n,t,i,r){return i=i||[],i.push("_ExpandButton"),i.push("_CloseButton"),this.getSettings(n,t,i,r)},u}(t.DropPanel),t.Window=u})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._ButtonsHeight=21,this._ButtonsWidth=80,this._FocusToDefaultButton=!0,this._MinWidth=100,this._MinHeight=100,this._MaxWidth=1e3,this._MaxHeight=1e3,this._EnableResizeTop=!1,this._EnableResizeLeft=!1,this._EnableResizeRight=!1,this._EnableResizeBottom=!1,this._defineEvents(["OkButtonClicked","CancelButtonClicked"])},r.prototype._render=function(){t.prototype._render.call(this),this.addClass("PPDialog"),n.addClass(this._ContentDomNode,"PPDialogContent"),this._DialogButtonsDomNode=n.htmlToDOM("<div class='PPDialogButtons'><\/div>"),this._DomNode.appendChild(this._DialogButtonsDomNode),this._crQ=this._qm(),this.setDefaultButton(this._OkButton)},r.prototype._yj=function(){t.prototype._yj.call(this),this._DialogContentDomNode=this._ContentDomNode},r.prototype._qm=function(){return this._OkButton=new n.Ui.Button({Height:this._ButtonsHeight,Width:this._ButtonsWidth,ResourceKey:"okButton",ParentNode:this._DialogButtonsDomNode,TabIndex:0,EnableBorderHighlightOnFocus:!0,Click:new n.Delegate(this._aN,this),EnabledChanged:new n.Delegate(this._a9x,this)}),this._CancelButton=new n.Ui.Button({Height:this._ButtonsHeight,Width:this._ButtonsWidth,ResourceKey:"cancelButton",ParentNode:this._DialogButtonsDomNode,TabIndex:0,EnableBorderHighlightOnFocus:!0,Click:new n.Delegate(this._ie,this),EnabledChanged:new n.Delegate(this._a9x,this)}),[this._OkButton,this._CancelButton]},r.prototype._a9x=function(n){n.getEnabled()||this.setDefaultButton(n)},r.prototype._ie=function(){var i={IsCancelClose:!1};this.CancelButtonClicked.fire(this,i),i.IsCancelClose||this.close()},r.prototype._aN=function(){var i={DialogResult:this.getDialogResult(),IsCancelClose:!1};this.OkButtonClicked.fire(this,i),i.IsCancelClose||this.close()},r.prototype._aty=function(){return this._ExpandButton&&this._ExpandButton.getIsVisible()?t.prototype._aty.apply(this,arguments):!1},r.prototype._db=function(n,i){t.prototype._db.apply(this,arguments);var r;this._IsVisible&&i.Event.keyCode==9&&(r=this._bFn(this._DomNode),i.Event.shiftKey&&document.activeElement==this._DomNode?r.focus():document.activeElement==r&&this.setFocus()),this._IsVisible&&i.Event.keyCode==13&&this._aca&&this._aca.getEnabled()&&this._aca.Click.fire(this._aca,null)},r.prototype._aCR=function(){if(this._HeightDifference<0&&n.isVisible(this._DomNode)){var i=t.prototype._aCR.call(this);this._HeightDifference=i+this._DialogButtonsDomNode.offsetHeight}return this._HeightDifference},r.prototype._bFn=function(n){var r,t=n,u,i;if(n&&n.childNodes.length)for(u=n.childNodes.length,i=u-1;i>=0;i--)if(r=n.childNodes[i],t=this._bFn(r),t&&t.tabIndex>=0)return t;return n&&n.tabIndex>=0?n:undefined},r.prototype._aRn=function(n){n&&n.setFocus()},r.prototype.getOkButton=function(){return this._OkButton},r.prototype.getCancelButton=function(){return this._CancelButton},r.prototype.getDialogResult=function(){return this._DialogResult},r.prototype.getFooterLine=function(){return this._FooterLine},r.prototype.getDefaultButton=function(){return this._aca},r.prototype.setDefaultButton=function(t){var i,r,u;if(this._aca!=t){for(i=this._crQ||[this._OkButton,this._CancelButton],this._aca=i.indexOf(t)>-1?t:null,r=0;r<i.length;r++)u=i[r],u instanceof n.Ui.Button&&t&&!t.getEnabled()&&u.getEnabled()&&(this._aca=u);this._aca&&this._FocusToDefaultButton&&n.setTimeout(this._aRn,100,this._aca)}},r.prototype.getContent=function(){return this._Content},r.prototype.setIsRTL=function(n){t.prototype.setIsRTL.call(this,n),this._OkButton&&this._OkButton.setIsRTL(n),this._CancelButton&&this._CancelButton.setIsRTL(n)},r.prototype.setFooterLine=function(){},r.prototype.showDialog=function(i,r,u){t.prototype.showDialog.call(this,i,r,u),this._FocusToDefaultButton&&n.setTimeout(this._aRn,100,this.getDefaultButton())},r.prototype.show=function(t,i,r,u){this._iJ(t,i,u,r!==!1),this._FocusToDefaultButton&&n.setTimeout(this._aRn,100,this.getDefaultButton())},r.prototype.getSettings=function(n,i,r,u){return r=r||[],r.push("_OkButton"),r.push("_CancelButton"),t.prototype.getSettings.call(this,n,i,r,u)},r}(n.Ui.Window);t.Dialog=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){function e(t,i,r){new n.Ui.Message({Content:t,Type:i,ImagePath:r}).show()}var u,f,r;(function(n){n[n.None=0]="None",n[n.Error=1]="Error",n[n.Exclamation=2]="Exclamation",n[n.Information=3]="Information",n[n.Question=4]="Question",n[n.Custom=5]="Custom"})(u=t.MessageType||(t.MessageType={})),function(n){n[n.Ok=0]="Ok",n[n.OkCancel=1]="OkCancel",n[n.YesNo=2]="YesNo",n[n.YesNoCancel=3]="YesNoCancel"}(f=t.MessageButtons||(t.MessageButtons={})),r=function(t){function r(n){var i=t.call(this,n)||this;return i.setMinHeight(i._Height),i.setMinWidth(i._Width),i.setMaxWidth(i._Width),i.setButtons(i._Buttons),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Caption=n.resourceManager.getString("Message","Caption"),this._Width=410,this._Height=171,this._ImageUrl="",this._ImagePath=n.ImagePath,this._Type=n.Ui.MessageType.Custom,this._Buttons=n.Ui.MessageButtons.Ok,this._defineEvents(["YesButtonClicked","NoButtonClicked"])},r.prototype._initFields=function(n){n&&n.Caption&&(this._ResourceKey=""),t.prototype._initFields.call(this,n)},r.prototype._render=function(){var i,r;t.prototype._render.call(this),this.addClass("PPMessage"),i=n.htmlToDOM('<div class="PPMessage__ImageContainer"><div class="PPMessage__ImageSubContainer"><div class="PPMessage__Image"><\/div><\/div><\/div>',!0),this._DialogContentDomNode.appendChild(i),this._ImageSubContainerDomNode=n.querySelector(i,".PPMessage__ImageSubContainer"),this._ImageDomNode=n.querySelector(i,".PPMessage__Image"),this._AlertContentNode=n.createElement(this._DialogContentDomNode,"PPMessage__Text"),this._ScrollBox||(this._ScrollBox=new n.Ui.ScrollBox({ParentNode:this._AlertContentNode})),r=this._Content,this._Content=undefined,this.setContent(r),this._ImageList=new n.ImageList({Source:this._ImagePath+"MessageIcons.png",IconHeight:32,IconWidth:32,IsRetinaAvailable:!0})},r.prototype._qm=function(){return this._OkButton=new n.Ui.Button({Height:this._ButtonsHeight,Width:this._ButtonsWidth,ResourceKey:"okButton",ParentNode:this._DialogButtonsDomNode,TabIndex:0,EnableBorderHighlightOnFocus:!0,Click:new n.Delegate(this._aN,this)}),this._NoButton=new n.Ui.Button({Height:this._ButtonsHeight,Width:this._ButtonsWidth,ParentNode:this._DialogButtonsDomNode,ResourceKey:"noButton",TabIndex:0,EnableBorderHighlightOnFocus:!0,Click:new n.Delegate(this._crR,this)}),this._CancelButton=new n.Ui.Button({Height:this._ButtonsHeight,Width:this._ButtonsWidth,ResourceKey:"cancelButton",ParentNode:this._DialogButtonsDomNode,TabIndex:0,EnableBorderHighlightOnFocus:!0,Click:new n.Delegate(this._ie,this)}),[this._OkButton,this._NoButton,this._CancelButton]},r.prototype._aN=function(){var e=this.getDialogResult(),r=!1,u={DialogResult:e,IsCancelClose:!1},f={DialogResult:e,Confirmed:!0,IsCancelClose:!1};switch(this._Buttons){case n.Ui.MessageButtons.Ok:case n.Ui.MessageButtons.OkCancel:this.OkButtonClicked.fire(this,u),r=r||u.IsCancelClose,this.YesButtonClicked.fire(this,f);break;case n.Ui.MessageButtons.YesNo:case n.Ui.MessageButtons.YesNoCancel:this.YesButtonClicked.fire(this,f),r=r||f.IsCancelClose,this.OkButtonClicked.fire(this,u)}r=r||u.IsCancelClose,r||this.close()},r.prototype._ie=function(){var r=!1,u={DialogResult:this.getDialogResult(),Confirmed:!0,IsCancelClose:!1};switch(this._Buttons){case n.Ui.MessageButtons.Ok:return;case n.Ui.MessageButtons.OkCancel:this.CancelButtonClicked.fire(this,u),r=r||u.IsCancelClose;break;case n.Ui.MessageButtons.YesNo:this.NoButtonClicked.fire(this,u),r=r||u.IsCancelClose;break;case n.Ui.MessageButtons.YesNoCancel:u.Confirmed=!1,this.CancelButtonClicked.fire(this,u)}r=r||u.IsCancelClose,r||this.close()},r.prototype._crR=function(){var r={IsCancelClose:!1};switch(this._Buttons){case n.Ui.MessageButtons.Ok:case n.Ui.MessageButtons.OkCancel:this.CancelButtonClicked.fire(this,r);break;case n.Ui.MessageButtons.YesNo:case n.Ui.MessageButtons.YesNoCancel:this.NoButtonClicked.fire(this,r)}r.IsCancelClose||this.close()},r.prototype._iJ=function(n,i,r,u){t.prototype._iJ.call(this,n,i,r,u),this._AlertContentNode.style.height=this.getContentHeight()+"px",this._ScrollBox.setWidth(this._AlertContentNode.clientWidth),this._ScrollBox.setHeight(this._AlertContentNode.clientHeight),this._ImageSubContainerDomNode.style.height=this._AlertContentNode.clientHeight+"px";var f=this.getContent()||this._Content;f&&this.setContent(f),this.setType(this._Type),this._ScrollBox.updateSize()},r.prototype._bFo=function(){var t=0;this._Type===n.Ui.MessageType.None?(t=this._g(this._Width)-32,this._ImageDomNode.style.display="none",this.getIsRTL()?(this._AlertContentNode.style.marginLeft="",this._AlertContentNode.style.marginRight="10px"):(this._AlertContentNode.style.marginLeft="10px",this._AlertContentNode.style.marginRight="")):(t=this._g(this._Width)-91,this._ImageDomNode.style.display="",this.getIsRTL()?this._AlertContentNode.style.marginRight="":this._AlertContentNode.style.marginLeft=""),this._AlertContentNode.style.width=t+"px",this._ScrollBox.setWidth(this._AlertContentNode.offsetWidth),this._ScrollBox.updateSize()},r.prototype.getType=function(){return this._Type},r.prototype.getMessageType=function(){return this.getType()},r.prototype.getImageUrl=function(){return this._ImageUrl},r.prototype.getButtons=function(){return this._Buttons},r.prototype.getYesButton=function(){return this._OkButton},r.prototype.getNoButton=function(){return this._NoButton},r.prototype.setButtons=function(t){this._Buttons=t;switch(this._Buttons){case n.Ui.MessageButtons.Ok:this._OkButton&&this._OkButton.setResourceKey("okButton"),this._CancelButton&&this._CancelButton.hide(),this._NoButton&&this._NoButton.hide();break;case n.Ui.MessageButtons.OkCancel:this._OkButton&&this._OkButton.setResourceKey("okButton"),this._CancelButton&&this._CancelButton.show(),this._NoButton&&this._NoButton.hide();break;case n.Ui.MessageButtons.YesNo:this._OkButton&&this._OkButton.setResourceKey("yesButton"),this._CancelButton&&this._CancelButton.hide(),this._NoButton&&this._NoButton.show();break;case n.Ui.MessageButtons.YesNoCancel:this._OkButton&&this._OkButton.setResourceKey("yesButton"),this._CancelButton&&this._CancelButton.show(),this._NoButton&&this._NoButton.show()}},r.prototype.setIsRTL=function(n){t.prototype.setIsRTL.call(this,n),this._ImageDomNode&&this._AlertContentNode&&this._bFo()},r.prototype.setContent=function(t){this._a9y||(this._a9y=n.htmlToDOM('<div class="PPMessage__ContentWrapper"><\/div>'),this._bFp=n.htmlToDOM('<div class="PPMessage__ContentWrapperBody"><\/div>'),this._a9y.appendChild(this._bFp)),this._bW(t,this._bFp),this._ScrollBox&&this._ScrollBox.setContent(this._a9y),this._Content=t},r.prototype.setType=function(t){switch(t){case n.Ui.MessageType.Error:this._ImageList.applyToBackground(this._ImageDomNode,0,0);break;case n.Ui.MessageType.Exclamation:this._ImageList.applyToBackground(this._ImageDomNode,0,1);break;case n.Ui.MessageType.Information:this._ImageList.applyToBackground(this._ImageDomNode,0,2);break;case n.Ui.MessageType.Question:this._ImageList.applyToBackground(this._ImageDomNode,0,3);break;case n.Ui.MessageType.Custom:this._ImageDomNode.style.backgroundImage=this._ImageUrl?"url('"+this._ImageUrl+"')":"",this._ImageDomNode.style.backgroundPosition=""}this._Type=t,this._bFo()},r.prototype.setImageUrl=function(t){t!==this._ImageUrl&&(this._ImageUrl=t,this._Type===n.Ui.MessageType.Custom&&(this._ImageDomNode.style.backgroundImage=t?"url('"+this._ImageUrl+"')":"",this._ImageDomNode.style.backgroundPosition=""))},r}(t.Dialog),t.Message=r,t.showMessage=e})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i.setEnableExpand(!1),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._PDFView=null,this._ResourceKey="ePrintPreview",this._CaptionSource=null},r.prototype._render=function(){t.prototype._render.call(this),this._PDFView instanceof n.Ui.PDFView||(this._PDFView=new n.Ui.PDFView(this._PDFView)),this.setContent(this._PDFView),this.getExpandButton().setIsVisible(!1),this.expand()},r.prototype.getPDFView=function(){return this._PDFView},r.prototype.getCaptionSource=function(){return this._CaptionSource},r.prototype.setPDFView=function(n){this._PDFView=n},r.prototype.setCaptionSource=function(t){var i=n.resourceManager.getString("Caption","ePrintPreview");this.setCaption(t+" - "+i)},r}(t.Window);t.PDFViewWindow=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._Onselectstart=document.body.onselectstart,i._DomContent=null,i._DomTextarea=null,i._Edit=!1,i._TabIndex=null,i._render(),i}return i(r,t),r.prototype._initFields=function(n){this._defineEvents(["Editing","Edited","ValueChanged"]),n=n||{},n.ContentChanged&&!n.ValueChanged&&(n.ValueChanged=n.ContentChanged),t.prototype._initFields.call(this,n)},r.prototype._render=function(){this._initFromHTML("<div class='PPLabel'><\/div>"),t.prototype._render.call(this),this.setReadOnly(!0),this._ParentNode&&this.addToNode(this._ParentNode),this._ReadOnly||this.setTabIndex(Math.floor(Math.random()*1e4+1))},r.prototype._a9z=function(){return this._ParentNode&&this.getCssStyle(this._DomNode,"display")!=="none"&&(this._Width=0,this._Width=this.getWidth(),this._Height=0,this._Height=this.getHeight()),this},r.prototype._bindEvents=function(){t.prototype._bindEvents.call(this),this._addEvent(this._DomNode,"keydown",this._bFq),this._addEvent(this._DomNode,"input",this._atz),n.IEVer&&(this._addEvent(this._DomNode,"keyup",this._atz),this._addEvent(this._DomNode,"keypress",this._atz))},r.prototype._unBindEvents=function(){this._k(this._DomNode,"blur",this._oo),this._k(this._DomNode,"dblclick",this._hu),this._k(this._DomNode,"keydown",this._bFq),this._k(this._DomNode,"input",this._atz),n.IEVer&&(this._k(this._DomNode,"keyup",this._atz),this._k(this._DomNode,"keypress",this._atz)),t.prototype._unBindEvents.call(this)},r.prototype._atA=function(t,i){if(t=!!t,i=!!i,(this._ReadOnly||!this._Enabled)&&(t=!1),this._Edit!=t)if(this._Edit=t,this._Edit)document.body.onselectstart=null,this._DomTextarea=document.createElement("textarea"),n.addClass(this._DomTextarea,"PPLabelTextarea"),this._DomTextarea.value=this._DomContent.innerText||this._DomContent.textContent,this._DomContent.style.visibility="hidden",this._DomNode.appendChild(this._DomTextarea),this._bFr(),this._crS(this._DomTextarea),this._addEvent(this._DomTextarea,"blur",this._oo),this.Editing.fire(this,{}),n.IsIE&&(this._DomTextMeasure=document.createElement("span"),this._DomTextMeasure.style.visibility="hidden",n.addClass(this._DomTextMeasure,"PPLabelTextarea"),this._DomNode.appendChild(this._DomTextMeasure));else if(document.body.onselectstart=this._Onselectstart,this._DomTextarea){if(i)this.setContent(this._Content);else{var r=n.String.trim(this._DomTextarea.value);r==""&&(r="   "),this.setContent(r)}this._DomTextarea.parentNode.removeChild(this._DomTextarea),n.IsIE&&this._DomTextMeasure&&this._DomTextMeasure.parentNode.removeChild(this._DomTextMeasure),this._DomContent.style.visibility="visible",this._k(this._DomTextarea,"blur",this._oo),this.Edited.fire(this,{})}return this},r.prototype._hu=function(n,i){this._atA(!0),t.prototype._hu.call(this,n,i)},r.prototype._oo=function(){this._atA(!1)},r.prototype._bFq=function(t,i){var r;if(i.Event.keyCode===n.Key.F2&&this._atA(!0),i.Event.keyCode===n.Key.Esc&&this._atA(!1,!0),i.Event.keyCode===n.Key.Enter&&this._atA(!1),n.IsIE&&this._Edit){r=this._DomTextarea.innerText||this._DomTextarea.textContent,this._DomTextMeasure.innerText=r;var u=r.split("").length,f=0,e=this._DomTextMeasure.offsetWidth;u&&(f=e/u*2),this._DomTextarea.style.width=e+f+"px"}},r.prototype._atz=function(){this._bFr()},r.prototype._bFr=function(){this._Edit&&(n.IsIE?this._DomContent.innerText=this._DomTextarea.value:this._DomContent.innerHTML=this._DomTextarea.value,this._DomTextarea.style.width=this._DomContent.offsetWidth+3+"px",this._DomTextarea.style.height=this._DomContent.offsetHeight+3+"px")},r.prototype._crS=function(n){if(n.setSelectionRange)document.body.contains(n)&&(n.focus(),n.setSelectionRange(0,n.value.length));else if(n.createTextRange){var t=n.createTextRange();t.collapse(!0),t.moveEnd("character",n.value.length),t.moveStart("character",0),t.select()}},r.prototype.setWidth=function(n,i,r){return n===this._Width&&r&&i==undefined&&(i=!0),t.prototype.setWidth.call(this,n,i),n=n===""||n===null?"":this._g(n)+"px",this._DomContent&&(this._DomContent.style.width=n),this._DomTextarea&&(this._DomTextarea.style.width=n),this._a9z(),this},r.prototype.setHeight=function(n,i,r){return n===this._Height&&r&&i==undefined&&(i=!0),t.prototype.setHeight.call(this,n,i),n=n===""||n===null?"":this._g(n)+"px",this._DomContent&&(this._DomContent.style.height=n),this._DomTextarea&&(this._DomTextarea.style.height=n),this._a9z(),this},r.prototype.getReadOnly=function(){return this._ReadOnly},r.prototype.getEdit=function(){return this._Edit},r.prototype.getValue=function(){return this._Content},r.prototype.setContent=function(n){this.setValue(n)},r.prototype.setValue=function(n){this._Content!==n&&this.ValueChanged.fire(this,{}),this._bW(n,this._DomContent||this._DomNode,"Content",!0),this._a9z()},r.prototype.setReadOnly=function(t){if(t=!!t,this._ReadOnly!=t)if(this._ReadOnly=t,this._ReadOnly)this._atA(!1),this._bW(this._Content,this._DomNode,"Content",!0);else{var i=this._Content;this._DomContent=n.htmlToDOM('<div class="PPLabelText"><\/div>'),this._bW(this._DomContent,this._DomNode,"Content",!0),this._Content=i,this.setContent(i)}},r.prototype.getSettings=function(){var n=t.prototype.getSettings.call(this);return delete n._Edit,n},r}(t.Control);t.Label=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(n){var t=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t.prototype._render=function(){n.prototype._render.call(this),this.addClass("PPHyperlink")},t}(n.Label);n.Hyperlink=t})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["MoveScroll","MovedScroll","StartScroll","ScrollButtonMouseUp","ScrollButtonMouseDown"]),this._Orientation=n.Orientation.Horizontal,this._ScrollSpeed=1,this._ScrollButtonsEnabled=!0,this._EnableMouseWheel=!0,this._WheelScrollSpeed=null,this._DraggerMinSize=15,this._DraggerSize=null,this._Value=0,this._ScrollDirection=!1,this._dX=null,this._aRo=!1,this._MinWidth=n.Ui.ScrollBox.SCROLLS_WIDTH,this._acb=null,this._aC3=!1,this._a9A=!1,this._sW="width",this._sH="height",this._sL="left",this._sT="top",this._aRp=6,this._agm=6,this._agn=100,this._dDm=0},r.prototype._initFields=function(i){i&&i.IsVertical===!0&&(i.Orientation=n.Orientation.Vertical,i.IsVertical=undefined),t.prototype._initFields.call(this,i)},r.prototype._render=function(){var r,u,i,f,e;this._initFromHTML("<div class='PPSB'><div class='PPZone'><\/div><div class='PPLS'><div class='ArrowCell PPSBFirst'><\/div><\/div><div class='PPRS'><div class='ArrowCell PPSBLast'><\/div><\/div><div class='PPSel'><div class='Grip'><\/div><\/div><\/div>"),r=this._DomNode,u=this._g(this._DraggerSize||this._DraggerMinSize),this._dX=n.querySelector(r,".PPSel"),this._atB=n.querySelector(r,".PPZone"),i={Fill:"#666666",Width:this._aRp,Height:this._aRp/2},this._ago=n.querySelector(r,".PPLS"),i.ParentNode=this._ago.firstChild,i.Direction=this.getIsVertical()?n.LTRB.Top:n.LTRB.Left,this._a9B=new n.Ui.Arrow(i),this._agp=n.querySelector(r,".PPRS"),i.ParentNode=this._agp.firstChild,i.Direction=this.getIsVertical()?n.LTRB.Bottom:n.LTRB.Right,this._a9C=new n.Ui.Arrow(i),this._aC4=0,this._Orientation===n.Orientation.Vertical?(this._atB.className="PPVZone",this.addClass("VMode"),this._sW="height",this._sH="width",this._sL="top",this._sT="left"):(this._atB.className="PPHZone",this._sW="width",this._sH="height",this._sL="left",this._sT="top"),t.prototype._render.call(this),this._a9D(!0),this._ParentNode&&(this.addToNode(this._ParentNode),this.updateSize()),this._Width||this.setWidth(this._MinWidth,!0),this._Height||this.setHeight(this._MinWidth,!0),isFinite(u)&&(this._DraggerSize=Math.max(this._DraggerMinSize,u),this._dX.style[this._sW]=this._DraggerSize+"px",this.updateSize()),f=this._Enabled,this._Enabled=!f,this.setEnabled(f),e=this._Value,this._Value=null,this._yd(e)},r.prototype._bindEvents=function(){t.prototype._bindEvents.call(this),this._Orientation===n.Orientation.Vertical&&this._bV(this._ParentNode,{mousewheel:this._a1,DOMMouseScroll:this._a1}),this._addEvent(this._DomNode,"click",this._bFs),this._addEvent(n.querySelector(this._dX,".Grip").parentNode,"mouseup",this._aRq),this._crT(),this._crU(),this._crV()},r.prototype._crT=function(){this._addEvent(this._ago,"pointerdown",this._crW),this._addEvent(this._ago,"pointerout",this._crX)},r.prototype._crU=function(){this._addEvent(this._agp,"pointerdown",this._crY),this._addEvent(this._agp,"pointerout",this._crZ)},r.prototype._crV=function(){this._bV(this._dX,{pointerdown:this._aRr,pointerover:this._cr0,pointerout:this._cr1}),this._addEvent(this._atB,"click",this._bFt)},r.prototype._unBindEvents=function(){t.prototype._unBindEvents.call(this),this._ParentNode&&(this._k(this._ParentNode,"mousewheel",this._a1),this._k(this._ParentNode,"DOMMouseScroll",this._a1)),this._d7(this._dX),this._k(this._dX,"pointerdown",this._aRr),this._k(this._atB,"click",this._bFt),this._k(this._DomNode,"click",this._bFs)},r.prototype._alU=function(t){this._aRs!=t&&(t?n.removeClass(this._ago,"Disabled"):n.addClass(this._ago,"Disabled"),n.removeClass(this._ago,"Hover"),n.removeClass(this._ago,"Pressed"),this._aRs=t)},r.prototype._alV=function(t){this._aRt!=t&&(t?n.removeClass(this._agp,"Disabled"):n.addClass(this._agp,"Disabled"),n.removeClass(this._agp,"Hover"),n.removeClass(this._agp,"Pressed"),this._aRt=t)},r.prototype._a9D=function(t){this._bFu!=t&&(t?n.removeClass(this._dX,"Disabled"):n.addClass(this._dX,"Disabled"),n.removeClass(this._dX,"Hover"),n.removeClass(this._dX,"Pressed"),this._bFu=t)},r.prototype._agq=function(){if(this._Enabled){var t=this._Orientation===n.Orientation.Vertical?!1:this._IsRTL;this._Value<=0&&this._agn<=0?(this._alU(!1),this._alV(!1)):this._Value<=0?t?(this._alU(!0),this._alV(!1)):(this._alU(!1),this._alV(!0)):this._Value>=100?t?(this._alU(!1),this._alV(!0)):(this._alU(!0),this._alV(!1)):(this._alU(!0),this._alV(!0))}},r.prototype._a9E=function(){var r=this._Orientation===n.Orientation.Vertical?!1:this._IsRTL,i=this._dX.style,t;this._Orientation===n.Orientation.Vertical?(t=Math.max(this._aC4+this._Value/100*this._agn,0),i.top=this._bFv(t)):(t=Math.max(this._aC4+(r?100-this._Value:this._Value)/100*this._agn,0),i.left=this._bFv(t))},r.prototype._bFv=function(t){var i;return i=n.IsIE?t.toFixed(2):n.IsFF?t.toFixed(4):t.toString(),i+"px"},r.prototype._bFw=function(){var t=this._Orientation===n.Orientation.Vertical?+this._Height:+this._Width;this._agn=this._a9F?this._g(t-2*this._aC4-this._bFx):this._g(t)},r.prototype._aQ5=function(){this._atC||n.removeClass(document.body,"PPNoSelect"),delete this._atC,this._jg&&this._jg.parentNode&&this._jg.parentNode.removeChild(this._jg),delete this._jg},r.prototype._aRu=function(){this._aC3=!1,this._a9A=!1,this._acb&&(n.clearTimeout(this._acb),this._acb=null)},r.prototype._qn=function(){return this._Value!==this._a9G||this._Value!==this._cr2},r.prototype._crW=function(t,i){var u,r;if(this._aRs){if(u=i.Event,u.button!==0)return!1;r={UseMoveEvent:!0,Position:this._Orientation===n.Orientation.Vertical?n.LTRB.Top:n.LTRB.Left,Event:u},this._aC3=!0,this._addEvent(document,"pointerup",this._a9H),this.ScrollButtonMouseDown.fire(this,r),this.StartScroll.fire(this,r),r.UseMoveEvent&&this._a9I(!0)}},r.prototype._a9H=function(t,i){if(this._aRs||this._acb||this._qn()){var r={UseMoveEvent:!0,Position:this._Orientation===n.Orientation.Vertical?n.LTRB.Top:n.LTRB.Left,Event:i.Event};this._k(document,"pointerup",this._a9H),this.ScrollButtonMouseUp.fire(this,r),this._aRu(),this._atD(i.Event)}},r.prototype._crX=function(n,t){(this._aRs||this._qn())&&(this._k(document,"pointerup",this._a9H),this._aRu(),this._atD(t.Event))},r.prototype._crY=function(t,i){var u,r;if(this._aRt){if(u=i.Event,u.button!==0)return!1;r={UseMoveEvent:!0,Position:this._Orientation===n.Orientation.Vertical?n.LTRB.Bottom:n.LTRB.Right,Event:u},this._aC3=!0,this._addEvent(document,"pointerup",this._a9J),this.ScrollButtonMouseDown.fire(this,r),this.StartScroll.fire(this,r),r.UseMoveEvent&&this._a9I(!1)}},r.prototype._a9J=function(t,i){if(this._aRt||this._acb||this._qn()){var r={UseMoveEvent:!0,Position:this._Orientation===n.Orientation.Vertical?n.LTRB.Bottom:n.LTRB.Right,Event:i.Event};this._k(document,"pointerup",this._a9J),this.ScrollButtonMouseUp.fire(this,r),this._aRu(),this._atD(i.Event)}},r.prototype._crZ=function(n,t){(this._aRt||this._qn())&&(this._k(document,"mouseup",this._a9J),this._aRu(),this._atD(t.Event))},r.prototype._a1=function(n,t){var i,r;if(this._EnableMouseWheel&&(i=t.Event,this._Enabled)){r={UseMoveEvent:!0,Position:this._Value,Event:i},this.StartScroll.fire(this,r);var f=i.wheelDelta?i.wheelDelta:-i.detail,e=(this._WheelScrollSpeed||this._ScrollSpeed)*(f>0?-1:1),u=this.getValue();if(this.setValue(u+=e),this.getValue()!==u)return!1}},r.prototype._a9I=function(t){var i=this._ScrollSpeed,r;t&&(i=-i),r=this._Orientation===n.Orientation.Vertical?!1:this._IsRTL,r&&(i=-i),this._yd(this._Value+i),this._a9K(),this._acb&&(n.clearTimeout(this._acb),this._acb=null),this._acb=n.setTimeout(this._cr3,this._a9A?50:500,{MoveToEnd:t},this)},r.prototype._cr3=function(n){this._aC3&&(this._a9A=!0,this._a9I(n.MoveToEnd))},r.prototype._aRr=function(t,i){if(this._Enabled){var r=i.Event;if(r.button!==0)return!1;n.addClass(this._dX,"Pressed"),this._cr4=r.clientX,this._cr5=r.clientY,this._bFy=this._Value,this._k(this._dX,"pointerdown",this._aRr),this._bV(this._dX,{pointerup:this._aRv,pointermove:this._bFz}),this._addEvent(document,"pointerup",this._aRv),n.setCapture(this._dX)}},r.prototype._aRv=function(t,i){if(this._Enabled){this._k(this._dX,"pointerup",this._aRv),this._k(this._dX,"pointermove",this._bFz),this._k(document,"pointerup",this._aRv),this._addEvent(this._dX,"pointerdown",this._aRr),n.releaseCapture(this._dX),this._aRo=!1;var r=n.calculateOffset(this._dX),u=i.Event.clientX,f=i.Event.clientY,e=this._dX.offsetWidth,o=this._dX.offsetHeight;(u<r.X||u>r.X+e||f<r.Y||f>r.Y+o)&&n.removeClass(this._dX,"Hover"),n.removeClass(this._dX,"Pressed"),this._atD(i.Event)}},r.prototype._cr0=function(){this._Enabled&&n.addClass(this._dX,"Hover")},r.prototype._cr1=function(){this._Enabled&&n.removeClass(this._dX,"Hover")},r.prototype._bFz=function(t,i){var r,u,f,e;if(this._Enabled)return r=i.Event,this._aRo||(u={UseMoveEvent:!0,Event:r},this._aRo=!0,this._bFy!=this._Value&&this.StartScroll.fire(this,u)),f=this._Orientation===n.Orientation.Vertical?!1:this._IsRTL,e=this._Orientation===n.Orientation.Vertical?r.clientY-this._cr5:r.clientX-this._cr4,this._yd(this._bFy+e/this._agn*100*(f?-1:1)),this._a9K(),!1},r.prototype._bFt=function(t,i){var r,e,f;if(this._Enabled){if(r=i.Event,r.which!=1)return!1;this._bFA=!0,e={UseMoveEvent:!0,Position:this._Value,Event:i.Event},this.StartScroll.fire(this,e);var o=this._Orientation===n.Orientation.Vertical?!1:this._IsRTL,s=this._Orientation===n.Orientation.Vertical?parseInt(this._dX.style.height):parseInt(this._dX.style.width),u=void 0;if(r.offsetY!==undefined?u=this._Orientation===n.Orientation.Vertical?r.offsetY:r.offsetX:(f=n.calculateOffset(this._atB),u=this._Orientation===n.Orientation.Vertical?r.pageY-f.Y:r.pageX-f.X),u-=s*.5,u=o?this._agn-u:u,this.setValue(u*100/this._agn),r.type==="touchstart")return!1}},r.prototype._bFs=function(n,t){t.Event.preventDefault(),t.Event.stopPropagation()},r.prototype._aRq=function(n,t){this._bFA&&(this.Click.fire(this,t),delete this._bFA)},r.prototype._bk=function(i,r){var f=r.Event,u;if(r.Event.pointerType===n.Ui.PointerEventType.Mouse&&f.which!==1)return!1;u=this._atC=n.hasClass(document.body,"PPNoSelect"),n.addClass(document.body,"PPNoSelect"),this._addEvent(document,"mouseup",this._bFB),this._jg&&(this._aQ5(),this._atC=u),t.prototype._bk.call(this,i,r)},r.prototype._bFB=function(){this._k(document,"mouseup",this._bFB),this._aQ5()},r.prototype._yd=function(n){n=Math.min(Math.max(n,0),100);var t=this._Value;n!==t&&(this._Value=n,this._bFw(),this._a9E(),this._agq())},r.prototype._a9K=function(){var n={OldValue:this._a9L,NewValue:this._Value};this._Value!==this._a9L&&this.MoveScroll.fire(this,n),this._a9L=this._Value},r.prototype._atD=function(n){var t={OldValue:this._a9G,NewValue:this._Value,Event:n};this._qn()&&this.MovedScroll.fire(this,t),this._a9G=this._Value,this._cr2=this._Value},r.prototype._bFC=function(t){var i=(t-this._aRp-2)/2,r=(t-this._aRp/2-2)/2,u=this._a9B.getSvgElement(),f=this._a9C.getSvgElement();u.style.top=(this._a9B.getDirection()==n.LTRB.Left?i:r/2)+"px",u.style.left=(this._a9B.getDirection()==n.LTRB.Top?i:r/2)+"px",f.style.top=(this._a9C.getDirection()==n.LTRB.Right?i:r)+"px",f.style.left=(this._a9C.getDirection()==n.LTRB.Bottom?i:r)+"px"},r.prototype.getDraggerMinSize=function(){return this._DraggerMinSize},r.prototype.getScrollSpeed=function(){return this._ScrollSpeed},r.prototype.getOrientation=function(){return this._Orientation},r.prototype.getIsVertical=function(){return this._Orientation===n.Orientation.Vertical},r.prototype.getScrollButtonsEnabled=function(){return this._ScrollButtonsEnabled},r.prototype.getEnableMouseWheel=function(){return this._EnableMouseWheel},r.prototype.getWheelScrollSpeed=function(){return this._WheelScrollSpeed},r.prototype.getScrollDirection=function(){return this._ScrollDirection},r.prototype.setEnableMouseWheel=function(n){this._EnableMouseWheel=n},r.prototype.setWheelScrollSpeed=function(n){this._WheelScrollSpeed=n},r.prototype.setTop=function(n){return this._Top=n,this._Top=this._g(this._Top),this._DomNode.style.top=this._Top+"px",this},r.prototype.setLeft=function(n){return this._Left=n,this._DomNode.style.left=this._Left+"px",this},r.prototype.getTop=function(){return t.prototype.getTop.call(this)||0},r.prototype.getLeft=function(){return t.prototype.getLeft.call(this)||0},r.prototype.setDraggerSize=function(n){n!=this._DraggerSize&&(n=this._g(n),isFinite(n)&&(this._DraggerSize=Math.max(this._DraggerMinSize,n),this._dX.style[this._sW]=this._DraggerSize+"px",this.updateSize()))},r.prototype.getDraggerSize=function(){return this._DraggerSize},r.prototype.setToolTip=function(){return},r.prototype.getTrackSize=function(){return this._g(this._Orientation===n.Orientation.Vertical?this.getHeight()-this.getWidth()*2:this.getWidth()-this.getHeight()*2)},r.prototype.setIsVisible=function(n){t.prototype.setIsVisible.call(this,n),this._DomNode.style.display=n?"":"none"},r.prototype.getIsVisible=function(){return this._DomNode.style.display==""?t.prototype.getIsVisible.call(this):!1},r.prototype.getValue=function(){return this._Value},r.prototype.setValue=function(n,t){if(typeof n!="number")throw new Error("ArgumentException");this._yd(n),t!==!1?(this._a9K(),this._atD()):(this._a9L=this._Value,this._a9G=this._Value)},r.prototype.setEnabled=function(i){i!=this._Enabled&&(t.prototype.setEnabled.call(this,i),this._a9D(i),this._alU(i),this._alV(i),this._agq(),i&&this._Orientation===n.Orientation.Vertical&&this._ParentNode&&this._bV(this._ParentNode,{mousewheel:this._a1,DOMMouseScroll:this._a1}))},r.prototype.setDraggerMinSize=function(n){n=this._g(n),n!==this._DraggerMinSize&&(this._DraggerMinSize=n,this._DraggerMinSize>this._DraggerSize&&this.setDraggerSize(n))},r.prototype.setIsRTL=function(i){if(i!=this._IsRTL){var r=this.getValue();t.prototype.setIsRTL.call(this,i),this._Orientation===n.Orientation.Vertical&&this.setValue(r),this._a9E()}},r.prototype.setWidth=function(n,i){var r=this._Width;t.prototype.setWidth.call(this,n,i),n!==r&&this.updateSize()},r.prototype.setHeight=function(n,i){var r=this._Height;t.prototype.setHeight.call(this,n,i),n!==r&&this.updateSize()},r.prototype.setScrollButtonsEnabled=function(n){n!==this._ScrollButtonsEnabled&&(this._ScrollButtonsEnabled=n,this.updateSize())},r.prototype.updateSize=function(){var e,s;if(this._Width===0||this._Height===0)return!1;var r=this._atB.style,o=this._DomNode.style,i=this._ago.style,t=this._agp.style,u=this._dX.style;if(o.width=this._Width+"",o.height=this._Height+"",n.show(this._dX),this._a9F=!0,this._Orientation===n.Orientation.Vertical){this._ScrollButtonsEnabled?(i.display=t.display="block",i.width=i.height=t.width=t.height=this._Width+"px",this._bFC(this._Width)):(i.display=t.display="none",i.width=i.height=t.width=t.height="0px"),u.width=this._Width+"px";var h=parseInt(o.height),f=parseInt(t.height),c=parseInt(u.height);t.top=h-f+"px",r.height=this._g(h-2*f)+"px",r.top=f+"px",this._bFx=c,this._aC4=f,c>=parseInt(r.height)&&(n.hide(this._dX),this._a9F=!1)}else this._ScrollButtonsEnabled?(i.display=t.display="block",i.width=i.height=t.width=t.height=this._Height+"px",this._bFC(this._Height)):(i.display=t.display="none",i.width=i.height=t.width=t.height="0px"),u.height=this._Height+"px",e=parseInt(t.height),s=parseInt(u.width),t.left=this._g(this._Width)-this._g(this._Height)+"px",this._bFx=s,r.width=this._g(this._Width)-2*e+"px",r.left=e+"px",this._aC4=e,s>=parseInt(r.width)&&(n.hide(this._dX),this._a9F=!1);return this._a9D(this._bFu),this._bFw(),this._a9E(),this._agq(),!0},r.prototype.setScrollSpeed=function(n){n||(n=1),n<1&&(n=1),n>100&&(n=100),this._ScrollSpeed=n},r.prototype.addClass=function(n){t.prototype.addClass.call(this,n),this.updateSize()},r.prototype.getIsMoving=function(){return this._aC3||this._aRo},r.prototype.show=function(){t.prototype.show.call(this),this.updateSize()},r.prototype.dispose=function(){this.isLive()&&(this._DomNode.innerHTML="",t.prototype.dispose.call(this))},r}(t.Control);t.ScrollBar=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(i){var r=t.call(this,i)||this,u=r._IsRTL;return r._IsRTL=!1,r._ScrollsWidth||(r._ScrollsWidth=n.Ui.ScrollBox.SCROLLS_WIDTH),r._HScroll=new n.Ui.ScrollBar({Height:r._ScrollsWidth,EnableMouseWheel:!1}),r._HScroll.setDraggerMinSize(r._bFD),r._VScroll=new n.Ui.ScrollBar({Orientation:n.Orientation.Vertical,Width:r._ScrollsWidth,EnableMouseWheel:!1}),r._VScroll.setDraggerMinSize(r._bFD),r._HScroll.MoveScroll.add(r._aRw,r),r._VScroll.MoveScroll.add(r._aRx,r),r._render(),r.setIsRTL(u),r}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._lL=0,this._ck={Left:0,Right:0,Top:0,Bottom:0},this._acc=!1,this._bFD=15,this._dY=0,this._ScrollsWidth=0},r.prototype._render=function(){var t="<div class='PPScrollBox'><div class='PPScrollContent'><\/div><div class='PPScrollV'><\/div><div class='PPScrollH'><\/div><\/div>";this._initFromHTML(t),this._ScrollContentDomNode=n.querySelector(this._DomNode,".PPScrollContent"),this._ScrollVDomNode=n.querySelector(this._DomNode,".PPScrollV"),this._ScrollHDomNode=n.querySelector(this._DomNode,".PPScrollH"),this._ScrollVDomNode.style.width=this._g(this._ScrollsWidth)+"px",this._ScrollHDomNode.style.height=this._g(this._ScrollsWidth)+"px",this._HScroll.addToNode(this._ScrollHDomNode),this._VScroll.addToNode(this._ScrollVDomNode),this._addEvent(this._ScrollContentDomNode,"scroll",this._aRy),this._ParentNode&&this.addToNode(this._ParentNode),this.setEnabled(this._Enabled),this.setContent(this._Content),this.updateSize()},r.prototype._bindEvents=function(){n.isTouch&&this._addEvent(this._DomNode,"touchstart",this._aRz),n.getStyle(this._ParentNode,"overflow")!="hidden"?(this._bV(this._DomNode,{mousewheel:this._a1,DOMMouseScroll:this._a1}),this._bV(this._VScroll.getDomNode(),{mousewheel:this._a1,DOMMouseScroll:this._a1}),this._bV(this._HScroll.getDomNode(),{mousewheel:this._atE,DOMMouseScroll:this._atE})):this._bV(this._DomNode,{mouseover:this._cr6,mouseout:this._cr7})},r.prototype._cr6=function(t,i){n.getStyle(this._ParentNode,"overflow")=="hidden"&&n.reallyOver(this._DomNode,i.Event)&&(this._bV(this._DomNode,{mousewheel:this._a1,DOMMouseScroll:this._a1}),this._bV(this._VScroll.getDomNode(),{mousewheel:this._a1,DOMMouseScroll:this._a1}),this._bV(this._HScroll.getDomNode(),{mousewheel:this._atE,DOMMouseScroll:this._atE}))},r.prototype._cr7=function(t,i){n.getStyle(this._ParentNode,"overflow")=="hidden"&&n.reallyOut(this._DomNode,i.Event)&&(this._k(this._DomNode,"mousewheel",this._a1),this._k(this._DomNode,"DOMMouseScroll",this._a1),this._k(this._VScroll.getDomNode(),"mousewheel",this._a1),this._k(this._VScroll.getDomNode(),"DOMMouseScroll",this._a1),this._k(this._HScroll.getDomNode(),"mousewheel",this._atE),this._k(this._HScroll.getDomNode(),"DOMMouseScroll",this._atE))},r.prototype._aRy=function(){var i=this.getVerticalScrollPosition(),r=this.getHorizontalScrollPosition();Math.abs(i-this._ScrollContentDomNode.scrollTop)>=.5&&this.setVerticalScrollPosition(i),Math.abs(r-this._ScrollContentDomNode.scrollLeft)>=.5&&this.setHorizontalScrollPosition(r)},r.prototype._aRz=function(t,i){var f=i.Event,r,u,e;if(!(f.touches.length>1)){for(r=f.target;r;){if(u=n.hasClass(r,"PPScrollBox")&&n.Ui.getCtrlById(r.id),u&&u===this)break;if(u&&u!==this)return;r=r.parentNode}this._addEvent(document,"touchmove",this._bFE),this._addEvent(document,"touchend",this._bFF),e=f.targetTouches[0],this._a9M=e.pageX,this._a9N=e.pageY}},r.prototype._bFE=function(t,i){var o=i.Event,h,c,v,y;if(o.targetTouches&&o.targetTouches.length===1){for(var s=o.targetTouches[0],u=-(s.pageX-this._a9M),f=-(s.pageY-this._a9N),p=u,w=f,l=!0,a=!0,e=s.target,r;e&&(Math.abs(u)!==0||Math.abs(f)!==0);)n.hasClass(e,"PPScrollBox")&&(r=n.Ui.getCtrlById(e.id))&&(h=r.getHorizontalScrollPosition(),c=r.getVerticalScrollPosition(),r.scrollTo(c+(a?f:0),h+(l?u:0)),v=r.getHorizontalScrollPosition(),y=r.getVerticalScrollPosition(),l=r._bFG(),a=r._bFH(),u=u-v+h,f=f-y+c),e=e.parentNode;return this._a9M+=u-p,this._a9N+=f-w,o.preventDefault(),!1}},r.prototype._bFF=function(n,t){t.Event.touches.length>0||(this._k(document,"touchmove",this._bFE),this._k(document,"touchend",this._bFF),delete this._a9M,delete this._a9N)},r.prototype._a1=function(n,t){var u=t.Event,f,e,o=this._VScroll.getValue(),l;if(this._Enabled&&this._VScroll.getEnabled()){var r=(u.wheelDelta||-u.detail)>0?20:-20,s=this.getMaxVerticalScrollPosition(),a=this._VScroll.getScrollSpeed(),h=this._VScroll.getWheelScrollSpeed(),c=this._ScrollContentDomNode.scrollTop/s*100,i=h?c-h*(r/20):(this._ScrollContentDomNode.scrollTop-r*a)/s*100;i===c&&(i+=-(r/20)),this._VScroll&&this._VScroll.isLive()&&(f=this._VScroll.getValue(),this._VScroll.setValue(i,!0),e=f!=this._VScroll.getValue()),e&&(l={NewValue:i,OldValue:o},this._VScroll.MovedScroll.fire(this,l))}if(this._VScroll.getValue()!==o)return!1},r.prototype._atE=function(n,t){var i=t.Event,f=this.getHorizontalScrollPosition(),e=this.getMaxHorizontalScrollPosition(),r,u;return this._Enabled&&this._HScroll.getEnabled()&&(r=(i.wheelDelta||-i.detail)>0?20:-20,u=(f-r*this._HScroll.getScrollSpeed())/e*100,this._HScroll.setValue(u,!0)),!1},r.prototype._aRw=function(){if(!this._lL){var u=this.getMaxHorizontalScrollPosition(),r=this._HScroll.getValue()/100*u;isNaN(r)||r<0||(this._IsRTL&&(n.IsIE||n.IsFF?n.IsFF&&(r=-r):r=u-r),this._ScrollContentDomNode.scrollLeft!==r&&(this._ScrollContentDomNode.scrollLeft=r,n.Ui.ScrollBox.ScrollBoxMove.fire(this,{})))}},r.prototype._aRx=function(t,i){if(!this._lL){var r=this._VScroll.getValue()/100*this.getMaxVerticalScrollPosition();isNaN(r)||r<0||(r=i.NewValue<i.OldValue?Math.floor(r):Math.ceil(r),this._ScrollContentDomNode.scrollTop!==r&&(this._ScrollContentDomNode.scrollTop=r,n.Ui.ScrollBox.ScrollBoxMove.fire(this,{})))}},r.prototype._aRA=function(n){if(this._acc)return!1;if(n){if(this._ScrollHDomNode.style.display="",this._HScroll.show(),this._Height){var t=this._g(this._Height)-this._ck.Top-this._ck.Bottom-this._ScrollsWidth;this._ScrollContentDomNode.style.height=t+"px"}else this._ScrollContentDomNode.style.height="";this.updateScrollSizes()}else this._ScrollHDomNode.style.display="none",this._HScroll.hide(),this._ScrollContentDomNode.style.height=this._Height>0?this._g(this._Height)-this._ck.Top-this._ck.Bottom+"px":"",this.updateScrollSizes()},r.prototype._aRB=function(t){if(this._acc)return!1;if(t){this._ScrollVDomNode.style.display="",this._VScroll.show();var i=this._g(this._g(this._Width)-n.Ui.getMarginsWidth(this._ScrollContentDomNode)-this._ck.Left-this._ck.Right||this._ParentNode.offsetWidth)-this._ScrollsWidth;this._ScrollContentDomNode.style.width=i+"px",this.updateScrollSizes()}else this._ScrollVDomNode.style.display="none",this._VScroll.hide(),this._ScrollContentDomNode.style.width=this._Width>0?this._g(this._Width)-n.Ui.getMarginsWidth(this._ScrollContentDomNode)-this._ck.Left-this._ck.Right+"px":"",this.updateScrollSizes()},r.prototype._atF=function(){this._ck.Left=this._g(n.getStyle(this._DomNode,"border-left-width")),this._ck.Right=this._g(n.getStyle(this._DomNode,"border-right-width")),this._ck.Top=this._g(n.getStyle(this._DomNode,"border-top-width")),this._ck.Bottom=this._g(n.getStyle(this._DomNode,"border-bottom-width"))},r.prototype._bFG=function(){var n=this._ScrollContentDomNode.scrollLeft,t=this.getMaxHorizontalScrollPosition();return n===0||Math.abs(n)===t},r.prototype._bFH=function(){var n=this._ScrollContentDomNode.scrollTop,t=this.getMaxVerticalScrollPosition();return n===0||n===t},r.prototype.setWidth=function(i,r){if(i=this._g(i),this._Width!=i){if(!i&&this._ParentNode&&(i=this._ParentNode.offsetWidth),!i)return!1;i=this._g(i)-this._ck.Left-this._ck.Right,i===this._Width&&r==undefined&&(r=!0),t.prototype.setWidth.call(this,i,r),this._ScrollContentDomNode.style.width=this._g(i)-(this._ScrollVDomNode.style.display=="none"?0:this._ScrollsWidth)-n.Ui.getMarginsWidth(this._ScrollContentDomNode)-this._ck.Left-this._ck.Right+"px";var u=this._g(parseInt(this._ScrollContentDomNode.style.width,10));this._ScrollHDomNode.style.width=u+"px",this._HScroll.setWidth(u),this.updateScrollsVisibility(),this.updateScrollSizes(),this.updateScrollPositions()}},r.prototype.setHeight=function(n,i){if(n=this._g(n),this._Height!=n){if(n||(n=this._ScrollContentDomNode.offsetHeight),!n)return!1;n=this._g(n)-this._ck.Top-this._ck.Bottom,n===this._Height&&i==undefined&&(i=!0),t.prototype.setHeight.call(this,n,i),this._ScrollContentDomNode.style.height=this._g(n)-(this._ScrollHDomNode.style.display=="none"?0:this._ScrollsWidth)+"px";var r=this._g(parseInt(this._ScrollContentDomNode.style.height,10));this._ScrollVDomNode.style.height=r+"px",this._VScroll.setHeight(r),this.updateScrollsVisibility(),this.updateScrollSizes(),this.updateScrollPositions()}},r.prototype.clearHeightStyle=function(){this._Height=0,this._DomNode.style.height="",this._ScrollContentDomNode.style.height=""},r.prototype.setParent=function(t){t instanceof n.Ui.Control&&(this._Parent=t)},r.prototype.setContent=function(n){this._bW(n,this._ScrollContentDomNode,"Content",!0),this._Content=n,this.updateSize()},r.prototype.setEnabled=function(t){this._Enabled!==t&&(this._Enabled=t,t?this.removeClass(this._DisableClass):(this.setIsHovered(!1),this.addClass(this._DisableClass))),this._Content instanceof n.Ui.Control&&this._Content.setEnabled(t),this.setTabIndex(this._TabIndex),this._HScroll.setEnabled(this._Enabled),this._VScroll.setEnabled(this._Enabled)},r.prototype.setScrollsWidth=function(n){this._ScrollsWidth=n,this._HScroll.setHeight(this._ScrollsWidth),this._VScroll.setWidth(this._ScrollsWidth),this._ScrollVDomNode.style.width=this._ScrollsWidth+"px",this._ScrollHDomNode.style.height=this._ScrollsWidth+"px",this.updateSize()},r.prototype.setIsRTL=function(t){this._IsRTL!==t&&(this._IsRTL=t,this._Content instanceof n.Ui.Control&&this._Content.setIsRTL(this._IsRTL),this._DomNode.setAttribute("dir",this._IsRTL?"rtl":"ltr"),this._HScroll.setIsRTL(this._IsRTL))},r.prototype.getScrollsWidth=function(){return this._ScrollsWidth},r.prototype.getScrollContentDomNode=function(){return this._ScrollContentDomNode},r.prototype.getVScroll=function(){return this.getVerticalScroll()},r.prototype.getHScroll=function(){return this.getHorizontalScroll()},r.prototype.getContent=function(){return this._Content},r.prototype.getContentNode=function(){return this._ScrollContentDomNode},r.prototype.getVerticalScroll=function(){return this._VScroll},r.prototype.getHorizontalScroll=function(){return this._HScroll},r.prototype.hideScrolls=function(){return this._acc||this._DomNode.childNodes.length===0?!1:(this._ScrollVDomNode.style.display="none",this._ScrollHDomNode.style.display="none",this._DomNode.removeChild(this._ScrollVDomNode),this._DomNode.removeChild(this._ScrollHDomNode),this._ScrollContentDomNode.style.width=this.getWidth()+"px",this._ScrollContentDomNode.style.height=this.getHeight()+"px",this._acc=!0,!0)},r.prototype.showScrolls=function(){return this._acc?(this._DomNode.appendChild(this._ScrollVDomNode),this._DomNode.appendChild(this._ScrollHDomNode),this._acc=!1,this.updateSize(),!0):!1},r.prototype.updateSize=function(){if(this._dY>0)return!1;var n=this._ScrollContentDomNode.scrollLeft,t=this._ScrollContentDomNode.scrollTop;if(this.setWidth(this._Width),this.setHeight(this._Height),!this._ParentNode||this._acc)return!1;this.updateScrollsVisibility(),this.updateScrollSizes(),this.updateScrollSpeed(),this._ScrollContentDomNode.scrollLeft=n,this._ScrollContentDomNode.scrollTop=t,this.updateScrollPositions()},r.prototype.updateScrollPositions=function(){var n=this.getVerticalScrollPosition(),t=this.getHorizontalScrollPosition();this._lL++,this.setVerticalScrollPosition(n),this.setHorizontalScrollPosition(t),this._lL=Math.max(this._lL-1,0)},r.prototype.updateScrollSizes=function(){if(this._acc)return!1;var i=parseFloat(this.getCssStyle(this._ScrollContentDomNode,"width"))||0,r=parseFloat(this.getCssStyle(this._ScrollContentDomNode,"height"))||0,u=this._ScrollContentDomNode.scrollWidth,f=this._ScrollContentDomNode.scrollHeight,n,t;return this._HScroll.setWidth(i),this._VScroll.setHeight(r),this._ScrollVDomNode.style.height=this._g(r)+"px",this._ScrollHDomNode.style.width=this._g(i)+"px",n=this._VScroll.getTrackSize(),t=Math.ceil(r/f*n),this._VScroll.setDraggerSize(t),n=this._HScroll.getTrackSize(),t=Math.ceil(i/u*n),this._HScroll.setDraggerSize(t),!0},r.prototype.updateScrollsVisibility=function(){if(this._acc)return!1;var r,u,f,e,h=this._ScrollContentDomNode.scrollWidth,o=this._ScrollContentDomNode.scrollHeight,c=parseFloat(this.getCssStyle(this._ScrollContentDomNode,"width"))||0,s=parseFloat(this.getCssStyle(this._ScrollContentDomNode,"height"))||0,i=h-c,t=o-s;return n.IsIE&&o!=0&&s==0&&(t-=this._ScrollContentDomNode.offsetHeight),i<0&&(i=0),t<0&&(t=0),i<=this._ScrollsWidth&&this._ScrollVDomNode.style.display!=="none"&&(r=!0),t<=this._ScrollsWidth&&this._ScrollHDomNode.style.display!=="none"&&(u=!0),i<=1&&(f=!0),t<=1&&(e=!0),r&&u||f&&e?(this._atF(),this._aRB(!1),this._aRA(!1)):f?(this._atF(),this._aRA(!1),this._aRB(!u)):e?(this._atF(),this._aRB(!1),this._aRA(!r)):((this._Height||this._Width)&&this._atF(),this._Height!=0&&this._aRB(!0),this._Width!=0&&this._aRA(!0)),!0},r.prototype.updateContentScrollPositions=function(){this._aRw(null,{}),this._aRx(null,{})},r.prototype.updateScrollSpeed=function(){var n=this.getMaxHorizontalScrollPosition(),t=this.getMaxVerticalScrollPosition();this._HScroll.setScrollSpeed(n>0?100*r.SCROLL_SPEED_PX/n:1),this._VScroll.setScrollSpeed(t>0?100*r.SCROLL_SPEED_PX/t:1)},r.prototype.scrollTo=function(n,t){n!==null&&n!==undefined&&this.setVerticalScrollPosition(n),t!==null&&t!==undefined&&this.setHorizontalScrollPosition(t)},r.prototype.getScrollHeight=function(){return this._ScrollContentDomNode.scrollHeight},r.prototype.getScrollWidth=function(){return this._ScrollContentDomNode.scrollWidth},r.prototype.getVerticalScrollPosition=function(){return this._ScrollContentDomNode.scrollTop},r.prototype.getHorizontalScrollPosition=function(){var t=this._ScrollContentDomNode.scrollLeft;return this._IsRTL&&(n.IsIE||n.IsFF?n.IsFF&&(t=-t):t=this.getMaxHorizontalScrollPosition()-t),t},r.prototype.setHorizontalScrollPosition=function(n){var t=this.getMaxHorizontalScrollPosition();this._HScroll.setValue(t>0?n/t*100:0)},r.prototype.setVerticalScrollPosition=function(n){var t=this.getMaxVerticalScrollPosition();this._VScroll.setValue(t>0?n/t*100:0)},r.prototype.getMaxHorizontalScrollPosition=function(){var n=parseFloat(this.getCssStyle(this._ScrollContentDomNode,"width")||0);return Math.max(this._ScrollContentDomNode.scrollWidth-n,0)},r.prototype.getMaxVerticalScrollPosition=function(){var n=parseFloat(this.getCssStyle(this._ScrollContentDomNode,"height"))||0;return Math.max(this._ScrollContentDomNode.scrollHeight-n,0)},r.prototype.addClass=function(n){t.prototype.addClass.call(this,n),this.updateSize()},r.prototype.getClass=function(){return this._Class},r.prototype.beginUpdate=function(){this._dY?this._dY++:this._dY=1},r.prototype.endUpdate=function(){!this._dY||this._dY<=1?(this._dY=0,this.updateSize()):this._dY--},r.prototype.dispose=function(){this.isLive()&&(this._k(this._ScrollContentDomNode,"scroll",this._aRy),delete this._Content,delete this._Parent,this._HScroll.dispose(),this._VScroll.dispose(),t.prototype.dispose.call(this))},r}(t.Control);r.ScrollBoxMove=new n.Delegate,r.SCROLLS_WIDTH=16,r.SCROLL_SPEED_PX=10,t.ScrollBox=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["TextChanged","Focus","Blur","ValueChanged","Pasted"]),this._TextSelectable=!0,this._ReadOnly=!1,this._BorderWidth=1,this._ScrollBoxClicked=!1,this._Width=200,this._Height=120,this._CaretPos=-1},r.prototype._render=function(){this._initFromHTML("<div><\/div>"),this.addClass("PPRichTextArea"),this._ScrollBox=new n.Ui.ScrollBox({ParentNode:this._DomNode,Width:this._g(this._Width)-this._BorderWidth*2,Height:this._g(this._Height)-this._BorderWidth*2,Content:this._ContentNode=document.createElement("div")}),this._ScrollBox.getVScroll().getDomNode().addEventListener("mousedown",this._cr8.bind(this)),this._ScrollBox.getVScroll().getDomNode().addEventListener("mouseup",this._cr9.bind(this)),this._ContentNode.className="PPContentNode PPSelect",this._ContentNode.tabIndex=0;var i=this._Content,r=this._Value,u=this._ReadOnly;this._Content=null,this._Value=null,this._ReadOnly=null,i?this.setContent(i):r?this.setValue(r):n.IsFF&&(this._ContentNode.innerHTML="<br>"),this.setReadOnly(u),t.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode),this.setTabIndex(this._TabIndex)},r.prototype._bindEvents=function(){t.prototype._bindEvents.apply(this,arguments),this._addEvent(this._ContentNode,"keypress",this._csa),this._addEvent(this._ContentNode,"keydown",this._csb),this._addEvent(this._ContentNode,"keyup",this._bFI),this._addEvent(this._ContentNode,"pointerdown",this._csc),this._addEvent(this._ContentNode,"focus",this._csd),this._addEvent(this._ContentNode,"blur",this._cse),this._addEvent(this._ContentNode,"touchstart",this._a9O)},r.prototype._unBindEvents=function(){t.prototype._unBindEvents.apply(this,arguments),this._d7(this._ContentNode)},r.prototype._a7=function(n,i){t.prototype._a7.call(this,n,i),i.Event.stopPropagation()},r.prototype._csc=function(t,i){i.Event.pointerType===n.Ui.PointerEventType.Mouse&&(this._addEvent(this._ContentNode,"pointermove",this._bFJ),this._addEvent(this._ContentNode,"pointerup",this._a9P),this._addEvent(this._ContentNode,"dragend",this._a9P),this._TextSelectable&&n.setCapture(this._ContentNode,["pointermove","pointerup","dragend"]),this._dz=n.calculateOffset(this._DomNode),this._dz.H=this.getHeight(),this._dz.W=this.getWidth())},r.prototype._bFJ=function(t,i){var r=n.calculateMouseX(i.Event),u=n.calculateMouseY(i.Event);u<this._dz.Y?this._ScrollBox.setVerticalScrollPosition(this._ScrollBox.getVerticalScrollPosition()-(this._dz.Y-u)):u>this._dz.Y+this._dz.H&&this._ScrollBox.setVerticalScrollPosition(this._ScrollBox.getVerticalScrollPosition()+(u-this._dz.Y-this._dz.H)),r<this._dz.X?this._ScrollBox.setHorizontalScrollPosition(this._ScrollBox.getHorizontalScrollPosition()-(this._dz.X-r)):r>this._dz.X+this._dz.W&&this._ScrollBox.setHorizontalScrollPosition(this._ScrollBox.getHorizontalScrollPosition()+(r-this._dz.X-this._dz.W))},r.prototype._a9P=function(){this._TextSelectable&&n.releaseCapture(this._ContentNode),this._k(this._ContentNode,"pointermove",this._bFJ),this._k(this._ContentNode,"pointerup",this._a9P)},r.prototype._csb=function(t,i){switch(i.Event.keyCode){case n.Key.X:case 45:case 86:i.Event.ctrlKey&&this._addEvent(this._ContentNode,"keyup",this._bFI)}},r.prototype._bFI=function(){this._ScrollBox.updateScrollPositions(),this.updateSize()},r.prototype._csa=function(){this.updateSize()},r.prototype._csd=function(){!this._ReadOnly&&this._Enabled&&this._TextSelectable&&(n.isFunction(document.body.onselectstart)&&(this._m3=document.body.onselectstart,document.body.onselectstart=null),this._fl=this.getContent(),this._bFK=this.getValue(),this._bFL=this.getContent(),this.Focus.fire(this,{}))},r.prototype._a9O=function(n,t){this.getReadOnly()||t.Event.stopPropagation()},r.prototype._cr8=function(){this._ScrollBoxClicked=!0},r.prototype._cr9=function(){this.setFocus(),this._ScrollBoxClicked=!1},r.prototype._csf=function(){if(this.isLive()&&!this._ReadOnly&&this._Enabled){this._m3&&(document.body.onselectstart=this._m3,this._m3=null);var i,r=this.getContent(),u=this.getValue(),f;return this._ScrollBoxClicked||(i=this.Blur.fire(this,{})),r!==this._fl&&(f={Value:u,OldValue:this._bFK,OldContent:this._bFL,NewContent:r,NewValue:u},this._a9Q(f)),this._fl=null,this._ScrollBoxClicked=!1,i}},r.prototype._cse=function(t,i){n.setTimeout(this._csf,20,i,this)},r.prototype._a9Q=function(n){if(!n){var t=this.getValue();n={Value:t,OldValue:this._bFK,OldContent:this._bFL,NewContent:this.getContent(),NewValue:t}}this.TextChanged.fire(this,n),this.ValueChanged.fire(this,n)},r.prototype.getReadOnly=function(){return this._ReadOnly},r.prototype.getContentNode=function(){return this._ContentNode},r.prototype.getTextSelectable=function(){return this._TextSelectable},r.prototype.getScrollBox=function(){return this._ScrollBox},r.prototype.addToNode=function(){t.prototype.addToNode.apply(this,arguments),this.updateSize()},r.prototype.blur=function(){this._ContentNode.blur()},r.prototype.getIsBinded=function(){var n=this._cQ,t=this._Parent;if(n)while(n&&t)n=t.getIsBinded(),t=t.getParent();return n},r.prototype.setReadOnly=function(t){if(t!==this._ReadOnly){this._ReadOnly=t,n.IsIE&&n.IEVer<11&&(t?this.setContent(this.getContent().replace(new RegExp("<p>&nbsp;<\/p>","g"),'<br class="blankLine">')):this.setContent(this.getContent().replace(new RegExp('<br class="blankLine">',"g"),"<p>&nbsp;<\/p>")));var i=this._ContentNode;i.blur(),t?i.removeAttribute("contenteditable"):i.setAttribute("contenteditable","true"),this.updateSize()}},r.prototype.getFormattedText=function(){return this.getContent()},r.prototype.getContent=function(){return(this._ContentNode.innerText||this._ContentNode.textContent)&&this._ContentNode.innerHTML!="<br>"?this._ContentNode.innerHTML:""},r.prototype.getValue=function(){var i=this._ContentNode.innerText||this._ContentNode.textContent,r=!1,t=this.getContent();return n.IsIE?r=t.slice(-4)=="<\/p>"||t.slice(-4)=="<\/P>":n.IsFF&&(r=t.slice(-6)=="<\/div>"||t.slice(-4)=="<br>"),n.IsChrome||(t=t.replace(new RegExp("(<br><\/div>|<br><\/p>|<p>&nbsp;<\/p>|<br>|<\/div>|<\/p>+)","gim"),"\n"),t=t.replace(new RegExp("(&nbsp;|\\u000A<\/span>+)","gim")," "),t=t.replace(new RegExp("(\\u000D+|<div>|<br><br><\/font>)","gim"),""),t=t.replace(/(<([^>]+)>)/gim,""),t=r?t.slice(0,t.length-1):t,i=t),(n.IsChrome||n.IsFF)&&i&&i.length&&i.slice(-1)=="\n"&&(i=i.slice(0,i.length-1)),i=i.replace(new RegExp(n.String.fromCharCode(160),"g")," "),n.String.unescapeHTML(i)},r.prototype.setContent=function(t){var i;if(t=t||"",t!==this.getContent()){for(n.isString(t)?i=n.htmlToDOM("<div>"+t+"<\/div>"):(i=n.htmlToDOM("<div><\/div>"),i.appendChild(t)),this._ContentNode.innerHTML="";i.firstChild;)this._ContentNode.appendChild(i.firstChild);this.updateSize(),this._a9Q()}},r.prototype.setValue=function(t,i){t=t||"",t!==this.getContent()&&(this._Value=n.String.unescapeHTML(t),n.IsFF?this._ContentNode.textContent=t:this._ContentNode.innerText=t,i!==!1&&this._a9Q())},r.prototype.setTextSelectable=function(t){this._TextSelectable!==t&&(this._TextSelectable=!!t,this.setReadOnly(this._ReadOnly||!t),this._TextSelectable?n.addClass(this._ContentNode,"PPSelect"):n.removeClass(this._ContentNode,"PPSelect"))},r.prototype.setWidth=function(n,i){t.prototype.setWidth.apply(this,arguments),this._ScrollBox.setWidth(this.getWidth()-this._BorderWidth*2,i)},r.prototype.setHeight=function(n,i){t.prototype.setHeight.apply(this,arguments),this._ScrollBox.setHeight(this.getHeight()-this._BorderWidth*2,i)},r.prototype.setEnabled=function(n){t.prototype.setEnabled.call(this,n),this._ScrollBox.setEnabled(n),n?this._ReadOnly||this._ContentNode.setAttribute("contenteditable","true"):this._ContentNode.removeAttribute("contenteditable")},r.prototype.setIsRTL=function(n){t.prototype.setIsRTL.apply(this,arguments),this._ScrollBox.setIsRTL(!!n)},r.prototype.getFocused=function(){return this._ContentNode===document.activeElement||t.prototype.getFocused.apply(this,arguments)},r.prototype.setFocus=function(){var n=this._ScrollBox.getVScroll(),t=this._ScrollBox.getHScroll(),i=n.getValue(),r=t.getValue();this._Enabled&&this._ContentNode.focus(),n.setValue(i),t.setValue(r)},r.prototype.scrollTo=function(n,t){this._ScrollBox.scrollTo(n,t)},r.prototype.updateSize=function(){this._ScrollBox.updateSize()},r.prototype.selectAll=function(){if(this.getIsBinded()){var t,i;this.setFocus(),document.body.createTextRange?(n.isFunction(document.body.onselectstart)&&n.IsIE&&(this._hx=document.body.onselectstart,document.body.onselectstart=null),t=document.body.createTextRange(),t.moveToElementText(this._ContentNode),t.select(),n.isFunction(this._hx)&&(document.body.onselectstart=this._hx,this._hx=null)):window.getSelection&&(i=window.getSelection(),t=document.createRange(),n.isFunction(document.body.onselectstart)&&n.IsIE&&(this._hx=document.body.onselectstart,document.body.onselectstart=null),t.selectNodeContents(this._ContentNode),i.removeAllRanges(),i.addRange(t),n.isFunction(this._hx)&&(document.body.onselectstart=this._hx,this._hx=null))}},r.prototype.setTabIndex=function(n){if(n==this._TabIndex)return this;var t=this._ScrollBox.getDomNode();t&&t.removeAttribute("tabIndex"),this._DomNode.removeAttribute("tabIndex"),this._ContentNode.tabIndex=n,this._TabIndex=n},r}(t.Control);t.RichTextArea=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["FlexChanged","ContentChanged"]),this._EnableResizeTop=!1,this._EnableResizeBottom=!1,this._EnableResizeLeft=!1,this._EnableResizeRight=!1,this._MinWidth=8,this._MaxWidth=1e4,this._MinHeight=8,this._MaxHeight=1e4,this._Grow=1,this._Shrink=0,this._DefferedResizerClass="PPStackPanelResizerRect",this._Orientation=null,this._aRC=0,this._aRD=0},r.prototype._initFields=function(i){i&&n.isDefined(i.Width)&&(i.Grow=0),t.prototype._initFields.call(this,i)},r.prototype._render=function(){this._initFromHTML("<div><\/div>"),t.prototype._render.apply(this,arguments),this.addClass("PPStackPanelItem"),this.addClass("PPStackDropPanel"),this.setContent(this._Content),this._yx(),this._ParentNode&&this.addToNode(this._ParentNode)},r.prototype._bFM=function(n){return typeof n=="string"&&n.indexOf("%")>-1?n:n+"px"},r.prototype._yx=function(){var t=this._DomNode.style,i=this._Grow+" "+this._Shrink+" auto";t.WebkitFlex=i,t.msFlex=i,t.flex=i,this._Orientation===n.Orientation.Horizontal?(t.width=this._bFM(this._Width),t.minWidth=this._MinWidth+"px",t.maxWidth=this._MaxWidth+"px",t.minHeight=t.maxHeight=t.height=""):(t.height=this._bFM(this._Height),t.minHeight=this._MinHeight+"px",t.maxHeight=this._MaxHeight+"px",t.minWidth=t.maxWidth=t.width="")},r.prototype.getGrow=function(){return this._Grow},r.prototype.getShrink=function(){return this._Shrink},r.prototype.getOrientation=function(){return this._Orientation},r.prototype.setGrow=function(n){if(!isNaN(n)&&this._Grow!=n){var t={PropertyName:"Grow",OldValue:this._Grow,NewValue:n};this._Grow=n,this._yx(),this.FlexChanged.fire(this,t)}},r.prototype.setShrink=function(n){if(!isNaN(n)&&this._Shrink!=n){var t={PropertyName:"Shrink",OldValue:this._Shrink,NewValue:n};this._Shrink=n,this._yx(),this.FlexChanged.fire(this,t)}},r.prototype.setWidth=function(t,i){var u=t,r={OldValue:this._Width,NewValue:t,WidthChanged:!0,HeightChanged:!1,Cancel:!1};if(i!==!1&&this.SizeChanging.fire(this,r),!n.isString(t)||(t+"").indexOf("%")===-1){if(t=parseInt(t+"",10),isNaN(t))return;t>this._MaxWidth?t=this._MaxWidth:t<this._MinWidth&&(t=this._MinWidth),t=this._g(t)}t===this._Width||r.Cancel||(this._Width=t,this._yx(),i!==!1&&u!==0&&this.SizeChanged.fire(this,r))},r.prototype.setHeight=function(t,i){var u=t,r={OldValue:this._Height,NewValue:t,WidthChanged:!1,HeightChanged:!0,Cancel:!1};if(i!==!1&&this.SizeChanging.fire(this,r),!n.isString(t)||(t+"").indexOf("%")===-1){if(t=parseInt(t+"",10),isNaN(t))return;t>this._MaxHeight?t=this._MaxHeight:t<this._MinHeight&&(t=this._MinHeight),t=this._g(t)}t===this._Height||r.Cancel||(this._Height=t,this._yx(),i!==!1&&u!==0&&this.SizeChanged.fire(this,r))},r.prototype.getWidth=function(){return this._DomNode.offsetWidth},r.prototype.getHeight=function(){return this._DomNode.offsetHeight},r.prototype.getBasis=function(){return this._Orientation===n.Orientation.Horizontal?this._Width:this._Height},r.prototype.setMaxWidth=function(t){if(t!=this._MaxWidth){var i={PropertyName:"MaxWidth",OldValue:this._MaxWidth,NewValue:t};this._MaxWidth=t,this._MinWidth>this._MaxWidth&&(this._MinWidth=this._MaxWidth),this._Orientation===n.Orientation.Horizontal&&(this._yx(),this.FlexChanged.fire(this,i))}},r.prototype.setMaxHeight=function(t){if(t!=this._MaxHeight){var i={PropertyName:"MaxHeight",OldValue:this._MaxHeight,NewValue:t};this._MaxHeight=t,this._MinHeight>this._MaxHeight&&(this._MinHeight=this._MaxHeight),this._Orientation===n.Orientation.Vertical&&(this._yx(),this.FlexChanged.fire(this,i))}},r.prototype.setMinWidth=function(t){if(t!=this._MinWidth){var i={PropertyName:"MinWidth",OldValue:this._MaxWidth,NewValue:t};this._MinWidth=t,this._MaxWidth<this._MinWidth&&(this._MaxWidth=this._MinWidth),this._Orientation===n.Orientation.Horizontal&&(this._yx(),this.FlexChanged.fire(this,i))}},r.prototype.setMinHeight=function(t){if(t!=this._MinHeight){var i={PropertyName:"MinHeight",OldValue:this._MinHeight,NewValue:t};this._MinHeight=t,this._MaxHeight<this._MinHeight&&(this._MaxHeight=this._MinHeight),this._Orientation===n.Orientation.Vertical&&(this._yx(),this.FlexChanged.fire(this,i))}},r.prototype.setWidthDifference=function(n){this._aRC=this._g(parseFloat(n+"")),this._MinWidth<this._aRC+1&&this.setMinWidth(this._aRC+1),this._DomNode&&(this._DomNode.style.paddingRight=n+"px")},r.prototype.setHeightDifference=function(n){this._aRD=this._g(parseFloat(n+"")),this._MinHeight<this._aRD+1&&this.setMinHeight(this._aRD+1),this._DomNode&&(this._DomNode.style.paddingBottom=n+"px")},r.prototype.getWidthDifference=function(){return this._aRC},r.prototype.getHeightDifference=function(){return this._aRD},r.prototype.setOrientation=function(t){if(t!==this._Orientation){this._Orientation=t;var i=this.getEnableResize();this._EnableResizeRight=i&&this._Orientation===n.Orientation.Horizontal,this._EnableResizeBottom=i&&this._Orientation===n.Orientation.Vertical,this._af6(),this._yx()}},r.prototype.setEnableResize=function(t){this._EnableResizeRight=t&&this._Orientation===n.Orientation.Horizontal,this._EnableResizeBottom=t&&this._Orientation===n.Orientation.Vertical,this._af6()},r.prototype.setContent=function(){t.prototype.setContent.apply(this,arguments),this.ContentChanged.fire(this,{})},r}(t.ResizableControl);t.StackPanelItem=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var u,r;(function(n){n[n.AllItems=0]="AllItems",n[n.CurrentItem=1]="CurrentItem",n[n.None=2]="None"})(u=t.StackPanelResizeMode||(t.StackPanelResizeMode={})),r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i._Width||(i._Width=i._DomNode.offsetWidth,i.setWidth(i._Width)),i._Height===undefined&&(i._Height=i._DomNode.offsetHeight,i.setHeight(i._Height)),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["ItemSizeChanging","ItemSizeChanged","OrientationChanged"]),this._Orientation=n.Orientation.Vertical,this._IsContentResizable=!1,this._SplitterResize=!1,this._ResizeMode=n.Ui.StackPanelResizeMode.CurrentItem},r.prototype._render=function(){var r,i,u;for(this._initFromHTML("<div class='PPStackPanel'><\/div>"),this._bFN=this._csg(),this._bFN||this.addClass("PPStackPanelNoFlex"),this._ScrollBox=new n.Ui.ScrollBox({ParentNode:this._DomNode}),r=this._Items,this._Items=[],i=0;i<r.length;i++)this.add(r[i]);t.prototype._render.apply(this,arguments),this._ParentNode&&(this.addToNode(this._ParentNode),this._ScrollBox.updateSize()),u=this._Orientation,this._Orientation=null,this.OrientationChanged.suspend(),this.setOrientation(u),this.OrientationChanged.resume(),this.setSplitterResize(this._SplitterResize)},r.prototype._aCX=function(t){var i=new n.Ui.StackPanelItem({Content:t,ParentNode:this._ScrollBox.getContentNode()}),r=i.getContent();return r instanceof n.Ui.Control&&r.setParent(i),i.addClass("PPStackItem"),i},r.prototype._bFO=function(n){var t=this._Items.indexOf(n);if(t==-1)return null;do t++;while(t<this._Items.length&&!this._Items[t].getIsVisible());return this._Items[t]},r.prototype._csh=function(t,i){var o;if(this._fB()&&this._SplitterResize&&this._Items.length>1&&!this._aC5){var y=this._Orientation===n.Orientation.Horizontal,r=y?"Width":"Height",u=this._bFO(t);if(!u)return!1;var h=t["get"+r](),c=h+u["get"+r](),f=i.NewValue,e=c-f,s=u["getMin"+r]();e<=s&&(i.Cancel=!0,e=s,f=c-s),this._ResizeMode!==n.Ui.StackPanelResizeMode.None?(f!==h&&t["set"+r](f,!1),u["set"+r](e,!1)):this._a9R={item:t,itemSizeNew:f,nextItem:u,nextItemSizeNew:e}}if(this._bFP(),this._ResizeMode===n.Ui.StackPanelResizeMode.AllItems)this._m5();else if(this._ResizeMode===n.Ui.StackPanelResizeMode.CurrentItem&&(o=t.getContent(),o instanceof n.Ui.Control&&o.isLive())){var l=t.getDomNode(),a=this._g(l.offsetWidth-t.getWidthDifference()),v=this._g(l.offsetHeight-t.getHeightDifference());a>0&&v>0&&o.setSize(a,v)}this._aC5||this.ItemSizeChanging.fire(this,{Item:t}),this._ResizeMode!==n.Ui.StackPanelResizeMode.None&&this.updateSize()},r.prototype._aC6=function(n){this._fB()||(n.getGrow()!==0&&n.setGrow(0),n.getShrink()!==0&&n.setShrink(0),this.updateSize(),this._m5(),this._aC5||this.ItemSizeChanged.fire(this,{Item:n}))},r.prototype._csi=function(){this.updateSize(),this._m5()},r.prototype._bFQ=function(t){var i=t.getWidth(),r=t.getHeight();this._Orientation===n.Orientation.Horizontal?t.setWidth(i):t.setHeight(r)},r.prototype._csj=function(n){if(this._aC5=!0,this._csk=this._a9S(n.getBasis()),this._bFQ(n),n.getGrow()!==0&&n.setGrow(0),n.getShrink()!==0&&n.setShrink(0),this._SplitterResize){var i=this._bFO(n);i&&this._bFQ(i)}this._aC5=!1},r.prototype._csl=function(t){if(this._ResizeMode===n.Ui.StackPanelResizeMode.None&&this._SplitterResize&&this._a9R){var f=this._Orientation===n.Orientation.Horizontal,u=f?"Width":"Height",r=this._a9R;r.nextItem["set"+u](r.nextItemSizeNew,!1),r.item["set"+u](r.itemSizeNew,!1),delete this._a9R}this._csk&&this._bFR(t),this.updateSize(),this._m5(),this._aC5||this.ItemSizeChanged.fire(this,{Item:t})},r.prototype._dDn=function(){this._ScrollBox.updateSize()},r.prototype._aC7=function(){for(var r=this._Orientation===n.Orientation.Horizontal,t,i=0,u=this._Items.length;i<u;i++)t=this._Items[i],this._IsContentResizable&&(this._SplitterResize||r&&t.getEnableResizeRight())?t.setWidthDifference(3):t.setWidthDifference(2),this._IsContentResizable&&(this._SplitterResize||!r&&t.getEnableResizeBottom())?t.setHeightDifference(3):t.setHeightDifference(2)},r.prototype._m5=function(){var e,t,u,i,o,f,r;if(this._BeginUpdate)return!1;for(e=[],t=0,u=this._Items.length;t<u;t++)i=this._Items[t],o=i.getDomNode(),e.push({Width:this._g(o.offsetWidth-i.getWidthDifference()),Height:this._g(o.offsetHeight-i.getHeightDifference())});for(t=0,u=this._Items.length;t<u;t++)i=this._Items[t],f=i.getContent(),r=e[t],f instanceof n.Ui.Control&&f.isLive()&&r.Width>0&&r.Height>0&&f.setSize(r.Width,r.Height)},r.prototype._aRE=function(){for(var r=this._IsContentResizable&&this._Items.length>1,u=this.getItems()||[],f=u.length,i,n,t=f-1;t>=0;t--)n=u[t],n.getIsVisible()&&(i?n.setEnableResize(r):(i=n,i.setEnableResize(r&&!this._SplitterResize)))},r.prototype._bFP=function(){var f,o,v,y,e,d,w;if(!this._bFN){for(var c=this._Orientation===n.Orientation.Horizontal,p=c?"Width":"Height",l=this.getItems()||[],u,a=c?this._ScrollBox.getWidth():this._ScrollBox.getHeight(),b=0,t,r=[],i=0;i<l.length;i++)(u=l[i],u instanceof n.Ui.StackPanelItem&&u.getIsVisible())&&(f=u["_"+p],n.isString(f)&&f.indexOf("%")>-1&&(f=parseFloat(f)*.01*a),t={grow:u.getGrow(),shrink:u.getShrink(),flexBase:f,minSize:u["getMin"+p](),maxSize:u["getMax"+p](),frozen:!1},t.hypotheticalSize=Math.max(Math.min(t.flexBase,t.maxSize),t.minSize),b+=t.hypotheticalSize,r.push(t));for(o=a>b,i=0;i<r.length;i++)t=r[i],(o&&(t.grow===0||t.flexBase>t.hypotheticalSize)||!o&&(t.shrink===0||t.flexBase<t.hypotheticalSize))&&(t.frozen=!0,t.targetSize=t.hypotheticalSize);for(v=a,i=0;i<r.length;i++)t=r[i],v-=t.frozen?t.targetSize:t.flexBase;for(y=0;y<r.length;){var s=a,g,h=0,k=0;for(i=0;i<r.length;i++)t=r[i],s-=t.frozen?t.targetSize:t.flexBase,t.frozen||(h+=o?t.grow:t.shrink,k+=t.flexBase*t.shrink);for(h<1&&Math.abs(v*h)<Math.abs(s)&&(s=v*h),i=0;i<r.length;i++)(t=r[i],t.frozen)||(t.targetSize=o?t.flexBase+s*t.grow/h:t.flexBase-Math.abs(s)*t.flexBase*t.shrink/k);for(e=0,i=0;i<r.length;i++)(t=r[i],t.minViolation=!1,t.maxViolation=!1,t.frozen)||(e+=t.targetSize,t.targetSize>t.maxSize&&(t.targetSize=t.maxSize,t.minViolation=!0),t.targetSize<t.minSize&&(t.targetSize=t.minSize,t.maxViolation=!0,t.minViolation=!1),e-=t.targetSize);for(g=!0,i=0;i<r.length;i++){if(t=r[i],t.frozen){y++;continue}(e==0||e<0&&t.maxViolation||e>0&&t.minViolation)&&(y++,t.frozen=!0)}}for(d=0,i=0;i<l.length;i++)(u=l[i],u instanceof n.Ui.StackPanelItem&&u.getIsVisible())&&(t=r[d++],w=u.getDomNode(),w.style[c?"width":"height"]=t.targetSize+"px",w.style[c?"height":"width"]="")}},r.prototype._csg=function(){var n=document.documentElement.style;return"flex"in n||"WebkitFlex"in n||"msFlex"in n},r.prototype._bFR=function(t){var i=t.getBasis(),r;this._a9S(i)||(r=t.getOrientation()===n.Orientation.Horizontal?this._ScrollBox.getWidth():this._ScrollBox.getHeight(),this._bFS(t,i/r*100+"%"))},r.prototype._csm=function(t){var r=t.getBasis(),i;this._a9S(r)&&(i=t.getOrientation()===n.Orientation.Horizontal?t.getWidth():t.getHeight(),this._bFS(t,i))},r.prototype._a9S=function(t){return n.isString(t)&&t.indexOf("%")>-1},r.prototype._fB=function(){for(var n=0;n<this._Items.length;n++)if(this._Items[n].getIsResizing())return!0;return!1},r.prototype._bFS=function(t,i){t.SizeChanging.suspend(),t.SizeChanged.suspend(),this._Orientation===n.Orientation.Horizontal?t.setWidth(i):t.setHeight(i),t.SizeChanging.resume(),t.SizeChanged.resume()},r.prototype._csn=function(){this._m5()},r.prototype.getSplitterResize=function(){return this._SplitterResize},r.prototype.getResizeMode=function(){return this._ResizeMode},r.prototype.getOrientation=function(){return this._Orientation},r.prototype.getIsContentResizable=function(){return this._IsContentResizable},r.prototype.getScrollBox=function(){return this._ScrollBox},r.prototype.addToNode=function(){t.prototype.addToNode.apply(this,arguments),this.setHeight(this._Height),this.setWidth(this._Width)},r.prototype.add=function(n){this.insert(n,this._Items.length)},r.prototype.insert=function(t,i){var r;t instanceof n.Ui.StackPanelItem?this._Items.indexOf(t)==-1&&(t.addToNode(this._ScrollBox.getContentNode()),r=t):this.getItemByContent(t)||(r=this._aCX(t)),r&&(r.setOrientation(this._Orientation),r.setEnableResize(this._IsContentResizable),r.setResizeOnMouseUp(this._ResizeMode===n.Ui.StackPanelResizeMode.None),r.setIsRTL(this._IsRTL),r.SizeChanging.addOne(this._csh,this),r.SizeChanged.addOne(this._aC6,this),r.FlexChanged.addOne(this._csi,this),r.ResizeStart.addOne(this._csj,this),r.ResizeEnd.addOne(this._csl,this),r.ContentChanged.addOne(this._csn,this),this._Items[i]?(this._ScrollBox.getContentNode().insertBefore(r.getDomNode(),this._Items[i].getDomNode()),n.insertToArr(this._Items,r,i)):this._Items.push(r)),this._aRE(),this._aC7(),this.updateSize(),this._m5()},r.prototype.getItems=function(){return this._Items},r.prototype.remove=function(i,r){var u;u=i instanceof n.Ui.StackPanelItem?i:this.getItemByContent(i),u&&t.prototype.remove.call(this,u,!r),this._aRE(),this._aC7(),this.updateSize(),this._m5()},r.prototype.clear=function(t){var r,u,i;for(t=n.isDefined(t)?t:!0,r=0,u=this._Items.length;r<u;r++)i=this._Items[r],i instanceof n.Ui.StackPanelItem&&t&&(i.hide(),i.setContent(null)),t?i.removeFromDOM():i.dispose();this._Items=[]},r.prototype.setIsContentResizable=function(n){this._IsContentResizable!=!!n&&(this._IsContentResizable=!!n,this._aRE(),this._aC7(),this.updateSize(),this._m5())},r.prototype.setSplitterResize=function(n){this._SplitterResize!=!!n&&(this._SplitterResize=!!n,this._aRE(),this._aC7(),this.updateSize(),this._m5())},r.prototype.setResizeMode=function(t){var u,i,r;for(this._ResizeMode=t,u=this._ResizeMode===n.Ui.StackPanelResizeMode.None,i=0;i<this._Items.length;i++)r=this._Items[i],r instanceof n.Ui.StackPanelItem&&r.setResizeOnMouseUp(u)},r.prototype.updateSize=function(){this._BeginUpdate||(this._bFP(),this._ScrollBox.updateSize())},r.prototype.setOrientation=function(t){var r,u,i;if(this._Orientation===t)return this;for(r={OldValue:this._Orientation,NewValue:t},this._Orientation=t,this._Orientation===n.Orientation.Horizontal?this.addClass("PPStackPanelHorizontal"):this.removeClass("PPStackPanelHorizontal"),this._ScrollBox.getContentNode().style.flexDirection=this._Orientation===n.Orientation.Vertical?"column":"row",u=this.getItems()||[],i=0;i<u.length;i++)this._Items[i].setOrientation(this._Orientation);this._aC7(),this.updateSize(),this._m5(),this.OrientationChanged.fire(this,r)},r.prototype.autoSizeItems=function(){var i,t,n;for(this.beginUpdate(),i=this.getItems()||[],t=0;t<i.length;t++)n=i[t],n.setWidth(0),n.setHeight("auto"),n.setGrow(1),n.setShrink(0);this.endUpdate()},r.prototype.convertItemsSizeUnitToPercent=function(){for(var n=0;n<this._Items.length;n++)this._bFR(this._Items[n]);this.updateSize(),this._m5()},r.prototype.convertItemsSizeUnitToPx=function(){for(var n=0;n<this._Items.length;n++)this._csm(this._Items[n]);this.updateSize(),this._m5()},r.prototype.setWidth=function(i){if(t.prototype.setWidth.apply(this,arguments),i&&n.isNumber(i))this._ScrollBox.setWidth(this._Width);else if(i&&n.isString(i)&&(i+"").indexOf("%")>-1){var u=this._DomNode.offsetWidth;u>0&&this._ScrollBox.setWidth(u)}this.updateSize(),this._m5()},r.prototype.setHeight=function(i){if(t.prototype.setHeight.apply(this,arguments),i&&n.isNumber(i))this._ScrollBox.setHeight(this._Height);else if(i&&n.isString(i)&&(i+"").indexOf("%")>-1){var u=this._DomNode.offsetHeight;u>0&&this._ScrollBox.setHeight(u)}this.updateSize(),this._m5()},r.prototype.beginUpdate=function(){this._BeginUpdate?this._BeginUpdate++:this._BeginUpdate=1},r.prototype.endUpdate=function(){!this._BeginUpdate||this._BeginUpdate<=1?(this._BeginUpdate=0,this.updateSize(),this._ScrollBox.updateSize(),this._m5()):this._BeginUpdate--},r.prototype.supportAnchors=function(){return!1},r.prototype.getItemByContent=function(t){if(!(t instanceof n.Ui.Control)&&!(t instanceof HTMLElement))return null;for(var i=0;i<this._Items.length;i++)if(this._Items[i].getContent()===t)return this._Items[i];return null},r.prototype.setIsRTL=function(n){t.prototype.setIsRTL.call(this,n),this._ScrollBox.setIsRTL(n)},r.prototype.getSettings=function(){var n=t.prototype.getSettings.apply(this,arguments);return delete n.Items,n},r}(t.Container),t.StackPanel=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._TargetsMap={},this._MenuMap={},this._MinAutoFindSymbolsCount=3,this._EnableHighlight=!1,this._ActiveTargetHoveredIndex=0,this._defineEvents(["Opened","Selected"])},r.prototype._initFields=function(n){var i=[];n&&n.Targets&&(i=n&&n.Targets,delete n.Targets),t.prototype._initFields.call(this,n),this.setTargets(i)},r.prototype._cso=function(t,i){var r=this._MenuMap[t.getId()],u;r&&r&&r.getIsVisible()&&(u=i.Event,[n.Key.Up,n.Key.Down].indexOf(u.keyCode)!==-1&&u.preventDefault())},r.prototype._db=function(n,t){var i=t.Event;switch(i.keyCode){case 32:i.ctrlKey&&(this._bFT=!0,this.showSuggestion(n.getId()),delete this._bFT,i.preventDefault());break;case 27:this._ActiveTarget&&(this.hideSuggestion(this._ActiveTarget.Control.getId()),this._ActiveTarget=null),i.preventDefault()}},r.prototype._hv=function(t,i){var r=i.Event,f=r.keyCode,e=n.Key,o,u;f!==e.Down&&f!==e.Up&&(o={13:13,17:17,18:18,35:35,36:36,33:33,34:34,16:16,9:9,27:27,20:20,93:93},u=t.getContent(),i.Args.AlwaysShow&&!(r.keyCode in o)&&u!==""&&u.toString().length>=this._MinAutoFindSymbolsCount?(this._aC8&&n.clearTimeout(this._aC8),this._aC8=n.setTimeout(this._bFU,100,{Id:t.getId()},this)):(r.keyCode===27||t.getContent()==="")&&(this._ActiveTarget&&(this.hideSuggestion(this._ActiveTarget.Control.getId()),this._ActiveTarget=null),i.Event.preventDefault()))},r.prototype._bFU=function(n){this.showSuggestion(n.Id)},r.prototype._csp=function(){n.domEvent.addEvent(document,"keydown",this._bFV,this),n.domEvent.addEvent(document,"keyup",this._bFW,this),this._ActiveTarget&&this._ActiveTarget.Control instanceof n.Ui.Control&&this._ActiveTarget.Control.setFocus()},r.prototype._kT=function(){this._ActiveTarget=null,n.domEvent.removeEvent(document,"keydown",this._bFV,this),n.domEvent.removeEvent(document,"keyup",this._bFW,this)},r.prototype._bFV=function(n,t){var r,i=t.Event,u=this._ActiveTarget,f;switch(i.keyCode){case 13:r=this._a9T(0),r&&(this.hideSuggestion(this._ActiveTarget.Control.getId()),this._ActiveTarget=null),i.preventDefault&&i.preventDefault();break;case 38:r=this._a9T(-1),i.preventDefault&&i.preventDefault();break;case 40:r=this._a9T(1),i.preventDefault&&i.preventDefault()}r&&(f={SelectionIndex:this._ActiveTargetHoveredIndex,Target:u},u.Control.setContent(this._bFX(r)),this.Selected.fire(this,f))},r.prototype._bFW=function(t,i){var f=i.Event,r=f.keyCode,u=n.Key;r===u.Down||r===u.Up||r===u.Space&&f.ctrlKey||r===17||this._ActiveTarget&&(this._aC8&&n.clearTimeout(this._aC8),this._aC8=n.setTimeout(this._bFU,100,{Id:this._ActiveTarget.Control.getId()},this))},r.prototype._csq=function(n,t){var u=t.Item.getData(),i=this._acd(u),r;i.Control.setContent(this._bFX(t.Item)),r={SelectionIndex:t.SelectedIndex,Target:i},this.Selected.fire(this,r)},r.prototype._a9T=function(n){var i,f;if(!this._ActiveTarget)return null;var o=this._ActiveTarget.Control,e=this._MenuMap[o.getId()],r=e.getItems(),u=[],t=-1;for(i=0;i<r.length;i++)r[i].getIsVisible()&&(u.push(i),r[i].getIsSelected()&&(t=u.length-1)),r[i].setIsSelected(!1);return(t+=n,t===-1&&n===0)?null:(t=t>=0?t:u.length-1,t=t<u.length?t:0,this._ActiveTargetHoveredIndex=u[t],f=r[this._ActiveTargetHoveredIndex],e.scrollToItem(f),f.setIsSelected(!0),f)},r.prototype._bFX=function(t){var i=t.getContent();return t.getValue()!==null&&n.isDefined(t.getValue())&&(i=t.getValue()),i},r.prototype._acd=function(t){var i;return n.isDefined(t)?i=typeof t=="string"?this._TargetsMap[t]:n.isDefined(t.Id)?this._TargetsMap[t.Id]:t.Control?this._TargetsMap[t.Control.getId()]:this._TargetsMap[t.getId()]:null},r.prototype._sr=function(n){var t=this._acd(n);return t?this._MenuMap[t.Id]||this._MenuMap[t.Control.getId()]:null},r.prototype._a9U=function(n,t){var u=this._acd(n),c,l,e,i,r,o;if(u&&u.Active!==!1){var a=u.Control,f=a.getContent()+"",v=this._sr(n),s=v.getItems(),y=s.length,h=0;for(u.MatchCase||(f=f.toLowerCase()),t||(l=f.replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1"),c=new RegExp("("+l+")","mgi")),e=0;e<y;e++)i=s[e],r=i.getContent(),t||(i.hide(),i.setIsHovered(!1)),o=r,u.MatchCase||(o=r.toLowerCase()),o.indexOf(f)>=0&&(t||(this.getEnableHighlight()&&(r=r.replace(c,'<span class="PPHighlightAutocomplete">$1<\/span>')),i.setContent(r),i.show()),h++);return h>0}},r.prototype.getMinAutoFindSymbolsCount=function(){return this._MinAutoFindSymbolsCount},r.prototype.getEnableHighlight=function(){return this._EnableHighlight},r.prototype.setMinAutoFindSymbolsCount=function(n){this._MinAutoFindSymbolsCount=n},r.prototype.setEnableHighlight=function(n){this._EnableHighlight=n},r.prototype.getTargets=function(){var n=[],t;for(t in this._TargetsMap)n.push(this._TargetsMap[t]);return n},r.prototype.setTargets=function(n){this._TargetsMap={};for(var t=0;t<n.length;t++)this.addTarget(n[t])},r.prototype.getTarget=function(n){return this._acd(n)},r.prototype.addTarget=function(n){n.Control.KeyDown.add(this._cso,this,n),n.AlwaysShow?n.Control.KeyUp.add(this._hv,this,n):n.Control.KeyDown.add(this._db,this,n),this._TargetsMap[n.Id||n.Control.getId()]=n,this.applySuggestions(n)},r.prototype.removeTarget=function(n){var t=this._acd(n),i,r;t&&(i=t.Id,t.Control&&t.Control.isLive()&&(t.AlwaysShow?t.Control.KeyUp.remove(this._hv,this):t.Control.KeyDown.remove(this._db,this),i||(i=t.Control.getId())),r=this._MenuMap[i],r&&r.dispose(),delete this._MenuMap[i],delete this._TargetsMap[i])},r.prototype.applySuggestions=function(t){var f=this._acd(t),r,s,h,c;if(f){var e=f.Control,o=e.getId(),u=f.Suggestions||[],i=this._MenuMap[o];for(i||(i=new n.Ui.Menu({ImageList:f.ImageList,ShowIcons:!1,ItemSelected:new n.Delegate(this._csq,this)}),i.setMinDropDownWidth(e.getWidth()),i.Opened.add(this._csp,this),i.Closed.add(this._kT,this)),i.setIsRTL(e.getIsRTL()),i.clearItems(),r=0,s=u.length;r<s;r++)h={Content:u[r].Text,ImageUrl:u[r].Marker?u[r].Marker.getImageUrl():"",ColumnIndex:u[r].Marker?u[r].Marker.getIconColumn():-1,RowIndex:u[r].Marker?u[r].Marker.getIconRow():-1,Parent:i,Data:o},c=new n.Ui.MenuItem(h),i.addItem(c);this._ActiveTargetHoveredIndex=0,this._MenuMap[o]=i}},r.prototype.showSuggestion=function(t){var r=this._acd(t),f,e;if(r&&r.Active!==!1){var u=r.Control,i=this._sr(t),s=(u.getContent()||this._bFT)&&this._a9U(t,!0),o=n.calculateOffset(u.getDomNode()),h=u.getHeight();this._ActiveTarget=r,s?(f=o.X,e=o.Y+h,i.setIsRTL(u.getIsRTL()),i.getIsVisible()?i.setCoords({X:f,Y:e}):i.show(f,e,!0),this._a9U(t,!1),this.Opened.fire(this,{SelectionIndex:-1,Target:this._ActiveTarget})):i.getIsVisible()&&i.hide()}},r.prototype.hideSuggestion=function(n){var i=this._acd(n),t;i&&(t=this._sr(n),t&&t.hide())},r.prototype.areSuggestionsVisible=function(n){var i=this._acd(n),r,t;return!i||i.Active===!1?!1:(r=this._a9U(n,!0),t=this._sr(n),r&&t&&t.getIsVisible())},r.prototype.update=function(){for(var n in this._TargetsMap)this.applySuggestions(this._TargetsMap[n])},r.prototype.dispose=function(){for(var n in this._TargetsMap)this.removeTarget(n);t.prototype.dispose.call(this)},r}(n.Object);t.Autocomplete=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._IsAppended=null,t._a9V=null,t._ss=null,t._yy=null,t._aC9=null,t._fB=!1,t._dDo=null,t._render(),t.setWidth(t._Width),t._dm=!0,t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._Content="",this._Reduction=0,this._MinWidth=20,this._Percent=null,this._Resizable=!0,this._Hideable=!0,this._ColumnEditable=!0,this._SortMethod=null,this._IsStretch=null,this._IsVisible=!0,this._Enabled=!0,this._SortDirectionClass="",this._defineEvents(["PropertyChanged","ResizeStart","ResizeEnd","AutoSize"])},u.prototype._render=function(){this._DomNode=document.createElement("th"),this._DomNode.className="PPListCaption";var t='<div class="PPListCaptionResizer"><div class="PPListCaptionResizerLine"><\/div><\/div><div class="PPListCaptionSorticon"><\/div><div class="PPListCaptionContent"><\/div>';this._DomNode.innerHTML=t,this._ss=n.querySelector(this._DomNode,".PPListCaptionResizer"),this._aC9=n.querySelector(this._DomNode,".PPListCaptionContent"),this._yy=n.querySelector(this._DomNode,".PPListCaptionSorticon"),this.setEnabled(this._Enabled),this.setIsRTL(this._IsRTL),this.setResizable(this._Resizable),r.prototype._render.apply(this,arguments)},u.prototype._bindEvents=function(){this._addEvent(this._ss,"mousedown",this._jh),this._addEvent(this._ss,"dblclick",this._alW),this._addEvent(this._DomNode,"mousedown",this._aDa),this._addEvent(this._DomNode,"mouseup",this._aRF),this._addEvent(this._DomNode,"mouseout",this._aRF),r.prototype._bindEvents.apply(this,arguments)},u.prototype._unBindEvents=function(){this._k(this._ss,"mousedown",this._jh),this._k(this._ss,"dblclick",this._alW),this._k(this._DomNode,"mousedown",this._aDa),this._k(this._DomNode,"mouseup",this._aRF),this._k(this._DomNode,"mouseout",this._aRF),r.prototype._unBindEvents.apply(this,arguments)},u.prototype._jh=function(n,t){if(this._Resizable)return this._csr(t.Event.pageX),!1},u.prototype._alW=function(){this.AutoSize.fire(this,{})},u.prototype._csr=function(t){return this._bV(document,{mousemove:this._op,mouseup:this._ib,mousedown:this._ib}),n.setCapture(this._DomNode),this._aRG=this._IsRTL?this._Width+t:this._Width-t,this.ResizeStart.fire(this,{}),this._fB=!0,this._IsStretch=!1,this._Percent=null,!1},u.prototype._op=function(n,t){var i;i=this._IsRTL?this._aRG-t.Event.pageX:this._aRG+t.Event.pageX,this.setWidth(i)},u.prototype._ib=function(){this._op.apply(this,arguments),this._k(document,"mousemove",this._op),this._k(document,"mouseup",this._ib),this._k(document,"mousedown",this._ib),n.releaseCapture(this._DomNode),delete this._aRG,this.ResizeEnd.fire(this,{}),this._fB=!1,this._bFY=!0},u.prototype._aDa=function(){return this._bFY=!1,this.addClass(this._PressClass),!1},u.prototype._aRF=function(){return this.removeClass(this._PressClass),!1},u.prototype._bp=function(n,t){var i=t.Event.target;if(!this._bFY){while(i&&i.tagName!=="TH"){if(i==this._ss||this._css(i))return;i=i.parentNode}r.prototype._bp.apply(this,arguments)}},u.prototype._cG=function(t,i){if(this.isLive()&&this._Enabled&&!this._fB){var r=i.Event;(n.reallyOver(this._DomNode,r)||this._bFZ(r.fromElement||r.relatedTarget))&&(this.setIsHovered(!0),this.MouseOver.fire(t,i))}},u.prototype._b0=function(t,i){var r=i.Event;(n.reallyOut(this._DomNode,r)||this._bFZ(r.toElement||r.relatedTarget))&&(this.setIsHovered(!1),this.MouseOut.fire(t,i))},u.prototype._css=function(t){if(!n.isObject(this._Content)||!this._Content.getDomNode)return!1;for(var i=this._Content.getDomNode();t&&t!==this._DomNode;){if(t==i)return!0;t=t.parentNode}return!1},u.prototype._bFZ=function(n){while(n&&n!==this._DomNode){if(n==this._ss)return!0;n=n.parentNode}return!1},u.prototype._gZ=function(){this._bW(this._Content,this._aC9,"Content",!0)},u.prototype.getMinWidth=function(){return this._MinWidth},u.prototype.getReduction=function(){return this._Reduction},u.prototype.getResizable=function(){return this._Resizable},u.prototype.getSortMethod=function(){return this._SortMethod},u.prototype.getIsAppended=function(){return this._IsAppended},u.prototype.getPercent=function(){return this._Percent},u.prototype.getHideable=function(){return this._Hideable},u.prototype.getParent=function(){return this._Parent},u.prototype.getColumnEditable=function(){return this._ColumnEditable},u.prototype.setIsAppended=function(n){this._IsAppended=n},u.prototype.setPercent=function(n){this._Percent=n},u.prototype.setHideable=function(n){this._Hideable=n},u.prototype.setParent=function(n){this._Parent=n},u.prototype.setColumnEditable=function(n){this._ColumnEditable=n},u.prototype.getOptimalWidth=function(){var t=0;return n.addClass(this._aC9,"PPListCaptionContentMeasure"),t+=this._aC9.offsetWidth,t+=this._yy.offsetWidth,t+=this._ss.offsetWidth,n.removeClass(this._aC9,"PPListCaptionContentMeasure"),t},u.prototype.getIsStretch=function(){return this._IsStretch||this._IsStretch==null},u.prototype.setIsVisible=function(n){r.prototype.setIsVisible.call(this,n),this._dm&&this.PropertyChanged.fire(this,new t.PropertyChangedEventArgs({PropertyName:"IsVisible",Metadata:null}))},u.prototype.setMinWidth=function(n){(n=Math.max(n,5),this._MinWidth!=n)&&(this._MinWidth=n,this._MinWidth>this._Width&&this.setWidth(this._MinWidth))},u.prototype.setSortDirectionClass=function(n){n!==""&&(n="PPListCaptionSort"+n),this.removeClass(this._SortDirectionClass),this._SortDirectionClass=n,this.addClass(this._SortDirectionClass)},u.prototype.setWidth=function(i){var u={NewValue:null},r;if(n.isNumber(i)){if(i=Math.max(i,this._MinWidth,10),u.NewValue=i,this._IsStretch=!1,this._Percent=null,i==this._Width)return}else if(r=~(i+"").indexOf("%")?parseFloat(i+""):null,r&&(this._Percent=r,this._IsStretch=!0,r==this._Percent&&r!==null))return;this._dm&&this.PropertyChanged.fire(this,new t.PropertyChangedEventArgs({PropertyName:"Width",Metadata:u}))},u.prototype.updateWidth=function(t){this._Width=t;var i=this._g(t)-this._Reduction;i!==this._a9V&&(this._a9V=i,this._DomNode.style.width=i+"px",n.IsIE&&(this._DomNode.className=this._DomNode.className))},u.prototype.setReduction=function(n){if(n!==this._Reduction){this._Reduction=n;var t=Math.max(this._g(this._Width)-this._Reduction,this._MinWidth);this._DomNode.style.width=t+"px",this._a9V=t}},u.prototype.setContent=function(t){this._Content=!n.isObject(t)||t instanceof n.Ui.Control?t:t.PPType?n.create(t):t+"",this._gZ()},u.prototype.addToNode=function(){r.prototype.addToNode.apply(this,arguments),this._gZ(),this._IsAppended=!0},u.prototype.removeFromDOM=function(){r.prototype.removeFromDOM.apply(this,arguments),this._IsAppended=!1},u.prototype.setEnabled=function(){r.prototype.setEnabled.apply(this,arguments),this._Enabled?this._bindEvents():this._unBindEvents()},u.prototype.setIsStretch=function(n,i){!!n!=this.getIsStretch()&&(this._IsStretch=!!n,i!==!1&&this._dm&&this.PropertyChanged.fire(this,new t.PropertyChangedEventArgs({PropertyName:"IsStretch",Metadata:null})))},u.prototype.setResizable=function(n){this._Resizable=n,this._Resizable?this.addClass("PPListCaptionResizable"):this.removeClass("PPListCaptionResizable")},u.prototype.setSortMethod=function(n){this._SortMethod=n},u.prototype.getSettings=function(){var n=r.prototype.getSettings.apply(this,arguments);return delete n.Height,delete n.IsAppended,delete n.IsStretch,delete n.Percent,delete n.Changed,delete n.Click,delete n.ResizeStart,delete n.ResizeEnd,delete n.AutoSize,n.IsVisible=this.getIsVisible(),this.getIsStretch()&&(n.Width=this._Percent!==null?this._Percent+"%":null),n},u}(t.Control);t.ListCaption=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this,i,u;for(t._dm=!1,t._DomNode=null,t._aRH=null,t._a9W=0,t._a9X=null,t._bF0=null,t._a9Y=null,t._hy=null,t._aDb=0,t._aRI=null,t._atG=null,t._a9Z=0,t._atH=null,t._atI=null,t._aa=null,t._ac=null,t._alX=null,t._a90=0,t._yz=0,t._st=0,t._aRJ=0,t._dDp=0,t._ace={},t._dDq=!1,t._VisibleCaptions=[],t._FirstVisibleIndex=null,t._FixedCaptionsCount=0,t._IsWide=!1,t._CaptionsWidth=0,t._render(),i=0,u=t._Captions.length;i<u;i++)t._alY(i);return t.updateSize(),t.setEnabled(t._Enabled),t.setIsRTL(t._IsRTL),t.setHorizontalSizes({LeftMargin:t._LeftMargin,RightMargin:t._RightMargin,VScrollMargin:t._VScrollMargin}),t._LeftMargin=t._RightMargin=null,t._a91(20),t._dm=!0,t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._Captions=[],this._EnableMenu=!1,this._EnableResize=!1,this._EnableSort=!1,this._SortDirections=[0,1,2],this._VScrollMargin=0,this._LeftMargin=0,this._RightMargin=0,this._defineEvents(["Changing","Changed","SortChanging","SortChanged","AutoSize"])},u.prototype._render=function(){this._initFromHTML('<div class="PPListCaptions"><div class = "PPListCaptionsContainer"><table class="PPListCaptionsTable"><tr class="PPListCaptionsRow"><th class="PPListCaptionsFirstSpacer"><\/th><th class="PPListCaptionsLastSpacer"><\/th><\/tr><\/table><\/div><div class="PPListCaptionsMenuBox"><div class="PPListCaptionsMenuIcon"><\/div><\/div><\/div>'),this._aRH=n.querySelector(this._DomNode,".PPListCaptionsContainer"),this._a9X=n.querySelector(this._DomNode,".PPListCaptionsRow"),this._bF0=n.querySelector(this._DomNode,".PPListCaptionsFirstSpacer"),this._a9Y=n.querySelector(this._DomNode,".PPListCaptionsLastSpacer"),this._aRI=n.querySelector(this._DomNode,".PPListCaptionsMenuBox"),this._atG=n.querySelector(this._DomNode,".PPListCaptionsMenuIcon"),this.setEnableMenu(this._EnableMenu),this.setEnableResize(this._EnableResize),this.setEnableSort(this._EnableSort),this._ParentNode&&this._ParentNode.appendChild(this._DomNode),this._bindEvents(),this.addClass("PPListCaptionsCaptionResized")},u.prototype._bindEvents=function(){this._addEvent(this._atG,"mousedown",this._bF1),r.prototype._bindEvents.apply(this,arguments)},u.prototype._unBindEvents=function(){this._k(this._atG,"mousedown",this._bF1),r.prototype._unBindEvents.apply(this,arguments)},u.prototype._bF1=function(){this._a92()},u.prototype._a92=function(){var f,i,o,t,r,u,e;if(this._Enabled){for(this._hy&&(this._hy.dispose(),this._hy=null),f=[],i=0,o=this._Captions.length;i<o;i++)t=this._Captions[i],f.push({MenuItem:{Parent:this._hy,Enabled:t.getHideable(),Content:t.getContent(),Checked:t.getIsVisible(),Data:t,CloseOnChecked:!1}});this._hy=new n.Ui.Menu({Items:f,IsRTL:this._IsRTL}),this._hy.ItemSelected.add(this._e4,this),this._hy.Closed.add(this._kT,this),this._hy.show(0,0),r=n.calculateOffset(this._atG),u=r.X,u+this._hy.getWidth()>document.body.clientWidth&&(u-=this._hy.getWidth()),e=r.Y+this._g(this._Height)+this._hy.getHeight()>document.body.clientHeight?document.body.clientHeight-this._hy.getHeight():r.Y+this._g(this._Height),this._hy.show(u,e,null,!0),n.addClass(this._atG,this._PressClass)}},u.prototype._e4=function(n,t){var i=this._Captions[t.SelectedIndex];i.setIsVisible(!i.getIsVisible())},u.prototype._kT=function(){n.removeClass(this._atG,this._PressClass)},u.prototype._alZ=function(n){var r,u,f,e,o;this._Enabled&&this._EnableSort&&(this._alX&&this._alX==n?this._a90<this._SortDirections.length-1?(r=this._alX,u=this._a90+1):(r=null,u=0):(r=n,u=1),f=this._Captions.indexOf(r),f<0&&(f=null),e=this._SortDirections[u],o={Caption:f,Direction:e,Method:n.getSortMethod(),Cancel:!1},this.SortChanging.fire(this,o),o.Cancel||(this._alX&&this._alX!==r&&this._alX.setSortDirectionClass(t.TreeSortDirection[this._SortDirections[0]]),r&&r.setSortDirectionClass(t.TreeSortDirection[e]),this._alX=r,this._a90=u,this.SortChanged.fire(this,{Caption:f,Direction:e,Method:n.getSortMethod()})))},u.prototype._bF2=function(n,t){var i=t.getPropertyName(),r=t.getMetadata();i=="Width"&&r.NewValue&&(this._ace[this._Captions.indexOf(n)]=r.NewValue,this._m6()),i=="IsVisible"&&(this.Changing.fire(this,{Type:"CaptionVisibility"}),this._m6(!1),this.Changed.fire(this,{Type:"CaptionVisibility"}))},u.prototype._bF3=function(){this.addClass("PPListCaptionsCaptionResizing"),this.removeClass("PPListCaptionsCaptionResized"),document.body.style.cursor="e-resize"},u.prototype._bF4=function(){this.addClass("PPListCaptionsCaptionResized"),this.removeClass("PPListCaptionsCaptionResizing"),document.body.style.cursor=""},u.prototype._bF5=function(n){this.AutoSize.fire(this,{Caption:n,Index:this._Captions.indexOf(n)})},u.prototype._alY=function(t){var i=this._Captions[t];i&&(i instanceof n.Ui.ListCaption||(i=this._Captions[t]=new n.Ui.ListCaption(i)),i.setEnabled(this._Enabled),i.setIsRTL(this._IsRTL),i.setHeight(this._Height),i.updateWidth(i.getWidth()),i.Click.add(this._alZ,this),i.PropertyChanged.add(this._bF2,this),i.ResizeStart.add(this._bF3,this),i.ResizeEnd.add(this._bF4,this),i.AutoSize.add(this._bF5,this))},u.prototype._cst=function(n){var t=this._Captions[n],u=t&&t.getDomNode(),i,r;if(t&&u&&!t.getIsAppended()){r=n;do i=this._Captions[++r];while(i&&!i.getIsAppended());i?t.addToNode(this._a9X,i.getDomNode()):t.addToNode(this._a9X,this._a9Y)}},u.prototype._bF6=function(n){var t=this._Captions[n];t&&t.getIsAppended()&&t.removeFromDOM()},u.prototype._bF7=function(n,t){return this._yz===this._g(n)&&this._dm||this._Width===0?!1:(this._yz=this._g(n),this._bF0.style.width=this._yz+"px",this._dm&&!t&&this._m6(),!0)},u.prototype._bF8=function(n,t){return this._st===this._g(n)&&this._dm||this._Width===0?!1:(this._st=this._g(n),this._a91(this._st),this._dm&&!t&&this._m6(),!0)},u.prototype._bF9=function(n){(n=this._g(n),n!==this._a9W)&&(this._aRH.style.width=n+"px",this._a9W=n)},u.prototype._a91=function(n){(n=this._g(n),n!==this._aDb)&&(this._a9Y.style.width=n+"px",this._aDb=n)},u.prototype._m6=function(n){var e,r,t,o,s,h,i,u,f;for(this._FirstVisibleIndex=null,this._VisibleCaptions=[],this._FixedCaptionsCount=0,this._StretchCaptionsCount=0,this._aRJ=0,e=[],o=this._Captions.length,t=0;t<o;t++)r=this._Captions[t],r.getIsVisible()?(this._cst(t),r.getIsStretch()?this._StretchCaptionsCount++:(this._FixedCaptionsCount++,this._aRJ+=this._ace[t]||r.getWidth()),this._VisibleCaptions.push(r),this._FirstVisibleIndex==null&&(this._FirstVisibleIndex=t),r.getIsStretch()&&e.push(r)):this._bF6(t);s=this._aa-this._aRJ-this._VScrollMargin-this._yz-this._st,h=this._csv(s,e),this._CaptionsWidth=this._aRJ+h,this._csw(),this._csx(),u={},f=!1;for(i in this._ace)this._ace.hasOwnProperty(i)&&(u[i]=this._Captions[i],f=!0);f&&n!==!1&&this.Changing.fire(this,{Type:"CaptionWidth",Changing:u});for(i in this._ace)this._ace.hasOwnProperty(i)&&this._Captions[i].updateWidth(this._ace[i]);this._ace={},f&&n!==!1&&this.Changed.fire(this,{Type:"CaptionWidth",Changed:u})},u.prototype._csw=function(){var n=this._CaptionsWidth+this._yz+this._st>this._aa;this._IsWide!=n&&(this._IsWide=n,this._IsWide?this.addClass("PPListCaptionsWide"):this.removeClass("PPListCaptionsWide"))},u.prototype._csx=function(){var i=this.getMenuButtonWidth(),n,t,r,u;for(n=this._VScrollMargin?-2:i?Math.min(Math.max(this._CaptionsWidth+this._yz+i-2-this._g(this._Width),0),Math.max(i-2-this._st,0)):0,n!==0&&this._csy(n),t=0,r=this._VisibleCaptions.length;t<r;t++)u=this._VisibleCaptions[t],t==r-1?u.setReduction(n):u.setReduction(0)},u.prototype._csy=function(n){var i=0,t=this._st+n;t<0&&(i=t,t=0),this._a91(t),this._bF9(this._aa-this._VScrollMargin-i)},u.prototype._csv=function(n,t){for(var u,h=0,s=t.length,f,c,r,o,e,l,i=0;i<s;i++)u=t[i],h+=u.getPercent();for(f=[],c=0,i=0;i<s;i++)u=t[i],r=h?Math.round(n*u.getPercent()/h):Math.round(n/s),o=u.getMinWidth(),r=r>o?r:o,c+=r,f.push(r);for(e=c-n,i=0;e>0&&i<s;)u=t[i],r=f[i],o=u.getMinWidth(),r>o&&(l=Math.min(r-o,e),f[i]-=l,e-=l),i++;for(e<0&&(f[0]+=-e),i=0;i<s;i++)t[i].getWidth()!==f[i]&&(this._ace[this._Captions.indexOf(t[i])]=f[i]);return n+e},u.prototype.getVScrollMargin=function(){return this._VScrollMargin},u.prototype.getCaptions=function(){return this._Captions},u.prototype.getCaptionsWidth=function(){return this._CaptionsWidth},u.prototype.getVisibleCaptions=function(){return this._VisibleCaptions},u.prototype.getFirstVisibleIndex=function(){return this._FirstVisibleIndex},u.prototype.getFixedCaptionsCount=function(){return this._FixedCaptionsCount},u.prototype.getStretchCaptionsCount=function(){return this._StretchCaptionsCount},u.prototype.getEnableMenu=function(){return this._EnableMenu},u.prototype.getEnableResize=function(){return this._EnableResize},u.prototype.getEnableSort=function(){return this._EnableSort},u.prototype.setCaptions=function(t){if(t&&(!n.Array.isArray(t)||t.length)||(t=[{}]),this._Captions=t,n.Array.isArray(this._Captions))for(var i=0;i<this._Captions.length;i++)this._alY(i);this.Changing.fire(this,{Type:"CaptionVisibility"}),this._m6(!1),this.Changed.fire(this,{Type:"CaptionVisibility"})},u.prototype.setWidth=function(n,t){n==this._Width&&this._dm||(this._a9W=null,r.prototype.setWidth.call(this,n,t),this.updateSize())},u.prototype.setHeight=function(t){var u,e,f;if(t!=this._Height||!this._dm){for(r.prototype.setHeight.apply(this,arguments),e=this._Captions.length,u=0;u<e;u++)f=this._Captions[u],f instanceof n.Ui.ListCaption&&f.setHeight(this._Height);this.updateSize()}},u.prototype.getFullContentWidth=function(){return this._CaptionsWidth+this._yz+this._st},u.prototype.getMenuButtonWidth=function(){return this._EnableMenu?(this._a9Z||(this._a9Z=this._aRI.offsetWidth),this._a9Z):0},u.prototype.getScrollLeft=function(){return this._aRH.scrollLeft},u.prototype.setScrollLeft=function(n){this._aRH.scrollLeft=n},u.prototype.getLeftMargin=function(){return this._IsRTL?this._st:this._yz},u.prototype.setLeftMargin=function(n,t){var i;return i=this._IsRTL?this._bF8(n,t):this._bF7(n,t)},u.prototype.getRightMargin=function(){return this._IsRTL?this._yz:this._st},u.prototype.setRightMargin=function(n,t){var i;return i=this._IsRTL?this._bF7(n,t):this._bF8(n,t)},u.prototype.setVScrollMargin=function(n,t){return this._VScrollMargin===this._g(n)&&this._dm||this._Width===0?!1:(this._VScrollMargin=this._g(n),this._bF9(this._aa-this._VScrollMargin),this._dm&&!t&&this._m6(),!0)},u.prototype.setHorizontalSizes=function(t){var i=t.Width!==this.getWidth();n.isDefined(t.Width)&&this.setWidth(t.Width,!1),n.isDefined(t.LeftMargin)&&(i=this.setLeftMargin(t.LeftMargin,!0)||i),n.isDefined(t.RightMargin)&&(i=this.setRightMargin(t.RightMargin,!0)||i),n.isDefined(t.VScrollMargin)&&(i=this.setVScrollMargin(t.VScrollMargin,!0)||i),i&&this._m6()},u.prototype.updateSize=function(){this._atI=this._g(n.getStyle(this._DomNode,"border-top"))+this._g(n.getStyle(this._DomNode,"border-bottom")),this._atH=this._g(n.getStyle(this._DomNode,"border-left"))+this._g(n.getStyle(this._DomNode,"border-right")),this._aa=this._g(this._Width)-this._atH,this._ac=this._g(this._Height)-this._atI,this._DomNode.style.width=this._aa+"px",this._DomNode.style.height=this._ac+"px",this._m6()},u.prototype.hideMenu=function(){this._hy&&(this._hy.hide(),this._hy.dispose()),this._hy=null},u.prototype.setEnableMenu=function(n){this._dm&&this._EnableMenu==!!n||(this._EnableMenu=!!n,this._aRI.style.display=this._EnableMenu?"":"none",this.hideMenu(),this._dm&&this._m6())},u.prototype.clear=function(){for(var t=this._Captions.length-1;t>=0;t--)this.removeAt(t)},u.prototype.add=function(n){this.insert(n,null)},u.prototype.insert=function(t,i){if(t){if(!n.isNumber(i)||i>=this._Captions.length)i=this._Captions.length,this._Captions.push(t),this._alY(i);else{n.insertToArr(this._Captions,t,i);for(var r=i,u=this._Captions.length;r<u;r++)this._alY(r)}this._Captions[i].getIsVisible()&&(this.Changing.fire(this,{Type:"CaptionVisibility"}),this._m6(!1),this.Changed.fire(this,{Type:"CaptionVisibility"}))}},u.prototype.remove=function(n){var t,i,r;typeof n=="number"?(i=n,t=this._Captions[i]):(t=n,i=this._Captions.indexOf(t)),this._bF6(i),this._Captions.splice(i,1),r=t.getIsVisible(),t.Click.remove(this._alZ,this),t.PropertyChanged.remove(this._bF2,this),t.ResizeStart.remove(this._bF3,this),t.ResizeEnd.remove(this._bF4,this),t.AutoSize.remove(this._bF5,this),t.dispose(),r&&(this.Changing.fire(this,{Type:"CaptionVisibility"}),this._m6(!1),this.Changed.fire(this,{Type:"CaptionVisibility"}))},u.prototype.removeAt=function(n){this.remove(this._Captions[n])},u.prototype.getCount=function(){return this._Captions.length},u.prototype.getItem=function(n){return this._Captions[n]},u.prototype.getItems=function(){return this._Captions},u.prototype.getVisibleCaptionsCount=function(){return this._VisibleCaptions.length},u.prototype.getCaptionIndex=function(n){return this._Captions.indexOf(n)},u.prototype.getItemIsVisible=function(t){var i=this._Captions[t];if(i)return i instanceof n.Ui.ListCaption?i.getIsVisible():i.IsVisible},u.prototype.setEnabled=function(){r.prototype.setEnabled.apply(this,arguments),this.hideMenu();for(var i=0,u=this._Captions.length;i<u;i++)this._Captions[i]instanceof n.Ui.ListCaption?this._Captions[i].setEnabled(this._Enabled):this._Captions[i].Enabled=this._Enabled},u.prototype.setIsRTL=function(n){var t,i,u,f;if(n!=this._IsRTL||!this._dm){for(t=0,i=this._Captions.length;t<i;t++)this._Captions[t].setIsRTL(n);this.hideMenu(),u=this.getLeftMargin(),f=this.getRightMargin(),r.prototype.setIsRTL.apply(this,arguments),this.setHorizontalSizes({LeftMargin:u,RightMargin:f})}},u.prototype.setEnableResize=function(t){if(this._EnableResize=t,this._EnableResize!==null)for(var i=0,r=this._Captions.length;i<r;i++)this._Captions[i]instanceof n.Ui.ListCaption?this._Captions[i].getResizable()!==t&&this._Captions[i].setResizable(t):this._Captions[i].Resizable!==t&&(this._Captions[i].Resizable=t)},u.prototype.setEnableSort=function(n){this._EnableSort=!!n,this._EnableSort?this.addClass("PPListCaptionsSortEnabled"):this.removeClass("PPListCaptionsSortEnabled")},u.prototype.getSettings=function(){var n=r.prototype.getSettings.call(this,arguments);return delete n.VisibleCaptions,delete n.FirstVisibleIndex,delete n.FixedCaptionsCount,delete n.StretchCaptionsCount,delete n.CaptionsWidth,delete n.FullWidth,delete n.Changing,delete n.Changed,delete n.SortChanging,delete n.AutoSize,n.LeftMargin=this.getLeftMargin()||0,n.RightMargin=this.getRightMargin()||0,n},u}(t.Control);t.ListCaptions=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Orientation=n.Orientation.Horizontal,this._ItemsDiv=[]},r.prototype._render=function(){this._initFromHTML("<div class='PPLayoutBox'><\/div>"),t.prototype._render.apply(this,arguments),this._ParentNode&&this.addToNode(this._ParentNode),this.setOrientation(this._Orientation),this.setContent(this._Content)},r.prototype._w=function(){var t=this._ItemsDiv,n;for(this._DomNode.innerHTML="",n=0;n<t.length;n++)this._DomNode.appendChild(t[n])},r.prototype._a93=function(t){var i=n.createElement(null,"PPLayoutBoxItem","DIV");return t instanceof n.Ui.Control?t.addToNode(i):typeof t=="string"?i.appendChild(n.htmlToDOM(t)):i.appendChild(t),i},r.prototype.setIsRTL=function(n){var i,r;for(t.prototype.setIsRTL.call(this,n),i=0;i<this._Items.length;i++)r=this._yt(this._Items[i]),r&&r.setIsRTL(n)},r.prototype.setContent=function(t){var r,i;if(t){for(this._Content=t,n.Array.isArray(t)||(t=[].concat(t)),this._Items=t,this._ItemsDiv=[],r=0;r<t.length;r++)i=t[r],i&&(i.PPType&&(i=n.create(i)),this._ItemsDiv.push(this._a93(i)));this._w()}},r.prototype.add=function(n){var t=this._a93(n);this._Items.push(n),this._ItemsDiv.push(t),this._DomNode.appendChild(t)},r.prototype.insert=function(n,t){var i=this._a93(n),r=this._DomNode.childNodes;t=Math.min(Math.max(t,0),r.length-1),this._Items.splice(t,0,n),this._ItemsDiv.splice(t,0,i),this._DomNode.insertBefore(i,r[t])},r.prototype.removeAt=function(n){var t=this._DomNode.childNodes;t[n]&&(this._Items.splice(n,1),this._ItemsDiv.splice(n,1),this._DomNode.removeChild(t[n]))},r.prototype.getOrientation=function(){return this._Orientation},r.prototype.setOrientation=function(t){this._Orientation=t;switch(t){case n.Orientation.Horizontal:this.addClass("PPLayoutBoxHorizontal");break;case n.Orientation.Vertical:this.removeClass("PPLayoutBoxHorizontal")}},r}(t.Container);t.LayoutBox=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._fl=null,i._m7=null,i._PMW=0,i._ImageDomNode=null,i._ContentDomNode=null,i._fl=null,i._m7=null,i._PMW=0,i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Parent=null,this._RowIndex=-1,this._ColumnIndex=-1,this._IsSelected=!1,this._Visibility=!0,this._Template="{Content}",this._CSSName="PPListItem",this._ImageUrl="",this._defineEvents(["Selected","Deselected","Editing","Edited"])},r.prototype._initFields=function(i){i=i||{},n.isBoolean(i.Selected)&&(this._IsSelected=i.Selected,delete i.Selected),i.ItemSelected&&(this.Selected=i.ItemSelected,delete i.ItemSelected),i.ItemDeselected&&(this.Deselected=i.ItemDeselected,delete i.ItemDeselected),!i.ImageList||i.ImageList instanceof n.ImageList||(this._ImageList=new n.ImageList(i.ImageList),delete i.ImageList),t.prototype._initFields.call(this,i)},r.prototype._render=function(){var i=this._Template;i=i.replace("{Content}",this._bGa()+"<div class='Content'><\/div>"),this._initFromHTML("<div class='"+this._CSSName+"'>"+i+"<\/div>"),this._ItemDomNode=this._DomNode,this._ImageDomNode=n.querySelector(this._DomNode,".Icon"),this._ContentDomNode=n.querySelector(this._DomNode,".Content"),this._RowDomNode=document.createElement("tr"),this._RowDomNode.className="PPListItem PPC",this._ColumnDomNodes=[],this._bGb(),this.setContent(this._Content),this._DomNode.style.display=this._Visibility?"":"none",t.prototype._render.call(this),this._IsSelected&&this.addClass(this._ActiveClass)},r.prototype._dDr=function(){return this._Parent instanceof n.Ui.ListBox?this._Parent:null},r.prototype._bGb=function(){this._Parent&&this._Parent.isMultiColumn()&&(this._DomNode=this._RowDomNode)},r.prototype._lH=function(){var n,t,i;this._Parent&&this._ImageDomNode&&(n=this._ImageDomNode.style,this._ImageUrl?(n.backgroundImage="url("+this._ImageUrl+")",n.backgroundPosition="",n.backgroundRepeat="",n.height="",n.width=""):(t=this.getImageList(),i=t&&t.getSource()&&(this._RowIndex>-1||this._ColumnIndex>-1),i&&t.applyToBackground(this._ImageDomNode,this._RowIndex,this._ColumnIndex)))},r.prototype._bp=function(){this._Enabled&&t.prototype._bp.apply(this,arguments)},r.prototype._hu=function(){this._Enabled&&t.prototype._hu.apply(this,arguments)},r.prototype._acf=function(){var t,r,i,u;this._m7||(t={Cancel:!1},this.Editing.fire(this,t),t.Cancel||(r=this.getWidth(),this._fl=this.getContent(),this._Parent.isMultiColumn()?(this._ColumnDomNodes[0]&&n.removeChildren(this._ColumnDomNodes[0]),i=this._ColumnDomNodes[0]):(this.setContent(""),n.removeChildren(this._ContentDomNode),i=this._ContentDomNode),this._m7=n.createElement(i,"PPListItemInput","input"),this._addEvent(this._m7,"blur",this._atJ),this._addEvent(this._m7,"keydown",this._al0),this._m7.value=n.Array.isArray(this._fl)?n.String.unescapeHTML(this._fl[0]):n.String.unescapeHTML(this._fl),u=r-this._ImageDomNode.offsetWidth-11,this._m7.style.width=this._g(u)+"px",n.setTimeout(this._csz,0,this)))},r.prototype._csz=function(t){if(t.isLive()){t._m7.focus(),t._m7.select();var i=t._Parent.getScrollBox();n.addClass(i._ScrollContentDomNode,"PPScrollContent")}},r.prototype._oq=function(){if(this._m7){var t=n.String.escapeHTML(this._m7.value);this._m7=null,n.removeChildren(this._ContentDomNode),this.setContent(t),this.Edited.fire(this,{NewValue:t,OldValue:this._fl})}},r.prototype._dDs=function(t){if(t.isLive()){var i=t._Parent.getScrollBox();n.addClass(i._ScrollContentDomNode,"PPScrollContent"),t._DomNode.scrollLeft=t._IsRTL||t._Parent._IsRTL?n.IsIE||n.IsFF?0:999999:0}},r.prototype._or=function(){this._m7=null,this.setContent(this._fl)},r.prototype._atJ=function(){this._oq()},r.prototype._al0=function(t,i){switch(i.Event.keyCode){case n.Key.Enter:this._oq();break;case n.Key.Esc:this._or()}i.Event.stopPropagation()},r.prototype._bGa=function(){var n;if(this._ImageUrl)return"<div class='Icon' style='background-image: url("+this._ImageUrl+");'><\/div>";if(n=this.getImageList(),n&&n.getSource()){var t=n.getIsRetinaAvailable(),i=t?2:1,r=n.getIcon(this._RowIndex,this._ColumnIndex);if(r)return"<div class='Icon "+(t?" PPRetinaElm":"")+"' style='background: url("+n.getSource()+") "+r+" no-repeat; height: "+n.getIconHeight()*i+"px; width: "+n.getIconWidth()*i+"px;'><\/div>"}return"<div class='Icon'><\/div>"},r.prototype._bGc=function(t,i){if(t){n.removeChildren(i),t=n.toArray(t);for(var r=0;r<t.length;r++)n.isPrimitive(t[r])||t[r]instanceof window.Date?i.insertAdjacentHTML("beforeEnd",t[r]):t[r]instanceof n.Ui.Control?(t[r].setIsRTL(this._IsRTL),t[r].setEnabled(this.getEnabled()),t[r].addToNode(i)):t[r]instanceof HTMLElement&&i.appendChild(t[r])}},r.prototype._alC=function(){return null},r.prototype.getRowIndex=function(){return this._RowIndex},r.prototype.getColumnIndex=function(){return this._ColumnIndex},r.prototype.getIsSelected=function(){return this._IsSelected},r.prototype.getVisibility=function(){return this._Visibility},r.prototype.getTemplate=function(){return this._Template},r.prototype.getCSSName=function(){return this._CSSName},r.prototype.getImageUrl=function(){return this._ImageUrl},r.prototype.getImageList=function(){return this._ImageList},r.prototype.getValue=function(){return this._Value},r.prototype.setValue=function(n){this._Value=n},r.prototype.setParent=function(n){this._Parent=n,this._bGb(),this.updateContent()},r.prototype.setImageList=function(n){n!==this._ImageList&&(this._ImageList=n,this._lH())},r.prototype.addToNode=function(n,i,r){t.prototype.addToNode.call(this,n,i,r),this.updateContent()},r.prototype.startEditing=function(){this._acf()},r.prototype.setContent=function(t){var i,u,r;for(t=n.isDefined(t)?t:null,u=n.toArray(this._Content),i=0;i<u.length;i++)u[i]instanceof n.Ui.Control&&u[i].removeFromDOM();for(r=n.toArray(t),i=0;i<r.length;i++)n.isObject(r[i])&&r[i].PPType&&(r[i]=n.create(r[i]));this._Content=n.Array.isArray(t)?r:r[0],this.updateContent()},r.prototype.updateContent=function(){var i=this._Content,r=this._Parent,u,t;if(r){if(!r.isMultiColumn()){this._bGc(i,this._ContentDomNode);return}for(n.Array.isArray(i)||(i=[i]),u=r.getCaptions().getCount()||1,t=0;t<u;t+=1)this._ColumnDomNodes[t]||(this._ColumnDomNodes[t]=document.createElement("td"),this._RowDomNode.appendChild(this._ColumnDomNodes[t])),this._bGc(i[t],this._ColumnDomNodes[t]),t===0&&this._ColumnDomNodes[t].insertBefore(this._ImageDomNode,this._ColumnDomNodes[t].firstChild),this._ColumnDomNodes[t].scrollLeft=0;this._Content=i}},r.prototype.setColumnContent=function(t,i){!n.Array.isArray(this._Content)&&t&&(this._Content=[this._Content]),this._Content[t||0]=i===undefined?null:i,this.updateContent()},r.prototype.getColumnContent=function(t){return n.Array.isArray(this._Content)?this._Content[t]:t?undefined:this._Content},r.prototype.setColumnIndex=function(t){n.isNumber(t)&&t!=this._ColumnIndex&&(this._ColumnIndex=t,this._lH())},r.prototype.setRowIndex=function(t){n.isNumber(t)&&t!=this._RowIndex&&(this._RowIndex=t,this._lH())},r.prototype.setImageUrl=function(n){n!==this._ImageUrl&&(this._ImageUrl=n,this._lH())},r.prototype.setSelected=function(n,t){this.setIsSelected(n,t)},r.prototype.getSelected=function(){return this.getIsSelected()},r.prototype.setIsSelected=function(n,t){n!=this._IsSelected&&(this._IsSelected=n,n?this.addClass(this._ActiveClass):this.removeClass(this._ActiveClass),!this._IsSelected&&this._m7&&this._or(),t!==!1&&(this._IsSelected?this.Selected.fire(this,{}):this.Deselected.fire(this,{})))},r.prototype.setIsFocused=function(n){n?this.addClass("PPFocused"):this.removeClass("PPFocused")},r.prototype.setWidth=function(i,r){var e=this._Width,u,f;(t.prototype.setWidth.call(this,i,r),i!==e)&&(i===null?this._ContentDomNode.style.width="":(this._PMW||(u=0,u+=this._g(n.getStyle(this._ImageDomNode,"margin-left")),u+=this._g(n.getStyle(this._ImageDomNode,"margin-right")),u+=this._g(n.getStyle(this._ImageDomNode,"padding-left")),u+=this._g(n.getStyle(this._ImageDomNode,"padding-right")),u+=this._g(n.getStyle(this._ContentDomNode,"margin-left")),u+=this._g(n.getStyle(this._ContentDomNode,"margin-right")),u+=this._g(n.getStyle(this._ContentDomNode,"padding-left")),u+=this._g(n.getStyle(this._ContentDomNode,"padding-right")),this._PMW=u),f=this._g(this._Width)-this._PMW-this._g(n.getStyle(this._ImageDomNode,"width")),this._ContentDomNode.style.width=this._g(f)+"px"),this._Parent&&this._Parent.updateSize())},r.prototype.getHeight=function(){var n=t.prototype.getHeight.call(this);return n=Math.max(n,this._DomNode.offsetHeight)},r.prototype.getWidth=function(){var i=0,n;return this._DomNode&&this._Width===0&&(i=this._DomNode.scrollWidth),n=t.prototype.getWidth.call(this),i&&(i>n&&(n=i),this._Width=n),n},r.prototype.dispose=function(){delete this._Parent,delete this._ImageList,t.prototype.dispose.apply(this,arguments)},r}(t.Control);t.ListItem=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._TabIndex===null&&(i._TabIndex=0),i._ItemsClasses=i._ItemsClasses||[],i._ItemsClasses.push("PPListItem"),i._ItemsClasses.push("PPIconListItem"),i._yA=!1,i._su=!1,i._a94=!1,i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Items=[],this._ImageList=null,this._ContextMenuSelectable=!0,this._Captions=null,this._ShowCaptions=!1,this._FocusedIndex=-1,this._SelectedIndex=-1,this._ShiftSelectStartIndex=-1,this._Orientation=n.Orientation.Vertical,this._IsScrollToSelected=!0,this._EmptySelection=!1,this._MultiSelect=!1,this._Menu=null,this._MenuListMaxHeight=0,this._SelectOnFocus=!0,this._EnableKeyboard=!0,this._EnableCtrlShiftSelection=!0,this._EnableEdit=!1,this._SelectOnMouseDown=!1,this._EnableResizeColumns=!0,this._yB=[],this._defineEvents(["ItemSelected","ItemDeselected","ItemEditing","ItemEdited","SelectableSelected","ItemClick","ItemMouseDown"])},r.prototype._render=function(){this._initFromHTML("<div class='PPListBox'><\/div>"),this._ScrollBox=new n.Ui.ScrollBox({ParentNode:this._DomNode,Width:this._Width,Height:this._Height}),this._ScrollBox.getHScroll().MoveScroll.add(this._csA,this),this._TableDomNode||(this._TableDomNode=document.createElement("table"),this._THeadDomNode=document.createElement("thead"),this._TColsDomNode=document.createElement("colgroup"),this._TBodyDomNode=document.createElement("tbody"),this._TableDomNode.appendChild(this._TColsDomNode),this._TableDomNode.appendChild(this._TBodyDomNode)),this._Captions&&this.setCaptions(this._Captions),this._m6(),this._cr(),this.setSelectedIndex(this._SelectedIndex,!1),t.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode),this.setOrientation(this._Orientation);var i=this._Menu;i&&(delete this._Menu,this.setMenu(i)),this._agr=!0,this.setWidth(this._Width),this.setHeight(this._Height),this.updateSize(),this._agr=undefined},r.prototype._cr=function(t){var r,i;for(t=t||this._Items||[],this._Items=[],this.beginUpdate(),r=0;r<t.length;r++)i=t[r],i&&(i instanceof n.Ui.ListItem?this.addItem(i):i.PPType?this.addItem(n.create(i)):this.addItem(new n.Ui.ListItem(i)));this.endUpdate()},r.prototype._atK=function(n,t){if(this._EnableEdit){var i={Item:n,Cancel:!1};this.ItemEditing.fire(this,i),t.Cancel=i.Cancel}else t.Cancel=!0},r.prototype._atL=function(n,t){var i={Item:n,NewValue:t.NewValue,OldValue:t.OldValue};this.ItemEdited.fire(this,i)},r.prototype._db=function(t,i){if(this._Enabled&&this._EnableKeyboard){var r=i.Event.keyCode,f=this._FocusedIndex,u=this._Items[f];if(this._yA=i.Event.ctrlKey,this._su=i.Event.shiftKey,(r===n.Key.Space||r===n.Key.Enter)&&u)this._atM(u,!u.getIsSelected());else if(this._a95(r),this._FocusedIndex!==f)return!1;this.KeyDown.fire(this,i),this._yA=this._su=!1}},r.prototype._a95=function(t){var r,i,f,u;if(this._Orientation===n.Orientation.Horizontal)switch(t){case n.Key.Up:case n.Key.Left:r=-1;break;case n.Key.Down:case n.Key.Right:r=1;break;default:return}else switch(t){case n.Key.Up:r=-1;break;case n.Key.Down:r=1;break;default:return}f=this._Items[this._FocusedIndex],u=this._Items.filter(function(n){return n.getIsVisible()&&n.getEnabled()}),i=f&&u.indexOf(f)>-1?this._Orientation===n.Orientation.Horizontal&&(t==n.Key.Up||t==n.Key.Down)?this._csB(f,u,r):u[u.indexOf(f)+r]:u[0],i&&(this.setFocusedIndex(this._Items.indexOf(i)),this._su?this._atM(i,!i.getSelected()):this._csC()&&this.setSelectedItem(i))},r.prototype._csB=function(n,t,i){var r=this._csD(n,t,i),s=n.getDomNode(),h=s.offsetLeft,f,e,u,o;if(r.length===0)return null;if(r.length===1)return r[0];for(e=Infinity,u=0;u<r.length;u++){if(o=r[u].getDomNode(),f=Math.abs(h-o.offsetLeft),f>e)return r[u-1];if(u==r.length-1)return r[u];e=f}},r.prototype._csD=function(n,t,i){for(var o=n.getDomNode().offsetTop,e=[],f,r=t.indexOf(n),u;r>=0&&r<t.length;){if(u=t[r].getDomNode(),u.offsetTop!==o)if(f===undefined||u.offsetTop===f)e.push(t[r]),f=u.offsetTop;else break;r+=i}return e},r.prototype._bGd=function(){return this._EnableCtrlShiftSelection&&(this._yA||this._su)||this._MultiSelect},r.prototype._csC=function(){return this._bGd()?!1:this._SelectOnFocus},r.prototype._cR=function(t){if(this._bGd()||this._bGe(t),!this._EnableCtrlShiftSelection||!this._su){var r=this._Items.indexOf(t);r!==this._SelectedIndex&&(this._bGf=n.Date.now()),this._SelectedIndex=r}this.ItemSelected.fire(this,{ListItem:t,Item:t})},r.prototype._a96=function(n){if(this._Items.indexOf(n)===this._SelectedIndex){for(var r=this._Items,u=-1,i=0;i<r.length;i++)if(r[i].getIsSelected()&&r[i].getIsVisible()&&r[i].getEnabled()){u=i;break}this._SelectedIndex=u}this._EmptySelection||this.getSelectedItems().length||this._a94?this.ItemDeselected.fire(this,{ListItem:n,Item:n}):(this.setSelectedItem(n),this.setFocusedIndex(this._Items.indexOf(n)))},r.prototype._yC=function(n,t){t.Event.stopPropagation(),t.Item=t.ListItem=n,this.DblClick.fire(this,t)},r.prototype._g0=function(n,t){n.getEnabled()&&this.getEnabled()&&(this._yA=t.Event.ctrlKey,this._su=t.Event.shiftKey,!this.getSelectOnMouseDown()&&(this._yA||this._su||!this._bGg(n))&&(this._atM(n,!n.getIsSelected()),this.setFocusedIndex(this._Items.indexOf(n))),n.isLive()&&this.ItemClick.fire(this,{Item:n}),this._yA=this._su=!1)},r.prototype._al1=function(n,t){n.getEnabled()&&this.getEnabled()&&(this._yA=t.Event.ctrlKey,this._su=t.Event.shiftKey,this.getSelectOnMouseDown()&&(this._yA||this._su||!this._bGg(n))&&this._atM(n,!n.getIsSelected()),n.isLive()&&this.ItemMouseDown.fire(this,{Item:n}),this._yA=this._su=!1)},r.prototype._csE=function(n){this._aRK=n,this.getContextMenuSelectable()&&this._atM(n,!n.getIsSelected())},r.prototype._a7=function(n,i){var r;this._aRK&&(r=this._Items.indexOf(this._aRK),i.Item=i.ListItem=this._aRK,this.setFocusedIndex(r)),delete this._aRK,r===this.getFocusedIndex()&&this._Items[r].getContextMenu()||t.prototype._a7.apply(this,arguments)},r.prototype._atM=function(n,t,i){var c=n.getIsSelected(),f,e,s,r,u=this._Items,h=this._EnableCtrlShiftSelection&&this._su,l=!h&&(this._EnableCtrlShiftSelection&&this._yA||this._MultiSelect),o;if(h)for(f=this._SelectedIndex===-1?u.indexOf(n):this._SelectedIndex,e=this._SelectedIndex===-1?f:u.indexOf(n),r=0;r<u.length;r++)s=e<=r&&r<=f||f<=r&&r<=e,u[r].setIsSelected(s&&u[r].getEnabled()&&u[r].getIsVisible(),i);else l?n.setIsSelected(t,i):(o=this.getSelectedItems().length,this._a94=!!(!c&&o),o&&this._bGe(n,i),(this._EmptySelection||t)&&n.setIsSelected(t,i),this._a94=!1)},r.prototype._bGe=function(n,t){if(n)for(var i=this._Items,r=i.length;r--;)i[r]!==n&&(i[r].setIsHovered(!1),i[r].setIsSelected(!1,t));else this._ql(t)},r.prototype._ql=function(n){var i=this._Items,t,r;for(n=n!==!1,this._SelectedIndex=-1,t=0,r=i.length;t<r;t++)i[t].setIsSelected(!1,n)},r.prototype._bGh=function(n){var i,t;if(!this._EmptySelection&&this._SelectedIndex<0)for(i=this._Items.length,t=0;t<i;t++)if(this._Items[t].getIsVisible()){this.setSelectedIndex(t,n!==!1),this.setFocusedIndex(t);break}},r.prototype._bGg=function(t){if(!this._EnableEdit||!t.getIsSelected()||this._Items.indexOf(t)!==this.getSelectedIndex())return!1;var i=n.Date.now();return i-this._bGf>500&&(!this._EmptySelection||i-this._bGf<1e3)?(this._a97&&this._bGi===t?this._bGj():(this._a97=n.setTimeout(this._csF.bind(this,t),500),this._bGi=t),!0):!1},r.prototype._bGj=function(){n.clearTimeout(this._a97),this._a97=null,delete this._bGi},r.prototype._csF=function(n){this._bGj(),n.getIsSelected()&&n.startEditing()},r.prototype._a98=function(){this._Height&&this._Height!=0?this.setHeight(this.getHeight()):this._ScrollBox.clearHeightStyle()},r.prototype._bGk=function(){this.isMultiColumn()&&this._ScrollBox.getContentNode().appendChild(this._TableDomNode)},r.prototype._csG=function(){if(!this._al2){var t=17;this._al2=new n.Ui.LayoutBox({Width:t,Class:"PPListBoxControlButtons",Orientation:n.Orientation.Vertical,Content:[new n.Ui.Button({Width:t,Height:16,Class:"PPListBoxPageUpButton",MenuArrowPosition:n.AnchorStyles.Bottom,Arrow:{Direction:n.LTRB.Top,Fill:"#666666",Width:7,Height:4},Click:new n.Delegate(this._csH,this)}),new n.Ui.Button({Width:t,Height:16,Class:"PPListBoxPageDownButton",MenuArrowPosition:n.AnchorStyles.Bottom,Arrow:{Direction:n.LTRB.Bottom,Fill:"#666666",Width:7,Height:4},Click:new n.Delegate(this._csI,this)}),new n.Ui.Button({Width:t,Height:16,Class:"PPListBoxMenuDropButton",MenuArrowPosition:n.AnchorStyles.Bottom,Arrow:{ArrowType:n.Ui.ArrowType.TriangleWithLine,Direction:n.LTRB.Bottom,Fill:"#666666",Width:7,Height:6},Click:new n.Delegate(this._csJ,this)})]}),this._aRL()}return this._al2},r.prototype._aRL=function(){if(this._al2){var n=this._al2.getContent()[0],t=this._al2.getContent()[1];n.setEnabled(this._ScrollBox.getVerticalScrollPosition()!=0),t.setEnabled(this._ScrollBox.getVerticalScrollPosition()!=this._ScrollBox.getMaxVerticalScrollPosition())}},r.prototype._al3=function(t,i,r){var u=n.Array.indexOf(this._yB,function(n){return n.Member===t});!r&&u>=0&&this._yB.splice(u,1),this._yB.push({Member:t,Args:i})},r.prototype._csK=function(n,t){this._BeginUpdate>0?this._al3(n,t):this[n].apply(this,t)},r.prototype._bGl=function(n,t){if(n&&n.isLive()){var i=typeof t=="undefined"||t==null;this.isMultiColumn()?n.addToNode(this._TBodyDomNode):n.addToNode(this._ScrollBox.getContentNode()),i||this._ScrollBox.getContentNode().childNodes.length==0||this._ScrollBox.getContentNode().insertBefore(n.getDomNode(),this._ScrollBox.getContentNode().childNodes[t])}},r.prototype._bGm=function(n,t){n&&n.isLive()&&(t?n.dispose():n.removeFromDOM())},r.prototype._csH=function(){this._bGn(!0)},r.prototype._csI=function(){this._bGn(!1)},r.prototype._bGn=function(n){var t=this._ScrollBox.getScrollContentDomNode().clientHeight,u=this._Items.length&&this._Items[0].getHeight(),f=t/u|0,i=u*f,r=i&&i<t?i+(t-i)*2:i||t,e=Math.round(this._ScrollBox.getVerticalScrollPosition()/r),o=Math.max(t/r|0,1),s=(e+o*(n?-1:1))*r;this._ScrollBox.setVerticalScrollPosition(s),this._aRL()},r.prototype._csJ=function(){this._Menu&&this._Menu.isLive()&&(this._IsRTL&&this._Menu instanceof n.Ui.Menu&&this._Menu.getItems(),this._Menu.getDroppedDown()?this._Menu.hide():this._a92())},r.prototype._a92=function(){var t=this.getSettings(),u,i;delete t.Menu,delete t.Height,delete t.ImageList,delete t["@PPType"],t.ImageList=this._ImageList,t.Width=this.getWidth()-4,this._al4=new n.Ui.ListBox(t),this._a99=new n.Ui.ContentMenuItem({Content:this._al4});var r=n.calculateOffset(this._DomNode),f=this._alE()[1],e=50;this._Menu instanceof n.Ui.Menu&&this._Menu.insertItem(this._a99,0),this._Menu.setIsRTL(this._IsRTL),this._Menu.show(r.X,r.Y,!0),this._Menu.setWidth(this.getWidth()),u=this._al4.getHeight(),i=f-r.Y-e,this._MenuListMaxHeight&&i>this._MenuListMaxHeight&&(i=this._MenuListMaxHeight),u>i&&this._al4.setHeight(i)},r.prototype._kT=function(){var i,t,r,u;for(this.clearFocused(),i=this._al4.getItems(),t=0,r=i.length;t<r;t++)u=this._Items[t],u.setIsSelected(i[t].getSelected());this.scrollToSelected(),this._al4.removeFromDOM(),this._Menu instanceof n.Ui.Menu&&this._Menu.removeItem(this._a99,!1),this._a99.removeFromDOM(),delete this._al4._ImageList,this._al4.dispose()},r.prototype._alE=function(){var n=document.documentElement,t=document.body,i=Math.max(n.clientHeight,t.offsetHeight),r=Math.max(n.clientWidth,t.offsetWidth);return[r,i]},r.prototype._csA=function(){if(this._ShowCaptions&&this.isMultiColumn()){var t;this._vd=this._ScrollBox.getHScroll().getValue()*.01*(this._Captions.getFullContentWidth()-this._g(this._Width)+(n.isVisible(this._ScrollBox.getVScroll().getDomNode())?this._ScrollBox.getVScroll().getWidth():0))|0,t=this._IsRTL?this._g(this._m8-this._f1-this._vd):this._vd,this._Captions.setScrollLeft(t)}},r.prototype._m6=function(){this._DomNode&&(this.isMultiColumn()?this.addClass("Multicolumn"):this.removeClass("Multicolumn"),this._ShowCaptions&&this.isMultiColumn()?(this._Captions.addToNode(this._DomNode,this._ScrollBox.getDomNode()),this._Captions.updateSize()):this._Captions&&this._Captions.removeFromDOM&&this._Captions.removeFromDOM())},r.prototype._baa=function(){var t,u;if(this.isMultiColumn()){for(var r=this._Captions.getCaptions(),i=r.length,n=this._TColsDomNode.childNodes;n.length<i;)this._TColsDomNode.appendChild(document.createElement("col"));while(n.length>i)this._TColsDomNode.removeChild(this._TColsDomNode.lastChild);if(!i){n[0]&&(n[0].style.width=this.getWidth()-1+"px");return}for(t=0;t<i;t+=1)u=r[t],n[t]&&(n[t].style.width=u.getWidth()-1+"px")}},r.prototype._acg=function(){this.updateSize()},r.prototype._bab=function(){this.updateSize()},r.prototype.getScrollBox=function(){return this._ScrollBox},r.prototype.getSelectedIndex=function(){return this._SelectedIndex},r.prototype.getFocusedIndex=function(){return this._FocusedIndex},r.prototype.getOrientation=function(){return this._Orientation},r.prototype.getCaptions=function(){return this._Captions},r.prototype.getImageList=function(){return this._ImageList},r.prototype.getEnableKeyboard=function(){return this._EnableKeyboard},r.prototype.getIsScrollToSelected=function(){return this._IsScrollToSelected},r.prototype.getMultiSelect=function(){return this._MultiSelect},r.prototype.getEmptySelection=function(){return this._EmptySelection},r.prototype.getSelectOnMouseDown=function(){return this._SelectOnMouseDown},r.prototype.getItems=function(){return this._Items},r.prototype.getEnableResizeColumns=function(){return this._EnableResizeColumns},r.prototype.getMenu=function(){return this._Menu},r.prototype.getContextMenuSelectable=function(){return this._ContextMenuSelectable},r.prototype.getEnableEdit=function(){return this._EnableEdit},r.prototype.getSelectOnFocus=function(){return this._SelectOnFocus},r.prototype.getEnableCtrlShiftSelection=function(){return this._EnableCtrlShiftSelection},r.prototype.getMenuListMaxHeight=function(){return this._MenuListMaxHeight},r.prototype.setEnableEdit=function(n){this._EnableEdit=n},r.prototype.setSelectOnFocus=function(n){this._SelectOnFocus=n},r.prototype.setEnableCtrlShiftSelection=function(n){this._EnableCtrlShiftSelection=n},r.prototype.setMenuListMaxHeight=function(n){this._MenuListMaxHeight=n},r.prototype.setSelectedItem=function(t,i){t&&t instanceof n.Ui.ListItem&&this.setSelectedIndex(this._Items.indexOf(t),i)},r.prototype.getSelectedItem=function(){return this._Items[this._SelectedIndex]||null},r.prototype.getSelectedItems=function(){for(var i=[],r=this._Items,t,n=0,u=r.length;n<u;n++)t=r[n],t.getIsSelected()&&i.push(t);return i},r.prototype.selectAll=function(){for(var t=this._Items||[],n=0;n<t.length;n++)t[n].setIsSelected(!0)},r.prototype.setFocusedIndex=function(n){this.clearFocused(),n>-1&&n<this._Items.length&&(this._FocusedIndex=n,this._Items[n].setIsFocused(!0),this.scrollToItem(this._Items[this._FocusedIndex]))},r.prototype.setSelectedIndex=function(n,t){n===-1?this._ql(t):n<this._Items.length&&(this._SelectedIndex=n,this._atM(this._Items[n],!0,t),this.scrollToSelected())},r.prototype.getValue=function(){var n=this.getSelectedItem();return n?n.getValue():null},r.prototype.setValue=function(t,i){for(var f=!1,r,e=this._Items,u=e.length,o=n.String.unescapeHTML(t);u--;)if(r=e[u],(r.getValue()==t||r.getContent()==t||r.getContent()==o)&&(this.setSelectedIndex(u,i!==!1),this.setFocusedIndex(u),f=!0,!this._MultiSelect))break;f||(this.clearSelection(!1),this.clearFocused())},r.prototype.setWidth=function(n,i){t.prototype.setWidth.call(this,n,i),this._BeginUpdate===0?(this._ScrollBox.setWidth(n),this._agr||this.updateSize()):this._al3("setWidth",arguments)},r.prototype.setHeight=function(n,i){t.prototype.setHeight.call(this,n,i),this._BeginUpdate===0?(this._ScrollBox.setHeight(n),this._agr||this.updateSize()):this._al3("setHeight",arguments)},r.prototype.setOrientation=function(t){if(this._Orientation=t,this._BeginUpdate>0){this._al3("setOrientation",arguments);return}t==n.Orientation.Vertical?(this.removeClass("Horizontal"),this.removeClass("Vertical"),this.addClass("Vertical")):(this.removeClass("Horizontal"),this.removeClass("Vertical"),this.addClass("Horizontal")),this._m6(),this._bGk()},r.prototype.setImageList=function(n){n&&n!=this._ImageList&&(this._ImageList=n)},r.prototype.setMenu=function(t){t!=this._Menu&&(t?(t instanceof n.Ui.DropPanel?(this._Menu=t,this._agc=!0):(this._Menu=new n.Ui.Menu(t),this._agc=!1),this._Menu.Closed.add(this._kT,this)):this._Menu&&this._Menu.isLive()&&(this._Menu.Closed.remove(this._kT,this),this._Menu=null,this._agc=!1),this.updateSize())},r.prototype.setFocus=function(){t.prototype.setFocus.call(this),this.scrollToSelected()},r.prototype.setEnableKeyboard=function(n){this._EnableKeyboard=n},r.prototype.setEnabled=function(n){t.prototype.setEnabled.call(this,n),this._ScrollBox.setEnabled(this._Enabled),this._Menu&&this._Menu.isLive&&this._Menu.isLive()&&this._Menu.hide()},r.prototype.setIsRTL=function(i){var f,r,u;for(t.prototype.setIsRTL.call(this,i),this._ScrollBox.setIsRTL(this._IsRTL),f=this._Items||[],r=0;r<f.length;r++)u=f[r],u instanceof n.Ui.ListItem?u.setIsRTL(this._IsRTL):u.IsRTL=this._IsRTL},r.prototype.setIsScrollToSelected=function(n){n!=this._IsScrollToSelected&&(this._IsScrollToSelected=n)},r.prototype.setMultiSelect=function(t){if(n.isBoolean(t)&&t!=this._MultiSelect&&(this._MultiSelect=t,!this._MultiSelect)){var i=this.getSelectedItems();i.length>0?(this.clearSelection(!1),this.setSelectedItem(i[0])):this._EmptySelection||this.setEmptySelection(this._EmptySelection)}},r.prototype.setEmptySelection=function(n,t){n!==this._EmptySelection&&(this._EmptySelection=n,this._bGh(t))},r.prototype.setSelectOnMouseDown=function(n){n!==this._SelectOnMouseDown&&(this._SelectOnMouseDown=n)},r.prototype.scrollToItem=function(n){var i=n.getDomNode().offsetTop,f=n.getHeight(),t=this._ScrollBox.getContentNode();if(t){var e=parseInt(t.style.height)+parseInt(n.getDomNode().style.marginTop||"0"),r=t.scrollTop,u=e-f;i-u>r?t.scrollTop=i-u:i<r&&(t.scrollTop=i),this._ScrollBox.updateScrollPositions(),this._aRL()}},r.prototype.scrollToSelected=function(){if(this._IsScrollToSelected){var n=this.getSelectedIndex();n>=0&&this.scrollToItem(this._Items[n])}},r.prototype.addToNode=function(n,i,r){t.prototype.addToNode.call(this,n,i,r),this.updateSize()},r.prototype.addItem=function(n){return this.insertItem(n,null)},r.prototype.insertItem=function(t,i){var e=typeof t,r,u,f;if(i>this._Items.length-1&&(i=null),u=typeof i=="undefined"||i==null,!u&&typeof i!="number")throw new Error("incorrect type of index");if(!u&&i<0)throw new Error("incorrect value of index");return(f=this.getSelectedItem(),n.isPrimitive(t)||n.isDate(t)||n.isDefined(t)||t!==null)?(r=t instanceof n.Ui.ListItem?t:t.PPType?n.create(t):n.isObject(t)?new n.Ui.ListItem(t):new n.Ui.ListItem({Content:t}),r.setParent(this),r.setIsRTL(this._IsRTL),r.getImageList()||r.setImageList(this._ImageList),u||this._Items.length==0?this._Items.push(r):this._Items.splice(i,0,r),this._BeginUpdate>0?this._al3("_bGl",[r,i],!0):this._bGl(r,i),r.getIsSelected()&&this.setSelectedItem(r),r.Selected.add(this._cR,this),r.Deselected.add(this._a96,this),r.DblClick.add(this._yC,this),r.Click.add(this._g0,this),r.MouseDown.add(this._al1,this),r.Editing.add(this._atK,this),r.Edited.add(this._atL,this),r.ContextMenu.add(this._csE,this),this.isMultiColumn()&&this.setWidth(this.getWidth()),this.updateSize(),this._a98(),f&&this.setSelectedItem(f,!1),r):null},r.prototype.removeItem=function(t,i){if(this.isLive()){this._Menu instanceof n.Ui.Menu&&this._Menu.isLive()&&!this._agc&&this._Menu.dispose();var r=t;n.isNumber(r)?this.removeItemAt(r,i):this.removeItemAt(this._Items.indexOf(t),i)}},r.prototype.removeItemAt=function(n,t){var i=this._Items[n];this._SelectedIndex==n?this._SelectedIndex=-1:this._SelectedIndex>n&&this._SelectedIndex--,this._BeginUpdate>0?this._al3("_bGm",[i,t],!0):this._bGm(i,t),this._Items.splice(n,1),this._agr||(this._bGh(),this.updateSize(),this._a98())},r.prototype.setItems=function(n){this.beginUpdate(),this.clear(),this._cr(n),this.endUpdate()},r.prototype.filterByText=function(n){var f,i,e;if(typeof n!="undefined"){for(n=n.toLowerCase(),f=this._Items||[],this._atN=this._atN||[],i=0;i<f.length;i++){var r=f[i],u=r.getId(),t=r.getContent();t=t===null||t===undefined?"":t.toString().toLowerCase(),e=t.indexOf(n)!==-1,e&&this._atN.indexOf(u)!==-1&&(this._atN.splice(this._atN.indexOf(u),1),r.setIsVisible(!0)),e||this._atN.indexOf(u)!==-1||(this._atN.push(u),r.setIsVisible(!1))}this.scrollToSelected()}},r.prototype.hasVisibleItems=function(){for(var n=0,t=this._Items.length;n<t;n++)if(this._Items[n].getIsVisible())return!0;return!1},r.prototype.deSelectAll=function(n){this.clearSelection(n)},r.prototype.clearSelection=function(n){this._ql(n)},r.prototype.clearFocused=function(){var t=this._Items,n,i;for(this._FocusedIndex=-1,n=0,i=t.length;n<i;n++)t[n].setIsFocused(!1)},r.prototype.clear=function(n){if(this.isLive()){for(this._agr=!0;this._Items.length;)this.removeItemAt(0,n);this.updateSize(),this._a98(),this._agr=!1}},r.prototype.updateSize=function(){var f,t,e,s,i,r;if(this._BeginUpdate>0){this._al3("updateSize",arguments);return}if(t=this._ScrollBox.getVScroll(),this.isMultiColumn()&&(f=t.getValue(),this._ScrollBox.updateSize(),this._bGk()),this._ScrollBox.updateSize(),f&&t&&t.setValue(f),t&&this._Items.length>0){var c=this._Items.length,l=this._Items[0].getHeight(),a=this._g(this._Height)/l,v=100/(c-a);t.setWheelScrollSpeed(v)}if(this._Captions&&this._ShowCaptions&&this._Captions.setWidth(this._Width),this.isMultiColumn()&&(e=this._ScrollBox.getHScroll(),s=e.getIsVisible()?e.getHeight():0,this._ScrollBox.setHeight(this._g(this._Height)-s)),this._Menu&&this._Orientation===n.Orientation.Horizontal){if(i=this._csG(),r=t.getHeight(),r){i.addToNode(this._DomNode),i.setHeight(r);for(var u=0,o=i.getCount(),h=Math.floor(r/o);u<o;u++)i.getItem(u).setHeight(u===o-1?Math.ceil(r-u*h):h)}this._aRL(),t.getDomNode().style.visibility="hidden"}else this._al2&&this._al2.removeFromDOM(),t.getDomNode().style.visibility="";this._baa()},r.prototype.show=function(){t.prototype.show.call(this),this.updateSize()},r.prototype.selectItemById=function(t,i){n.isString(t)||(t=t+"");for(var r=this._Items.length;r--&&this._Items[r].getId()!==t;);r>=0&&this.setSelectedIndex(r,i)},r.prototype.beginUpdate=function(){this._BeginUpdate?this._BeginUpdate++:this._BeginUpdate=1},r.prototype.endUpdate=function(){var n,t;if(!this._BeginUpdate||this._BeginUpdate<=1){for(this._BeginUpdate=0,this._agr=!0,n=0;n<this._yB.length;n++)t=this._yB[n],this._csK(t.Member,t.Args);this._yB=[],this._agr=undefined}else this._BeginUpdate--},r.prototype.getSettings=function(){var n=["_ScrollBox"];return t.prototype.getSettings.call(this,!1,null,n)},r.prototype.setCaptions=function(t){var u={Height:17,EnableResize:this._EnableResizeColumns,EnableMenu:this._EnableColumnsMenu,EnableSort:this._EnableSort},o=this._ShowCaptions,i,f,e,r;if(this._Captions!==t||!(this._Captions instanceof n.Ui.ListCaptions)){if(this._Captions&&this._Captions.removeFromDOM&&this._Captions.removeFromDOM(),!t){this._Captions=null;return}for(!n.isObject(t)||t instanceof n.Ui.ListCaptions?n.Array.isArray(t)?this._Captions=new n.Ui.ListCaptions(n.extend({Captions:t},u)):t instanceof n.Ui.ListCaptions&&(this._Captions=t,this._Captions.setEnableResize(this._EnableResizeColumns),this._Captions.setEnableMenu(this._EnableColumnsMenu),this._Captions.setEnableSort(this._EnableSort)):this._Captions=new n.Ui.ListCaptions(n.extend(t,u)),this.setShowCaptions(!0),this.setShowCaptions(o),i=this.getItems(),f=i?i.length:0,r=0;r<f;r++)e=i[r],e.updateContent();this._Captions.Changed.addOne(this._acg,this),this._Captions.AutoSize.addOne(this._bab,this)}},r.prototype.setEnableResizeColumns=function(n){this._EnableResizeColumns=!!n,this._Captions&&this._Captions.setEnableResize&&this._Captions.setEnableResize(this._EnableResizeColumns)},r.prototype.setShowCaptions=function(n){this._ShowCaptions===!!n&&this._dm||(this._ShowCaptions=!!n,this._m6(),this.updateSize())},r.prototype.isMultiColumn=function(){return this._Orientation===n.Orientation.Horizontal||!this._Captions?!1:!0},r}(t.Control);t.ListBox=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._SelectedXResourceKey="listBoxSelected",this._SelectedNoneResourceKey="listBoxSelectedNone",this._AutoFind=!0,this._MinAutoFindSymbolsCount=3,this._ListBox=null,this._defineEvents(["SelectionChanged"])},r.prototype._initFields=function(n){n=n||{},n.DropPanel=n.DropPanel||{},n.DropPanel.UseScrollBox=!1,n.DropPanel.ContentAutoFit=!0,t.prototype._initFields.call(this,n)},r.prototype._render=function(){var i,r;if(this._ListBox instanceof n.Ui.ListBox)this._ListBox.ItemSelected.add(this._cR,this),this._ListBox.KeyDown.add(this._bGo,this),this._ListBox.ItemClick.add(this._bac,this);else{this._ListBoxSets=this._ListBox||{};var u=this._ListBoxSets.ItemSelected,f=this._ListBoxSets.ItemDeselected,e=this._ListBoxSets.ItemClick,o=this._ListBoxSets.KeyDown;this._ListBoxSets.ItemSelected=new n.Delegate(this._cR,this),this._ListBoxSets.ItemDeselected=new n.Delegate(this._a96,this),this._ListBoxSets.ItemClick=new n.Delegate(this._bac,this),this._ListBoxSets.KeyDown=new n.Delegate(this._bGo,this),u&&this._ListBoxSets.ItemSelected.add(u),f&&this._ListBoxSets.ItemDeselected.add(f),e&&this._ListBoxSets.ItemClick.add(e),o&&this._ListBoxSets.KeyDown.add(o),this._ListBoxSets.EnableCtrlShiftSelection=this._ListBoxSets.EnableCtrlShiftSelection===!0,this._ListBoxSets.hasOwnProperty("SelectedIndex")&&n.isNumber(this._ListBoxSets.SelectedIndex)&&(i=this._ListBoxSets.Items,r=+this._ListBoxSets.SelectedIndex,!isNaN(r)&&i&&i[r]&&(i[r].IsSelected=!0))}t.prototype._render.call(this),this._bL=!1,this._Content&&this.setContent(this._Content),this._Value&&this.setValue(this._Value,!1),this._Content||this._Value||this._gZ(!1),this._bL=!0},r.prototype._bad=function(t,i){var r,f,e;if(n.isString(t)&&(t=n.String.escapeHTML(t)),r=this._ListBox||this._ListBoxSets,r instanceof n.Ui.ListBox)r.setValue(t,i);else if(r.ItemSelected.getCount()>1||r.ItemDeselected.getCount()>1||this.SelectionChanged.getCount()>0)this.getListBox().setValue(t,i);else for(var o=this._ListBoxSets.Items||[],u=o.length,s=this._ListBoxSets.MultiSelect,h;u--;)f=o[u],f&&(e=this._aRM(u),t===e.Value||t===e.Content?(f.IsSelected=!0,this._ListBoxSets.SelectedIndex=u):s||(f.IsSelected=!1))},r.prototype._iG=function(){this._ListBox.updateSize(),this._atO=this._ListBox.getSelectedItems(),this._dDt=this._ListBox.getSelectedIndex(),this._ListBox.getIsScrollToSelected()&&this._ListBox.scrollToSelected()},r.prototype._aRj=function(t,i){if(i.Event&&i.Event.keyCode==n.Key.Esc){this._ListBox.clearSelection(!1);for(var r=0;r<this._atO.length;r++)this._ListBox.setSelectedItem(this._atO[r]);this._gZ(!1),this._aDc=!1}},r.prototype._d3=function(i,r){var o,u,f,e;if(t.prototype._d3.apply(this,arguments),this._csL=!1,this._UseContentEditor&&(o=n.String.unescapeHTML(this._Editor.getContent()),o!==this._bae()&&this.setContent(this._Editor.getContent())),this._atO){if(u=this._ListBox.getSelectedItems(),f=u.length!==this._atO.length,!f){for(e=u.length;e--;)if(this._atO.indexOf(u[e])==-1)break;f=e>-1}delete this._atO,f&&(this.SelectionChanged.fire(this,{ListItem:u[0]}),this._gY(i,r))}},r.prototype._bac=function(n,t){!this._ListBox.getMultiSelect()&&this._CloseOnContentClick&&this.getDropPanel().hide(),this.Click.fire(this,t)},r.prototype._asM=function(){var r=this.getListBox(),i=r.getSelectedItems();this.getListBox().clearSelection(!1),this._gZ(),i.length>0&&this.SelectionChanged.fire(this,{ListItem:i[0]})},r.prototype._bGp=function(){var t=0,i,r,f,u;if(this._ListBox instanceof n.Ui.ListBox)t=this._ListBox.getSelectedItems().length;else{if(i=this._ListBoxSets.Items,i)for(r=0,f=i.length;r<f;r++)u=i[r],u instanceof n.Ui.ListItem?u.getIsSelected()&&t++:u.IsSelected&&t++;!this._ListBoxSets.MultiSelect&&t>1&&(t=1)}return t},r.prototype._aRM=function(t){var r,i,u,f;return(r=this._ListBox instanceof n.Ui.ListBox?this._ListBox.getItems():this._ListBoxSets&&this._ListBoxSets.Items,i=r&&r[t],i instanceof n.Ui.ListItem)?{Content:i.getContent(),Value:i.getValue(),IsSelected:i.getIsSelected()}:i?(u=i.Content,f=i.Value,i.ResourceKey&&(u=n.resourceManager.getString(i.ResourceKey,"Content")||i.Content,f=n.resourceManager.getString(i.ResourceKey,"Value")||i.Value),n.isBoolean(i.Selected)&&!n.isDefined(i.IsSelected)&&(i.IsSelected=!!i.Selected),{Content:u,Value:f,IsSelected:i.IsSelected}):void 0},r.prototype._aW=function(){t.prototype._aW.apply(this,arguments),this._gZ()},r.prototype._cR=function(n,t){this._gZ(!1),this.getDropPanel().getDroppedDown()||this.SelectionChanged.fire(this,t)},r.prototype._a96=function(n,t){this.getDropPanel().getDroppedDown()||this.getSelectedIndex()!=-1||(this._gZ(!1),this.SelectionChanged.fire(this,t))},r.prototype._gZ=function(n){var i,r,u;this._ListBox&&(i=this._bae(),this._aDc=i!==this._Content,n=n!==!1,r=this.TextChanged.isSuspended(),u=this.ValueChanged.isSuspended(),n||(this.TextChanged.suspend(),this.ValueChanged.suspend()),t.prototype.setContent.call(this,i),n||(r||this.TextChanged.resume(),u||this.ValueChanged.resume()))},r.prototype._bae=function(){var i=this._bGp(),t,r;return i>1?t=n.resourceManager.getString(this._SelectedXResourceKey)+" "+i:i===1?this._ListBox instanceof n.Ui.ListBox?t=this._ListBox.getSelectedItem()?this._ListBox.getSelectedItem().getContent():"":(r=this.getSelectedIndex(),t=this._aRM(r).Content):t=n.resourceManager.getString(this._SelectedNoneResourceKey),t},r.prototype._bGo=function(t,i){i.Event.keyCode==n.Key.Enter&&(this.getDropPanel().hide(),this.setFocus(),this._gZ()),i.Event.keyCode==n.Key.Up&&this._EnableEdit&&(this._ListBox.clearSelection(!1),n.setTimeout(this._csM,0,null,this))},r.prototype._csM=function(){this.getTextBox().setFocus()},r.prototype._csN=function(i){if(this.isLive()&&n.isVisible(this.getDomNode()))if(this._OpenOnKeyDown&&!this.getDropPanel().getDroppedDown()&&this._baf(!1),this._AutoFind&&this._EnableEdit&&i!==n.Key.Up&&i!=n.Key.Enter){var r=t.prototype.getContent.apply(this,arguments);r&&r.length>=this._MinAutoFindSymbolsCount?(this.filterByText(r),this.hasVisibleItems()||this.getDropPanel().hide()):(this.filterByText(""),this._gY(this,{})),this._bGq()}else i==n.Key.Down||i==n.Key.Up?this._csL=!0:i==n.Key.Enter&&(this.getDropPanel().hide(),this._gY(this,{}))},r.prototype._db=function(i,r){var u,f,e;r.Event.keyCode==n.Key.Down?(this.getDropPanel().getDroppedDown()?this._ListBox.setFocus():this._baf(!0),u=this._ListBox.getSelectedIndex(),f=this._ListBox.getItems(),this._ListBox.clearSelection(!1),u>=0&&f[u]&&f[u].getIsVisible()&&f[u].getEnabled()?(this._ListBox.setSelectedIndex(u),this._ListBox.setFocusedIndex(u)):(e=f.filter(function(n){return n.getIsVisible()&&n.getEnabled()}),e.length>0&&(this._ListBox.setSelectedItem(e[0]),this._ListBox.setFocusedIndex(this._ListBox.getSelectedIndex())))):r.Event.keyCode!==n.Key.Tab?n.setTimeout(this._csN,0,r.Event.keyCode,this):this.getDropPanel().getDroppedDown()&&this.getDropPanel().hide(),t.prototype._db.apply(this,arguments)},r.prototype._bGq=function(){var t,r,h;if(this.getDropPanel().getDomNode().style.height===""){t=this.getDropPanel(),t.setHeight(null);var i=this.getListBox(),u=0,l=i.getWidth(),a=i.getScrollBox(),v=a.getScrollContentDomNode().scrollWidth>l?16:0,f=i.getItems(),s=t.getMaxHeight();for(r=0;r<f.length;r++)n.isVisible(f[r].getDomNode())&&(u+=f[r].getHeight());if(h=i.getDomNode().offsetHeight,u>s?i.setHeight(s-16):i.setHeight(u+v),h<u){var e=t.getDomNode().offsetHeight,y=n.calculateOffset(t.getDomNode()),o=document.documentElement.clientHeight,p=n.calculateOffset(this._DomNode),c=p.X;e>o?t.setCoords({X:c,Y:0}):y.Y+e>o&&t.setCoords({X:c,Y:o-e})}}},r.prototype._fS=function(t,i){var u,r,f;for(i.Source=t,i.OldContent=n.String.escapeHTML(i.OldValue),u=this.getItems(),r=0,f=u.length;r<f;r++)if(u[r].getContent()===i.OldValue){i.OldValue=u[r].getContent();break}this._gY(t,i)},r.prototype._baf=function(i){var r=this.getDropPanel();r.Opened.contains(this._iG,this)||r.Opened.add(this._iG,this),r.Closing.contains(this._aRj,this)||r.Closing.add(this._aRj,this),this._ListBox instanceof n.Ui.ListBox?r.getContent()!==this._ListBox&&r.setContent(this._ListBox):(this._ListBox=new n.Ui.ListBox(this._ListBoxSets),r.setContent(this._ListBox)),this._EnableEdit&&this._AutoFind&&this._ListBox.filterByText(""),t.prototype.showDropPanel.apply(this,arguments),this._bGq(),i!==!1&&this._ListBox.setFocus()},r.prototype._gY=function(n,t){t.OldContent=this._fl,t.OldValue=this._e2,t.NewContent=this.getContent(),t.NewValue=this.getValue(),t.NewValue===this._e2||this.ValueChanged.isSuspended()||(this.ValueChanged.fire(this,t),this._e2=t.NewValue),t.NewContent===this._fl||this.TextChanged.isSuspended()||(this.TextChanged.fire(this,t),this._fl=t.NewContent)},r.prototype.getSelectedXResourceKey=function(){return this._SelectedXResourceKey},r.prototype.getSelectedNoneResourceKey=function(){return this._SelectedNoneResourceKey},r.prototype.getAutoFind=function(){return this._AutoFind},r.prototype.getMinAutoFindSymbolsCount=function(){return this._MinAutoFindSymbolsCount},r.prototype.setSelectedXResourceKey=function(n){n!==this._SelectedXResourceKey&&(this._SelectedXResourceKey=n,this._gZ())},r.prototype.setSelectedNoneResourceKey=function(n){n!==this._SelectedNoneResourceKey&&(this._SelectedNoneResourceKey=n,this._gZ())},r.prototype.getListBox=function(){return this._ListBox instanceof n.Ui.ListBox||(this._ListBox=new n.Ui.ListBox(this._ListBoxSets)),this._ListBox},r.prototype.getItems=function(){return this.getListBox().getItems()},r.prototype.setAutoFind=function(n){n!=this._AutoFind&&(this._AutoFind=n),this._AutoFind||this.filterByText("")},r.prototype.setIsRTL=function(){t.prototype.setIsRTL.apply(this,arguments),this._ListBox instanceof n.Ui.ListBox?this._ListBox.setIsRTL(this._IsRTL):this._ListBoxSets.IsRTL=this._IsRTL},r.prototype.getSelectedItem=function(){return this.getListBox().getSelectedItem()},r.prototype.setSelectedItem=function(t,i){var r=this._ListBox;r||(r=this._ListBoxSets||this.getListBox()),r instanceof n.Ui.ListBox?r.setSelectedItem(t,i):r.ItemSelected.getCount()>1||r.ItemDeselected.getCount()>1?this.getListBox().setSelectedItem(t,i):t&&this._bad(t.getValue()||t.getContent()),this._gZ(i)},r.prototype.getSelectedIndex=function(){var r,t,i,f,u;if(this._ListBox instanceof n.Ui.ListBox)return this._ListBox.getSelectedIndex();if(r=this._ListBoxSets.Items,t=-1,r){for(i=0;i<r.length;i++)if(f=r[i],u=this._aRM(i),u.IsSelected&&(t=i),t>-1)break;if(t>-1)return t;if(this._ListBoxSets.SelectedIndex>-1)return this._ListBoxSets.SelectedIndex}return t},r.prototype.setSelectedIndex=function(n,t){var i=this.getListBox(),r=i.getItems()[n];this.setSelectedItem(r,t)},r.prototype.getValue=function(){var i=null,u,f,r,e,s,o;for(this._ListBox instanceof n.Ui.ListBox?(u=this._ListBox.getItems(),f=this._ListBox.getMultiSelect()):(u=this._ListBoxSets.Items,f=this._ListBoxSets.MultiSelect),this._EnableEdit&&(i=t.prototype.getValue.call(this),i==this._bae()&&(i=null)),r=[],e=0,s=u&&u.length;e<s;e++)if(o=this._aRM(e),o.IsSelected&&(r.push(o.Value),this._EnableEdit&&i==o.Content&&(i=null),!f))break;return f?(i!==null&&r.push(i),r.length>1)?r:r.length>0?r[0]:"":i!==null?i:r.length>0?r[0]:""},r.prototype.setValue=function(n,t){this._bad(n,t),this._gZ(t)},r.prototype.setMinAutoFindSymbolsCount=function(t){n.isNumber(t)&&t!=this._MinAutoFindSymbolsCount&&(this._MinAutoFindSymbolsCount=t)},r.prototype.setContent=function(i){i&&(n.isString(i)||n.isNumber(i))&&(this._bad(i,this._bL),t.prototype.setContent.call(this,i),this._gY(this,{}))},r.prototype.clear=function(){this._ListBox&&this._ListBox instanceof n.Ui.ListBox?(this._ListBox.clear(),this._ListBox.updateSize()):this._ListBoxSets.Items&&(this._ListBoxSets.Items=[]),this.setContent("")},r.prototype.clearSelection=function(){this.getListBox().clearSelection(!1),this.setContent("")},r.prototype.addItem=function(n){this.getListBox().addItem(n)},r.prototype.filterByText=function(n){var t=this.getListBox();t.filterByText(n)},r.prototype.hasVisibleItems=function(){var n=this.getListBox();return n.hasVisibleItems()},r.prototype.showDropPanel=function(){this.isLive()&&this._baf(!0)},r.prototype.getSettings=function(){var n=t.prototype.getSettings.apply(this,arguments);return delete n.ListBox,n},r}(t.Combo);t.ComboBox=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),c=n.Ui.TreeColumn=function(){this._Index=0,this._Type=-1,this._Caption="",this._Width=null,this._MinWidth=0,this._Visible=!0,this._Editable=!0,this._Hideable=!0,this._IsEnabled=!0,this._ResourceKey=null,this._SortMethod=null,this._FormatMethod=null,this._defineEvents(["WidthChanged"]),c.base.constructor.apply(this,arguments),this._Owner=null,this._DomNode=null,this._DomDrag=null,this._DomText=null,this._DomCol=null,this._al5=0,this._Type<0&&(this._Type=this._Index?n.Ui.TreeColumnType.number:n.Ui.TreeColumnType.string),this._PressClass="pressed",this._alY(),this._render()},n.initClass(c,n.Ui.Control,"PP.Ui.TreeColumn"),n.Object.defineProps(c,["MinWidth","Width","IsEnabled"],!1),n.Object.defineProps(c,["Owner","Editable","FormatMethod","SortMethod","Type","Hideable","Index"],!0),t=c.prototype,t._alY=function(){if(typeof this._Caption!="object"||!(this._Caption instanceof n.Ui.Control)){if(typeof this._Caption=="object"&&this._Caption.PPType){this._Caption=n.create(this._Caption);return}this._Caption=this._Caption+""}},t._render=function(){this._DomNode=document.createElement("th"),n.initOS(this._DomNode),this._DomText=document.createElement("div"),this._DomNode.appendChild(this._DomText),this._DomDrag=document.createElement("th"),this._DomDrag.className="drag",this._DomDrag.appendChild(document.createElement("div")),this._DomCol=document.createElement("col"),c.base._render.apply(this,arguments),n.removeClass(this._DomNode,this._ReleaseClass)},t._bindEvents=function(){this._bV(this._DomDrag,{mousedown:this._csO}),this._bV(this._DomNode,{click:this._aDd,mousedown:this._bk,mouseup:this._dQ,mouseout:this._b0})},t._unBindEvents=function(){this._DomDrag&&(this._d7(this._DomDrag),this._d7(this._DomNode))},t._aDd=function(){var i;if(this._IsEnabled&&this._Visible&&this._Owner._Enabled&&this._Owner._EnableSortColumns&&!this._Owner._EditNode){if(this._Owner._bag){delete this._Owner._bag;return}var r=this._Owner._SortSequence,u=1,f=this._Owner._SortColumn;if(this._Owner._SortColumn==this._Index)for(i=0;i<r.length;i++)if(this._Owner._SortMethod===r[i]){u=i+1;break}u>=r.length&&(u=0),this._Owner.sort(this._Index,r[u],null,!0),this.updateContent(),f>=0&&f!=this._Index&&this._Owner.getColumns().getItem(f).updateContent(),this._Index>=0&&this._Owner.getColumns().getItem(this._Index).updateContent()}},t._bk=function(){this._IsEnabled&&this._Visible&&this._Owner._Enabled&&this._Owner._ShowColumns&&!this._Owner._EditNode&&this.addStateClass(this._PressClass)},t._dQ=function(){this._IsEnabled&&this._Visible&&this._Owner._Enabled&&this._Owner._ShowColumns&&!this._Owner._EditNode&&this.removeStateClasses()},t._b0=function(){this.removeStateClasses()},t._atP=function(){this._Owner._bag=!0},t._csO=function(t,i){var f,s,e,o,r,u;if(this._IsEnabled&&this._Visible&&this._Owner._Enabled&&this._Owner._EnableResizeColumn&&this._Owner._ShowColumns&&!this._Owner._EditNode){if(f=+new Date,this._bah&&this._bah+500>f){this.setWidth(this._Owner.getOptimalWidthForColumn(this._Index)),this._bah=0,n.IsIE&&(this._Owner._bag=!0),s=this._Owner._Columns.update(),this._Owner._aDe(s);return}if(this._bah=f,this._Width==null&&(this._Width=this.getVisibleWidth()),this._al5=0,this._addEvent(document,"mousemove",this._bGr),this._addEvent(document,"mouseup",this._aRN),this._addEvent(document,"mousedown",this._aRN),n.setCapture(this._DomNode),document.body.style.cursor="e-resize",this._aDf=this._Owner.getIsRTL()?this._Width+i.Event.pageX:this._Width-i.Event.pageX,this._OldScrollPosition=this._Owner._ScrollH.getValue(),this._OldScrollPosition>100&&(this._OldScrollPosition=100),this._OldColumnsWidth=this._Owner._Columns.getFullWidth(),this._OldDraggerSize=this._Owner._ScrollH.getDraggerSize(),this.resizing=!0,this._Index==this._Owner._Columns.getCount()-1&&this._Owner._Columns.getMenuIconWidth()&&this._Owner._Columns.update(),this._Owner.getResizeOnMouseUp()){for(this._bai=n.createElement(this._Owner._DomCaptionDiv,"PPTreeListPhantomResizerCover"),this._bai.style.width=this._Owner._DomCaptionDiv.scrollWidth+"px",this._qo=n.createElement(this._Owner._DomCaptionDiv,"PPTreeListPhantomResizer"),e=this._Owner._Columns.getItems(),o=0,r=0;r<e.length;r++){if(u=e[r],u===this)break;u.getIsVisible()&&(o+=u.getVisibleWidth())}this._bGs=o}return!1}},t._bGr=function(n,t){var i,r;return i=this._Owner.getIsRTL()?this._aDf-t.Event.pageX:this._aDf+t.Event.pageX,this._Owner.getResizeOnMouseUp()?(r=this._Owner._Columns._MenuIconWidth?this._Owner._Columns._MenuIconWidth+4:0,i=Math.max(i,this._MinWidth,2,r),this._Owner.getIsRTL()?this._qo.style.right=this._bGs+i+"px":this._qo.style.left=this._bGs+i+"px"):(this.setWidth(i,!1),this._Owner._FocusedNode&&this._Owner._by(this._Owner._FocusedNode)),!1},t._aRN=function(t,i){var r;r=this._Owner.getIsRTL()?this._aDf-i.Event.pageX:this._aDf+i.Event.pageX,this.setWidth(r,!1),this._Owner._ShowColumns&&this._Owner._CutOverflow&&(this._Owner._dA(),this._Owner._cm()),this._k(document,"mousemove",this._bGr),this._k(document,"mouseup",this._aRN),this._k(document,"mousedown",this._aRN),n.releaseCapture(this._DomNode),document.body.style.cursor="",this.WidthChanged.fire(this,{}),delete this.resizing,this._Owner._Columns.update(),this._Owner._sv(),this._qo&&(this._Owner._DomCaptionDiv.removeChild(this._bai),this._Owner._DomCaptionDiv.removeChild(this._qo),this._bai=this._qo=null)},t.dispose=function(){delete this._Owner,c.base.dispose.apply(this,arguments)},t.appendToDom=function(){this._Owner&&(this._Owner._DomCaptionTr.insertBefore(this._DomNode,this._Owner._Columns._DomLastTh),this._Owner._DomCaptionTr.insertBefore(this._DomDrag,this._Owner._Columns._DomLastTh),this._Owner._DomColgroup.insertBefore(this._DomCol,this._Owner._Columns._DomLastCol),this.updateContent(),this._bindEvents())},t.removeFromDOM=function(){(this._unBindEvents(),this._Owner&&this._DomNode)&&this._DomNode.parentNode==this._Owner._DomCaptionTr&&(this._Owner._DomCaptionTr.removeChild(this._DomNode),this._Owner._DomCaptionTr.removeChild(this._DomDrag),this._Owner._DomColgroup.removeChild(this._DomCol))},t.updateContent=function(){if(typeof this._Caption!="object")this._DomText.innerHTML=this._Caption+"",this._DomText.parentNode&&n.removeClass(this._DomText.parentNode,"control");else{var t=this._Caption;t.removeFromDOM(),this._DomText.innerHTML="",this._DomText.parentNode&&n.addClass(this._DomText.parentNode,"control"),t.addToNode(this._DomText),t.Click.addOne(this._atP,this)}this._yy=null,this._Owner&&this._Owner._SortColumn==this._Index&&this._Owner._SortMethod&&(this._Owner._SortMethod==1&&(this._yy=n.createElement(null,"sorticon asc","span"),this._yy.innerHTML="&nbsp;"),this._Owner._SortMethod==2&&(this._yy=n.createElement(null,"sorticon desc","span"),this._yy.innerHTML="&nbsp;")),this._yy&&this._DomText.appendChild(this._yy)},t.setVisibleWidth=function(n){var t=this._Owner._Columns._MenuIconWidth?this._Owner._Columns._MenuIconWidth+4:0;this._VisibleWidth=Math.max(n,t),this._DomNode.style.width=this._g(this._VisibleWidth-3)+"px",this._DomCol.style.width=this._g(this._VisibleWidth)+"px",this._al5=0},t.getVisibleWidth=function(){return this._Width?this._Width:this._VisibleWidth},t.reduceCaptionWidthBy=function(n){this._Owner._ShowColumns&&n!=0&&(this._DomNode.style.width=this._g(this.getCaptionWidth()-n-3)+"px",this._Owner._Columns._LastWidth+=n,this._Owner._Columns._LastWidth<0&&(this._Owner._Columns._LastWidth=0),this._Owner._Columns._DomLastTh.style.width=this._Owner._g(this._Owner._Columns._LastWidth)+"px",this._al5+=n)},t.isCaptionReduced=function(){return this._al5!==0},t.getCaptionWidth=function(){return this.getVisibleWidth()-this._al5},t.show=function(n){if(!this._DomNode)return 0;var t=null;return this._Visible!==!0&&(t={Column:this._Index,Visibility:!0,Cancel:!1},this._Owner.ColumnVisibilityChanging.fire(this._Owner,t),t.Cancel)?0:(this._DomNode.style.display="",this._DomDrag.style.display="",this._Width!==null&&(this._DomNode.style.width=this._g(this._Width-3)+"px",this._DomCol.style.width=this._g(this._Width)+"px",this._al5=0),this._Visible=!0,n!==!1&&this._Owner&&(this._Owner.getColumns().update(),this._Owner._dA(!0),this._Owner._cm()),t&&(delete t.Cancel,this._Owner.ColumnVisibilityChanged.fire(this._Owner,t)),this._Width)},t.hide=function(n){var t,i;if(this._Hideable!==!1){if(t=null,this._Visible==!0&&(t={Column:this._Index,Visibility:!1,Cancel:!1},this._Owner.ColumnVisibilityChanging.fire(this._Owner,t),t.Cancel))return i=this._Owner._Columns._Menu,i&&i.getItems()[this._Index].setChecked(!0),0;this._DomNode.style.display="none",this._DomDrag.style.display="none",this._DomCol.style.width="0",this._Visible=!1,n!==!1&&this._Owner&&(this._Owner._dA(!0),this._Owner._cm(),this._Owner.getColumns().update()),t&&(delete t.Cancel,this._Owner.ColumnVisibilityChanged.fire(this._Owner,t))}},t.setMinWidth=function(n){this._MinWidth!=n&&(this._MinWidth=n,this._MinWidth>this._Width&&this.setWidth(this._MinWidth))},t.setWidth=function(n,t){var i=this._Owner._Columns._MenuIconWidth?this._Owner._Columns._MenuIconWidth+4:0;(n<this._MinWidth||n<2||n<i)&&(n=Math.max(this._MinWidth,2,i)),this._Owner._ShowColumns&&(this._Owner._Columns._LastWidth+=this._Width-n,this._Owner._Columns._LastWidth<0&&(this._Owner._Columns._LastWidth=0),this._Owner._Columns._DomLastTh.style.width=this._Owner._g(this._Owner._Columns._LastWidth)+"px",this._Owner._Columns._DomLastCol.style.width=this._Owner._g(this._Owner._Columns._LastWidth)+"px"),this._Width=n,this._Owner._ShowColumns&&(this._al5=0,this._DomNode.style.width=this._g(this._Width-3)+"px",this._DomCol.style.width=this._g(this._Width)+"px",this._Owner.getWordWrap()&&(this._Owner.updateSize(),this._Owner._atQ=!1,this._Owner._sv()),this._Owner.getCutOverflow()&&(this._Owner._dA(),this._Owner._cm()),t!==!1&&this.WidthChanged.fire(this,{}))},t.getCaption=function(){if(typeof this._Caption=="string")return this._Caption;if(typeof this._Caption=="object"){var t=this._Caption.getContent?this._Caption.getContent():"";if(n.isPrimitive(t))return t}return""},t.setCaption=function(n){this._Caption=n,this._alY(),this.updateContent()},t.getIsVisible=function(){return this._Visible},t.setIsEnabled=function(t){!!t!=this._IsEnabled&&(this._IsEnabled=!!t,this._Caption instanceof n.Ui.Control&&(this._IsEnabled?n.isDefined(this._Caption.enabledBeforeContainerDisabled)&&(this._Caption.setEnabled(this._Caption.enabledBeforeContainerDisabled),delete this._Caption.enabledBeforeContainerDisabled):(this._Caption.enabledBeforeContainerDisabled=this._Caption.getEnabled(),this._Caption.setEnabled(!1))))},t.getSettings=function(){var t=this._Owner,n;return this._Owner=null,n=c.base.getSettings.apply(this,arguments),this._Owner=t,delete n.Owner,n},t=null,function(n){var t;(function(t){var r=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype._render=function(){t.prototype._render.call(this),this.addClass("PPSplitMenuItem")},r.prototype._bp=function(t,i){return!this._Enabled||this._Parent&&!this._Parent.getEnabled()?!1:this._ArrowContainerDomNode==i.Event.target||this._ArrowContainerDomNode.contains(i.Event.target)?!1:(i.Cancel=!1,this.Selected.fire(this,i),i.Cancel||(this.isLive()?(this.Click.fire(this,i),(this._Checked==null||this._CloseOnChecked)&&(n.Ui.Menu.RootMenu&&n.Ui.Menu.RootMenu.isLive()?n.Ui.Menu.RootMenu.hide():n.Ui.Menu.RootMenu=null)):n.Ui.Menu.RootMenu&&n.Ui.Menu.RootMenu.isLive()?n.Ui.Menu.RootMenu.hide():n.Ui.Menu.RootMenu=null),i.Cancel?void 0:!1)},r}(t.MenuItem);t.SplitMenuItem=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),w=n.Ui.TreeColumns=function(){this._Owner=null,this._Columns=[],w.base.constructor.apply(this,arguments),this._Count=-1,this._LastColumn=null,this._DomIcon=null,this._DomLastTh=null,this._DomLastCol=null,this._LastWidth=0,this._DomTrWidth=0,this._MenuIconWidth=0,this._render()},n.initClass(w,n.List,"PP.Ui.TreeColumns"),n.Object.defineProps(w,["MenuIconWidth","Owner","WideTree"],!1),t=w.prototype,t._render=function(){this._DomIcon=document.createElement("div"),this._DomIcon.className="menuicon",this._Arrow=new n.Ui.Arrow({Class:"PPArrow__TreeList",ParentNode:this._DomIcon,Width:6,Height:3}),this._DomLastTh=document.createElement("th"),this._DomLastCol=document.createElement("col"),this._DomLastTh.className="last",this._DomLastCol.className="last",this._Owner&&this.setOwner(this._Owner,!0)},t._baj=function(n){for(var t=0;t<this._Count;t++)this.getItem(t).removeFromDOM(),n&&this.getItem(t).dispose&&this.getItem(t).dispose();this._LastColumn&&this._LastColumn.removeFromDOM(),this._Count=-1,this._LastColumn=0,this._Items=null},t._baa=function(){var i,t,n;for(this._baj(!0),i=this._Columns.length,t=0;t<i;t++)n=this._Columns[t],n instanceof c||(n=new c(n)),n.setIndex(t),n.setOwner(this._Owner),this.add(n)},t._bindEvents=function(){this._Owner._addEvent(this._DomIcon,"mousedown",this._csP)},t._csP=function(){this._Enabled&&this._ShowColumns&&!this._EditNode&&this._Columns.showMenu()},t._e4=function(n,t){var i=this.getItem(t.SelectedIndex);i.getIsVisible()?i.hide():i.show(),this._alL()},t._kT=function(t){t.getIsVisible()===!1&&n.removeClass(this._DomIcon,"pressed")},t.update=function(){var e,o,s,c,l,a,v,t,n,f;if(this._Owner){var i=0,u=0,r=this._Owner._eN(),h=this._Owner._CaptionVisible&&this._Owner._EnableColumnsMenu&&this._Owner._ShowColumns;if(this._DomTrWidth=this._Owner._aa-1,this._Count=this.getCount(),this._Owner._DomCaptionDiv.style.display=this._Owner._CaptionVisible?"":"none",this._DomIcon.style.display=h?"":"none",this._MenuIconWidth=h?16:0,this._Owner._ShowColumns){for(e=0,t=0;t<this._Count;t++)n=this.getItem(t),n._Visible?(n.appendToDom(),n.getWidth()!==null?i+=n.show(!1):(e=e+n.getMinWidth(),u+=1)):(n.removeFromDOM(),n.hide(!1));if(u)if(o=Math.max(e,this._MenuIconWidth?this._MenuIconWidth+4:5),i+u*o<this._DomTrWidth-r){for(s=Math.floor((this._DomTrWidth-i-r)/u),c=Math.round(this._DomTrWidth-i-r-s*u),t=0;t<this._Count;t++)n=this.getItem(t),n._Visible&&n.getWidth()===null&&(l=n,n.setVisibleWidth(s));l.setVisibleWidth(s+c),i=this._DomTrWidth-r}else{for(t=0;t<this._Count;t++)n=this.getItem(t),n._Visible&&n.getWidth()===null&&n.setVisibleWidth(o);i+=u*o}}else for(this._Owner._CutOverflow?i=this._DomTrWidth-this._Owner._eN():(i=this._Owner.getMaximalWidthForColumn(0),(i<this._DomTrWidth-r||this._Owner._WordWrap)&&(i=this._DomTrWidth-r-1)),a=this._Owner._g(i+r)+"px",v=this._Owner._g(i)+"px",t=0;t<this._Count;t++)n=this.getItem(t),t==0?(n.appendToDom(),n._DomNode.style.display="",n._DomDrag.style.display="",n._DomNode.style.width=a,n._DomCol.style.width=v):n.removeFromDOM();return f=!1,i>this._DomTrWidth-r?(this._LastWidth=Math.max(r,this._MenuIconWidth),f=!0):(this._LastWidth=this._DomTrWidth-i-r-1,this._LastWidth<0&&(this._LastWidth=0)),this._Owner._ShowColumns?(this._DomLastTh.style.width=this._Owner._g(this._LastWidth+(f?0:r+1))+"px",this._DomLastCol.style.width=this._Owner._g(this._LastWidth)+"px"):(this._DomLastTh.style.width="0",this._DomLastCol.style.width=this._Owner._g(this._LastWidth)+"px"),this._Owner._EnableColumnsMenu&&this._csQ(i),this._DomIcon.style.left=this._Owner._IsRTL?"0":"",this._DomIcon.style.right=this._Owner._IsRTL?"":"0",this._WideTree=f,f}},t._csQ=function(n){var r=this._Owner._eN(),u=this.getLastVisibleItem(),t,i=0;this._Count&&u&&this._DomTrWidth&&(!this._MenuIconWidth||r||this._WideTree||(t=Math.min(Math.max(n-(this._DomTrWidth-this._MenuIconWidth),0),this._MenuIconWidth),i+=t),(t>1||this._WideTree||r&&this.isNullWidthColumnsVisible())&&(i-=2),u.reduceCaptionWidthBy(i),this._bGt())},t._bGt=function(){var u,i,e=this.getCount(),f=!1,t,r;if(this._Owner._ShowColumns&&this._MenuIconWidth){if(this._Owner._IsRTL){for(u=this._MenuIconWidth-1,i=this._Owner._aa+this._Owner._ScrollHOffset-1,t=0;t<e;t++)if((r=this._Owner._Columns.getItem(t),r.getIsVisible()!=!1)&&(i-=r.getCaptionWidth(),i+1==u)){f=!0;break}}else for(u=this._Owner._aa-(this._MenuIconWidth-1),i=1-this._Owner._ScrollHOffset,t=0;t<e;t++)if((r=this._Owner._Columns.getItem(t),r.getIsVisible()!=!1)&&(i+=r.getCaptionWidth(),i-1==u)){f=!0;break}f?n.addClass(this._DomIcon,"narrow"):n.removeClass(this._DomIcon,"narrow")}},t.isWideTree=function(){return this._WideTree?!0:!1},t.dispose=function(){this._Owner=null,this._baj(!0),w.base.dispose.apply(this,arguments)},t.clear=function(){for(this.hideMenu(),this._baj(!0),w.base.clear.apply(this,arguments);this._Owner._DomColgroup.childNodes.length>1;)this._Owner._DomColgroup.removeChild(this._Owner._DomColgroup.firstChild);while(this._Owner._DomCaptionTr.childNodes.length>1)this._Owner._DomCaptionTr.removeChild(this._Owner._DomCaptionTr.firstChild)},t.add=function(n){if(!(n instanceof c))throw new Error("ArgumentException: required PP.Ui.TreeColumn");w.base.add.apply(this,arguments),this._Count=this.getCount(),n._Index=this._Count-1,n._Owner=this._Owner,n.appendToDom()},t.remove=function(n,t){var i,r,e,u,f;if(typeof n=="number")r=n,i=this.getItem(n);else{if(!(n instanceof c))throw new Error("ArgumentException: required PP.Ui.TreeColumn");i=n,r=this.indexOf(i)}if(!i)throw new Error("ArgumentException: Column don't exist");if(i.removeFromDOM(),i.setOwner(null),w.base.remove.call(this,r,t),this._Owner)for(e in this._Owner._KeyIndex)u=this._Owner._KeyIndex[e],r?u.Columns.splice(r-1,1):(u.Text=u.Columns[0],u.Columns.splice(0,1));for(this._Count=this.getCount(),f=0;f<this._Count;f++)this.getItem(f)._Index=f;this.update(),this._Owner&&(this._Owner._dA(!0),this._Owner.updateSize())},t.getLastVisibleItem=function(){var n,t;if(this._Count)for(n=this._Count-1;n>=0;n--)if(t=this.getItem(n),t.getIsVisible())return t},t.getFullWidth=function(){var n=0,f,t,i,r,u;if(this._Owner._ShowColumns)for(f=this.getCount(),t=0;t<f;t++)i=this.getItem(t),i.getIsVisible()&&(r=i.getWidth(),n+=r!==null?r:i.getVisibleWidth());else this._Owner._WordWrap||this._Owner._CutOverflow?n=this._DomTrWidth-this._Owner._eN():(n=this._Owner.getMaximalWidthForColumn(0),u=this._DomTrWidth-this._Owner._eN(),n<u&&(n=u));return n},t.isNullWidthColumnsVisible=function(){for(var i=this.getCount(),t,n=0;n<i;n++)if(t=this.getItem(n),t.getIsVisible()&&t.getWidth()===null)return!0;return!1},t.isResizing=function(){for(var t=this.getCount(),n=0;n<t;n++)if(this.getItem(n).resizing)return!0;return!1},t.setItem=function(n,t){if(!(n instanceof c))throw new Error("ArgumentException: required PP.Ui.TreeColumn");if(!this._Owner&&t>=0&&t<this._Columns.length)throw new Error("Owner must be set before setItem");if(!this._Items||t<0||t>this._Items.length-1)throw new Error("Item with this index doesn't exist");var i=this.getItem(t);i&&i.dispose(),w.base.setItem.apply(this,arguments),n&&n.setOwner(this._Owner)},t.showMenu=function(){var f,r,i,e,t,u,o;if(this._Owner._Enabled){for(this._Menu&&(this._Menu.dispose(),delete this._Menu),this._Menu=new n.Ui.Menu,this._Menu.ItemSelected.add(this._e4,this),this._Menu.Closed.add(this._kT,this),f=this.getCount(),r=0;r<f;r++)i=this.getItem(r),e=new n.Ui.MenuItem({Parent:this._Menu,Enabled:i.getHideable(),Content:i.getCaption(),Checked:i.getIsVisible(),Data:i,CloseOnChecked:!1}),this._Menu.addItem(e);this._Menu.setIsRTL(this._Owner.getIsRTL()),t=n.calculateOffset(this._DomIcon),this._Menu.show(0,0),u=t.X+this._Menu.getWidth()>parseInt(document.body.clientWidth)?parseInt(document.body.clientWidth)-this._Menu.getWidth():t.X,o=t.Y+this._Owner.getCaptionHeight()+this._Menu.getHeight()>parseInt(document.body.clientHeight)?parseInt(document.body.clientHeight)-this._Menu.getHeight():t.Y+this._Owner.getCaptionHeight(),this._Menu.hide(),this._Menu.show(u,t.Y+this._Owner.getCaptionHeight()),this._alL(),n.addClass(this._DomIcon,"pressed")}},t._alL=function(){for(var r=this._Menu.getItems(),i=!1,u=0,t,n=0;n<r.length;n+=1)t=r[n],t.getChecked()&&(t.setEnabled(this.getItem(n).getHideable()),i=t,u+=1);u<=1&&i&&i.setEnabled(!1)},t.hideMenu=function(){this._Menu&&this._Menu.hide(),n.removeClass(this._DomIcon,"pressed")},t.setOwner=function(n,t){var r,u,i;if(this._Owner!=n||t){if(n){if(r=!1,this._Owner=n,this._Owner._Columns!=this&&(this._Owner._Columns.dispose&&this._Owner._Columns.dispose(),this._Owner._Columns=this,r=!0),this._Owner._DomColgroup)while(this._Owner._DomColgroup.childNodes.length>0)this._Owner._DomColgroup.removeChild(this._Owner._DomColgroup.firstChild);if(this._Owner._DomCaptionTr)while(this._Owner._DomCaptionTr.childNodes.length>0)this._Owner._DomCaptionTr.removeChild(this._Owner._DomCaptionTr.firstChild);this._Owner._DomNode.appendChild(this._DomIcon),this._Owner._DomCaptionTr.appendChild(this._Owner._DomCaptionBorder),this._Owner._DomCaptionTr.appendChild(this._DomLastTh),this._Owner._DomColgroup.appendChild(this._DomLastCol),this._baa(),r&&(this._Owner._dA(),this._Owner._cm())}else this._Owner&&(this._Owner._DomNode.removeChild(this._DomIcon),this._Owner._DomCaptionTr.removeChild(this._DomLastTh),this._Owner._DomColgroup.removeChild(this._DomLastCol));for(this._Owner=n,u=this.getCount(),i=0;i<u;i++)this.getItem(i).setOwner(n);this._bindEvents()}},t.getSettings=function(){for(var t=[],r=this.getCount(),i,n=0;n<r;n++)i=this.getItem(n),t.push(i.getSettings());return t},t=null,l=n.Ui.TreeNode=function(n){n||(n={}),n.JSON||(n={JSON:n}),this._JSON={},this._Owner=null,this._Tag=null,this._Root=!1,l.base.constructor.call(this,n),this._TreeNodes=null,this._DomNode=this._JSON._Dom},n.initClass(l,n.Object,"PP.Ui.TreeNode"),t=l.prototype,t.dispose=function(){if(n.resourceManager.isControlRegistered(this)&&n.resourceManager.unRegisterControl(this),this._DomNode&&this._DomNode.parent&&this._DomNode.parent.removeChild(this._DomNode),this._DomNode)while(this._DomNode.firstChild)this._DomNode.firstChild.innerHTML="",this._DomNode.removeChild(this._DomNode.firstChild);this._JSON&&this._JSON._Dom&&(this._JSON._Dom.innerHTML=""),delete this._JSON._TreeNode,delete this._JSON,delete this._Owner,this._TreeNodes&&(this._TreeNodes.dispose(),delete this._TreeNodes),delete this._Tag,delete this._DomNode,l.base.dispose.apply(this,arguments)},t.getNodes=function(){return this._TreeNodes||(this._JSON.Nodes==undefined&&(this._JSON.Nodes=[]),this._TreeNodes=new n.Ui.TreeNodes({Owner:this._Owner,Parent:this})),this._TreeNodes},t.getParentNode=function(){return this._Owner&&this._JSON._f2?this._Owner._a4(this._JSON._f2):null},t.getKey=function(){return n.isDefined(this._JSON.Key)||(this._JSON.Key=this._Owner._aDg()),this._JSON.Key},t.setKey=function(n){this._JSON.Key=n,this._Owner&&this._Owner._jX(),this._JSON._Dom&&this._JSON._Dom.setAttribute("nodeKey",this._JSON.Key)},t.getIndex=function(){return this._JSON._bP},t.getChildrenCount=function(){return this._JSON.ChildrenCount!==undefined&&this._JSON.ChildrenCount!==null?this._JSON.ChildrenCount:this._JSON.Nodes?this._JSON.Nodes.length:0},t.setChildrenCount=function(n){this._JSON.ChildrenCount=n|0,this._Owner.updateSize()},t.getText=function(){return typeof this._JSON.Text=="object"?"":this._JSON.Text},t.setText=function(n){this._JSON.Text=n,this._JSON._DomContent&&this._JSON._DomContent[0]&&(this._JSON._DomContent[0].innerHTML=n)},t.getToolTip=function(){return this._JSON.ToolTip},t.setToolTip=function(n){this._JSON.ToolTip=n},t.getColumnText=function(n){return n===0?this._JSON.Text:this._JSON.Columns[n-1]},t.setColumnText=function(t,i){if(t>=this._Owner._Columns.getCount()||t<0)throw n.OutOfRangeException("Incorrect column number",this);t===0?this._JSON.Text=i:this._JSON.Columns[t-1]=i,this._Owner._yD(this._JSON,t,i),this._Owner._WordWrap&&this._Owner._dc()},t.getValue=function(){return this._JSON.Value},t.setValue=function(n){this._JSON.Value=n},t.getSelected=function(){return!!this._JSON.Selected},t.setSelected=function(n,t,i){if(n=!!n,this._JSON.Selected!==n){i!==!1&&this._Owner._lM(this._JSON);var r=this._Owner._atR(this._JSON,n,t,!0);i!==!1&&this._Owner._eO(this._JSON,r)}},t.getExpanded=function(){return!!this._JSON.Expanded},t.setExpanded=function(n){this._Owner._bGu(this._JSON,n)},t.getChecked=function(){return!!this._JSON.Checked},t.setChecked=function(n,t){this._JSON.Checked=n===null?null:!!n,this._Owner._by(this._JSON),t!==!1&&this._Owner.CheckedChanged.fire(this._Owner,{Node:this})},t.getCheckEnabled=function(){return this._JSON.CheckEnabled===!1?!1:!0},t.setCheckEnabled=function(n){this._JSON.CheckEnabled=!!n,this._Owner._by(this._JSON)},t.getFocused=function(){return!!this._JSON.Focused},t.setFocused=function(){this.setFocus()},t.setFocus=function(){this._Owner._ags(this._JSON)},t.getDraggable=function(){return!!this._JSON.Draggable},t.setDraggable=function(n){this._JSON.Draggable=!!n},t.getCanSelect=function(){return!!this._JSON.CanSelect},t.setCanSelect=function(n){this._JSON.CanSelect==!0&&n==!1&&this._JSON.Selected&&this.setSelected(!0,!1,!0),this._JSON.CanSelect=!!n,this._Owner._by(this._JSON)},t.getImageUrl=function(){return this._JSON.ImageUrl||(this._JSON.ImageUrl=null),this._JSON.ImageUrl},t.setImageUrl=function(n){this._JSON.ImageUrl=n,this._JSON._Dom=null,this._Owner._cm()},t.getImageIndex=function(){return this._JSON.ImageIndex||(this._JSON.ImageIndex=-1),this._JSON.ImageIndex},t.setImageIndex=function(n){this._JSON.ImageIndex=n,this._Owner._by(this._JSON),this._Owner._yD(this._JSON,0,this._JSON.Text)},t.expand=function(n){this._Owner._os(this._JSON,n)},t.collapse=function(n){this._Owner._agt(this._JSON,n)},t.toggle=function(n){this._JSON.Expanded?this._Owner._agt(this._JSON,n):this._Owner._os(this._JSON,n)},t.expandAll=function(){this._Owner._aDh(this._JSON,!0)},t.collapseAll=function(){this._Owner._aDh(this._JSON,!1)},t.getData=function(){return this._JSON.Data},t.setData=function(n){this._JSON.Data=n},t.getHasChild=function(){return!!this._JSON.HasChild},t.setHasChild=function(n){this._JSON.HasChild=!!n},t.selectChild=function(n){if(!this._JSON.Nodes){this._JSON.HasChild&&(this._JSON.HasChildSelected=1,this._Owner._sw(this._JSON),this._Owner._by(this._JSON));return}n!==!1&&this._Owner._lM(this._JSON);var t=this._Owner._al6(this._JSON.Nodes,!0);n!==!1&&this._Owner._eO(this._JSON,t)},t.deSelectChild=function(n){if(!this._JSON.Nodes){this._JSON.HasChild&&(this._Owner._sx(this._JSON.HasChildSelected),this._JSON.HasChildSelected=0,this._Owner._by(this._JSON));return}n!==!1&&this._Owner._lM(this._JSON);var t=this._Owner._al6(this._JSON.Nodes,!1);n!==!1&&this._Owner._eO(this._JSON,t)},t.getHasChildSelected=function(){return!!this._JSON.HasChildSelected},t.setHasChildSelected=function(n){this._JSON.HasChildSelected=0+n},t.getHighlighted=function(){return!!this._JSON.Highlighted},t.setHighlighted=function(n){this._JSON.Highlighted=!!n,this._Owner.update()},t.setVisible=function(n){this._JSON.Visible=!!n,this._Owner.update()},t.getVisible=function(){return this._JSON.Visible||this._JSON.Visible===undefined},t.isLast=function(){return this._JSON._bP>=this._Owner._RowIndex.length-1},t.isVisible=function(n){var i,t,r,u;return this._JSON._qp||!this._Owner?null:(i=this._Owner._FirstVisibleIndex,n=n==!1?0:.99,this._Owner.getWordWrap()?(t=this._JSON._Dom,!!(this._JSON._bP>=i-n&&t&&t.parentNode&&t.offsetTop+(n==0?t.offsetHeight:0)-this._Owner._DomDiv.scrollTop<this._Owner._ac-this._Owner._CaptionHeight)):(r=this._JSON._bP,u=i+this._Owner.getVisibleNodesCount()-1,r>=i-n&&r<=u+n))},t.getVisualPosition=function(){return this._JSON._qp||!this._Owner?null:this._JSON._bP-this._Owner._FirstVisibleIndex},t.setClass=function(n){this._JSON.Class=n,this._Owner._IsUpdating||(this._Owner._dc(),this._Owner._cm())},t.getClass=function(){return this._JSON.Class},t.addClass=function(n){var t=this._JSON.Class||"";t.indexOf(n)>-1||(t=t+(t.length?" ":"")+n,this.setClass(t))},t.removeClass=function(t){var i=this._JSON.Class||"",r;(i=" "+i+" ",t=" "+t+" ",i.indexOf(t)<0)||(r=i.replace(t," "),r=n.String.trim(r),this.setClass(r))},t.clone=function(){return new l(n.extend({},this._JSON,!0,!1))},t.getRealHeight=function(){return this._Owner._WordWrap?(this._JSON._DomHeight=this._JSON._Dom.offsetHeight,this._JSON._DomHeight?this._JSON._DomHeight:this._Owner._ViewNodeHeight):this._Owner._ViewNodeHeight},t.getDomNode=function(){return this._JSON._Dom?this._JSON._Dom:null},t.getLevel=function(){return this._JSON._g1},t._bGv=function(){var t=this._JSON.ResourceKey;t&&(n.resourceManager.isControlRegistered(this)&&n.resourceManager.unRegisterControl(this),t&&n.resourceManager.registerControl(this))},t.setResourceKey=function(n){this._JSON.ResourceKey=n,this._bGv()},t.getResourceKey=function(){return this._JSON.ResourceKey},t.setResource=function(n){this.setSettings(n)},t.setFont=function(t){t instanceof n.Font||(t=new n.Font(t)),this._JSON.Font=t,this._by(this._JSON)},t.getFont=function(){return this._JSON.Font},t.setColor=function(n){this._JSON.Color=n,this._by(this._JSON)},t.getColor=function(){return this._JSON.Color},t.setImageHeight=function(n){this._JSON.ImageHeight=n,this._by(this._JSON)},t.getImageHeight=function(){return this._JSON.ImageHeight},t=null,s=n.Ui.TreeList=function(t){this._Nodes=[],this._ChildrenCount=null,this._Columns=null,this._ImageList=null,this._ImageCentered=!0,this._ImageHeight=0,this._IsRTL=!1,this._ShowColumns=!1,this._CaptionVisible=!1,this._EnableResizeColumn=!0,this._ResizeOnMouseUp=!1,this._EnableColumnsMenu=!0,this._EnableSortColumns=!0,this._SortSequence=[0,1,2],this._EnableSearch=!0,this._DblClickExpand=!0,this._ShowToolTips=!0,this._RowSelect=!1,this._MultiSelect=!1,this._IsCSMultiSelect=!1,this._EmptySelection=!0,this._CutOverflow=!1,this._WordWrap=!1,this._EnableKeyNavigation=!0,this._UseCtrlSelect=!0,this._UseShiftSelect=!0,this._FirstShiftSelectClearing=!1,this._DeferredSelection=!1,this._ShowLines=!0,this._ShowGridLines=!1,this._CheckBoxes=!1,this._EnableEdit=!1,this._RightButtonSelect=!1,this._AreaSelect=!0,this._SelectEditorText=!0,this._FilterCaseSensitive=!0,this._FilterDeSelect=!1,this._EnableDragAndDrop=!1,this._IgnoreRightPadding=!1,this._DragAndDropDelay=0,this._DragAndDropDetectDistance=5,this._DragAndDropMode=n.Ui.TreeListDragAndDropMode.SingleDrag,this._KeepHasChild=!1,this._ContentFont=null,this._ContentColor="",this._EnableHighlight=!1,this._HighlightFont=null,this._HighlightColor="",this._EnableSelectedHighlight=!1,this._SelectedHighlightFont=null,this._SelectedHighlightColor="",this._AsyncLoading=!0,this._LoadingTimeout=1e3,this._SelectUseArrowKeys=!1;var i=!1,r=!1,u=!1,f=!1,e=!1,o=!1,h=!1;t&&(t.HoverColor&&(i=!0),t.ActiveColor&&(r=!0),t.ActiveParentColor&&(u=!0),t.SearchColor&&(f=!0),t.HoverFont&&(e=!0),t.ActiveFont&&(o=!0),t.SearchFont&&(h=!0)),this._HoverFont=this._ActiveFont=this._SearchFont=null,this._UpdateDelay=50,this._defineEvents(["ToolTipShowing","LoadSubNodesOf","BeforeCollapse","Collapse","BeforeExpand","Expand","NodeHovered","NodeMouseOver","NodeMouseOut","NodeClick","NodeDblClick","NodeMouseDown","NodeTouchStart","SelectionChanging","SelectionChanged","FilterChanged","CheckedChanged","NodeDragStart","NodeDrag","NodeDragEnd","NodeDragFinished","NodeEditing","NodeEdited","NodeEditCanceled","NodeEditFinish","ColumnVisibilityChanging","ColumnVisibilityChanged","SortChanging","SortChanged","Finding","Found"]),s.base.constructor.apply(this,arguments),this._DomTable=null,this._DomTBody=null,this._DomSpacer=null,this._DomScrollVBackground=null,this._DomScrollHBackground=null,this._DomColgroup=null,this._DomColumns=[],this._DomCaptionDiv=null,this._DomEditor=null,this._DomSearch=null,this._DomFocus=null,this._TreeNodes=null,this._ToolTip=null,this._ScrollV=null,this._ScrollH=null,this._ScrollHOffset=0,this._SearchPanel=null,this._RowIndex=[],this._KeyIndex={},this._SearchIndex=[],this._NextKey=0,this._ViewNodeHeight=0,this._ViewMarginTop=0,this._ViewMarginBottom=0,this._CaptionHeight=0,this._TreeHeight=0,this._TreeLastNodesCount=0,this._NodesCount=0,this._FirstVisibleIndex=null,this._LastVisibleIndex=0,this._VisibleNodesCount=0,this._FocusedNode=null,this._SelectedNode=null,this._SelectedCount=0,this._sy=!1,this._ot=!1,this._SortColumn=-1,this._SortMethod=n.SortDirection.None,this._ToolTipNode=null,this._ToolTipNodeNew=null,this._ToolTipColumn=0,this._ToolTipActive=!1,this._ToolTipX=-1,this._ToolTipY=-1,this._ToolTipTimeout=null,this._LastSearch=null,this._LastFound=null,this._LastFoundI=-1,this._VScrollWidth=0,this._HScrollHeight=0,this._HighlightText="",this._HighlightCaseSensetive=!1,this._HighlightColumns=[],this._IsCSMultiSelect&&(this._MultiSelect=!1),this._render(),this._Enabled||this.setEnabled(!1,!0),i&&this.setHoverColor(this._HoverColor,!0),r&&this.setActiveColor(this._ActiveColor,!0),u&&this.setActiveParentColor(this._ActiveParentColor,!0),f&&this.setSearchColor(this._SearchColor,!0),e&&this.setHoverFont(this._HoverFont,!0),o&&this.setActiveFont(this._ActiveFont,!0),h&&this.setSearchFont(this._SearchFont,!0),this.updateSize()},n.initClass(s,n.Ui.Control,"PP.Ui.TreeList"),n.Object.defineProps(s,["EnableHighlight","HighlightFont","HighlightColor","EnableSelectedHighlight","SelectedHighlightFont","SelectedHighlightColor","ImageCentered","ContentColor","ContentFont","SearchFont","ActiveFont","HoverFont","SearchColor","ActiveColor","ActiveParentColor","HoverColor","SortSequence","EnableColumnsMenu","ShowLines","WordWrap","CutOverflow","EmptySelection","MultiSelect","RowSelect","ShowToolTips","EnableResizeColumn","CaptionVisible","ShowColumns","ImageList","Columns","CheckBoxes","ShowGridLines","IsCSMultiSelect","LastSearch"],!1),n.Object.defineProps(s,["ChildrenCount","AsyncLoading","LoadingTimeout","EnableDragAndDrop","DragAndDropMode","DragAndDropDelay","DragAndDropDetectDistance","KeepHasChild","FilterCaseSensitive","FilterDeSelect","FirstShiftSelectClearing","DeferredSelection","IgnoreRightPadding","ImageHeight","UpdateDelay","AreaSelect","SelectEditorText","EnableSearch","RightButtonSelect","EnableSortColumns","ResizeOnMouseUp","DblClickExpand","UseShiftSelect","UseCtrlSelect","EnableKeyNavigation","EnableEdit"],!0),t=s.prototype,t._HoverColor="#F8E3C5",t._ActiveColor="#E4E4E4",t._ActiveParentColor="#F4F4F4",t._SearchColor="#444",t._render=function(){var t,i,r;this._DomNode=document.createElement("div"),this._DomNode.id=this._Id,this._DomNode.className="PPTreeList PPNoSelect "+this._Class,n.initOS(this._DomNode),this._DomNode.id=this._Id,this._DomNode.tabIndex=1,t=this._Style,t&&this.setStyle(t),this._DomCaptionDiv=document.createElement("div"),this._DomCaptionDiv.className="caption",i=document.createElement("table"),r=document.createElement("thead"),this._DomCaptionTr=document.createElement("tr"),this._DomCaptionBorder=document.createElement("th"),this._DomCaptionBorder.className="captionborder",this._DomCaptionTr.appendChild(this._DomCaptionBorder),r.appendChild(this._DomCaptionTr),i.appendChild(r),this._DomCaptionDiv.appendChild(i),this._DomNode.appendChild(this._DomCaptionDiv),this._DomDiv=document.createElement("div"),this._DomDiv.className="data",this._DomTable=document.createElement("table"),this._DomColgroup=document.createElement("colgroup"),this._DomTBody=document.createElement("tbody"),this._DomTable.appendChild(this._DomColgroup),this._DomTable.appendChild(this._DomTBody),this._DomDiv.appendChild(this._DomTable),this._DomNode.appendChild(this._DomDiv),this._DomVoid=document.createElement("div"),this._DomVoid.className="void",this._DomDiv.appendChild(this._DomVoid),this._DomSpacer=document.createElement("div"),this._DomSpacer.className="spacer",this._DomNode.appendChild(this._DomSpacer),this._DomScrollVBackground=document.createElement("div"),this._DomScrollHBackground=document.createElement("div"),this._DomScrollVBackground.className="vscrollbackground",this._DomScrollHBackground.className="hscrollbackground",this._DomNode.appendChild(this._DomScrollVBackground),this._DomNode.appendChild(this._DomScrollHBackground),this._DomEditor=document.createElement("input"),this._DomEditor.className="editor",this._DomFocus=[],this._DomFocus[0]=document.createElement("div"),this._DomFocus[1]=document.createElement("div"),this._DomFocus[2]=document.createElement("div"),this._DomFocus[3]=document.createElement("div"),this._DomFocus[0].className="PPTreeListFocusTop",this._DomFocus[1].className="PPTreeListFocusBottom",this._DomFocus[2].className="PPTreeListFocusLeft",this._DomFocus[3].className="PPTreeListFocusRight",this._DomDiv.appendChild(this._DomFocus[0]),this._DomDiv.appendChild(this._DomFocus[1]),this._DomDiv.appendChild(this._DomFocus[2]),this._DomDiv.appendChild(this._DomFocus[3]),this._DomArea=document.createElement("div"),this._DomArea.className="PPTreeListSelectionArea",this._DomArea.appendChild(document.createElement("div")),this._DomNode.appendChild(this._DomArea),this._DomArea.style.display="none",this._ToolTip=new n.Ui.ToolTip({ParentNode:document.body,EnableRestoreFocus:!1,AutoReduce:!0}),this._ScrollV=new n.Ui.ScrollBar({ParentNode:this._DomNode,IsVertical:!0,IsRTL:!1}),this._ScrollV.setEnabled(this._Enabled),this._ScrollV.setDraggerMinSize(15),this._ScrollV.MoveScroll.add(this._yE,this),this._ScrollV.MovedScroll.add(this._yF,this),this._ScrollH=new n.Ui.ScrollBar({ParentNode:this._DomNode,IsVertical:!1}),this._ScrollH.setEnabled(this._Enabled),this._ScrollH.setDraggerMinSize(15),this._ScrollH.MoveScroll.add(this._agu,this),this._ScrollH.MovedScroll.add(this._bGw,this),this._SearchPanel=new n.Ui.DropPanel({ParentNode:this._DomNode,EnableResize:!1,UseScrollBox:!1,MinDropDownHeight:25,MaxDropDownWidth:Infinity,CloseOnDocumentMouseDown:!0}),this._SearchPanel.addClass("PPTreeListSearchPanel"),this._SearchPanel.Closed.add(this._csR,this),this._SearchPanel.MouseDown.add(this._csS,this),this._DomSearch=document.createElement("input"),this._DomSearch.className="PPTreeListSearchInput",this._SearchPanel.setContent(this._DomSearch),this.setColumns(this._Columns,!1),s.base._render.apply(this,arguments),this._eP={},this._jX(),this.setEnabled(this._Enabled),this._ParentNode&&this.addToNode(this._ParentNode),this._aDi(),this._WordWrap&&(this._cm(),this._atQ=!1,this.updateSize(!0)),this.setIsRTL(this._IsRTL),this._Columns.update(),this._SortSequence[0]&&this.sort(0,this._SortSequence[0],null,!0),this._CutOverflow&&(this._dA(),this._cm()),this._EnableHighlight&&this.addClass("highlighted"),n.IsIE&&n.IEVer==11&&(this._cm(),this._agu())},t._yi=function(n){return n},t._bGx=function(){this._Enabled!==!1&&(s.base._bindEvents.apply(this,arguments),n.isTouch?this._addEvent(this._DomNode,"touchstart",this._bGy):(this._addEvent(this._DomFocus[0],"contextmenu",this._aRO),this._addEvent(this._DomFocus[1],"contextmenu",this._aRO)),this._addEvent(this._DomTable,"pointerdblclick",this._bGz),this._addEvent(this._DomFocus[0],"pointerdblclick",this._aRP),this._addEvent(this._DomFocus[1],"pointerdblclick",this._aRP),this._addEvent(this._DomTable,"mouseover",this._bak),this._addEvent(this._DomTable,"mouseout",this._bal),this._addEvent(this._DomTable,"pointerclick",this._bam),this._addEvent(this._DomFocus[0],"pointerclick",this._aDj),this._addEvent(this._DomFocus[1],"pointerclick",this._aDj),this._addEvent(this._DomNode,"keydown",this._csT),this._addEvent(this._DomNode,"keyup",this._csU),this._addEvent(this._DomNode,"blur",this._oo),n.IsIE&&this._addEvent(this._DomNode,"focusin",this._bGA),this._addEvent(this._DomEditor,"keydown",this._al0),this._addEvent(this._DomSearch,"keydown",this._aDk))},t._bindEvents=function(){this._bGx()},t._bGB=function(){n.isTouch?this._k(this._DomNode,"touchstart",this._bGy):(this._k(this._DomFocus[0],"contextmenu",this._aRO),this._k(this._DomFocus[1],"contextmenu",this._aRO)),this._k(this._DomTable,"pointerdblclick",this._bGz),this._k(this._DomFocus[0],"pointerdblclick",this._aRP),this._k(this._DomFocus[1],"pointerdblclick",this._aRP),this._k(this._DomTable,"mouseover",this._bak),this._k(this._DomTable,"mouseout",this._bal),this._k(this._DomTable,"pointerclick",this._bam),this._k(this._DomFocus[0],"pointerclick",this._aDj),this._k(this._DomFocus[1],"pointerclick",this._aDj),this._k(this._DomNode,"keydown",this._db),n.IsIE&&this._k(this._DomNode,"focusin",this._bGA),this._k(this._DomNode,"blur",this._oo),this._k(this._DomEditor,"blur",this._atJ),this._k(this._DomEditor,"keydown",this._al0),this._k(this._DomSearch,"keydown",this._aDk),s.base._unBindEvents.apply(this,arguments)},t._unBindEvents=function(){this._bGB(),s.base._unBindEvents.apply(this,arguments)},t._atr=function(){s.base._atr.apply(this,arguments),this._dc(),this._Columns.update(),this._sv()},t.dispose=function(){if(this.isLive()){delete this._ImageList,this._jX();for(var t in this._KeyIndex)this._KeyIndex.hasOwnProperty(t)&&this._KeyIndex[t]._TreeNode&&this._KeyIndex[t]._TreeNode.dispose();this._TreeNode&&this._TreeNode.dispose&&this._TreeNode.dispose(),n.IsIE&&(this._DomNode.innerHTML=""),s.base.dispose.apply(this,arguments)}},t.removeFromDOM=function(){this._ScrollV&&this._ScrollV.removeFromDOM(),s.base.removeFromDOM.apply(this,arguments)},t.addToNode=function(){s.base.addToNode.apply(this,arguments),this._ScrollV&&this._ScrollV.addToNode(this._DomNode),this.updateSize(!0)},t.isDraging=function(){return this._aj&&this._aj.StartLevel!==undefined?!0:!1},t._bGC=function(t){if(this._EnableDragAndDrop&&!this.isEditing()){var i=this._m9(t.Event);i&&(this._aj={Node:i,StartTime:+new Date},n.isTouch?(this._aj.StartX=t.Event.pageX||t.Event.touches[0].pageX,this._aj.StartY=t.Event.pageY||t.Event.touches[0].pageY):(this._aj.StartX=t.Event.pageX,this._aj.StartY=t.Event.pageY),n.isTouch||(this._addEvent(this._DomTable,"mousemove",this._atS),this._addEvent(this._DomTable,"mouseup",this._aDl),n.setCapture(this._DomTable)))}},t._bGD=function(n){if(!this._EnableDragAndDrop||this.isEditing()||!this._aj)return!1;var t=n.Event.pageX||n.Event.touches[0].pageX,i=n.Event.pageY||n.Event.touches[0].pageY,r=Math.abs(t-this._aj.StartX)+Math.abs(i-this._aj.StartY);return!this.isSelecting()&&r>this._DragAndDropDetectDistance&&+new Date>this._DragAndDropDelay+this._aj.StartTime?(this._csV(n),!0):!1},t._aDm=function(){n.isTouch||(n.releaseCapture(this._DomTable),this._k(this._DomTable,"mousemove",this._atS),this._k(this._DomTable,"mouseup",this._aDl)),this.isDraging()&&(this._aj.Node.Expanded=this._aj.StartExpand,this._jX(),this._dA(!0),this._cm()),delete this._aj},t._csV=function(t){var r=this._aj.Node,f={Event:t.event,Node:this._a4(r),Cancel:!1},i,u;if(this.NodeDragStart.fire(this,f),f.Cancel){this._aRQ(t);return}if(this._DragAndDropMode==="MultiDrag"&&(this._MultiSelect||this._IsCSMultiSelect)){for(i=this._aj.Next,this._aj.Nodes=this.getSelectedNodes(),this._aj.Parent=this._a4(this._aj.Node).getParentNode(),this._aj.Node.Selected||this._aj.Nodes.push(this._a4(this._aj.Node)),u=0;u<this._aj.Nodes.length;u+=1)this._aj.Nodes[u]._JSON.Visible=!1,this._aj.Nodes[u]._JSON===i&&(i=this._RowIndex[i._bP+1]);this._aj.Node.Visible=!0,this._aj.Nodes.length>1&&(this._aj.Node._DomContent[0].innerHTML="... ["+this._aj.Nodes.length+"] ..."),i&&i._Dom&&i._Dom.parentElement===this._DomTBody?this._DomTBody.insertBefore(this._aj.Node._Dom,i._Dom):this._DomTBody.appendChild(this._aj.Node._Dom)}else this._aj.Nodes=[this._a4(r)];this._aj.StartExpand=r.Expanded,this._aj.Node.Expanded=!1,this.update(),this._aj.StartLevel=r._g1,this._aj.StartIndex=r._bP,this._aj.Level=this._aj.StartLevel,this._aj.Index=this._aj.StartIndex,this._aj.Data=null,this._aj.Offset=n.calculateOffset(this._DomNode),n.addClass(r._Dom,"draged")},t._bGE=function(n){if(!this._aj.Prev)return 0;var t=this._KeepHasChild&&!this._aj.Prev.HasChild?this._aj.Prev._g1:this._aj.Prev._g1+1,i=Math.min(this._aj.Next?this._aj.Next._g1:0,this._aj.Prev._g1+(this._aj.Prev.Nodes&&this._aj.Prev.Nodes.length>(this._aj.Node._f2===this._aj.Prev?1:0)&&this._aj.Prev.Expanded?1:0));return n>t&&(n=t),n<i&&(n=i),n},t._ban=function(t,i){var u=this._aj.Node,f=this._aj.Level,h,o;t&&t.Event&&(n.isTouch?t.Event.targetTouches[0]?(h=document.elementFromPoint(t.Event.targetTouches[0].clientX,t.Event.targetTouches[0].clientY),u=this._m9({target:h}),f=this._aj.StartLevel+(this._IsRTL?-1:1)*Math.floor((t.Event.targetTouches[0].clientX-this._aj.StartX+10)/20),this._aj.TouchTarget=u,this._aj.TouchLevel=f):(u=this._aj.TouchTarget,f=this._aj.TouchLevel):(u=this._m9({target:document.elementFromPoint(t.Event.pageX,t.Event.pageY)}),f=this._aj.StartLevel+(this._IsRTL?-1:1)*Math.floor((t.Event.pageX-this._aj.StartX+10)/20))),u||(u=this._aj.Node),this._aj.NewIndex=u._bP,this._aj.Prev=this._RowIndex[this._aj.NewIndex+(this._aj.NewIndex>this._aj.Index?0:-1)],this._aj.Next=this._RowIndex[this._aj.NewIndex+(this._aj.NewIndex>=this._aj.Index?1:0)],this._aj.NewLevel=this._bGE(i!==undefined?i:f);for(var e=null,s=null,r=this._a4(this._aj.Prev);r&&this._aj.NewLevel<=r._JSON._g1;)r=r.getParentNode();if(r&&!r.getExpanded())o=r.getNodes(),o&&o.getCount()&&(s=o.getItem(0));else{if(this._aj.Prev&&this._aj.Prev._g1>=this._aj.Level)for(e=this._a4(this._aj.Prev);e.getLevel()>this._aj.Level;)e=e.getParentNode();s=this._aj.Next&&this._aj.Next._g1===this._aj.Level?this._a4(this._aj.Next):null}return{Event:t&&t.Event,Node:this._a4(this._aj.Node),Nodes:this._aj.Nodes,Index:this._aj.NewIndex,Level:this._aj.NewLevel,TargetNode:this._a4(this._aj.Prev),TargetParent:r,TargetLevel:this._aj.Prev?this._aj.Prev._g1:0,TargetPrev:e,TargetNext:s,Cancel:!1,Data:this._aj.Data}},t._csW=function(t){if(this.isDraging()){this._bao(t);var i=this._aj&&this._aj.Node;i&&n.addClass(i._Dom,"draged")}},t._bao=function(t){var e=this._ban(t),r;if(e){var i=this._aj.Node,f=this._aj.Index,s=this._aj.Level,u=this._aj.NewIndex,o=this._aj.NewLevel;if(f!==u||s!==o){if(this.NodeDrag.fire(this,e),e.Cancel){this._aRQ();return}if(this._aj.Data=e.Data,this._aj.NewLevel!==e.Level&&(o=this._bGE(e.Level)),f<u)for(r=f+1;r<=u;r++)this._RowIndex[r]&&(this._RowIndex[r]._bP-=1);if(f>u)for(r=u;r<f;r++)this._RowIndex[r]&&(this._RowIndex[r]._bP+=1);f!=u&&(this._RowIndex.splice(f,1),this._RowIndex.splice(u,0,i)),i._bP=u,this._aj.Level=o,this._aj.Index=u,this._aj.Next?this._aj.Next._Dom&&this._aj.Next._Dom.parentElement===this._DomTBody&&this._DomTBody.insertBefore(i._Dom,this._aj.Next._Dom):this._DomTBody.appendChild(i._Dom),i._DomIcon&&i._DomIcon.parentElement&&i._DomIcon.parentElement.removeChild(i._DomIcon),i._DomBox&&i._DomBox.parentElement&&i._DomBox.parentElement.removeChild(i._DomBox),i._Dom.firstChild.firstChild.innerHTML=new Array(this._aj.Level+2).join('<span class="PPline"><\/span>'),this._CheckBoxes&&i._DomBox&&i._Dom.firstChild.firstChild.appendChild(i._DomBox),i._DomIcon&&i._Dom.firstChild.firstChild.appendChild(i._DomIcon),n.addClass(i._Dom,"draged")}}},t._bGF=function(t){var r=this._aj.Node,i,u,f,e;for(n.removeClass(r._Dom,"draged"),u=this._ban(t,this._aj.Level),this.NodeDragEnd.fire(this,u),i=0;i<this._aj.Nodes.length;i+=1)r=this._aj.Nodes[i],r._JSON.Visible=!0;if(u.Cancel){this._aRQ();return}for(f=u.TargetParent,e=u.TargetNext,f||(f=this),this.beginUpdate(),i=0;i<this._aj.Nodes.length;i+=1)r=this._aj.Nodes[i],this.deleteNode(r),f.getNodes().insertNode(r,e);this._aDm(),this.endUpdate(),this.NodeDragFinished.fire(this,{Event:t.Event,Node:r,Canceled:!1})},t._atS=function(t,i){if(!this.isDraging()){this._bGD(i);return}if(this._agv&&(n.clearTimeout(this._agv),this._agv=null),this._bao(i),this._aj){var r=this._aj.Offset;i.Event.pageY>r.Y+this.getHeight()?this._agv=n.setTimeout(this._bap,10,{speed:200/this._NodesCount},this):i.Event.pageY<r.Y+this._CaptionHeight&&(this._agv=n.setTimeout(this._bap,10,{speed:-200/this._NodesCount},this))}},t._aDl=function(t,i){if(!this.isDraging()){this._aDm();return}this._agv&&(n.clearTimeout(this._agv),this._agv=null),this._bGF(i)},t._aRQ=function(){var n=this._ban();n.Canceled=!0,delete n.Cancel,this.NodeDragEnd.fire(this,n),n={Node:this._a4(this._aj.Node),Nodes:this._aj.Nodes,Canceled:!0},this._aDm(),this._jX(),this._dA(!0),this._cm(),this.NodeDragFinished.fire(this,n)},t._bap=function(t){var i=t.speed;this._ScrollV.setValue(this._ScrollV.getValue()+i,!1),this._yE(t,{}),this._yF(t,{}),this._agv=n.setTimeout(this._bap,100,t,this)},t.deleteNode=function(n){var t=n.getParentNode();t?t.getNodes().deleteNode(n):this.getNodes().deleteNode(n)},t._bGy=function(n,t){if(!(t.Event.touches.length>1)){var i=this._m9(t.Event);i&&(t.Node=this._a4(i)),t.Cancel=!1,this.NodeTouchStart.fire(this,t),t.Cancel!=!0&&(this._addEvent(this._DomNode,"touchmove",this._bGG),this._addEvent(this._DomNode,"touchend",this._bGH),this._aRR=t.Event.targetTouches[0].clientX,this._baq=t.Event.targetTouches[0].clientY,this._csX=100/(this._Columns.getFullWidth()-this._aa+2+this._eN()),this._EnableDragAndDrop&&this._bGC(t))}},t._bGG=function(n,t){var i,r,u,f;if(this._EnableDragAndDrop){if(this.isDraging())return this._bao(t),!1;this._bGD(t)}if(!(this.DragStart.getCount()>0))return i=t.Event.targetTouches[0].clientX,r=t.Event.targetTouches[0].clientY,this._FirstVisibleIndex+=(this._baq-r)/this._ViewNodeHeight,u=this._gq(),this._agw(),this._aRR-i&&this._ScrollH.getIsVisible()&&(f=this._ScrollH.getValue()+this._csX*(this._aRR-i),this._ScrollH.setValue(f)),this._aRR=i,this._baq=r,u?void 0:!1},t._bGH=function(n,t){if(this._EnableDragAndDrop){if(this.isDraging()){this._bGF(t);return}this._aDm()}delete this._aRR,delete this._baq,this._k(this._DomNode,"touchmove",this._bGG),this._k(this._DomNode,"touchend",this._bGH),this._dc()},t._bk=function(t,i){var c=this.getCaptionHeight(),f=this._m9(i.Event),u=this._aDn(i.Event),r,o,e,h;if(u!="PPline"&&u!="PPicon"&&u!="PPnode"){if(this._csY=f,this._aDo=!1,i.Event.pointerType===n.Ui.PointerEventType.Mouse){if(r=n.calculateOffset(this._DomNode),o=n.Ui.getPixelSize(this._DomNode,"padding-top")+n.Ui.getPixelSize(this._DomNode,"border-top-width"),r.W=this._DomNode.offsetWidth,r.tableHeight=this._DomTable.offsetHeight,r.tableWidth=this._DomTable.offsetWidth,e=this._agx({target:document.elementFromPoint(i.Event.clientX,r.Y+o+c)}),this._sz&&n.clearTimeout(this._sz),i.Event.button>1&&(n.getCaptureNode()||n.Ui.Control._DragDrop.Data))return!1;if(this._sy=i.Event.shiftKey,this._ot=i.Event.ctrlKey,f&&e>-1&&(h={Node:this._a4(f),Type:u,AltKey:i.Event.altKey,CtrlKey:this._ot,ShiftKey:this._sy},this.NodeMouseDown.fire(this,h)),this._bGC(i),(this._MultiSelect||this._IsCSMultiSelect)&&!(i.Event.button>1)&&this._AreaSelect&&!this._EditNode&&(i.Event.target.className=="data"||f&&u!=="PPnode"&&u!=="PPcbox"&&u!=="text")&&(this._aDm(),this._SelectionX=i.Event.pageX-r.X,this._SelectionY=i.Event.pageY-r.Y,this._SelectionPos=r,this._SelectionColumn=e,this._SelectionNode=f,this._DomArea.style.left=this._g(this._SelectionX)+"px",this._DomArea.style.top=this._g(this._SelectionY)+"px",this._DomArea.style.width="0",this._DomArea.style.height="0",this._RowIndex.indexOf(this._FocusedNode)===-1&&(this._FocusedNode=null),n.setCapture(document.body),this._addEvent(document.body,"mousemove",this._bGI),this._addEvent(document.body,"mouseup",this._bGJ)),this._aDo)return this._aDo=!1,!1}return s.base._bk.apply(this,arguments)}},t._bGI=function(t,i){var r,v,o,s,h,a;if(!this._yG){if(this._dDu){this._aRQ(i);return}r=n.calculateOffset(this._DomNode),this._SelectionPos.X=r.X,this._SelectionPos.Y=r.Y,v=this.getCaptionHeight(),this._DomArea.style.display="none",this._DomFocus[0].style.display="none",this._DomFocus[1].style.display="none",this._DomFocus[2].style.display="none",this._DomFocus[3].style.display="none";var y=i.Event.pageX-r.X,p=i.Event.pageY-r.Y,u=this._m9({target:document.elementFromPoint(this._IsRTL?this._SelectionPos.X+this._SelectionPos.W-2:this._SelectionPos.X+2,i.Event.clientY)}),e=Math.min(p,this._SelectionY)<this._SelectionPos.tableHeight+this._CaptionHeight&&Math.min(y,this._SelectionX)<this._SelectionPos.tableWidth?0:-1;if(this._DomArea.style.display="block",this._RowSelect&&this._FocusedNode&&(this._DomFocus[0].style.display="block",this._DomFocus[1].style.display="block",this._DomFocus[2].style.display="block",this._DomFocus[3].style.display="block"),this._SelectionCoord={x:i.Event.pageX-this._SelectionPos.X,y:i.Event.pageY-this._SelectionPos.Y},this._bGK(),this._atT&&n.clearTimeout(this._atT),!this._SelectionKeys){if(Math.abs(i.Event.pageY-this._SelectionY)<7)return;this._SelectionKeys=this.getAllSelectedKeys()}(e==-1&&this._IsRTL?i.Event.clientX>this._SelectionPos.X+this._SelectionPos.W:i.Event.clientX<this._SelectionPos.X)&&(e=0);var f=this._ot&&this._UseCtrlSelect||this._sy&&this._UseShiftSelect,c=this._SelectionColumn>-1||e>-1,l=!this._SelectionNode&&this._SelectionY>this._SelectionPos.Y+this._CaptionHeight;!u&&l&&i.Event.pageY<=this._SelectionPos.Y+this._CaptionHeight&&(u=this._RowIndex[0]),u?c?(o=this._SelectionNode?this._SelectionNode:this._RowIndex[this._RowIndex.length-1],s=this._ot&&this._UseCtrlSelect,i.Event.pageY>this._SelectionY?this._al7(o,u,!0,this._SelectionKeys,f,s):this._al7(u,o,!0,this._SelectionKeys,f,s)):this._EmptySelection&&!f?this.clearSelection(!1):this._bar():(h=i.Event.pageY>this._SelectionPos.Y+this._CaptionHeight,a=i.Event.pageY<=this._SelectionPos.tableHeight+this._SelectionPos.Y+this._CaptionHeight,this._atT=n.setTimeout(this._bGL,10,{self:this,speed:(h?200:-200)/this._NodesCount,doSelect:c}),h&&l&&!a&&(this._EmptySelection&&!f?this.clearSelection(!1):this._bar()))}},t._bar=function(){if(this._RowIndex.length>0&&this._RowIndex[0]!=null){var n=this._RowIndex[this._RowIndex.length-1],t=this._SelectionKeys.indexOf(n.Key)>-1;this._al7(n,n,t,this._SelectionKeys,!0,!1)}},t._bGK=function(){var n,t;this._SelectionCoord.x>this._SelectionX?(this._DomArea.style.left=this._g(this._SelectionX)+"px",this._DomArea.style.width=this._g(Math.min(this._SelectionCoord.x,this.getWidth())-this._SelectionX)+"px"):(n=Math.max(this._SelectionCoord.x,0),this._DomArea.style.left=this._g(n)+"px",this._DomArea.style.width=this._g(this._SelectionX-n)+"px"),this._SelectionCoord.y>this._SelectionY?(this._DomArea.style.top=this._g(this._SelectionY)+"px",this._DomArea.style.height=this._g(Math.min(this._SelectionCoord.y,this.getHeight())-this._SelectionY)+"px"):(t=Math.max(this._SelectionCoord.y,0),this._DomArea.style.top=this._g(t)+"px",this._DomArea.style.height=this._g(this._SelectionY-t)+"px")},t.isSelecting=function(){return this._SelectionX!==undefined},t._bGJ=function(t,i){var h,o,l,s;n.releaseCapture(document.body),this._atT&&n.clearTimeout(this._atT),this._k(document.body,"mousemove",this._bGI),this._k(document.body,"mouseup",this._bGJ),h=this._SelectionKeys,o=this._SelectionPos,this._DomArea.style.display="none",delete this._SelectionY,delete this._SelectionX,delete this._SelectionPos,delete this._SelectionCoord,delete this._SelectionNode,delete this._SelectionKeys,delete this._atT;var e=this._m9(i.Event),a=this._aDn(i.Event),v=this._agx(i.Event);if(!h){this._aDp(e,a,v,i);return}l={target:document.elementFromPoint(this._IsRTL?o.X+o.W-2:o.X+2,i.Event.clientY)},e=this._m9(l);for(var u=this.getAllSelectedKeys(),c=u.length,f={},r=0;r<c;r++)f[u[r]]=!0;for(u=h,c=u.length,r=0;r<c;r++)f[u[r]]=f[u[r]]===undefined?!0:!1;s=[];for(r in f)f[r]&&s.push(this.getNodeByKey(r));s.length>0&&(e&&this._ags(e),this._eO(e,s))},t.highlight=function(n,t,i){t=!!t,i==undefined&&(i=[0]),Array.isArray(i)||(i=[i]),this._HighlightCaseSensetive=t,this._HighlightText=n.toString(),this._HighlightColumns=i,this._dA(),this._cm()},t._bGL=function(t){var i=t.self,o;if(i._SelectionNode){var f=t.speed,s=t.doSelect,r=null,u=i._ot&&i._UseCtrlSelect||i._sy&&i._UseShiftSelect,e=i._ot&&i._UseCtrlSelect,h=i._FirstVisibleIndex;i._ScrollV.setValue(i._ScrollV.getValue()+f,!1),s?f>0?(r=i._RowIndex[i._LastVisibleIndex],i._al7(i._SelectionNode,r,!0,i._SelectionKeys,u,e)):(r=i._FirstVisibleIndex>0?i._RowIndex[Math.floor(i._FirstVisibleIndex)]:i._RowIndex[0],i._al7(r,i._SelectionNode,!0,i._SelectionKeys,u,e)):this._EmptySelection&&!u?i.clearSelection(!1):i._bar(),i._yE(t,{}),o=h-i._FirstVisibleIndex,i._SelectionY+=o*21,i._bGK(),i._atT=n.setTimeout(i._bGL,100,t)}},t._bGA=function(n,t){var i=t.Event.target;i!==this._DomNode&&i.tagName!=="INPUT"&&this._DomNode.focus()},t._csT=function(t,i){var r,u,f,e,o;if(i.Event.keyCode===n.Key.F3&&this._EnableSearch||i.Event.ctrlKey&&i.Event.keyCode===n.Key.F&&this._EnableSearch)return this.showSearch(),i.Event.stopPropagation(),i.Event.returnValue=!1,i.Event.keyCode=0,!1;if(i.Event.keyCode===n.Key.Shift&&(this._aRS=!0),this._EnableKeyNavigation){r=this._FocusedNode,u=this._FocusedNode;switch(i.Event.keyCode){case n.Key.Plus:r&&this._os(r);break;case n.Key.Right:r&&!this._IsRTL&&(u=this._aDq(r)),r&&this._IsRTL&&(u=this._aDr(r));break;case n.Key.Minus:r&&this._agt(r);break;case n.Key.Left:r&&!this._IsRTL&&(u=this._aDr(r)),r&&this._IsRTL&&(u=this._aDq(r));break;case n.Key.Space:r&&(f=this._lM(r,i.Event),f||(e=this._atR(r,!r.Selected,!1,i.Event.ctrlKey),this._eO(r,e)),this._by(r));break;case n.Key.Up:u=this._bGM(!1);break;case n.Key.Down:u=this._bGM(!0)}if(u&&u!==this._FocusedNode)return this._FocusedNode=u,this._csZ(),this._MultiSelect||u.Selected||i.Event.ctrlKey||!this._SelectUseArrowKeys||(f=this._lM(u,i.Event),f||(e=this._atR(u,!0,!1,!1),this._eO(u,e))),this._cm(),o=this._RowIndex.indexOf(u),o<=this._FirstVisibleIndex&&this.scrollToNode(this._a4(u),0),o>=this._LastVisibleIndex&&this.scrollToNode(this._a4(u),1),!1}},t._csZ=function(){this.addClass("PPTreeListNoTransition"),this._bGN&&n.clearTimeout(this._bGN),this._bGN=n.setTimeout(this._cs0,150,{self:this})},t._cs0=function(n){var t=n.self;t.isLive()&&(delete this.__muteTransionsTimeout,t.removeClass("PPTreeListNoTransition"))},t._csU=function(n,t){t.Event.keyCode===16&&(this._aRS=!1,this._bas=null)},t._yE=function(){if(this._ViewNodeHeight)if(this._WordWrap)this._FirstVisibleIndex=this._ScrollV.getValue()*(this._NodesCount-this._TreeLastNodesCount+this._ViewMarginTop/this._ViewNodeHeight)/100-this._ViewMarginTop/this._ViewNodeHeight;else{var i=this._ScrollV.getValue()*(this._NodesCount-this._VisibleNodesCount+(this._ViewMarginBottom+this._ViewMarginTop)/this._ViewNodeHeight)/100,r=this._ViewMarginTop/this._ViewNodeHeight;this._FirstVisibleIndex=this._ScrollV.getValue()>=100?Math.ceil(i)-r:Math.round(i)-r}this._gq(),this._agw()},t._yF=function(t,i){this._Columns.update(),this._dc(),this._cm(),n.IsIE&&n.IEVer==11&&(this._cm(),this._agu(t,i)),this.isDraging()&&this._csW(i)},t._agu=function(){var e=this._eN(),o=this._Columns.getMenuIconWidth(),s=this._Columns.getFullWidth(),r=0,u=this._ScrollH.getValue(),f;u>100&&(u=100),(!u||u<0)&&(u=0),f=s-(this._aa-Math.max(e,o)-1),r=u/100*f,this._ScrollHOffset=Math.floor(r),this._IsRTL&&(n.IsFF?r=u/100*-f:n.IsIE||(r=(1-u/100)*f)),r=Math.floor(r),this._DomCaptionDiv.scrollLeft=r,this._DomDiv.scrollLeft=r,this._Columns._bGt(),n.IsIE&&n.IEVer==11&&this._sv()},t._bGw=function(){this._cm()},t._a7=function(n,t){var i,r,u,f;this._Enabled&&((i=this._m9(t.Event),r=this._agx(t.Event),i&&r>-1&&(this._ags(i),this._RightButtonSelect&&i&&!this._EditNode&&(this._IsCSMultiSelect&&i.Selected||(u=this._lM(i,t.Event),u||(f=this._atR(i,!0,!1,t.Event.ctrlKey),this._eO(i,f)),this._by(i))),t.TreeNode=this._a4(i)),this._EditNode&&this._EditNode==i)||s.base._a7.apply(this,arguments))},t._aRO=function(n,t){this._RightButtonSelect&&this._aDj(n,t);var i=this._m9(t.Event);t.TreeNode=this._a4(i),s.base._a7.apply(this,arguments)},t._bGM=function(n){for(var t=this._FocusedNode,i=t?t._bP:0;;){if(i+=n?1:-1,t=this._RowIndex[i],!t)return this._FocusedNode;if(t.CanFocus!==!1)return t}},t._aDr=function(){if(this._FocusedNode.Expanded&&this._FocusedNode.HasChild)return this._agt(this._FocusedNode),this._FocusedNode;var n=this._FocusedNode._f2;return n&&n.CanFocus!==!1?n:this._FocusedNode},t._aDq=function(){var n,t,i;if(!this._FocusedNode.Expanded&&this._FocusedNode.HasChild)return this._os(this._FocusedNode),this._FocusedNode;for(n=this._FocusedNode&&this._FocusedNode.Nodes||[],t=n[0],i=0;i<n.length;i++)if(n[i]._atU){t=n[i];break}return t&&t.CanFocus!==!1?t:this._FocusedNode},t._m9=function(n,t){for(var i=t?n.toElement:n.target,r=null,u;i;){if(i.tagName==="TR"){if(u=i.getAttribute("nodeKey"),u===undefined||!this._KeyIndex[u])return null;r=this._KeyIndex[u];break}i=i.parentNode}return!r||!r._Dom?null:r},t._aDn=function(n){var i=n.target,t=null;return i&&(t=i.className,t=t.indexOf&&t.indexOf(" ")>0?t.substr(0,t.indexOf(" ")):t),t},t._agx=function(n,t){var i=t?n.toElement:n.target,r=null,u;if(!i)return-1;while(i.parentNode){if(i.tagName=="TD"){r=i;break}i=i.parentNode}return r&&this._DomTBody.contains(r)?(u=r.cellIndex,u>=this._Columns.getCount())?-1:u:-1},t._oo=function(){this._sz&&n.clearTimeout(this._sz)},t._bam=function(t,i){if(!this._agy){this._sz&&n.clearTimeout(this._sz);var u=this._aDn(i.Event),r=this._m9(i.Event),f=this._agx(i.Event);r&&(this._sy=i.Event.shiftKey,this._ot=i.Event.ctrlKey,this._bat=i.Event.altKey,this._aDp(r,u,f,i))}},t._aDj=function(n,t){this._FocusedNode&&(this._DomFocus[0].style.display="none",this._DomFocus[1].style.display="none",this._DomFocus[2].style.display="none",this._DomFocus[3].style.display="none",this._cs1(n,t),this._DomFocus[0].style.display="block",this._DomFocus[1].style.display="block",this._DomFocus[2].style.display="block",this._DomFocus[3].style.display="block")},t._cs1=function(n,t){var i={target:document.elementFromPoint(t.Event.pageX,t.Event.pageY)},r=this._aDn(i),u=this._m9(i),f=this._agx(i);this._aDp(u,r,f,t)},t._aDp=function(n,t,i,r){if(n&&i>-1){switch(t){case"PPline":return;case"PPnode":this._cs2(n,r);return}var u={Node:this._a4(n),Type:t,AltKey:this._bat,CtrlKey:this._ot,ShiftKey:this._sy,Cancel:!1};if(this.NodeClick.fire(this,u),this._sy=r.Event.shiftKey,this._ot=r.Event.ctrlKey,u.Cancel)return;t=="PPcbox"?this._cs3(n,r):this._cs4(n,i,t,r)}},t._cs2=function(n){(n.Nodes&&n.Nodes.length||n.HasChild)&&(n.Expanded?this._agt(n):this._os(n))},t._cs3=function(n){n.Checked=!n.Checked,this._by(n);var i=this._a4(n);this.CheckedChanged.fire(this,{Node:i})},t._cs4=function(t,i,r,u){var f,e=!1;if(!this._EditNode||this._EditNode!=t){if(this._aRS&&!u.Event.shiftKey&&(this._aRS=!1,this._bas=null),this._UseShiftSelect&&this._FirstShiftSelectClearing&&this._aRS&&!this._bas&&(this._MultiSelect||this._IsCSMultiSelect)){if(e=this._lM(t,u.Event),e)return;this._bas=t,f=this._al7(t,t,!0,this.getAllSelectedKeys(),!1,!1),t._TreeNode&&t._TreeNode.isLive()&&this._ags(t),this._eO(t,f),t._TreeNode&&t._TreeNode.isLive()&&this._by(t);return}if(u.Event.shiftKey&&this._UseShiftSelect&&this._FocusedNode&&(this._MultiSelect||this._IsCSMultiSelect)){if(e=this._lM(t,u.Event),e)return;f=this._al7(this._FocusedNode,t,!0,this.getAllSelectedKeys(),!1,!1),t._TreeNode&&t._TreeNode.isLive()&&this._ags(t),this._eO(t,f);return}if(u.Event.ctrlKey&&this._UseCtrlSelect&&this._FocusedNode&&(this._MultiSelect||this._IsCSMultiSelect)){if(e=this._lM(t,u.Event),e)return;f=this._atR(t,!t.Selected,!1,u.Event.ctrlKey),t._TreeNode&&t._TreeNode.isLive()&&this._ags(t),this._eO(t,f);return}var h=new Date,o=h.getTime(),s=n.calculateMouseButton(u.Event);(!this._LastClickTime||this._LastClickNode!==t||this._LastClickTime+500<o)&&(t===this._FocusedNode&&r==="text"&&this._EnableEdit&&i>=0&&this._Columns.getItem(i)._Editable&&t.Editable!==!1?this._bau(t,i):(n.isTouch||s===n.MouseButton.Left||this._RightButtonSelect&&s===n.MouseButton.Right)&&(t._TreeNode&&t._TreeNode.isLive()&&this._ags(t),t._Dom&&(t.CanSelect!==!1||t.CanFocus!==!1)&&n.addClass(t._Dom,"hover"),this._bGO={event:u.Event,node:t,ctrl:u.Event.ctrlKey,value:!t.Selected||this._IsCSMultiSelect&&!u.Event.ctrlKey},this._DeferredSelection?this._atV=n.setTimeout(this._aDs,500,null,this):this._aDs())),this._LastClickTime=o,this._LastClickNode=t}},t._aDs=function(){var i,e,r;if(this._atV&&(n.clearTimeout(this._atV),delete this._atV),i=this._bGO,i&&this.isLive()){var o=i.event,t=i.node,u=i.ctrl,f=i.value;(delete this._bGO,e=this._lM(t,o),e)||(r=this._atR(t,f,!1,u),u&&this._UseCtrlSelect&&t.Nodes&&(this._MultiSelect||this._IsCSMultiSelect)&&(r=r.concat(this._al6(t.Nodes,f))),this._eO(t,r),t._TreeNode&&t._TreeNode.isLive()&&this._by(t))}},t._bGz=function(t,i){var s,u;this._sz&&n.clearTimeout(this._sz);var r=this._m9(i.Event),f=this._agx(i.Event),e=this._aDn(i.Event),o=e==="PPcbox";if(r&&f>-1){if(!this._EditNode&&!o&&(this._sy=i.Event.shiftKey,this._ot=i.Event.ctrlKey,this._bat=i.Event.altKey,s=this._a4(r),u={Node:s,Type:e,AltKey:this._bat,CtrlKey:this._ot,ShiftKey:this._sy,Cancel:!1,Column:f},this.NodeDblClick.fire(this,u),u.Cancel))return;this._atV&&r==this._LastClickNode&&this._aDs(),!this._DblClickExpand||this._EditNode||o||(r.Expanded?this._agt(r):this._os(r))}},t._aRP=function(t,i){if(this._sz&&n.clearTimeout(this._sz),this._FocusedNode){this._sy=i.Event.shiftKey,this._ot=i.Event.ctrlKey;var r=this._a4(this._FocusedNode);this.NodeDblClick.fire(this,{Node:r})}},t.isEditing=function(){return this._EditNode?!0:!1},t._bau=function(t,i){this._sz&&n.clearTimeout(this._sz),this._sz=n.setTimeout(this._acf,500,{self:this,node:t,column:i})},t._acf=function(t){var i=t.self,r=t.node,u=t.column,f,s,o,e;if(i._EditNode!==r||i._EditColumn!==u){if(i._EditNode&&i._oq(),!r._DomColumns||!r._DomColumns[u])return;if(u===0){if(r.Text instanceof n.Ui.Control)return}else if(r.Columns[u-1]instanceof n.Ui.Control)return;if(u>=0){if(n.removeClass(i._DomNode.className,"PPNoSelect"),n.removeClass(document.body,"PPNoSelect"),document.body.onselectstart=null,s=i._a4(r),o={Node:s,Column:u,Cancel:!1},i.NodeEditing.fire(i,o),o.Cancel)return;r._bP&&r._bP>=i._LastVisibleIndex&&i.scrollToNode(i._a4(r),1),i._ShowColumns?(e=i._Columns.getItem(u),f=(e._Width!==null?e._Width:e.getVisibleWidth())-8):f=i._aa-i._eN()-8,r._DomColumns[u].className.substr(0,4)==="tree"&&(i._WordWrap?(f=r._DomContent[u].innerHTML="x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x",f=r._DomContent[u].offsetWidth-6):f=f-r._DomControls.offsetWidth),r._DomContent[u].innerHTML="",r._DomContent[u].appendChild(i._DomEditor),n.addClass(i._DomTable,"editing"),n.addClass(r._Dom,"editing"),n.addClass(r._DomContent[u],"edit"),i._DomVoid.style.height="20px",i._DomEditor.value=n.String.unescapeHTML(u?r.Columns[u-1]:r.Text),i._DomEditor.style.width=i._g(f)+"px",i._DomEditor.focus(),i._EditNode=r,i._EditColumn=u,i._DomFocus[0].style.display="none",i._DomFocus[1].style.display="none",i._DomFocus[2].style.display="none",i._DomFocus[3].style.display="none",i._SelectEditorText&&n.setTimeout(i._cs5,0,{Context:i,Target:i._DomEditor}),i._addEvent(i._DomEditor,"blur",i._atJ),i._addEvent(document,"mousedown",i._aRT),i._ScrollV.setEnabled(!1),i._ScrollH.setEnabled(!1),i._DomNode.scrollTop=0}}},t._cs5=function(t){t.Target.select(),n.IsFF&&t.Target.setSelectionRange(0,t.Target.value.length)},t._oq=function(t){var s;if(this._EditNode){var i=this._EditNode,r=this._EditColumn,f=this._a4(i),u=n.String.escapeHTML(this._DomEditor.value),e=r?i.Columns[r-1]:i.Text,o={Node:f,Column:r,Value:u,OldValue:e,Esc:!1,Cancel:!1};if(!t&&(this.NodeEditFinish.fire(this,o),o.Cancel)){this._aDo=!0,this._agy=!0;return}this._aDo=!1,this._agy=!1,e!=u?(r?i.Columns[r-1]=u:i.Text=u,this._k(this._DomEditor,"blur",this._atJ),this._k(document,"mousedown",this._aRT),this._ScrollV.setEnabled(this._Enabled),this._ScrollH.setEnabled(this._Enabled),n.removeClass(this._DomTable,"editing"),n.removeClass(i._Dom,"editing"),n.removeClass(i._DomContent[r],"edit"),this._DomVoid.style.height="",this._DomVoid.style.display="",i._DomContent[r].innerHTML="",i._Dom.className="",i._DomColumns[0].className="",this._yD(i,r,u),this._by(i),this._EditNode=null,this._EditColumn=null,this.NodeEdited.fire(this,{Node:f,Column:r}),n.addClass(this._DomNode.className,"PPNoSelect"),n.addClass(document.body,"PPNoSelect"),document.body.onselectstart=function(){return!1}):this._or(!0),s=this._WordWrap?this._Columns.isWideTree():this._Columns.update(),this._aDe(s),this._jX(),this._dc()}},t._or=function(t){var u,o;if(this._aDo=!1,this._agy=!1,this._EditNode){var i=this._EditNode,r=this._EditColumn,f=this._a4(i),s=n.String.escapeHTML(this._DomEditor.value),e=r?i.Columns[r-1]:i.Text;if(!t&&(u={Node:f,Column:r,Value:s,OldValue:e,Esc:!0,Cancel:!1},this.NodeEditFinish.fire(this,u),u.Cancel))return;this._EditNode=null,this._EditColumn=null,this._k(this._DomEditor,"blur",this._atJ),this._k(document,"mousedown",this._aRT),this._ScrollV.setEnabled(this._Enabled),this._ScrollH.setEnabled(this._Enabled),n.removeClass(this._DomTable,"editing"),n.removeClass(i._Dom,"editing"),n.removeClass(i._DomContent[r],"edit"),this._DomVoid.style.height="",this._DomVoid.style.display="",i._DomContent[r].innerHTML="",i._Dom.className="",i._DomColumns[0].className="",this._yD(i,r,e),this._by(i),o=this._WordWrap?this._Columns.isWideTree():this._Columns.update(),this._aDe(o),n.addClass(this._DomNode.className,"PPNoSelect"),n.addClass(document.body,"PPNoSelect"),document.body.onselectstart=function(){return!1},this.NodeEditCanceled.fire(this,{Node:f,Column:r,Esc:!t})}},t._aDi=function(n){var t=[],u,i,r;if(this._FilterDeSelect&&(u=this.getRootNode(),this._bGP(null,u._JSON.Nodes,u._JSON.NodesFilter,t),this._SelectedNode&&this._SelectedNode._qp&&(t.push(this._SelectedNode),this._SelectedNode.Selected=!1,this._SelectedNode=null)),!this._EmptySelection&&!this._SelectedCount)if(this._FocusedNode)this._FocusedNode.Selected=!0,this._sw(this._FocusedNode),this._SelectedCount+=1;else for(i in this._RowIndex)if(this._RowIndex[i]&&this._RowIndex[i].CanSelect!==!1){this._RowIndex[i].Selected=!0,this._sw(this._RowIndex[i]),this._SelectedCount+=1;break}if(!this._MultiSelect&&!this._IsCSMultiSelect){for(r in this._KeyIndex)this._KeyIndex[r].Selected&&(this._KeyIndex[r].Selected=!1,this._SelectedNode=this._KeyIndex[r]);this._SelectedNode&&(this._SelectedNode.Selected=!0)}n!==!1&&t.length&&this._eO(t[0],t)},t._yD=function(t,i,r){var e,s,h,u,o,f;if(t&&t._Dom&&t._DomColumns[i]){if(r===undefined&&(r=""),r instanceof n.Ui.Control){t._DomColumns[i].className="PPTreeListTdComponent",r.removeFromDOM(),t._DomContent[i].innerHTML="",r.addToNode(t._DomContent[i]),e=r.getEnabled(),!this._Enabled&&e&&(r.enabledBeforeContainerDisabled=e,r.setEnabled(!1)),this._Enabled&&!e&&n.isDefined(r.enabledBeforeContainerDisabled)&&(r.setEnabled(!!r.enabledBeforeContainerDisabled),delete r.enabledBeforeContainerDisabled);return}if(r+="",this._HighlightText&&this._HighlightColumns.indexOf(i)>-1&&(s=n.String.escapeRegExp(this._HighlightText),h=new RegExp("("+s+")",this._HighlightCaseSensetive?"":"i"),r=r.replace(h,"<span class='PPTreeListHighLightText'>$1<\/span>")),u=r,i<this._Columns.getCount()&&this._Columns.getItem(i)._FormatMethod&&(o=this._Columns.getItem(i)._FormatMethod,u=o instanceof n.Object?o.format(r):o(r)),t._DomContent[i].innerHTML=u,this._CutOverflow&&!this._ShowColumns)for(f=this._aa-this._eN()-t._DomControls.offsetWidth-24;f&&u&&t._DomContent[i].offsetWidth>f;)u=u.slice(0,-1),t._DomContent[i].innerHTML=u+"...";if(this._CutOverflow&&this._ShowColumns)for(f=this._Columns.getItem(i).getVisibleWidth()-6,i==0&&(f-=t._DomControls.offsetWidth);f&&u&&t._DomContent[i].clientWidth>f;)u=u.slice(0,-1),t._DomContent[i].innerHTML=u+"..."}},t._atJ=function(n,t){return this._agy=!1,this._oq(),this._agy?(t.Event.stopPropagation(),this._agy=!1,!1):void 0},t._aRT=function(n,t){if(!this._EditNode){this._k(document,"mousedown",this._aRT),this._ScrollV.setEnabled(this._Enabled),this._ScrollH.setEnabled(this._Enabled);return}if(t.Event.target!==this._DomEditor)return this._agy=!1,this._oq(),this._agy?(t.Event.stopPropagation(),!1):void 0},t._al0=function(t,i){switch(i.Event.keyCode){case n.Key.Enter:this._oq();break;case n.Key.Esc:this._or()}i.Event.stopPropagation()},t._aDk=function(t,i){switch(i.Event.keyCode){case n.Key.Enter:var r=this._DomSearch.value,u=this.find(r,0,!0);u||(this._DomSearch.className="PPTreeListSearchInput notfound",n.setTimeout(function(n){n.self._DomSearch.className="PPTreeListSearchInput"},1e3,{self:this}));break;case n.Key.Esc:this._SearchPanel.hide()}},t._csR=function(){this.setFocus(),this._DomNode.focus(),n.setTimeout(this._cs6,100,{self:this})},t._cs6=function(n){n.self._DomNode.focus()},t._csS=function(n,t){return t.Event.stopPropagation(),t.Event.returnValue=!1,!1},t._bak=function(t,i){var r=this._m9(i.Event),f=this._agx(i.Event),u;(r&&r!==this._HoveredNode&&f>-1&&this._HoveredNode!=r&&((r.CanFocus!==!1||r.CanSelect!==!1)&&(n.addClass(r._Dom,"hover"),this._aDt(r)),this._HoveredNode&&this._HoveredNode._Dom&&(n.removeClass(this._HoveredNode._Dom,"hover"),this._aDt(this._HoveredNode)),this._HoveredNode=r,u=this._a4(r),this.NodeMouseOver.fire(this,{Node:u}),this.NodeHovered.fire(this,{Node:u})),this._atV&&r!==this._LastClickNode&&this._aDs(),this._ShowToolTips)&&(this._ToolTipActive=!0,this._ToolTipNode=null,this._ToolTipColumn=f,this._ToolTipNodeNew=r,this._ToolTipX=i.Event.pageX,this._ToolTipY=i.Event.pageY,this.hideToolTip(),this._bGQ({self:this}))},t._bal=function(t,i){var f=this._m9(i.Event,!0),e=this._agx(i.Event,!0),r,u;this._HoveredNode&&(this._HoveredNode!=f||e==-1)&&(this._HoveredNode._Dom&&(n.removeClass(this._HoveredNode._Dom,"hover"),this._aDt(this._HoveredNode)),r=this._HoveredNode,this._HoveredNode=null,r._bP&&(this._by(r),this._aDt(r)),u=this._a4(r),this._HoveredNode=null,this.NodeMouseOut.fire(this,{Node:u})),this._ToolTipActive=!1,this.hideToolTip()},t._aDt=function(n){if(n._Dom&&n!==this._EditNode){var i=n._Dom.nextSibling,t=n._Dom.parentElement;t&&(t.removeChild(n._Dom),t.insertBefore(n._Dom,i))}},t.removeHover=function(){this._HoveredNode&&this._HoveredNode._Dom&&(n.removeClass(this._HoveredNode._Dom,"hover"),this._aDt(this._HoveredNode)),this._HoveredNode=null},t.hideToolTip=function(){this._ToolTipTimeout&&n.clearTimeout(this._ToolTipTimeout),this._ToolTip.hide()},t._bGQ=function(t){var i=t.self,r;i._ToolTipActive&&i._ShowToolTips&&!i._EditNode&&i._SelectionY===undefined&&(i._k(i._DomTable,"mousemove",i._bGR),i._ToolTipTimeout&&n.clearTimeout(i._ToolTipTimeout),i._ToolTipNode&&n.isVisible(i._ToolTipNode._Dom)&&i._ToolTipColumn>-1?(i._ToolTip.hide(),r=i._ToolTipNode.ToolTip?i._ToolTipNode.ToolTip:i._ToolTipColumn>0?i._ToolTipNode.Columns[i._ToolTipColumn-1]:i._ToolTipNode.Text,(typeof r=="string"&&r!==""||typeof r=="number")&&(i._ToolTip.setContent(""+r),i.ToolTipShowing.fire(i,{Node:i._a4(i._ToolTipNode),ToolTip:i._ToolTip,Column:i._ToolTipColumn}),i._ToolTip.show(i._ToolTipX+10,i._ToolTipY+5))):(i._ToolTipNode=i._ToolTipNodeNew,i._ToolTipTimeout=n.setTimeout(i._bGQ,1e3,{self:i}),i._addEvent(i._DomTable,"mousemove",i._bGR)))},t._bGR=function(n,t){this._ToolTipX=t.Event.pageX,this._ToolTipY=t.Event.pageY},t._m0=function(n,t){return t.Node=this._a4(this._csY),t.Node&&!t.Node.getSelected()&&this._bam(n,t),this._atV&&this._aDs(),s.base._m0.apply(this,arguments)},t._a4=function(n){return n?(n._TreeNode||(n._TreeNode=new l({JSON:n,Owner:this})),n._TreeNode):null},t._jX=function(){var t,i,n;if(!this._IsUpdating){for(this._NodesCount=0,this._SelectedCount=0,this._KeyIndex={},this._bav(null,this._Nodes,0),this._RowIndex=[],t=this.getRootNode()._JSON,this._bGS(t,t.Nodes,t.NodesSort,t.NodesFilter),i=this._RowIndex.length,n=0;n<i;n++)this._RowIndex[n]&&(this._RowIndex[n]._bP=n);this._NodesCount=i,this.getFullTreeHeight()}},t._bGS=function(n,t,i,r){var e,h,u,o;t||(t=[]),i&&i.method&&(t=t.slice(0),this._Sort=i,t.sort(this._bGT)),e=n.ChildrenCount,(e===undefined||e===null)&&(e=t.length,!e&&n.HasChild&&(e=1));var c=0,f,l=null,s=null;for(h=e-1;h>=0;h--){if(u=t[h],!u){if(r&&r.Value)continue;this._RowIndex.unshift(null),c+=1;continue}(u.Visible||u.Visible===undefined)&&(f=0,u.ChildrenCount||u.ChildrenCount===undefined||u.ChildrenCount===null?u.Expanded?(i&&i.recursive&&(u.NodesSort=null),f=this._bGS(u,u.Nodes,u.NodesSort&&u.NodesSort.method?u.NodesSort:i,u.NodeFilter?u.NodeFilter:r)):f=this._baw(u,u.Nodes,u.NodeFilter?u.NodeFilter:r):(u.HasChild||u.ChildrenCount)&&(f=!0),u._qp=!0,(u.Visible||u.Visible===undefined)&&(r&&r.Method?(f||r.Method(this._a4(u),r.Value,r.Column))&&(u._qp=!1):(!this._FilterCaseSensitive&&r&&r.Value&&(r.Value=(r.Value+"").toLowerCase()),o=r&&r.Column?this._FilterCaseSensitive?u.Columns[r.Column-1]:(u.Columns[r.Column-1]+"").toLowerCase():this._FilterCaseSensitive?u.Text:(u.Text+"").toLowerCase(),(f||!r||!r.Value||o&&o.indexOf&&o.indexOf(r.Value)>-1)&&(u._qp=!1))),u._qp||(c+=1,s||(s=u),l=u,u._atW=f?f:r?u.HasChild&&(!u.Nodes||u.Nodes.length==0):u.HasChild,this._RowIndex.unshift(u)),u._atU=!1,u._bax=!1)}return l&&(l._atU=!0),s&&(s._bax=!0),c},t._baw=function(n,t,i){var u=n.ChildrenCount,f,o,h,s,r,e;if((u===null||u===undefined)&&(u=t?t.length:0),!i||!i.Value)return u;if(!t&&(n.ChildrenCount||n.ChildrenCount===0))return 0;for(f=0,h=(i.Value+"").toLowerCase(),s=u-1;s>=0;s--)(o=0,r=t[s],r)&&(r._qp=!0,r.Nodes&&(o=this._baw(r,r.Nodes,r.NodeFilter?r.NodeFilter:i),f+=o),i&&i.Method?i.Method(this._a4(r),i.Value,i.Column)&&f++:(!this._FilterCaseSensitive&&i&&i.Value&&(i.Value=h),e=i&&i.Column?this._FilterCaseSensitive?r.Columns[i.Column-1]:(r.Columns[i.Column-1]+"").toLowerCase():this._FilterCaseSensitive?r.Text:(r.Text+"").toLowerCase(),(o||!i||!i.Value||e&&e.indexOf&&e.indexOf(i.Value)>-1)&&f++));return f},t._aDu=function(n,t,i){var f,u,r;for(i&&i.method&&(t=t.slice(0),this._Sort=i,t.sort(this._bGT)),f=t.length,u=0;u<f;u++)r=t[u],this._SearchIndex.push(r),r.Nodes&&(i&&i.recursive&&(r.NodesSort=null),this._aDu(r,r.Nodes,r.NodesSort&&r.NodesSort.method?r.NodesSort:i))},t._bGT=function(t,i){var r=t._cs7,u,f,h,s,c,e,o;if(!r._Sort.method||!r._Sort.column<0)return 0;if(h=r._Columns.getItem(r._Sort.column)._Type,s=r._Columns.getItem(r._Sort.column)._SortMethod,s)return c={type:h,column:r._SortColumn,direction:r._SortMethod},r._SortMethod===1?s(t,i,c):s(i,t,c);if(r._Sort.property?(u=t[r._Sort.property],f=i[r._Sort.property]):(u=r._Sort.column===0?t.Text:t.Columns[r._Sort.column-1],f=r._Sort.column===0?i.Text:i.Columns[r._Sort.column-1]),u=(u===0||u?u+"":"").toLowerCase(),f=(f===0||f?f+"":"").toLowerCase(),h===n.Ui.TreeColumnType.number){if(e=parseFloat(u),o=parseFloat(f),isNaN(e)&&!isNaN(o))return 1;if(!isNaN(e)&&isNaN(o))return-1;isNaN(e)&&isNaN(o)&&(e=u,o=f),u=e,f=o}switch(r._Sort.method){case n.SortDirection.Asc:case n.SortDirection.None:if(u<f)return-1;if(u>f)return 1;break;case n.SortDirection.Desc:if(f<u)return-1;if(f>u)return 1}return t._bP-i._bP},t._cs8=function(n){this._MultiSelect||this._IsCSMultiSelect||!n.Selected||(this._SelectedNode?this._SelectedNode!==n&&(this._SelectedNode.Selected=!1,this._sx(this._SelectedNode),this._by(this._SelectedNode),this._SelectedNode=n,this._SelectedCount=1):this._SelectedNode=n),n.CanSelect===undefined&&(n.CanSelect=!0)},t._bav=function(t,i,r){for(var o=i.length,u,e,f=0;f<o;f++)(u=i[f],u)&&(u.ResourceKey&&(e=this._a4(u),e._bGv()),u._f2=t,u._cs7=this,u._g1=r,u._aRU=f,u.Columns||(u.Columns=[]),u.Selected&&(t&&t.HasChildSelected++,this._SelectedCount++),(!n.isDefined(u.Key)||this._KeyIndex[u.Key])&&(u.Key=this._aDg()),this._KeyIndex[u.Key]=u,u.Nodes&&u.Nodes.length?(u.HasChildSelected=0,this._KeepHasChild||(u.HasChild=!0),this._bav(u,u.Nodes,r+1)):u.HasChild||(u.HasChildSelected=0),t&&u.HasChildSelected&&(t.HasChildSelected+=u.HasChildSelected),this._cs8(u))},t._aDg=function(){while(this._KeyIndex[this._NextKey])this._NextKey++;var n=this._NextKey;return this._NextKey++,n},t._dA=function(n){var r,f,t,u,i;if(!this._IsUpdating){for(this.hideToolTip(),this._DomNode.scrollTop=0,r=this._DomTBody.childNodes,f=r.length,t=f-1;t>=0;t--)this._DomTBody.removeChild(r[t]);if(n!==!1)for(u in this._KeyIndex)this._KeyIndex.hasOwnProperty(u)&&(i=this._KeyIndex[u],i&&i._Dom&&(i._Dom=null));n&&(this._atQ=!1)}},t._agw=function(){if(!this._IsUpdating){this._aRV();var n;if(this._FirstVisibleIndex>this._LastVisibleIndexOld||this._LastVisibleIndex<this._FirstVisibleIndexOld){this._cm();return}for(this._aDe(),n=Math.floor(this._FirstVisibleIndexOld);n>=Math.floor(this._FirstVisibleIndex);n--)n>=0&&(this._jY(this._RowIndex[n],!0),this._by(this._RowIndex[n]));for(n=this._LastVisibleIndexOld+1;n<=this._LastVisibleIndex;n++)n>=0&&(this._jY(this._RowIndex[n],!1),this._by(this._RowIndex[n]));for(n=Math.floor(this._FirstVisibleIndexOld);n<Math.floor(this._FirstVisibleIndex);n++)n>=0&&this._qq(this._RowIndex[n]);for(n=this._LastVisibleIndex+1;n<=this._LastVisibleIndexOld;n++)n>=0&&this._qq(this._RowIndex[n]);this._DomDiv.scrollTop=this.getTopShift(),this._FirstVisibleIndexOld=this._FirstVisibleIndex,this._LastVisibleIndexOld=this._LastVisibleIndex}},t._aDe=function(t){var f,e,o,r,s,i,h,c,u;this._IsUpdating||(this._RowSelect&&this._FocusedNode&&this._FocusedNode._Dom&&this._FocusedNode._Dom.parentElement?(f=this._FocusedNode._Dom,t&&this._IsRTL?(i=this._Width-f.offsetWidth+this._eN()-1,r=f.offsetWidth+i-2-this._eN(),n.IsIE&&(i+=3,r+=2)):this._ShowColumns?(i=this._IsRTL?this._eN():0,r=f.offsetWidth-1+i,t?(r-=this._eN(),i=0):(h=this._FocusedNode._DomColumns,c=h.length>0&&h[h.length-1],c&&(this._IsRTL?i+=c.offsetWidth:r-=c.offsetWidth))):(i=this._IsRTL?this._eN():0,r=parseInt(this._Columns.getItem(0)._DomNode.style.width)-this._eN()+i-1),u=1,this._WordWrap?(e=n.calculateOffset(f),o=n.calculateOffset(this._DomTable),s=f.offsetHeight,this._DomFocus[0].style.top=this._g(e.Y-o.Y+this._ViewMarginTop+u)+"px",this._DomFocus[1].style.top=this._g(e.Y-o.Y+this._ViewMarginTop+s-u)+"px",this._DomFocus[2].style.top=this._g(e.Y-o.Y+this._ViewMarginTop+u)+"px",this._DomFocus[3].style.top=this._g(e.Y-o.Y+this._ViewMarginTop+u)+"px"):(s=this._ViewNodeHeight,this._DomFocus[0].style.top=(this._FocusedNode._bP-Math.floor(Math.max(0,this._FirstVisibleIndex)))*this._ViewNodeHeight+u+this._ViewMarginTop+"px",this._DomFocus[1].style.top=(this._FocusedNode._bP-Math.floor(Math.max(0,this._FirstVisibleIndex)))*this._ViewNodeHeight-u+s+this._ViewMarginTop+"px",this._DomFocus[2].style.top=(this._FocusedNode._bP-Math.floor(Math.max(0,this._FirstVisibleIndex)))*this._ViewNodeHeight+u+this._ViewMarginTop+"px",this._DomFocus[3].style.top=(this._FocusedNode._bP-Math.floor(Math.max(0,this._FirstVisibleIndex)))*this._ViewNodeHeight+u+this._ViewMarginTop+"px"),this._DomFocus[2].style.height=this._g(s-u)+"px",this._DomFocus[3].style.height=this._g(s-u)+"px",n.IsIE?(this._DomFocus[0].style.width=this._g(r+1-i)+"px",this._DomFocus[1].style.width=this._g(r+1-i)+"px",this._DomFocus[0].style.left=i+"px",this._DomFocus[1].style.left=i+"px",this._DomFocus[2].style.left=i+"px",this._DomFocus[3].style.left=r+"px"):(this._DomFocus[0].style.width=this._g(r-i)+"px",this._DomFocus[1].style.width=this._g(r-i)+"px",this._DomFocus[0].style.left=i+"px",this._DomFocus[1].style.left=i+"px",this._DomFocus[2].style.left=i+"px",this._DomFocus[3].style.left=r+"px"),r<0||this._WordWrap&&e.Y<o.Y?(this._DomFocus[0].style.display="none",this._DomFocus[1].style.display="none",this._DomFocus[2].style.display="none",this._DomFocus[3].style.display="none"):(this._DomFocus[0].style.display="block",this._DomFocus[1].style.display="block",this._DomFocus[2].style.display="block",this._DomFocus[3].style.display="block")):(this._DomFocus[0].style.display="none",this._DomFocus[1].style.display="none",this._DomFocus[2].style.display="none",this._DomFocus[3].style.display="none"))},t._qq=function(n){n&&n._Dom&&n._Dom.parentNode==this._DomTBody&&this._DomTBody.removeChild(n._Dom)},t._aRV=function(){this._LastVisibleIndex=Math.floor(this._FirstVisibleIndex+this._VisibleNodesCount+(this._ViewMarginTop+this._ViewMarginBottom)/this._ViewNodeHeight)+(this._ScrollH.getIsVisible()?1:0),this._LastVisibleIndex>=this._NodesCount&&(this._LastVisibleIndex=this._NodesCount-1)},t._cm=function(){var n,t;if(!this._IsUpdating){for(this._EditNode&&this._oq(!0),this._bay=0,this._aRV(),this._dA(!1),n=Math.max(Math.floor(this._FirstVisibleIndex),0);n<=this._LastVisibleIndex;n++)this._jY(this._RowIndex[n]),this._by(this._RowIndex[n]);t=this._ScrollH.getIsVisible(),this._sv(),this._DomDiv.scrollTop=this.getTopShift(),this._FirstVisibleIndexOld=this._FirstVisibleIndex,this._LastVisibleIndexOld=this._LastVisibleIndex,t&&!this._ScrollH.getIsVisible()&&this._ViewNodeHeight&&this._NodesCount-this._VisibleNodesCount+(this._ViewMarginTop+this._ViewMarginBottom)/this._ViewNodeHeight<this._FirstVisibleIndex&&(this._gq(),this._agw()),this._bay&&this._cs9()}},t._cs9=function(){var t,n,i;for(this._bay=0,t=Math.max(Math.floor(this._FirstVisibleIndex),0);t<=this._LastVisibleIndex;t++)if(!this._RowIndex[t]){while(!this._RowIndex[t]){if(t<=0){this._agz(this.getRootNode(),0,Math.floor(this._VisibleNodesCount));return}t-=1}if(n=this._RowIndex[t],i=n._f2,n.Expanded&&n.HasChild){this._Sort&&this._Sort.method?this._agz(this._a4(n),0,this._a4(n).getChildrenCount()):this._agz(this._a4(n),0,Math.floor(this._LastVisibleIndex-n._bP-1));return}if(!i){this._Sort&&this._Sort.method?this._agz(this.getRootNode(),0,this.getRootNode().getChildrenCount()):this._agz(this.getRootNode(),n._aRU+1,Math.floor(this._LastVisibleIndex-n._bP+n._aRU));return}this._Sort&&this._Sort.method?this._agz(this._a4(i),0,this._a4(i).getChildrenCount()):this._agz(this._a4(i),n._aRU+1,Math.floor(this._LastVisibleIndex-n._bP+n._aRU-1));return}},t._sv=function(){var i,r,t;this._IsUpdating||(i=this._EnableResizeColumn?"caption resizable":"caption nonresizable",i+=this._ShowGridLines?" lined":"",i+=this._Columns.isResizing()?" resizing":"",this._DomCaptionDiv.className=i,r=this._WordWrap?this._Columns.isWideTree():this._Columns.update(),this._aDe(r),t=this._RowSelect?"selectrow":"selecttext",t+=this._ShowGridLines?" lined":"",t+=this._WordWrap?" wraped":" nowrap",t+=this._CutOverflow?" cuted":"",t+=r?" wide":" short",t+=this._VScrollWidth?" vscroll":"",this._DomTable.className=t,this._dc(),this._HoveredNode&&this._HoveredNode._Dom&&(this._HoveredNode.CanSelect!==!1||this._HoveredNode.CanFocus!==!1)&&n.addClass(this._HoveredNode._Dom,"hover"))},t._aQj=function(n){var i,t;if(n&&n._Dom==null)if(n._Dom=document.createElement("TR"),n._Dom.setAttribute("nodeKey",n.Key),this._cta(n),n._DomColumns=[],n._DomContent=[],i=this._Columns._Count,this._CutOverflow&&this._DomTBody.appendChild(n._Dom),this._ShowColumns)for(t=0;t<=i;t++)this._baz(n,t);else this._baz(n,0),this._baz(n,i)},t._jY=function(n,t){var i;n?(this._aQj(n),i=n._Dom):(i=document.createElement("tr"),i.appendChild(document.createElement("td")),i.className="empty",this._bay+=1),t&&this._DomTBody.childNodes[0]?this._DomTBody.insertBefore(i,this._DomTBody.childNodes[0]):this._DomTBody.appendChild(i)},t._cta=function(n,t){var r;n._DomControls=document.createElement("SPAN"),n._DomNode=document.createElement("SPAN"),n._DomNode.className="PPnode",n._DomControls.className="PPControls",n._DomControls.appendChild(n._DomNode),r=20,this._CheckBoxes?(n._DomBox=document.createElement("SPAN"),n._DomBox.className="PPcbox",n._DomControls.appendChild(n._DomBox),r+=20):n._DomBox=null,n.ImageUrl?r+=this._aRW(n)?20:0:this._ImageList?r+=this._aRW(n)?this._ImageList.getIconWidth():0:n._DomIcon=null;var i=null,f=n._DomNode,u=n._f2;if(t)while(t>0)t-=1,i=document.createElement("SPAN"),i.className="PPline PPempty",n._DomControls.insertBefore(i,f),f=i,r+=20;else while(u)t-=1,i=document.createElement("SPAN"),i.className=!this._ShowLines||u._bax||u._qp?"PPline PPempty":"PPline",n._DomControls.insertBefore(i,f),f=i,u=u._f2,r+=20;this._WordWrap&&(n._DomControls.style.minWidth=r+"px")},t._aRW=function(t){return!this._ImageList&&!t.ImageUrl?!1:(t._DomIcon||(t._DomIcon=document.createElement("SPAN")),t.ImageUrl?this._ShowLines&&t.Expanded&&t._atW?(t._DomIcon.className="PPicon",this._CheckBoxes?(t._DomIcon.style.backgroundImage="url("+t.ImageUrl+")",t._DomIcon.style.backgroundPosition="0 0"):(t._DomIcon.style.backgroundImage="url("+t.ImageUrl+"), url("+n.ImagePath+(this._IsRTL?"treeLinesHR.png":"treeLinesH.png")+")",t._DomIcon.style.backgroundPosition="0 0, 0 10px")):(t._DomIcon.style.backgroundImage="url("+t.ImageUrl+")",t._DomIcon.style.backgroundPosition="0 0",t._DomIcon.className="PPicon PPlast"):this._ShowLines&&t.Expanded&&t._atW?(t._DomIcon.className="PPicon",this._CheckBoxes?this._ImageList.applyToBackground(t._DomIcon,0,t.ImageIndex):this._ImageList.applyToBackground(t._DomIcon,0,t.ImageIndex,", url("+n.ImagePath+(this._IsRTL?"treeLinesHR.png":"treeLinesH.png")+")",", 0 10px")):(this._ImageList.applyToBackground(t._DomIcon,0,t.ImageIndex),t._DomIcon.className="PPicon PPlast"),t._DomIcon.style.height="",t._DomControls.appendChild(t._DomIcon),t.ImageIndex!==null&&t.ImageIndex!==-1||t.ImageUrl?!0:(t._DomIcon.style.display="none",!1))},t._baz=function(t,i){var u,r;t._DomColumns[i]=document.createElement("TD"),t._DomContent[i]=document.createElement("SPAN"),t._DomContent[i].className="text",this._WordWrap&&!this._RowSelect?(u=document.createElement("SPAN"),u.className="text",u.appendChild(t._DomContent[i]),t._DomColumns[i].appendChild(u)):t._DomColumns[i].appendChild(t._DomContent[i]),this._CutOverflow&&(t._Dom.appendChild(t._DomColumns[i]),t._DomColumns[i].appendChild(t._DomControls)),i===0?(typeof t.Text!="object"||t.Text instanceof n.Ui.Control||!t.Text.PPType||(t.Text=n.create(t.Text)),this._yD(t,i,t.Text)):t.Columns&&i<this._Columns.getCount()?(r=t.Columns[i-1],r===null||typeof r!="object"||r instanceof n.Ui.Control||!t.Text.PPType||(t.Columns[i-1]=n.create(r)),this._yD(t,i,t.Columns[i-1])):t._DomContent[i].innerHTML="&nbsp;",t._Dom.appendChild(t._DomColumns[i])},t._ctb=function(){var t,n;for(t in this._KeyIndex)this._KeyIndex.hasOwnProperty(t)&&(n=this._KeyIndex[t],n.HasChildSelected>0&&(n.HasChildSelected=0,this._by(n)))},t._ctc=function(n){for(var r=0,i=n.Nodes,u=i?i.length:0,t=0;t<u;t++)r+=i[t].HasChildSelected?i[t].HasChildSelected:0,r+=i[t].Selected?1:0;n.HasChildSelected=r},t._sx=function(n){while(n._f2)n=n._f2,n.HasChildSelected--,n.HasChildSelected<=0&&(n.HasChildSelected=0,this._ctc(n),this._by(n))},t._sw=function(n){while(n._f2)n=n._f2,n.HasChildSelected==0?(n.HasChildSelected++,this._by(n)):n.HasChildSelected++},t._by=function(t){var l,e,o,s,a,h,v,y,c,r,u,i,f;if(t&&t._Dom){for(l=t.ImageHeight||this._ImageHeight||20,!t.ImageUrl&&this._ImageList&&(l=this._ImageList.getIconHeight()),e=t._atW,o=e?t.Expanded:!1,t._DomNode.className=this._ShowLines?"PPnode"+(e?" PPfolder":"")+(o?" PPopen":"")+(t._f2?"":" PProot")+(t._atU?" PPfirst":"")+(t._bax?" PPlast":""):"PPnode simple"+(e?" PPfolder":"")+(o?" PPopen":""),s=0,a="0 0",this._ImageCentered&&(s=Math.ceil((this._ViewNodeHeight-20)/2)+"px",a="0 "+s,t._DomNode.style.backgroundPosition=a),t._DomIcon&&(h=0,this._ImageCentered&&(h=Math.floor((this._ViewNodeHeight-l)/2)),t.ImageUrl?(this._ShowLines&&t.Expanded&&t._atW?(t._DomIcon.className="PPicon",this._CheckBoxes?t._DomIcon.style.backgroundImage="url("+t.ImageUrl+")":(t._DomIcon.style.backgroundImage="url("+t.ImageUrl+"), url("+n.ImagePath+(this._IsRTL?"treeLinesHR.png":"treeLinesH.png")+")",t._DomIcon.style.backgroundPosition="0 0, 0 10px")):(t._DomIcon.style.backgroundImage="url("+t.ImageUrl+")",t._DomIcon.className="PPicon PPlast"),t._DomIcon.style.marginTop=h+"px"):this._ImageList&&(t.ImageIndex!==null&&t.ImageIndex!==-1?t._DomIcon.style.backgroundPosition=t.ImageIndex!==undefined&&t.ImageIndex>=0?this._ImageList.getIcon(0,t.ImageIndex)+", 0 10px":this._ImageList.getIcon(0,e?o?1:0:2)+", 0 10px":t._DomIcon.style.display="none",t._DomIcon.style.marginTop=h+"px")),v=!0,y=this._Columns.getCount(),c=0;c<=y;c++)v=this._ctd(t,c,v);t._Dom.className=(t.Selected?"selected":t.CanSelect?"selectable":"")+(t.Class?" "+t.Class:"")+(t.HasChildSelected?" childselect":"")+(t===this._FocusedNode?" focused":"")+(t===this._HoveredNode?" hover":""),n.initOS(t._Dom),t.Highlighted&&this._EnableHighlight&&n.addClass(t._Dom,"highlight"),r=t._Dom.style,u=t.Selected&&this._EnableSelectedHighlight&&this._SelectedHighlightColor?this._SelectedHighlightColor:this._HighlightColor,u instanceof n.Color&&(u=u.toString()),r.backgroundColor=t.Highlighted&&this._EnableHighlight&&u?u:t.Color||this._ContentColor,i=t.Selected&&this._EnableSelectedHighlight&&this._SelectedHighlightFont?this._SelectedHighlightFont:this._HighlightFont,t.Highlighted&&this._EnableHighlight&&i&&this._ContentFont||(i=t.Font||this._ContentFont),i&&(r.color=i.getColor(),r.fontSize=i.getSize()+"px",r.fontFamily=i.getFontFamily()&&i.getFontFamily().toLowerCase()==="helvetica"?i.getFontFamily():i.getFontFamily()+", Helvetica",r.fontWeight=i.getIsBold()?"bold":"normal",r.fontStyle=i.getIsItalic()?"italic":"normal",r.textDecoration=i.getIsUnderline()?"underline":"none"),t._DomBox&&(f=1,t.CheckEnabled===!1?t.Checked===null?(t._DomBox.className="PPcbox PPdisabled PPunknown",f=-89):(t._DomBox.className=t.Checked?"PPcbox PPdisabled PPchecked":"PPcbox PPdisabled",f=t.Checked?-71:-53):t.Checked===null?(t._DomBox.className="PPcbox PPunknown",f=-35):(t._DomBox.className=t.Checked?"PPcbox PPchecked":"PPcbox",f=t.Checked?-17:1),this._ImageCentered&&(t._DomBox.style.backgroundPosition=f+"px "+s+", 0 0"))}},t._dDv=function(t){var r,i;t>=this._Columns.getCount()||(r=(t?2:1)*this._g(n.getStyle(this._Columns.getItem(t)._DomDrag,"border-left-width"))+this._g(n.getStyle(this._Columns.getItem(t)._DomDrag,"padding-left")),this._ShowColumns?this._Columns.getItem(t)._DomText.style.width=this._g(this._Columns.getItem(t)._aa-r)+"px":(i=this.getMaximalWidthForColumn(0)+this._eN(),i<this._aa&&(i=this._aa),this._Columns.getItem(t)._DomText.style.width=this._g(i-4)+"px"))},t._ctd=function(t,i,r){var u,f;return t._DomColumns[i]?(u=0,this._ShowColumns?i<this._Columns.getCount()?this._Columns.getItem(i).getIsVisible()?(u=this._Columns.getItem(i).getWidth(),u==null&&(u=this._Columns.getItem(i).getVisibleWidth())):u=0:u=this._aa:u=i===0?this._aa-this._eN()-2:1e3,u<=0&&u!==null?t._DomColumns[i].style.display="none":(t._DomColumns[i].style.display="",r?(f=t._DomContent[i].parentNode,f&&f.tagName=="SPAN"&&f.className=="text"||(f=t._DomContent[i]),t._DomColumns[i].insertBefore(t._DomControls,f),t._DomColumns[i].className="tree",r=!1,t.Text instanceof n.Ui.Control&&n.addClass(t._DomColumns[i],"control")):(t._DomColumns[i].className=i==this._Columns.getCount()?"last":"",t.Columns&&t.Columns[i-1]instanceof n.Ui.Control&&n.addClass(t._DomColumns[i],"control"))),r):r},t._cte=function(){var n,t,i;return this._ViewNodeHeight?this._ViewNodeHeight:(n=0,this._DomTBody.childNodes.length>2&&!this._WordWrap&&(n=this._DomTBody.childNodes[1].offsetHeight,n))?n:(t=document.createElement("TR"),i=document.createElement("TD"),i.className="tree",t.appendChild(i),this._DomTBody.appendChild(t),i.innerHTML='<span class="text">x<\/span>',n=t.offsetHeight,this._DomTBody.removeChild(t),n||(n=20),n)},t._lM=function(n,t){var i={Cancel:!1,Event:t};return i.Node=n instanceof l?n:this._a4(n),i.SingleSelectedItem=this._MultiSelect?null:this._a4(this._SelectedNode),this.SelectionChanging.fire(this,i),i.Cancel},t._eO=function(n,t){var f,u,i,r;if(!t||t.length!==0){for(f=t.length,u=[],i=0;i<f;i++)t[i]&&(t[i]instanceof l||(t[i]=this._a4(t[i])),t[i].isLive()&&u.push(t[i]));r={},!n&&t.length&&(n=u[0]),r.Node=n instanceof l?n:this._a4(n),r.ChangedNodes=u?u:[r.Node],r.IsCtrl=this._ot,r.IsShift=this._sy,this.SelectionChanged.fire(this,r),this._ot=!1,this._sy=!1}},t._bGP=function(n,t,i,r){for(var s=t.length,h=0,f,u,e,o=s-1;o>=0;o--)u=t[o],f=0,u.Nodes&&u.Nodes.length&&(f=u.Expanded?this._bGP(u,u.Nodes,u.NodeFilter?u.NodeFilter:i,r):this._baw(u,u.Nodes,u.NodeFilter?u.NodeFilter:i)),u._qp=!0,i&&i.Method?(f||i.Method(this._a4(u),i.Value,i.Column))&&(u._qp=!1):(!this._FilterCaseSensitive&&i&&i.Value&&(i.Value=(i.Value+"").toLowerCase()),e=i&&i.Column?this._FilterCaseSensitive?u.Columns[i.Column-1]:(u.Columns[i.Column-1]+"").toLowerCase():this._FilterCaseSensitive?u.Text:(u.Text+"").toLowerCase(),(f||!i||!i.Value||e&&e.indexOf&&e.indexOf(i.Value)>-1)&&(u._qp=!1)),u._qp&&u.Selected&&(u.Selected=!1,r.push(u));return h},t._atR=function(n,t,i,r){var f,e,u;if(n){if(n.CanSelect===undefined&&(n.CanSelect=!0),!n.CanSelect&&t&&!i)return[];if(this._SelectedCount<2&&!this._EmptySelection&&!t&&!i)return[];if(f=[],this._MultiSelect||this._IsCSMultiSelect||this._ctb(),this._IsCSMultiSelect&&!r){for(e in this._KeyIndex)u=this._KeyIndex[e],u.Selected&&e!==n.Key&&(u.Selected=!1,this._SelectedCount--,this._sx(u),this._by(u),f.push(this._a4(u)));this._SelectedNode=null}return this._MultiSelect||this._IsCSMultiSelect&&r||!this._SelectedNode||this._SelectedNode===n||!t||(this._SelectedNode.Selected=!1,this._SelectedCount--,this._sx(this._SelectedNode),this._by(this._SelectedNode),f.push(this._a4(this._SelectedNode))),!t&&this._SelectedNode&&n===this._SelectedNode&&this._EmptySelection&&(this._SelectedNode=null),!n.Selected==t&&(n.Selected=!!t,t?(this._SelectedCount++,this._sw(n)):(this._SelectedCount--,this._sx(n)),t&&(this._SelectedNode=n),this._by(n),f.push(this._a4(n))),f}},t._al6=function(n,t){for(var r=[],f=n.length,i,u=0;u<f;u++)if(i=n[u],i.Nodes&&i.Nodes.length&&(r=r.concat(this._al6(i.Nodes,t,r))),!t||i.CanSelect!==!1){if(!i.Selected==t){if(!this._EmptySelection&&!t&&this._SelectedCount<2)break;r.push(this._a4(i)),i.Selected=t,t?(this._SelectedCount++,this._sw(i)):(this._SelectedCount--,this._sx(i)),this._SelectedNode!=i||t||(this._SelectedNode=null)}(i.Nodes&&i.Nodes.length||i.HasChild)&&(i.HasChildSelected=!!t),this._by(i)}return r},t._al7=function(n,t,i,r,u,f){var a,o,s,e;if(n&&t&&n._bP!==undefined&&t._bP!==undefined){var h=[],c=n._bP,l=t._bP;for(n._bP>t._bP&&(c=t._bP,l=n._bP),a=this._RowIndex.length,s=0;s<a;s++)e=this._RowIndex[s],e&&(e.Selected===undefined&&(e.Selected=!1),s>=c&&s<=l?(o=i,f&&r.indexOf(e.Key)>=0&&(o=!o),e.Selected!==o&&(o?e.CanSelect!==!1&&(e.Selected=o,this._SelectedCount++,this._sw(e)):(e.Selected=o,this._SelectedCount--,this._sx(e)),this._by(e),h.push(this._a4(e)))):(o=!i,u&&(o=r.indexOf(e.Key)>=0),e.Selected!=o&&(e.Selected=o,o?(this._SelectedCount++,this._sw(e)):(this._SelectedCount--,this._sx(e)),this._by(e),h.push(this._a4(e)))));return h}},t._baA=function(n,t,i,r){var e=[],o=n.length,f,u;if(t==i)for(f=0;f<o;f++)if((u=n[f],u.CanSelect!==!1)&&!u.Selected==r){if(!this._EmptySelection&&!r&&this._SelectedCount<2)break;r&&(this._SelectedNode=u),(!r||this._MultiSelect||this._IsCSMultiSelect)&&(u.Selected=r,r?(this._SelectedCount++,this._sw(u)):(this._SelectedCount--,this._sx(u)),this._by(u),e.push(this._a4(u)))}if(t<i)for(f=0;f<o;f++)u=n[f],u.Nodes&&u.Nodes.length?e=e.concat(this._baA(u.Nodes,t+1,i,r)):(r||(u.HasChildSelected=0),this._by(u));return e},t.getCaptionHeight=function(){return this._CaptionVisible?parseInt(this._DomCaptionTr.offsetHeight)+1:0},t._eN=function(n){if(this._WordWrap)return this._TreeHeight>this._ac-this._CaptionHeight?this._ScrollV.getWidth():0;var t=!n?this._VisibleNodesCount:(this._ac-this._CaptionHeight-1)/this._ViewNodeHeight;return t<this._NodesCount+(this._ViewMarginTop+this._ViewMarginBottom)/this._ViewNodeHeight?this._ScrollV.getWidth():0},t._dc=function(){var h,r,f,c,e,o,s;if(!this._IsUpdating){var u=this._Columns.getFullWidth(),t=0,i=0;t=this._eN(!0),(!this._ShowColumns||this._NodesCount*this._ViewNodeHeight+this._ViewMarginTop+this._ViewMarginBottom>this._ac-this._CaptionHeight||u>this._aa)&&(i=u>this._aa-1-t?this._ScrollH.getHeight():0,this._ScrollH.getIsVisible()&&!i&&!this._WordWrap&&!this._CutOverflow&&t&&this._LastVisibleIndex>=this._NodesCount-1-Math.floor(this._ScrollH.getHeight()/this._ViewNodeHeight)&&(h=this._ctf(this._ScrollH.getHeight()),n.isNumber(h)&&(i=Math.max(u,h)>this._aa-1-t?this._ScrollH.getHeight():0)),this._VisibleNodesCount=(this._ac-this._CaptionHeight-i-1)/this._ViewNodeHeight,t=this._eN(),this._VScrollWidth=t),this._HScrollHeight=i,t&&(this._ScrollV.setEnabled(this._Enabled),this._ScrollV.MoveScroll.remove(this._yE,this),this._ScrollV.MovedScroll.remove(this._yF,this),this._ScrollV.setTop(this._CaptionHeight+"px"),this._DomScrollVBackground.style.display="block",this._DomScrollVBackground.style.top=this._CaptionHeight-1+"px",this._IsRTL?(this._ScrollV.setLeft(0),this._DomScrollVBackground.style.left="0"):(this._ScrollV.setLeft(this._aa-t),this._DomScrollVBackground.style.left=this._aa-t+"px"),this._ScrollV.setHeight(this._ac-this._CaptionHeight-i),this._DomScrollVBackground.style.height=Math.max(this._ac-this._CaptionHeight-i+1,0)+"px",this._DomScrollVBackground.style.width=t+"px",r=this._WordWrap?(this._ac-this._CaptionHeight)/this._TreeHeight:this._VisibleNodesCount/(this._NodesCount+(this._ViewMarginTop+this._ViewMarginBottom)/this._ViewNodeHeight),(r>1||r<0||isNaN(r))&&(r=1,t=0),f=!this._WordWrap||this._NodesCount>this._VisibleNodesCount?100/(this._NodesCount+(this._ViewMarginTop+this._ViewMarginBottom)/this._ViewNodeHeight-this._VisibleNodesCount+1):2250/this._TreeHeight,c=this._ScrollV.getValue(),this._ScrollV.setDraggerSize((this._ac-this._CaptionHeight-i-33)*r),this._ScrollV.setValue(c,!1),this._ScrollV.setIsVisible(!0),this._ScrollV.setScrollSpeed(f),this._ScrollV.setWheelScrollSpeed(f*3),this._ScrollV.updateSize(),this._ScrollV.MoveScroll.add(this._yE,this),this._ScrollV.MovedScroll.add(this._yF,this)),t||(this._FirstVisibleIndex=this._ViewNodeHeight?-this._ViewMarginTop/this._ViewNodeHeight:this._FirstVisibleIndex,this._ScrollV.setIsVisible(!1),this._ScrollV.setEnabled(!1),this._DomScrollVBackground.style.display="none"),i?(this._ScrollH.setEnabled(this._Enabled),this._ScrollH.setTop(this._ac-i),this._DomScrollHBackground.style.display="block",this._DomScrollHBackground.style.top=this._ac-i+"px",this._IsRTL?(this._ScrollH.setLeft(t),this._DomScrollHBackground.style.left=t+"px"):(this._ScrollH.setLeft(0),this._DomScrollHBackground.style.left="0"),this._ScrollH.setWidth(this._aa-t),this._DomScrollHBackground.style.width=this._aa-t+"px",this._DomScrollHBackground.style.height=i+"px",this._ScrollH.setIsVisible(!0),this._DomScrollHBackground.style.display="block",r=(this._aa-t)/u,(r>1||r<=0)&&(r=1),e=this._aa-t-31,o=e*r,o>e-2&&(o=e-2),this._ScrollH.setDraggerSize(o),this._ScrollH.updateSize()):(this._ScrollH.setIsVisible(!1),this._ScrollH.setValue(0,!1),this._ScrollH.setEnabled(!1),this._DomScrollHBackground.style.display="none",s=0,this._IsRTL&&(s=99999),this._DomCaptionDiv.scrollLeft=s,this._DomDiv.scrollLeft=s),t&&i?(this._DomSpacer.style.display="block",this._DomSpacer.style.width=t+"px",this._DomSpacer.style.height=i+"px",this._DomSpacer.style.left=this._IsRTL?"0":this._aa-t+"px",this._DomSpacer.style.top=this._ac-i+"px"):this._DomSpacer.style.display="none",this._gq()}},t._gq=function(){var n=!1,t;return this._IsUpdating?n:(this._WordWrap?(this._FirstVisibleIndex>this._NodesCount-this._TreeLastNodesCount&&(this._FirstVisibleIndex=this._NodesCount-this._TreeLastNodesCount,n=!0),this._FirstVisibleIndex<-this._ViewMarginTop/this._ViewNodeHeight&&(this._FirstVisibleIndex=this._ViewNodeHeight?-this._ViewMarginTop/this._ViewNodeHeight:this._FirstVisibleIndex,n=!0)):(this._NodesCount>this._VisibleNodesCount?this._NodesCount-this._VisibleNodesCount+(this._ViewMarginTop+this._ViewMarginBottom)/this._ViewNodeHeight<this._FirstVisibleIndex&&(this._FirstVisibleIndex=this._ViewNodeHeight?this._NodesCount-this._VisibleNodesCount+(this._ViewMarginTop+this._ViewMarginBottom)/this._ViewNodeHeight:this._FirstVisibleIndex,n=!0):(this._ViewMarginTop+this._ViewMarginBottom)/this._ViewNodeHeight<this._FirstVisibleIndex&&(this._FirstVisibleIndex=this._ViewNodeHeight?(this._ViewMarginTop+this._ViewMarginBottom)/this._ViewNodeHeight:this._FirstVisibleIndex,n=!0),this._FirstVisibleIndex<-this._ViewMarginTop/this._ViewNodeHeight&&(this._FirstVisibleIndex=this._ViewNodeHeight?-this._ViewMarginTop/this._ViewNodeHeight:this._FirstVisibleIndex,n=!0)),t=this._WordWrap?(this._FirstVisibleIndex+this._ViewMarginTop/this._ViewNodeHeight)/(this._NodesCount-this._TreeLastNodesCount+this._ViewMarginTop/this._ViewNodeHeight)*100:(this._FirstVisibleIndex+this._ViewMarginTop/this._ViewNodeHeight)/(this._NodesCount-this._VisibleNodesCount+(this._ViewMarginTop+this._ViewMarginBottom)/this._ViewNodeHeight)*100,(t<0||isNaN(t))&&(t=0,n=!0),t>100&&(t=100,n=!0,this._FirstVisibleIndex=this._WordWrap?this._ViewNodeHeight?this._NodesCount-this._TreeLastNodesCount+this._ViewMarginTop/this._ViewNodeHeight-this._ViewMarginTop/this._ViewNodeHeight:this._FirstVisibleIndex:this._ViewNodeHeight?this._NodesCount-this._VisibleNodesCount+(this._ViewMarginTop+this._ViewMarginBottom)/this._ViewNodeHeight-this._ViewMarginTop/this._ViewNodeHeight:this._FirstVisibleIndex),this._ScrollV.setValue(t,!1),n)},t.show=function(){s.base.show.apply(this,arguments),this.updateSize(!0)},t._ags=function(n){if(n.CanFocus!==!1){if(this._FocusedNode){var t=this._FocusedNode;this._FocusedNode=null,t.Focused=!1,this._by(t)}this._FocusedNode=n,n.Focused=!0,this._by(n),this._sv(),this.expandToNode(this._a4(n))}},t._bGU=function(){if(this._FocusedNode){var n=this._FocusedNode;this._FocusedNode=null,this._by(n),this._sv(n)}},t.removeFocus=function(){this._bGU()},t._dDw=function(n,t){var u,r,i;if(n&&n.length)for(u=n.length,r=0;r<u;r++)i=n[r],i.Selected&&t.push(i),i.Nodes&&i.Nodes.length&&this._al6(i.Nodes,t,[])},t._aDv=function(n){var r,i,t;if(n)for(r=n.length,i=0;i<r;i++)t=n.pop(),t._Dom=null,t==this._aDw&&(this._aDw=null),t==this._FocusedNode&&(this._FocusedNode=null),t==this._SelectedNode&&(this._SelectedNode=null),t==this._LastClickNode&&(this._LastClickNode=null),t.Nodes&&this._aDv(t.Nodes),t._TreeNode&&t._TreeNode.dispose()},t.update=function(){this._jX(),this._cm()},t.redraw=function(){this._dA(),this._cm(),this.updateSize(!0)},t.setColumns=function(n,t){n&&(!Array.isArray(n)||n.length)||(n=[{Caption:"",Width:this._aa,MinWidth:10,Visible:!0}]),this._Columns&&this._Columns._DomIcon&&this._Columns._DomIcon.parentElement&&this._Columns._DomIcon.parentElement.removeChild(this._Columns._DomIcon),this._Columns&&this._Columns!=n&&this._Columns.dispose&&this._Columns.dispose(),this._Columns=n,Array.isArray(n)?this._Columns=new w({Owner:this,Columns:n}):(this._Columns=n,this._Columns.setOwner(this)),t!==!1&&(this._dA(),this._cm())},t.setImageList=function(n){this._ImageList!==n&&(this._ImageList=n,this._dA(),this._cm())},t.setShowColumns=function(n){this._ShowColumns==!n&&(this._ShowColumns=!!n,this._Columns.update(),this._dA(),this._cm(),this._cm())},t.setCaptionVisible=function(n){this._CaptionVisible==!n&&(this._CaptionVisible=!!n,this._Columns.update(),this.updateSize(!0))},t.setEnableResizeColumn=function(n){this._EnableResizeColumn==!n&&(this._EnableResizeColumn=!!n,this._sv())},t.setShowToolTips=function(n){this._ShowToolTips=!!n,this.hideToolTip()},t.setRowSelect=function(n){this._RowSelect==!n&&(this._RowSelect=!!n,this._sv())},t.checkSelection=function(n){var r,i,u,t;if(this._MultiSelect)this._IsCSMultiSelect=!1,this._SelectedNode&&(this._SelectedNode.Selected=!0);else{if(this._SelectedCount=0,r=[],u=!1,this._RowIndex[0]&&n!==!1&&(u=this._lM(this._RowIndex[0])),u)return;if(!this._SelectedNode||!this._SelectedNode.Selected)for(i in this._KeyIndex)this._KeyIndex[i].Selected&&(this._SelectedNode=this._KeyIndex[i]);this._SelectedNode&&(this._SelectedCount=1,this._sw(this._SelectedNode));for(i in this._KeyIndex)t=this._KeyIndex[i],t.Selected&&t!==this._SelectedNode&&(t.Selected=!1,this._sx(t),this._by(t),r.push(this._a4(t)));n!==!1&&this._eO(this._SelectedNode,r)}},t.setMultiSelect=function(n,t){this._MultiSelect==!n&&(this._MultiSelect=!!n,this.checkSelection(t))},t.setEmptySelection=function(n){this._EmptySelection==!n&&(this._EmptySelection=!!n,this._aDi(),this._cm())},t.setCutOverflow=function(n){this._CutOverflow!=n&&(this._CutOverflow=!!n,this._dA(),this._cm(),this.updateSize(!0))},t.setWordWrap=function(n){this._WordWrap!=n&&(this._WordWrap=!!n,this._dA(!0),this._Columns.update(),this._cm(),this._cm(),this._jX(),this._dc(),this._gq())},t.setShowLines=function(n){this._ShowLines==!n&&(this._ShowLines=!!n,this._dA(),this._cm())},t.setShowGridLines=function(n){this._ShowGridLines==!n&&(this._ShowGridLines=!!n,this._sv())},t.setCheckBoxes=function(n){this._CheckBoxes==!n&&(this._CheckBoxes=!!n,this._dA(),this._cm())},t.setIsCSMultiSelect=function(n){this._IsCSMultiSelect=!!n,this._IsCSMultiSelect&&(this._MultiSelect=!1)},t.getFocusedNode=function(){return this._FocusedNode?this._a4(this._FocusedNode):null},t._bGV=function(n,t){for(var i,r,f=t.length,u=0;u<f;u++)i=t[u],i.Selected&&(r=this._a4(i),r&&r.isLive()&&n.push(r)),i.Nodes&&this._bGV(n,i.Nodes)},t.getSelectedNodes=function(){var n=[],t;return this._MultiSelect||this._IsCSMultiSelect?this._Nodes&&this._bGV(n,this._Nodes):this._SelectedNode?(t=this._a4(this._SelectedNode),n=t&&t.isLive()?[t]:[]):n=[],n},t.getHorizontalScroll=function(){return this._ScrollH},t.getVerticalScroll=function(){return this._ScrollV},t._baB=function(n){n.self._yH=!0,n.self._baC&&n.self.updateSize()},t.updateSize=function(t){if(t&&(this._atQ=!1,this._ViewNodeHeight=0,this._yH&&n.clearTimeout(this._yH),this._yH=!1,this._baC=!1),this._UpdateDelay&&this._yH!==!0){if(this._yH){this._baC=!0,n.clearTimeout(this._yH),this._yH=n.setTimeout(this._baB,this._UpdateDelay,{self:this});return}this._yH=n.setTimeout(this._baB,this._UpdateDelay,{self:this}),this._baC=!1}this._yH===!0&&(this._yH=!1),this._atI=n.getStyle(this._DomNode,"borderTopWidth",!0)+n.getStyle(this._DomNode,"borderBottomWidth",!0),this._atH=n.getStyle(this._DomNode,"borderLeftWidth",!0)+n.getStyle(this._DomNode,"borderRightWidth",!0);var i=!1;this.getPixelWidth()==this._Width?(this._aa=this._g(this._Width-this._atH),i=this._aa+"px"!=this._DomNode.style.width,this._DomNode.style.width=this._aa+"px"):(this._DomNode.style.width=this._Width,i=this._aa+"px"!=this._DomNode.style.width,this._aa=this._DomNode.clientWidth),this.getPixelHeight()==this._Height?(this._ac=this._g(this._Height-this._atI),this._DomNode.style.height=this._ac+"px"):(this._DomNode.style.height=this._Height,this._ac=this._DomNode.clientHeight),this._ViewMarginTop=n.getStyle(this._DomTable,"margin-top",!0),this._ViewMarginBottom=n.getStyle(this._DomTable,"margin-bottom",!0),this._CaptionHeight=this.getCaptionHeight(),this._ViewNodeHeight=this._cte(),this._VisibleNodesCount=(this._ac-this._CaptionHeight-this._HScrollHeight-1)/this._ViewNodeHeight,this._FirstVisibleIndex===null&&(this._FirstVisibleIndex=this._ViewNodeHeight?-this._ViewMarginTop/this._ViewNodeHeight:this._FirstVisibleIndex),this._HScrollHeight=this._Columns.getFullWidth()>this._aa-1-this._eN()?this._ScrollH.getHeight():0,this.getFullTreeHeight(),this._gq(),this._cm(),this._sv(),(i||t)&&(this._Columns.update(),this._agu())},t.getNodes=function(){return this.getRootNode(),this._TreeNode.getNodes()},t.getRootNode=function(){return this._TreeNode||(this._TreeNode=new l({JSON:{Nodes:this._Nodes,ChildrenCount:this._ChildrenCount},Owner:this,Root:!0}),this._TreeNode._JSON.HasChild=!0),this._TreeNode._JSON._TreeNode=this._TreeNode,this._TreeNode._JSON.ChildrenCount=this._ChildrenCount,this._TreeNode},t.setSize=function(n,t,i,r){this._baE=!1;var u=this._IsUpdating;(this._Height!==t||r)&&(this._IsUpdating=!0),this.setWidth(n,i,r),this._IsUpdating=u,this._baE||this.setHeight(t,!1,r)},t.setWidth=function(n,t,i){var r={OldValue:this._Width,NewValue:n},u;t!==!1&&this.SizeChanging.fire(this,r),this._baE=r.Cancel,(n!=this._Width||i)&&!r.Cancel&&(n<0&&(n=0),this._Width=n,this.updateSize(!0),this._WordWrap&&this.getFullTreeHeight(),u=this._FirstVisibleIndex,this._gq(),u!==this._FirstVisibleIndex&&this._agw(),this._atQ=!1,this._dA(),this._cm(),t!==!1&&this.SizeChanged.fire(this,r))},t.setHeight=function(n,t,i){var r={OldValue:this._Width,NewValue:n};t!==!1&&this.SizeChanging.fire(this,r),this._baE=r.Cancel,(n!=this._Height||i)&&!r.Cancel&&(n<0&&(n=0),this._Height=n,this.updateSize(),t!==!1&&this.SizeChanged.fire(this,r))},t.selectAll=function(n){var t,i;this._Nodes&&this._Nodes[0]&&(this._EditNode||(t=!1,n!==!1&&(t=this._lM(this._Nodes[0])),t)||(this._MultiSelect||this._IsCSMultiSelect)&&(i=this._al6(this._Nodes,!0),n!==!1&&this._eO(this._Nodes[0],i)))},t.clearSelection=function(n){if(this._SelectedCount+=1,this.deSelectAll(n),!this._MultiSelect&&!this._IsCSMultiSelect&&this._SelectedNode&&!this._EmptySelection){this._SelectedNode.Selected=!1,this._by(this._SelectedNode);var t=[this._a4(this._SelectedNode)];n!==!1&&this._eO(this._Nodes[0],t),this._SelectedNode=null}this._SelectedCount=0},t.deSelectAll=function(n){var r,t,i;if(this._Nodes&&this._Nodes[0]&&!this._EditNode&&(n!==!1&&(r=this._lM(this._Nodes[0])),!r)){if(t=!1,this._MultiSelect||this._IsCSMultiSelect)t=this._al6(this._Nodes,!1);else{this._SelectedNode&&this._EmptySelection&&(this._SelectedNode.Selected=!1,this._by(this._SelectedNode),t=[this._a4(this._SelectedNode)],this._SelectedNode=null,this._SelectedCount=0);for(i in this._KeyIndex)this._KeyIndex[i].HasChildSelected&&(this._KeyIndex[i].HasChildSelected=0,this._by(this._KeyIndex[i]))}n!==!1&&t&&this._eO(this._Nodes[0],t)}},t._agt=function(n,t,i){if(n.Nodes||n.Expanded){var r=this._a4(n);t!==!1&&this.BeforeCollapse.fire(this,{Node:r}),n.Expanded=!1,i!==!1&&(this._jX(),this._gq(),this._dc(),this._Columns.update(),this._cm(),this._WordWrap&&this._ShowLines&&this._aRW(n)),t!==!1&&this.Collapse.fire(this,{Node:r})}},t._os=function(n,t,i){var r=n.Expanded!==!0;if(r){if(this._aDw=this._a4(n),!this._aDw.isLive())return;t!==!1&&(this.BeforeExpand.fire(this,{Node:this._aDw}),!n.HasChild||n.Nodes&&n.Nodes.length||this._agz(n,0,this._LastVisibleIndex-n._bP-1)),n.Expanded=!0}i!==!1&&(this._jX(),this._gq(),this._dc(),this._Columns.update(),this._ShowColumns&&this._CutOverflow&&this._dA(),this._cm(),this._WordWrap&&this._ShowLines&&this._aRW(n)),r&&t!==!1&&this.Expand.fire(this,{Node:this._aDw})},t.setExpandedForNode=function(n,t){n.getExpanded()!==t&&(t?this._os(n._JSON,!0,!0):this._agt(n._JSON,!0,!0))},t._bGu=function(n,t,i){n.Expanded!==t&&(t?this._os(n,!0,i):this._agt(n,!0,i))},t._aDh=function(n,t,i,r){var f,u;if(n.Nodes||n.HasChild&&!r){if(this._bGu(n,t,i),!n.Nodes||!n.Nodes.length){n._bGW=t;return}for(f=n.Nodes.length,u=0;u<f;u++)this._aDh(n.Nodes[u],t,i)}},t._bGX=function(n,t){var r,i;if(this._Nodes&&this._Nodes.length){for(r=this._Nodes.length,i=0;i<r;i++)this._aDh(this._Nodes[i],n,!1,t);this._jX(),this._gq(),this._cm()}},t.expandAll=function(n){this._bGX(!0,n)},t.collapseAll=function(){this._bGX(!1)},t._agz=function(t,i,r){if(!this._al8&&(t instanceof l||(t=this._a4(t)),i<0&&(i=0),r>=t.getChildrenCount()&&(r=t.getChildrenCount()-1),r<i&&(r=i),t!==this.getRootNode()||t.getChildrenCount())){while(t&&t._JSON.Nodes&&t._JSON.Nodes[r])if(r-=1,r<i)return;this._AsyncLoading&&(this._al8=n.setTimeout(this._cth,this._LoadingTimeout,{self:this})),this.LoadSubNodesOf.fire(this,{Node:t,FirstIndex:i,LastIndex:r})}},t._cth=function(n){n.self._al8=!1,n.self.isLive()&&n.self._cm()},t.getNodeLevel=function(n){var t=n._JSON,i;for(n=t,i=0;t._f2;)t._f2&&(t=t._f2),i++;return i},t.selectLevel=function(t,i){var r=null,e,u,f;(n.isObject(t)&&(r=t,t=this.getNodeLevel(t)),this._EditNode)||(e=!1,i!==!1&&(e=this._lM(r)),e)||(u=this._SelectedNode,f=this._baA(this._Nodes,0,t,!0),this._MultiSelect||this._IsCSMultiSelect||!this._SelectedNode||this._SelectedNode==u||(u&&(u.Selected=!1,this._by(u),f.push(this._a4(u))),this._SelectedNode.Selected||(this._sw(this._SelectedNode),this._SelectedNode.Selected=!0,this._by(this._SelectedNode),f.push(this._a4(this._SelectedNode))),this.SelectedCount=1),r||(r=f[0]),i!==!1&&r&&this._eO(r,f))},t.deSelectLevel=function(t,i){var r=null,f,u;(n.isObject(t)&&(r=t,t=this.getNodeLevel(t)),this._EditNode)||(f=!1,i!==!1&&(f=this._lM(r)),f)||(u=this._baA(this._Nodes,0,t,!1),u.length&&(this._SeletedNode=null,this._SeletedCount=0),r||(r=u[0]),i!==!1&&r&&this._eO(r,u))},t._cti=function(n){return this._KeyIndex[n]},t.getNodeByKey=function(n){var t=this._KeyIndex[n];return this._a4(t)},t.expandToKeyNode=function(n){var t=this._cti(n);if(t)while(t._f2)t=t._f2,this._os(t,!0,!t._f2)},t.getOptimalWidthForColumn=function(n,t){var r,i,u,f;return n=n?n:0,r=t?this.getMaximalWidthForColumnFull(n):this.getMaximalWidthForColumn(n),i=this._Columns.getItem(n)._DomText,u=this._Columns.getItem(n)._yy,i.style.display="inline-block",f=i.offsetWidth+6,u&&(f+=u.offsetWidth),i.style.display="",Math.max(r,f)},t._ctj=function(t){return this._aRX?this._aRX:this._aRX=this._g(n.getStyle(t._DomContent[0],"paddingRight"))},t._baF=function(n,t){var f=parseInt(n._DomContent[t].style.width),e=this._CutOverflow,o=t?n.Columns[t-1]:n.Text,i,u,r;if(e&&(this._CutOverflow=!1,this._yD(n,t,o)),n._DomContent[t].style.width="",i=n._DomContent[t].clientWidth+6,f&&(n._DomContent[t].style.width=this._g(f)+"px"),n._DomColumns[t].className.indexOf("tree")>=0){for(u=n._DomControls.childNodes,r=0;r<u.length;r++)i=i+u[r].offsetWidth;i=i-(!this._RowSelect&&this._FocusedNode===n?2:4),this._IgnoreRightPadding&&(i=i-this._ctj(n)-1)}return e&&(this._CutOverflow=!0,this._yD(n,t,o)),i},t.getMaximalWidthForColumnFull=function(n){var t,i,r,u;this._dA(!1);for(t in this._KeyIndex)this._jY(this._KeyIndex[t]),this._by(this._KeyIndex[t]);this._sv(),i=0;for(t in this._KeyIndex)(r=this._KeyIndex[t],r._DomContent&&r._DomContent[n])&&(u=this._baF(r,n),i<u&&(i=u));return this._cm(),i},t.getMaximalWidthForColumn=function(n){var f=0,e,o,i,r,t,u;for(this._WordWrap&&(f=this.getColumns().getItem(n).getWidth(),this.getColumns().getItem(n).setWidth(1,!1)),e=Math.max(0,Math.floor(this._FirstVisibleIndex)),this._aRV(),o=this._LastVisibleIndex,i=0,r=e;r<=o;r++)(t=this._RowIndex[r],t)&&t._DomContent&&t._DomContent[n]&&(u=this._baF(t,n),i<u&&(i=u));return this._WordWrap&&this.getColumns().getItem(n).setWidth(f,!1),i},t._ctf=function(n){var t,i,f,e=0,r,u;if(this._ViewNodeHeight&&this._RowIndex.length&&!(Math.floor(this._FirstVisibleIndex)<=0)){for(r=Math.max(Math.floor(this._FirstVisibleIndex-n/this._ViewNodeHeight),0),u=Math.floor(this._FirstVisibleIndex-1),r>u&&(u=r),t=r;t<=u;t++)t>=this._FirstVisibleIndex||(i=this._RowIndex[t],this._jY(i,!0),this._by(i));for(t=r;t<=u;t++)(i=this._RowIndex[t],i._DomContent&&i._DomContent[0])&&(f=this._baF(i,0),e<f&&(e=f));for(t=r;t<=u;t++)t>=this._FirstVisibleIndex||(i=this._RowIndex[t],this._qq(i));return e}},t.getHasSecondLevel=function(){for(var t=this._Nodes.length,n=0;n<t;n++)if(this._Nodes[n].Nodes&&this._Nodes[n].Nodes.length||this._Nodes[n].HasChild)return!0;return!1},t.getAllExpandedKeys=function(){for(var t=[],i=this._RowIndex.length,n=0;n<i;n++)this._RowIndex[n]&&this._RowIndex[n].Expanded&&t.push(this._RowIndex[n].Key);return t},t.getAllCollapsedKeys=function(n){for(var r=[],f=this._RowIndex.length,u=null,t,i=0;i<f;i++)this._RowIndex[i]&&(t=this._RowIndex[i],t.Expanded&&t.HasChild||(n?t._f2&&t._f2!==u&&(r.push(t.Key),u=t._f2):r.push(t.Key)));return r},t.setExpandedByKeys=function(n){for(var i=n.length,t=0;t<i;t++)this._KeyIndex[n[t]]&&this._os(this._KeyIndex[n[t]])},t.getAllSelectedKeys=function(){var t=[],n;for(n in this._KeyIndex)this._KeyIndex[n].Selected&&t.push(this._KeyIndex[n].Key);return t},t.setSelectedByKeys=function(n,t,i){var o,u,f,e,s,r,h;if(!this._EditNode&&(o=!1,i!==!1&&this._Nodes[0]&&(o=this._lM(this._Nodes[0])),!o)){for(u=[],f=n.length,e=f-1;e>=0;e--)this._KeyIndex.hasOwnProperty(n[e])||n.splice(e,1);if(f=n.length,this._MultiSelect||this._IsCSMultiSelect)for(s in this._KeyIndex)this._KeyIndex.hasOwnProperty(s)&&(r=this._KeyIndex[s],n.indexOf(r.Key)>=0?r.Selected!=!0&&(r.Selected=!0,this._sw(r),this._by(r),u.push(r)):!r.Selected==!1&&t&&(r.Selected=!1,this._sx(r),this._by(r),u.push(r)));else f&&(!this._SelectedNode||n[f-1]!==this._SelectedNode.Key)&&(h=n[f-1],this._SelectedNode&&(this._SelectedNode.Selected=!1,u.push(this._SelectedNode),this._by(this._SelectedNode),this._sx(this._SelectedNode)),this._SelectedNode=this._KeyIndex[h],this._SelectedNode.Selected=!0,this._sw(this._SelectedNode),u.push(this._SelectedNode),this._by(this._SelectedNode));i!==!1&&this._eO(u[0],u)}},t.setEnableColumnsMenu=function(n){this._EnableColumnsMenu==!n&&(this._EnableColumnsMenu=!!n,this._Columns.update())},t.setSortSequence=function(n){n||(n=[0,1,2]),this._SortSequence=n},t.setEnabled=function(t,i){var u,r;if(t!=this._Enabled||i!==!1){if(this._Enabled=!!t,this._ScrollV.setEnabled(this._Enabled),this._ScrollH.setEnabled(this._Enabled),this._Columns)for(this._Columns.hideMenu(),u=this._Columns.getCount(),r=0;r<u;r++)this._Columns.getItem(r).setIsEnabled(this._Enabled);this._Enabled?(this._DomNode.removeAttribute("disabled"),n.removeClass(this._DomNode,"Disabled"),this._bGx()):(this._DomNode.setAttribute("disabled","disabled"),n.addClass(this._DomNode,"Disabled"),this._bGB()),this._FirstVisibleIndex!==null&&(this._dA(),this._cm()),s.base.setEnabled.call(this,t,i)}},t.addStyleBySelector=function(t,i){return n.Ui.addStyleBySelector(t,i,this._DomNode)},t._al9=function(n){var t=this._eP[n];t&&(this._DomNode.removeChild(t),delete this._eP[n])},t.setHoverColor=function(n,t){this._al9("HoverColor"),n=n?n.toString():null,(n!==this._HoverColor||t)&&(n?(this._HoverColor=n,this._eP.HoverColor=this.addStyleBySelector({Background:{PPType:"SolidColorBrush",Color:n}},"#"+this._Id+".PPTreeList > DIV.data > TABLE.selecttext > TBODY > TR.hover > TD.tree > .text, #"+this._Id+".PPTreeList > DIV.data > TABLE.nowrap.selectrow > TBODY > TR.hover > TD, #"+this._Id+".PPTreeList > DIV.data > TABLE.wraped.selectrow > TBODY > TR.hover > TD")):delete this._HoverColor)},t.setActiveParentColor=function(n,t){this._al9("ActiveParentColor"),n=n?n.toString():null,(n!==this._ActiveParentColor||t)&&(n?(this._ActiveParentColor=n,this._eP.ActiveParentColor=this.addStyleBySelector({Background:{PPType:"SolidColorBrush",Color:n}},"#"+this._Id+".PPTreeList > DIV.data > TABLE.selecttext > TBODY > TR.childselect > TD.tree > .text, #"+this._Id+".PPTreeList > DIV.data > TABLE.nowrap.selectrow > TBODY > TR.childselect > TD, #"+this._Id+".PPTreeList > DIV.data > TABLE.wraped.selectrow > TBODY > TR.childselect > TD")):delete this._ActiveParentColor)},t.setActiveColor=function(n,t){this._al9("ActiveColor"),n=n?n.toString():null,(n!==this._ActiveColor||t)&&(n?(this._ActiveColor=n,this._eP.ActiveColor=this.addStyleBySelector({Background:{PPType:"SolidColorBrush",Color:n}},"#"+this._Id+".PPTreeList > DIV.data > TABLE.selecttext > TBODY > TR.selected > TD.tree > .text, #"+this._Id+".PPTreeList > DIV.data > TABLE.nowrap.selectrow > TBODY > TR.selected > TD, #"+this._Id+".PPTreeList > DIV.data > TABLE.wraped.selectrow > TBODY > TR.selected > TD")):delete this._ActiveColor)},t.setSearchColor=function(n,t){(this._al9("SearchColor"),n)&&(n=n?n.toString():null,(n!==this._SearchColor||t)&&(n?(this._SearchColor=n,this._eP.SearchColor=this.addStyleBySelector({Background:{PPType:"SolidColorBrush",Color:n}},"#"+this._Id+".PPTreeList .PPTreeListHighLightText")):delete this._SearchColor))},t.setHoverFont=function(t,i){this._al9("HoverFont"),this._HoverFont&&this._HoverFont!==t&&this._HoverFont.dispose(),t=t?t instanceof n.Font?t.clone():new n.Font(t):null,(t!==this._HoverFont||i)&&(this._HoverFont=t,t&&(this._eP.HoverFont=this.addStyleBySelector({Font:t.getSettings()},"#"+this._Id+".PPTreeList > DIV.data > TABLE.selecttext > TBODY > TR.hover > TD.tree > .text, #"+this._Id+".PPTreeList > DIV.data > TABLE.selectrow > TBODY > TR.hover > TD.tree > .text")))},t.setActiveFont=function(t,i){this._al9("ActiveFont"),this._ActiveFont&&this._ActiveFont!==t&&this._ActiveFont.dispose(),t=t?t instanceof n.Font?t.clone():new n.Font(t):null,(t!==this._ActiveFont||i)&&(this._ActiveFont=t,t&&(this._eP.ActiveFont=this.addStyleBySelector({Font:t.getSettings()},"#"+this._Id+".PPTreeList > DIV.data > TABLE.selecttext > TBODY > TR.selected > TD.tree > .text, #"+this._Id+".PPTreeList > DIV.data > TABLE.selectrow > TBODY > TR.selected > TD.tree > .text")))},t.setSearchFont=function(t,i){this._al9("SearchFont"),this._SearchFont&&this._SearchFont!==t&&this._SearchFont.dispose(),t=t?t instanceof n.Font?t.clone():new n.Font(t):null,(t!==this._SearchFont||i)&&(this._SearchFont=t,t&&(this._eP.SearchFont=this.addStyleBySelector({Font:t.getSettings()},"#"+this._Id+".PPTreeList .PPTreeListHighLightText")))},t.sort=function(n,t,i,r){this._SortMethod=t,this._SortColumn=n,this.getNodes().setSort(n,t,i,r)},t.getSort=function(){return this.getNodes().getSort()},t.getSortMethod=function(){var n=this.getNodes().getSort();return n?n.method:0},t.getSortColumn=function(){var n=this.getNodes().getSort();return n?n.column:null},t.getSortProperty=function(){var n=this.getNodes().getSort();return n?n.property:null},t.getSortRecursive=function(){var n=this.getNodes().getSort();return n&&n.recursive!==undefined?n.recursive:!0},t.getSelectedNodesCount=function(){return this._SelectedCount},t.findText=function(n){var t=null,r,i,u;for(this._SearchIndex.length==0&&(t=this.getRootNode(),this._SearchIndex=[],t._JSON.Nodes&&this._aDu(null,t._JSON.Nodes,t._JSON.NodesSort)),r=this._SearchIndex.length,i=0;i<r;i++)if(t=this._SearchIndex[i],u=""+t.Text,u==n)return this._a4(t);return null},t.find=function(t,i,r,u){var c={Cancel:!1,Value:t,Column:i,SetFocus:r},o,f,l,s,h,a,e;if(u!==!1&&this.Finding.fire(this,c),c.Cancel)return-1;if(!t)return this._LastSearch=null,this._LastFound=null,this._LastFoundI=-1,null;for(t=t.toLowerCase(),(i===null||i===undefined)&&(i=0),this._LastFound&&this._LastSearch&&this._LastSearch.value==t&&this._LastSearch.column==i||(this._LastFound=null,this._LastFoundI=-1),this._LastSearch={value:t,column:i},o=null,this._SearchIndex.length==0&&(this._LastFoundI=-1,f=this.getRootNode(),this._SearchIndex=[],f._JSON.Nodes&&this._aDu(null,f._JSON.Nodes,f._JSON.NodesSort)),l=this._SearchIndex.length,s=this._LastFoundI+1;s<l;s++)if(f=this._SearchIndex[s],h=""+(i?f.Columns[i-1]:f.Text),h=h.toLowerCase(),a=n.String.escapeRegExp(t),h.search(a)>=0){o=f,this._LastFoundI=s,o=f;break}return e=null,o?(this._LastFound=o,e=this._a4(this._LastFound),e.isLive()||(r=!1,this._LastFound=null),r&&(this.expandToNode(e),this.scrollToNode(e),this._ags(o))):(this._LastFound=null,r&&this._bGU()),u!==!1&&this.Found.fire(this,{Node:e,Value:t,Column:i,SetFocus:r}),e},t.getLastFound=function(){return this._a4(this._LastFound)},t.expandToNode=function(n){for(var t=n._JSON;t._f2;)t=t._f2,this._os(t,!0,!t._f2)},t.scrollToNode=function(n,t){var e,i,f,r,u;if(n&&(e=this._HScrollHeight,i=n._JSON,i._bP!==undefined)){if(t){if(t===!0&&(t=1),this._WordWrap){for(r=i._bP,u=this._ac-this._CaptionHeight-this._HScrollHeight,u-=i._DomHeight;u>0&&r>0;)r-=1,this._RowIndex[r]&&(u-=this._RowIndex[r]._DomHeight);u<0&&(r+=(-u+1)/i._DomHeight),f=r}else f=i._bP-this._VisibleNodesCount+1;this._FirstVisibleIndex=i._bP+(f-i._bP)*t}else this._FirstVisibleIndex=i._bP;if(this._gq(),this._IsRTL&&this._Columns.update(),this._cm(),e!==this._HScrollHeight&&t&&!this._bGY){this._bGY=!0,this.scrollToNode(n,t);return}delete this._bGY}},t.hideSearch=function(){this._SearchPanel.hide()},t.showSearch=function(t,i){if(this._EnableSearch){if(this._DomSearch.style.width=this._g(this._aa-8)+"px",this._DomSearch.className="PPTreeListSearchInput",this._DomSearch.value="",i===undefined){var r=this._SearchPanel.getHeight();r==0&&(this._SearchPanel.show(0,0,!0),r=this._SearchPanel.getHeight(),this._SearchPanel.hide(null,!1)),r>this._ac&&this._SearchPanel.setHeight(this._ac),r>this._ac&&(r=this._ac),this._SearchPanel.addToNode(this._DomNode),this._SearchPanel.show(0,this._ac-r,!0),this._SearchPanel.setWidth(this._aa)}else t=t?t:0,this._SearchPanel.addToNode(document.body),this._SearchPanel.show(t,i,!0),this._SearchPanel.setWidth(this._aa);n.setTimeout(this._baG,300,{self:this})}},t._baG=function(n){n.self._DomSearch.focus()},t.startEditing=function(n,t){t||(t=0),this._acf({self:this,node:n._JSON,column:t})},t.beginUpdate=function(){this._IsUpdating=!0},t.endUpdate=function(){delete this._IsUpdating,this._jX(),this._gq(),this._dA(!0),this.update(),this._Columns.update(),this._agu()},t.getVisibleNodesCount=function(){if(!this._WordWrap)return this._VisibleNodesCount;for(var n=Math.floor(this._FirstVisibleIndex);this._RowIndex[n]&&this._RowIndex[n]._Dom&&this._RowIndex[n]._Dom.parentNode&&this._RowIndex[n]._Dom.offsetTop-this._DomDiv.scrollTop<this._ac-this._CaptionHeight;)n+=1;return n-Math.floor(this._FirstVisibleIndex)},t.getFullTreeHeight=function(){var u,t,n;if(this._WordWrap){for(this._TreeHeight=this._ViewMarginTop+this._ViewMarginBottom,u=this._RowIndex.length,t=0;t<u;t++){if(!this._RowIndex[t]){this._TreeHeight+=20;continue}n=this._RowIndex[t],n._DomHeight&&this._atQ?this._TreeHeight+=n._DomHeight:n._Dom&&n._Dom.parentNode&&n._Dom.offsetHeight?(this._by(n),n._DomHeight=n._Dom.offsetHeight,this._TreeHeight+=n._DomHeight):(this._jY(n),this._by(n),n._Dom.offsetHeight&&(n._DomHeight=n._Dom.offsetHeight),this._TreeHeight+=n._DomHeight,this._qq(n))}if(this._atQ=!0,this._TreeHeight==this._ViewMarginTop+this._ViewMarginBottom)return this._TreeFirstNodesCount=0,this._TreeLastNodesCount=0,this._TreeHeight=0,0;t=u-1;for(var i=this._ViewMarginBottom,f=0,e=this._ac-this._CaptionHeight-this._HScrollHeight,r=null;t>=0&&i<e;){if(f+=1,!this._RowIndex[t]){i+=20,t-=1;continue}r=this._RowIndex[t],i+=r._DomHeight,t-=1}this._TreeLastNodesCount=f,r&&(this._TreeLastNodesCount-=(i-e)/r._DomHeight)}else this._TreeHeight=this._ViewNodeHeight*this._NodesCount+this._ViewMarginTop+this._ViewMarginBottom,this._TreeLastNodesCount=0;return this._TreeHeight},t.getFirstVisibleIndex=function(n){return n?this._FirstVisibleIndex:Math.floor(this._FirstVisibleIndex)},t.getVisibleNodes=function(){var i=[],r=this._RowIndex,n,t;for(this._aRV(),n=Math.floor(this._FirstVisibleIndex);n<=this._LastVisibleIndex;n++)n>=0&&(t=this._a4(r[n]),t&&i.push(t));return i},t.getAllNodes=function(n){var u=[],r=this._RowIndex,t,f,i;for(n&&(t=this.getRootNode(),this._SearchIndex=[],t._JSON.Nodes&&(this._KeyIndex={},this._SelectedCount=0,this._bav(null,this._Nodes,0),this._aDu(null,t._JSON.Nodes,t._JSON.NodesSort)),r=this._SearchIndex),f=r.length,i=0;i<f;i++)u.push(this._a4(r[i]));return u},t.getNodeByIndex=function(n,t){var r=this._RowIndex,i;return t&&(this._SearchIndex&&this._SearchIndex.length||(i=this.getRootNode(),this._SearchIndex=[],i._JSON.Nodes&&this._aDu(null,i._JSON.Nodes,i._JSON.NodesSort)),r=this._SearchIndex),r[n]?this._a4(r[n]):null},t.setEnableHighlight=function(n){this._EnableHighlight=!!n,this._EnableHighlight?this.addClass("highlighted"):this.removeClass("highlighted"),this.update()},t.setEnableSelectedHighlight=function(n){this._EnableSelectedHighlight=!!n,this.update()},t.setHighlightColor=function(t){t instanceof n.Color&&(t=t.toString()),this._HighlightColor=t,this.getEnableHighlight()&&this.update()},t.setSelectedHighlightColor=function(t){t instanceof n.Color&&(t=t.toString()),this._SelectedHighlightColor=t,this.getEnableHighlight()&&this.update()},t.setHighlightFont=function(t){var i=t;this._HighlightFont&&this._HighlightFont.dispose(),t=t instanceof n.Font?t.clone():new n.Font(t),this._HighlightFont=t,i||(this._HighlightFont&&this._HighlightFont.dispose(),this._HighlightFont=null),this.getEnableHighlight()&&this.update()},t.setSelectedHighlightFont=function(t){var i=t;this._SelectedHighlightFont&&this._SelectedHighlightFont.dispose(),t=t instanceof n.Font?t.clone():new n.Font(t),this._SelectedHighlightFont=t,i||(this._SelectedHighlightFont&&this._SelectedHighlightFont.dispose(),this._SelectedHighlightFont=null),this.getEnableHighlight()&&this.update()},t.setIsRTL=function(n){var t=this._IsRTL;s.base.setIsRTL.apply(this,arguments),this._Columns&&this._Columns.hideMenu(),this._ScrollH.setIsRTL(n),n&&(this._DomDiv.scrollLeft=99999,this._DomCaptionDiv.scrollLeft=99999),n!==t&&(this._dA(),this._cm())},t.getTopShift=function(){var n;return n=this._FirstVisibleIndex>0?this._WordWrap&&this._RowIndex[Math.floor(this._FirstVisibleIndex)]?this._ViewMarginTop+parseInt(this._RowIndex[Math.floor(this._FirstVisibleIndex)]._Dom.offsetHeight)*(this._FirstVisibleIndex-Math.floor(this._FirstVisibleIndex)):this._ViewMarginTop+this._ViewNodeHeight*(this._FirstVisibleIndex-Math.floor(this._FirstVisibleIndex)):this._WordWrap?this._ViewMarginTop+this._FirstVisibleIndex*this._ViewNodeHeight:this._ViewMarginTop+this._FirstVisibleIndex*this._ViewNodeHeight},t.getTopMargin=function(){return this._ViewMarginTop},t.setHoveredNode=function(t){if(t instanceof l){if(t._Root)return;t=t._JSON}if(this._HoveredNode!==t){if(this._HoveredNode&&this._HoveredNode._Dom&&n.removeClass(this._HoveredNode._Dom,"hover"),t&&(t.CanFocus!==!1||t.CanSelect!==!1)&&t._Dom){n.addClass(t._Dom,"hover");var r=t._Dom.nextSibling,i=t._Dom.parentElement;i.removeChild(t._Dom),i.insertBefore(t._Dom,r)}this._HoveredNode=t}},t.getCheckedNodes=function(){var n,t,i;t=[];for(i in this._KeyIndex)this._KeyIndex.hasOwnProperty(i)&&(n=this._KeyIndex[i],n.Checked&&t.push(this._a4(n)));return t},t.filter=function(n,t,i){this.getNodes().setFilter(n,t,i)},t.getPixelWidth=function(){return this._Width===""||this._Width===null||this._Width==="auto"||n.isString(this._Width)&&this._Width.indexOf("%")>-1?this._DomNode.clientWidth:this._Width},t.getPixelHeight=function(){return this._Height===""||this._Height===null||this._Height==="auto"||n.isString(this._Height)&&this._Height.indexOf("%")>-1?this._DomNode.clientHeight:this._Height},t.getSettings=function(){var n=s.base.getSettings.apply(this,arguments);return delete n.VisibleNodesCount,delete n.FirstVisibleIndex,delete n.CaptionHeight,delete n.SortMethod,delete n.SortColumn,n},t.setContentFont=function(t){var i=t;this._ContentFont&&this._ContentFont.dispose(),t=t instanceof n.Font?t.clone():new n.Font(t),this._ContentFont=t,i||(this._ContentFont&&this._ContentFont.dispose(),this._ContentFont=null),this._cm()},t.setContentColor=function(n){this._ContentColor=n,this._cm()},t.setIgnoreRightPadding=function(n){this._IgnoreRightPadding=!!n,delete this._aRX},t.getNodeHeight=function(){return this._ViewNodeHeight},t.setImageCentered=function(n){this._ImageCentered=n,this._cm()},t.getChildrenCount=function(){return this._ChildrenCount!==undefined&&this._ChildrenCount!==null?this._ChildrenCount:this._Nodes?this._Nodes.length:0},t=null,function(n){var t;(function(n){var t,i,r,u,f,e,o,s,h,c,l,a,v,y,p;(function(n){n[n.Disable=0]="Disable",n[n.Enable=1]="Enable",n[n.UserEnabledCell=2]="UserEnabledCell"})(t=n.TabSheetEditMode||(n.TabSheetEditMode={})),function(n){n[n.TopLeft=0]="TopLeft",n[n.TopRight=1]="TopRight",n[n.BottomLeft=2]="BottomLeft",n[n.BottomRight=3]="BottomRight"}(i=n.TSSelControlPos||(n.TSSelControlPos={})),function(n){n[n.Off=0]="Off",n[n.SelectablePart=2]="SelectablePart",n[n.SelectableAll=3]="SelectableAll"}(r=n.TabFixedBehaviour||(n.TabFixedBehaviour={})),function(n){n[n.Scroll=0]="Scroll",n[n.WidthSize=1]="WidthSize",n[n.HeightSize=2]="HeightSize",n[n.Measures=3]="Measures",n[n.Model=4]="Model",n[n.CellDom=5]="CellDom",n[n.Selection=6]="Selection",n[n.RowsHeight=7]="RowsHeight",n[n.ColumnsWidth=8]="ColumnsWidth",n[n.Expanders=9]="Expanders",n[n.Spans=10]="Spans",n[n.Objects=11]="Objects",n[n.Ranges=12]="Ranges",n[n.Styles=13]="Styles"}(u=n.TabSheetMetaChangeType||(n.TabSheetMetaChangeType={})),function(n){n[n.Undefined=-1]="Undefined",n[n.Blank=0]="Blank",n[n.Self=1]="Self",n[n.Parent=2]="Parent",n[n.Top=3]="Top"}(f=n.TabHyperlinkTarget||(n.TabHyperlinkTarget={})),function(n){n[n.Undefined=-1]="Undefined",n[n.OpenFile=1]="OpenFile",n[n.OpenURL=2]="OpenURL",n[n.GoToSheet=3]="GoToSheet",n[n.ShowRange=4]="ShowRange",n[n.ShowObject=5]="ShowObject",n[n.OpenObject=6]="OpenObject",n[n.RunMacros=7]="RunMacros"}(e=n.TabSheetHyperlinkAction||(n.TabSheetHyperlinkAction={})),function(n){n[n.Delete=0]="Delete",n[n.AutoComplite=1]="AutoComplite",n[n.Cut=2]="Cut",n[n.User=3]="User",n[n.Paste=4]="Paste",n[n.Undo=5]="Undo",n[n.Redo=6]="Redo"}(o=n.TabEditMethod||(n.TabEditMethod={})),function(n){n[n.Unknown=0]="Unknown",n[n.Null=1]="Null",n[n.Short=2]="Short",n[n.FourByteInteger=3]="FourByteInteger",n[n.Float=4]="Float",n[n.Double=5]="Double",n[n.Currency=6]="Currency",n[n.Date=7]="Date",n[n.String=8]="String",n[n.Boolean=11]="Boolean",n[n.Variant=12]="Variant",n[n.Decimal=14]="Decimal",n[n.Char=16]="Char",n[n.Integer=22]="Integer"}(s=n.TabSheetCellValueType||(n.TabSheetCellValueType={})),function(n){n[n.DiagonalDown=0]="DiagonalDown",n[n.DiagonalUp=1]="DiagonalUp",n[n.EdgeTop=2]="EdgeTop",n[n.EdgeLeft=3]="EdgeLeft",n[n.EdgeBottom=4]="EdgeBottom",n[n.EdgeRight=5]="EdgeRight",n[n.InsideHorizontal=6]="InsideHorizontal",n[n.InsideVertical=7]="InsideVertical",n[n.Outline=8]="Outline",n[n.All=9]="All"}(h=n.TabSheetCellBorderIndex||(n.TabSheetCellBorderIndex={})),function(n){n[n.Default=0]="Default",n[n.All=1]="All",n[n.None=2]="None"}(c=n.TabSheetHyperLinkShowType||(n.TabSheetHyperLinkShowType={})),function(n){n[n.Off=0]="Off",n[n.On=1]="On",n[n.AllSyncWithObjects=2]="AllSyncWithObjects"}(l=n.TabSheetAsyncMode||(n.TabSheetAsyncMode={})),function(n){n[n.ContentOnly=0]="ContentOnly",n[n.ContentAndStyle=1]="ContentAndStyle"}(a=n.PasteMode||(n.PasteMode={})),function(n){n[n.Common=0]="Common",n[n.Row=1]="Row",n[n.Column=2]="Column",n[n.All=3]="All"}(v=n.TabSheetSelectionAreaType||(n.TabSheetSelectionAreaType={})),function(n){n[n.Cells=0]="Cells",n[n.Cell=1]="Cell",n[n.Rows=2]="Rows",n[n.Row=3]="Row",n[n.Columns=4]="Columns",n[n.Column=5]="Column",n[n.Table=6]="Table",n[n.None=7]="None",n[n.MultiPart=8]="MultiPart"}(y=n.TabSheetSelectionType||(n.TabSheetSelectionType={})),function(n){n[n.None=0]="None",n[n.Formats=1]="Formats",n[n.Values=2]="Values",n[n.Fill=4]="Fill",n[n.Default=5]="Default"}(p=n.TabRangeFillType||(n.TabRangeFillType={}))})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r,u;(function(n){n[n.Unchecked=0]="Unchecked",n[n.Checked=1]="Checked",n[n.Indeterminate=2]="Indeterminate"})(r=t.CheckState||(t.CheckState={})),u=function(t){function u(n){var i=t.call(this,n)||this;return i._render(),i}return i(u,t),u.prototype._e=function(){t.prototype._e.call(this),this._Checked=!1,this._CheckedState=r.Unchecked,this._ThreeState=!1,this._InversionCheck=!1,this._defineEvents(["CheckedChanged","ValueChanged"]),this._CSSPPCheckBox="PPCheckBox",this._CSSCBImg="CBImg",this._CSSPPCBText="PPCBText",this._CSSChecked="Checked",this._CSSUnChecked="Unchecked",this._CSSIndeterminate="Indeterminate",this._CSSDisabled="Disabled"},u.prototype._initFields=function(i){i=i||{},n.isDefined(i.Checked)&&(i.CheckedState=i.Checked===null?n.Ui.CheckState.Indeterminate:i.Checked===!0?n.Ui.CheckState.Checked:n.Ui.CheckState.Unchecked),t.prototype._initFields.call(this,i)},u.prototype._render=function(){this._initFromHTML("<span class='"+this._CSSPPCheckBox+"'><div class='"+this._CSSCBImg+"'><\/div><div class='"+this._CSSPPCBText+"'><div class='PPCBTextNode'><\/div><\/div><\/span>"),this.addClass("PPNoSelect"),this._DivIMG=this._DomNode.firstChild,this._SpanContent=n.querySelector(this._DomNode,".PPCBTextNode"),this._bW(this._Content,this._SpanContent,"Content",!0),this._bGZ(),t.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode)},u.prototype._bGZ=function(){switch(this._CheckedState){case n.Ui.CheckState.Checked:this._DivIMG.className=this._CSSCBImg+" "+this._CSSChecked;break;case n.Ui.CheckState.Indeterminate:this._DivIMG.className=this._CSSCBImg+" "+this._CSSIndeterminate;break;default:this._DivIMG.className=this._CSSCBImg+" "+this._CSSUnChecked}this.setEnabled(this._Enabled)},u.prototype._cG=function(n,i){t.prototype._cG.call(this,n,i)},u.prototype._b0=function(n,i){t.prototype._b0.call(this,n,i)},u.prototype._bp=function(n,t){if(!this.getEnabled())return!1;switch(this._CheckedState){case r.Checked:this._ThreeState&&!this._InversionCheck?this.setCheckedState(r.Indeterminate):this.setCheckedState(r.Unchecked);break;case r.Unchecked:this._ThreeState&&this._InversionCheck?this.setCheckedState(r.Indeterminate):this.setCheckedState(r.Checked);break;case r.Indeterminate:this._InversionCheck?this.setCheckedState(r.Checked):this.setCheckedState(r.Unchecked)}if(this.isLive())return this.Click.fire(this,t)},u.prototype.getChecked=function(){return this._Checked},u.prototype.getCheckedState=function(){return this._CheckedState},u.prototype.getThreeState=function(){return this._ThreeState},u.prototype.setThreeState=function(n){this._ThreeState=n},u.prototype.getValue=function(){return this._Checked},u.prototype.setValue=function(n){return this.setChecked(n)},u.prototype.setContent=function(n){n||(n=n!==0?"":0),this._bW(n,this._SpanContent),this._Content=n},u.prototype.setChecked=function(t,i){var r,u;(this._Checked!=t||this._InversionCheck)&&(r=this._CheckedState,t||t===null&&!this.getThreeState()?(this._CheckedState=this._InversionCheck?n.Ui.CheckState.Unchecked:n.Ui.CheckState.Checked,this._Checked=!0):(u=this._InversionCheck?n.Ui.CheckState.Checked:n.Ui.CheckState.Unchecked,this._CheckedState=t===null?n.Ui.CheckState.Indeterminate:u,this._Checked=t),this._bGZ(),i!==!1&&(this.CheckedChanged.fire(this,{OldState:r,CheckedState:this._CheckedState}),this.ValueChanged.fire(this,{OldValue:r,NewValue:this._CheckedState})))},u.prototype.setCheckedState=function(t,i){var r=!1;i===!1&&(this.CheckedChanged.suspend(),this.ValueChanged.suspend());switch(t){case n.Ui.CheckState.Checked:r=!0;break;case n.Ui.CheckState.Indeterminate:r=null;break;default:r=!1}this.setChecked(r),i===!1&&(this.CheckedChanged.resume(),this.ValueChanged.resume())},u.prototype.setEnabled=function(){t.prototype.setEnabled.apply(this,arguments),this._Enabled?n.removeClass(this._DivIMG,this._CSSDisabled):n.addClass(this._DivIMG,this._CSSDisabled)},u}(t.Control),t.CheckBox=u})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.getChekedItemByGroupName=function(t){var u=n.Ui.RadioButton.Groups[t],r,i;if(u)for(r=u.Controls,i=0;i<r.length;i++)if(r[i].getChecked())return r[i];return null},r.prototype._e=function(){t.prototype._e.call(this),this._CSSCBImg="RBImg",this._GroupName="",this._ThreeState=!1},r.prototype._render=function(){t.prototype._render.call(this),this.addClass("PPRadioButton");var n=this._GroupName;this._GroupName=null,this.setGroupName(n)},r.prototype._bG0=function(t,i){var e=n.Ui.RadioButton.Groups[t],f,u,r;if(e&&i)for(f=e.Controls,u=0;u<f.length;u++)r=f[u],r!==this&&r.getChecked()&&(r.CheckedChanged.suspend(),r.ValueChanged.suspend(),r.setChecked(!1),r.CheckedChanged.resume(),r.ValueChanged.resume())},r.prototype._bp=function(n,t){if(!this.getEnabled())return!1;this.Click.fire(this,t),this.getChecked()||this.setChecked(!0)},r.prototype.getThreeState=function(){return!1},r.prototype.setGroupName=function(t){var r,u,i;t=t||"",this._GroupName!==t&&(this._GroupName&&(r=n.Ui.RadioButton.Groups[this._GroupName],r&&(u=r.Controls.indexOf(this),u>-1&&r.Controls.splice(u,1))),t&&(i=n.Ui.RadioButton.Groups[t],i||(i={Controls:[]}),i.Controls.push(this),n.Ui.RadioButton.Groups[t]=i,this._bG0(t,this._Checked)),this._GroupName=t)},r.prototype.getGroupName=function(){return this._GroupName},r.prototype.setChecked=function(n){this._Checked!=n&&(this._bG0(this._GroupName,n),t.prototype.setChecked.apply(this,arguments))},r.prototype.dispose=function(){var i=n.Ui.RadioButton.Groups[this._GroupName];i.Controls.splice(i.Controls.indexOf(this),1),t.prototype.dispose.call(this),i.Controls.length===0&&delete n.Ui.RadioButton.Groups[this._GroupName]},r}(t.CheckBox);r.Groups={},t.RadioButton=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(n){function t(t){return n.call(this,t)||this}return i(t,n),t.prototype._e=function(){n.prototype._e.call(this),this._Getter=null,this._Setter=null,this._Context=null},t.prototype.getGetter=function(){return this._Getter},t.prototype.getSetter=function(){return this._Setter},t.prototype.getContext=function(){return this._Context},t.prototype.setGetter=function(n){this._Getter=n},t.prototype.setSetter=function(n){this._Setter=n},t.prototype.setContext=function(n){this._Context=n},t.prototype.createGetter=function(){if(!this._Context)return this._Getter;var n=this._Context,t=this._Getter;return function(i){return t.call(n,i)}},t.prototype.createSetter=function(){if(!this._Context)return this._Setter;var n=this._Context;return function(t,i){n.call(this._Setter,t,i)}},t}(n.Object);t.PropertyMapper=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){n.PropertyMapper=n.Ui.PropertyMapper}(n||(n={})),function(n){var t;(function(t){var i,r,u,f,e,o,s;(function(n){n[n.MultiExpand=0]="MultiExpand",n[n.SingleExpand=1]="SingleExpand"})(i=t.TreeListExpansionMode||(t.TreeListExpansionMode={})),function(n){n[n.SingleSelect=0]="SingleSelect",n[n.MultiSelect=1]="MultiSelect",n[n.ControlShiftMultiSelect=2]="ControlShiftMultiSelect",n[n.DragMultiSelect=3]="DragMultiSelect"}(r=t.TreeListSelectionMode||(t.TreeListSelectionMode={})),function(n){n[n.Number=0]="Number",n[n.String=1]="String"}(u=t.TreeSortMethod||(t.TreeSortMethod={})),t.TreeSortDirection=n.SortDirection,function(n){n[n.Native=0]="Native",n[n.Virtual=1]="Virtual",n[n.Dynamic=2]="Dynamic"}(f=t.TreeListScrollingMode||(t.TreeListScrollingMode={})),function(n){n[n.Top=0]="Top",n[n.Middle=1]="Middle",n[n.FirstLineMiddle=2]="FirstLineMiddle",n[n.Bottom=3]="Bottom"}(e=t.TreeListIconVerticalAlign||(t.TreeListIconVerticalAlign={})),function(n){n[n.SingleDrag=0]="SingleDrag",n[n.MultiDrag=1]="MultiDrag"}(o=t.TreeListDragAndDropMode||(t.TreeListDragAndDropMode={})),function(n){n[n.InsertBefore=0]="InsertBefore",n[n.InsertAfter=1]="InsertAfter",n[n.InsertChildren=2]="InsertChildren",n[n.Cancel=3]="Cancel"}(s=t.TreeListDragAndDropAction||(t.TreeListDragAndDropAction={}))})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){return r.call(this,n)||this}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._DataObject=null,this._DataMappers={},this._FocusedNode=undefined,this._ExpansionMode=t.TreeListExpansionMode.MultiExpand,this._SelectionMode=t.TreeListSelectionMode.MultiSelect,this._AllowEmptySelection=!0,this._SortColumn=0,this._SortDirection=n.SortDirection.None,this._SortMethod=t.TreeSortMethod.String,this._FilterString="",this._FilterColumn=0,this._RequestTimeout=1e3,this._bI=0,this._$nodes={},this._$branches={},this._g2=[],this._aDx=0,this._ama=0,this._ve=undefined,this._lN=undefined,this._defineEvents(["SortChanging","SortChanged","FilterChanging","FilterChanged","FocusChanging","FocusChanged","ExpansionChanging","ExpansionChanged","SelectionChanging","SelectionChanged","CheckedChanging","CheckedChanged","Finding","Found","DataRequest"])},u.prototype.getDataObject=function(){return this._DataObject},u.prototype.getDataMappers=function(){return this._DataMappers},u.prototype.getSortColumn=function(){return this._SortColumn},u.prototype.getSortDirection=function(){return this._SortDirection},u.prototype.getSortMethod=function(){return this._SortMethod},u.prototype.getFilterString=function(){return this._FilterString},u.prototype.getFilterColumn=function(){return this._FilterColumn},u.prototype.getExpansionMode=function(){return this._ExpansionMode},u.prototype.getRequestTimeout=function(){return this._RequestTimeout},u.prototype._baH=function(n,t){var i,u,r;for(i=u=this._aDy(n),i===undefined&&(i=""+t),i!==null&&typeof i!="string"&&(i=""+i),r=this._$nodes[i===null?"null":"$"+i];r!==undefined&&r!==n;)this._baI=this._baI?this._baI+1:1,i=""+this._baI,r=this._$nodes[i===null?"null":"$"+i];return i!==u&&this._bG1(n,i),i},u.prototype._baJ=function(t,i){for(var u=this._aDy(t),r;t&&(r=this._atX(t));){if(r===u)throw new n.Exception('incorrect DataObject structure: circular links "'+u+'", "'+this._aDy(t)+'"');if(t=this._$nodes[r===null?"null":"$"+r],!t&&r!==null&&i)throw new n.Exception('incorrect DataObject structure: missing parent node "'+r+'"');}},u.prototype._ctk=function(){var r,n,t,f,i,e,u;for(r in this._DataObject)this._DataObject.hasOwnProperty(r)&&(t=this._DataObject[r],n=this._baH(t,r),this._baJ(t),this._$nodes[n===null?"null":"$"+n]=t,this._aDz[n]=+r,f=this._agA(t),i=this._atX(t),i===undefined&&n!==null&&(i=null,this._amb(t,i)),n!==null&&(u=i===null?"null":"$"+i,this._$branches[u]||(this._$branches[u]=[]),e=this._$branches[u],f!==undefined?e[f]=n:e.push(n),this._aDx+=1))},u.prototype._bG2=function(n,t){var u,i,r,e,o,s,f;for(u in n)n.hasOwnProperty(u)&&(r=n[u],i=this._baH(r,u),this._baJ(r),this._$nodes[i===null?"null":"$"+i]=r,e=this._agA(r),o=this._aDA(r),this._amb(r,t),i!==undefined&&(f=t===null?"null":"$"+t,this._$branches[f]||(this._$branches[f]=[]),s=this._$branches[f],e!==undefined?s[e]=i:s.push(i),this._aDx+=1,o&&this._bG2(o,i)))},u.prototype._afx=function(n,t){for(var i,u=n.length,r=0;r<u;r++)i=n[r],this._ig[i]=t,this._$branches[i===null?"null":"$"+i]&&this._afx(this._$branches[i===null?"null":"$"+i],t+1)},u.prototype._ctm=function(){this._DataObject||(this._DataObject=[]),this._aDx=0,this._$branches={},this._ig={},this._$nodes={},this._aDz={},this.isHierarchicalDataObject()?this._bG2(this._DataObject,null):this._ctk(),this._$nodes["null"]||(this._$nodes["null"]={}),this._$branches["null"]&&this._afx(this._$branches["null"],0),delete this._agB,this._$nodes["$"+this._FocusedNode]||(this._FocusedNode=undefined)},u.prototype._bG3=function(){this._agB={},this._ama=this._ExpansionMode===t.TreeListExpansionMode.SingleExpand?0+this._atY(this._ve||null,0,!0):0+this._atY(null,0,!0)},u.prototype._atZ=function(){this._g2=[],this._aRY={},this._aRZ=0,this._bG4={},this._aDB={},this._aDC={},this._ama=this._ExpansionMode===t.TreeListExpansionMode.SingleExpand?0+this._atY(this._ve||null,0,!1):0+this._atY(null,0,!1),this._aRZ&&(this._ctn(),this._ama=+this._ama-this._aRZ)},u.prototype._atY=function(n,t,i){var e,f,u,s,r,o,c,l,y,a,p,v=this.isFilterActive(),h;if(r=this.getNodeChildren(n),r===undefined)return 0;this._SortDirection&&(r=r.slice(0),r.sort(this._cto.bind(this))),u=-1,o=v?0:this.getNodeChildrenCount(n);for(e in r)if(r.hasOwnProperty(e)){if(f=r[e],h=this._b2(f),c=this._baK(h),c||this._aRZ++,this._baL(h,undefined),v){if(!this._aR0(f))continue;(y>+e||!l)&&(l=f,y=+e),(p<+e||!a)&&(a=f,p=+e)}else r[0]!==undefined&&(this._aDB[r[0]]=!0),r[o-1]!==undefined&&(this._aDC[r[o-1]]=!0);this.isPartialRequestPossible()?u=this._agA(h):u+=1,u===undefined&&(u=e|0,this._agC(h,u)),i?c&&(this._agB[t+u]=f,s=this._atY(f,t+u+1,i),t+=s,o+=s):(this._g2[t+u]=f,this._aRY[f]=t+u,this._at0(h)&&c&&(s=this._atY(f,t+u+1),t+=s,o+=s)),v&&(o+=1)}return v&&(l&&(this._aDB[l]=!0),a&&(this._aDC[a]=!0)),o},u.prototype._ctn=function(){for(var n,t,r,u,f,e,o=this._aRZ,i=this._g2.length-1;i>=0;i--)if(n=this._g2[i],n!==undefined)if(this.getNodeVisible(n)&&this._aR0(n))this._aRY[n]-=o;else{if(this._g2.splice(i,1),delete this._aRY[n],o-=1,this.getNodeIsFirst(n))for(delete this._aDB[n],r=this.getNodeLevel(n),f=!1,t=i;t<this._g2.length;t++){if(u=this.getNodeLevel(this._g2[t]),u<r)break;if(this.getNodeLevel(this._g2[t])===r){this._aDB[this._g2[t]]=!0;break}}if(this.getNodeIsLast(n)){for(delete this._aDC[n],r=this.getNodeLevel(n),f=!1,t=i-1;t>=0;t--){if(u=this.getNodeLevel(this._g2[t]),u<r)break;if(u===r){f=!0,this._aDC[this._g2[t]]=!0;break}}f||(e=this.getNodeParent(n),e&&this._baL(this._b2(e),!1))}}},u.prototype._aR0=function(n){var t=this._bG4[n],i,o,r,u;if(t!==undefined)return t;t=!1;var s=this.getNodeContent(n),f=s[this._FilterColumn],e=this._FilterString;if(this._FilterCaseSensetive||(f=f.toLowerCase(),e=e.toLowerCase()),f.indexOf(e)>-1)t=!0;else for(i=this.getNodeChildren(n),o=i?i.length:0,r=0;r<o;r++)if(u=i[r],u&&this.getNodeVisible(u)&&this._aR0(u)){t=!0;break}return this._bG4[n]=t,t},u.prototype._cto=function(i,r){var u,f,e,o;if(n.isFunction(this._SortMethod))return this._SortMethod(this,i,r);if(u=this.getNodeContent(i)[this._SortColumn],f=this.getNodeContent(r)[this._SortColumn],u=(u===0||u?u+"":"").toLowerCase(),f=(f===0||f?f+"":"").toLowerCase(),this._SortMethod===t.TreeSortMethod.Number){if(e=parseFloat(u),o=parseFloat(f),isNaN(e)&&!isNaN(o))return 1;if(!isNaN(e)&&isNaN(o))return-1;isNaN(e)&&isNaN(o)&&(e=u,o=f),u=e,f=o}switch(this._SortDirection){case n.SortDirection.Asc:case n.SortDirection.None:if(u<f)return-1;if(u>f)return 1;break;case n.SortDirection.Desc:if(f<u)return-1;if(f>u)return 1}return 0},u.prototype._bG5=function(){this._ctp||(delete this._$nodes,delete this._$branches,delete this._ig,delete this._g2),this._ve=undefined,this._lN=undefined},u.prototype._ctq=function(t){var r,u,i;i=this._DataObject,this.isHierarchicalDataObject()?(u=this._atX(t),i=this._aDA(this._$nodes[u===null?"null":"$"+u]),i===undefined&&(i=this._DataObject),i.push(t)):(r=this._aDy(t),n.Array.isArray(i)?(this._aDz[r]=i.length,i.push(t)):(this._aDz[r]=r,i[r]=t))},u.prototype.dispose=function(){this._amc&&(n.clearTimeout(this._amc),this._amc=null),this._bG5(),r.prototype.dispose.apply(this,arguments)},u.prototype.beginUpdate=function(){this._bI+=1},u.prototype.endUpdate=function(n){this._bI-=1,this._bI<=0&&(this._bI=0,n!==!1&&this.updateSize())},u.prototype.isUpdating=function(){return!!this._bI},u.prototype.isHierarchicalDataObject=function(){return!!this._DataMappers.Children},u.prototype.isPartialRequestPossible=function(){return!(this._SortDirection||this._FilterString)},u.prototype.isFilterActive=function(){return!!this._FilterString},u.prototype.isSortActive=function(){return!!this._SortDirection},u.prototype.updateDataObject=function(){this._DataObject||(this._ctp=!0,this._DataObject=[])},u.prototype.updateIndexes=function(){this.beginUpdate(),this._ctm(),this._atZ(),this.endUpdate(!1)},u.prototype.refresh=function(){this.updateMappers(),this.updateIndexes(),this.checkSelection(null,!1),this.updateSize()},u.prototype.clearNodes=function(){var t;for(t in this._DataObject)this._DataObject.hasOwnProperty(t)&&delete this._DataObject[t];n.Array.isArray(this._DataObject)&&(this._DataObject.length=0),this._$nodes={},this._ve=undefined,this._lN=undefined,this._FocusedNode=undefined,this.refresh()},u.prototype.loadNodes=function(t,i){var s=[],h=!0,c=Infinity,e,v,u,o,l,a,y,f,r;for(n.clearTimeout(this._amc),this._amc=null;c&&h;){c=0,h=!1;for(f in t)t.hasOwnProperty(f)&&(this._aDx+=1,c+=1,r=t[f],e=this._baH(r,f),this._baJ(r),this._$nodes[e===null?"null":"$"+e]=r,v=this._agD(r),this.setNodeSelected(e,v,!1),u=i===undefined?this._atX(r):i,u===undefined&&(u=null,this._amb(r,u)),o=u===null?"null":"$"+u,this._$nodes[o])&&(h=!0,l=this._agA(r),this._$branches[o]||(this._$branches[o]=[]),a=this._$branches[o],l!==undefined?a[l]=e:a.push(e),delete t[f],this._ctq(r),y=this.getNodeChildrenCount(u),(y===!0||l===undefined)&&(s[u]=(s[u]||0)+1))}if(c>0&&!h)throw new n.Exception("treelist.loadNodes error: some nodes has incorrect parent");for(f in s)t.hasOwnProperty(f)&&(r=this._$nodes["$"+f],this._baM(r,s[f]));this.updateIndexes(),this.updateTree(!1)},u.prototype.getRequestParentByIndex=function(n){for(var t=n-1,i;this._g2[t]===undefined&&t>=0;)t--;return t<0?null:(i=this._g2[t],this.getNodeExpanded(i))?i:this.getNodeParent(i)},u.prototype._bG6=function(n){var t,i,r,u;if(n!==null&&!this.getNodeExpanded(n)||!this.getNodeVisible(n))return 0;if(t=this.getNodeChildrenCount(n),typeof t=="number"||t){if(typeof t!="number"&&t)return 1;i=this.getNodeChildren(n);for(r in i)i.hasOwnProperty(r)&&(u=i[r],this.getNodeVisible(u)?t=t+this._bG6(i[r]):t--);return t}return 0},u.prototype._bG7=function(n){var t,i,r,u,o,f,e;if(this._g2[n]!==undefined)return null;for(i=n;(t=this._g2[i--])===undefined;)if(i<0)return{Parent:null,Index:n};for(u=this.getNodeLevel(t)+1;u>=0;){for(i=n;;){if(u==0){r=null;break}if(t=this._g2[i--],t!==undefined&&this.getNodeLevel(t)==u-1){r=t;break}}for(i=n,o=r==null?-1:this.getNodePosition(r),f=n-o-1;i>o;)t=this._g2[i--],t!==undefined&&this.getNodeLevel(t)==u&&(f-=this._bG6(t));if(e=r==null||this.getNodeExpanded(r)?this.getNodeChildrenCount(r):0,e===!0&&(e=1),f<e)return{Parent:r,Index:f};u--}},u.prototype.requestData=function(t,i){var r,s,u,f,e,h,c,o;if(!this._amc){if(u=[],s=t?t.length:0,this.isPartialRequestPossible()&&t)if(f=!0,i===undefined)for(r=0;r<s;r++)e=this._bG7(t[r]),e&&(this.getNodeChildrenCount(e.Parent||null)===!0&&(f=!1),i=i||e.Parent||null,u.push(e));else for(this.getNodeChildrenCount(i)===!0&&(f=!1),r=0;r<s;r++)u.push({Parent:i,Index:t[r]});else{if(i===undefined){for(h=!1,i={},r=0;r<s;r++)c=this.getRequestParentByIndex(t[r]),c===null?h=!0:i[c]=!0;o=null;for(o in i)i.hasOwnProperty(o)&&u.push({Parent:o,Index:null});h&&u.push({Parent:null,Index:null}),i=o}else u.push({Parent:i,Index:null});f=!1}this._amc=n.setTimeout(this._bG8,this._RequestTimeout,null,this),u.length>0&&this.DataRequest.fire(this,{Partial:f,Parent:i,Request:u})}},u.prototype._bG8=function(){this._amc=null;var n=this._at1();n.VisibleEmptyNodeIndexes.length&&this.requestData(n.VisibleEmptyNodeIndexes)},u.prototype._at1=function(){return{AppearedNodes:[],VisibleEmptyNodeIndexes:[]}},u.prototype.moveNode=function(t,i,r){var u,f,e,l,s,h,o,c;if(u=this._b2(t),t==i)throw new n.Exception("incorrect node parent");this.deleteNode(t,!1),i===undefined&&(i=null),f=this.getNodeChildren(i),(r===undefined||r===null)&&(r=f.length),l=0;for(s in f)f.hasOwnProperty(s)&&(e=this.getNodeIndex(f[s]),(e===undefined||e===null)&&(e=l),e>=r?this._agC(this._b2(f[s]),e+1):this._agC(this._b2(f[s]),e),l+=1);if(this.isHierarchicalDataObject())h=null,o=this._DataObject,i!==undefined&&i!==null&&(h=this._b2(i),o=this._aDA(h),n.Array.isArray(o)||(o=[],this._bG9(h,o))),o.splice(r,0,u);else{if(n.Array.isArray(this._DataObject))this._DataObject.push(u);else if(this._DataObject[t]){for(c=0;this._DataObject[c];)c+=1;this._DataObject[c]=u}else this._DataObject[t]=u;this._amb(u,i)}(this._agC(u,r),this.updateIndexes(),this.isUpdating())||this.updateTree()},u.prototype.deleteNode=function(t){var r,f,u,o,s,e,c,h;if(r=this.getNodeParent(t),this._lN===t&&(this._lN=undefined),r!==undefined){f=this._b2(t),o=this._agA(f),u=this.getNodeChildren(r);for(e in u)u.hasOwnProperty(e)&&(s=this.getNodeIndex(u[e]),s>o&&this._agC(this._b2(u[e]),s-1));(this.isHierarchicalDataObject()?(c=this._b2(r),h=r===null?this._DataObject:this._aDA(c),h.splice(o,1)):(this._amb(f,null),n.Array.isArray(this._DataObject)?this._DataObject.splice(this._aDz[t],1):delete this._DataObject[this._aDz[t]]),this._agC(f,null),this.updateIndexes(),this.isUpdating())||this.updateTree()}},u.prototype.findText=function(n){var t,r,i;this._agB||(this._at2=-1,this._bG3());for(i in this._agB)if(!(+i<=this._at2)&&(t=this._agB[i],this.isNodeExist(t))&&(r=""+this.getNodeContent(t)[0],r==n))return t;return null},u.prototype.find=function(t,i,r,u){var f,s,e,h,c={String:t,Column:i,SetFocus:r,Cancel:!1},o;if(u!==!1&&this.Finding.fire(this,c),c.Cancel)return-1;if(t===null){this._e0=null,this._aR1=null,this._at2=-1;return}h=n.String.escapeRegExp(t.toLowerCase()),(i===null||i===undefined)&&(i=0),this._aR1&&this._e0&&this._e0.string==t&&this._e0.column==i||(this._aR1=null,this._at2=-1),this._e0={string:t,column:i},f=null,this._agB||(this._at2=-1,this._bG3());for(o in this._agB)if(!(+o<=this._at2)&&(s=this._agB[o],e=this.getNodeContent(s),e=""+e[i],e=e.toLowerCase(),e.search(h)>=0)){f=s,this._at2=parseInt(o),this._aR1=f;break}return f?r&&(this.setExpandedForNodeAncestors(f,!0),this.scrollToNode(f,.5),this.setNodeFocused(f,!0)):(this._aR1=null,r&&this.removeFocus()),u!==!1&&this.Found.fire(this,{Node:f,String:t,Column:i,SetFocus:r}),f},u.prototype.focusNode=function(n,t){var r,u;if((t===!1||(r={Node:n,OldNode:this._FocusedNode,Cancel:!1},this.FocusChanging.fire(this,r),!r.Cancel))&&!this.getNodeFixedFocused(n)){if(this._FocusedNode&&this.isNodeExist(this._FocusedNode)){if(this.getNodeFixedFocused(this._FocusedNode))return;u=this._FocusedNode,this._FocusedNode=undefined,this.updateNodeStyle(u)}this._FocusedNode=n,this.updateNodeStyle(n),t!==!1&&(delete r.Cancel,this.FocusChanged.fire(this,r))}},u.prototype.removeFocus=function(n){var i,r;n!==!1&&(i={Node:null,OldNode:this._FocusedNode,Cancel:!1},this.FocusChanging.fire(this,i),i.Cancel)||this._FocusedNode&&this.isNodeExist(this._FocusedNode)&&(this.getNodeFixedFocused(this._FocusedNode)||(r=this._FocusedNode,this._FocusedNode=undefined,this.updateNodeStyle(r),n!==!1&&(delete i.Cancel,this.FocusChanged.fire(this,i))))},u.prototype.getNodeFocused=function(n){return this._FocusedNode==n},u.prototype.setNodeFocused=function(n,t,i,r){t===undefined&&(t=!0),t&&this._FocusedNode!=n&&this.focusNode(n,i,r),t||this._FocusedNode!=n||this.removeFocus(i,r)},u.prototype.getNodeFixedFocused=function(n){return this._bHa(this._b2(n))},u.prototype.setNodeFixedFocused=function(n,t){this._bHb(this._b2(n),t)},u.prototype.getFocusedNode=function(){return this._FocusedNode},u.prototype.setFocusedNode=function(n,t,i){this.setNodeFocused(n,!0,t,i)},u.prototype._aDD=function(n,t){this._aDE>0?this._aDE+=1:(this._aDE=1,t!==!1&&(this._amd={},n.Cancel=!1,this.ExpansionChanging.fire(this,n)))},u.prototype._aDF=function(n,t){this._aDE-=1,this._aDE<=0&&(this._atZ(),this.updateTree(!0),t!==!1&&(delete n.Cancel,n.Changed=this._amd,this.ExpansionChanged.fire(this,n)))},u.prototype._aDG=function(){this._aDE-=1},u.prototype.checkExpansion=function(n){var i,r,u;if(u={Type:"Check",Cancel:!1},this._aDD(u,n),u.Cancel){this._aDG();return}if(this._ExpansionMode===t.TreeListExpansionMode.SingleExpand)for(i in this._$nodes)this._$nodes.hasOwnProperty(i)&&this._at0(this._$nodes[i])&&(r=i.substr(1),this._ve?this.setNodeExpanded(r,this._ve===r,!1,!0):this._ve=r);this._aDF(u,n)},u.prototype.setExpansionMode=function(n){this._ExpansionMode=n,this.checkExpansion()},u.prototype.getNodeExpanded=function(n){return this._at0(this._b2(n))},u.prototype.setNodeExpanded=function(i,r,u,f){var e,o=this._b2(i);if(!o)throw new n.Exception("item '"+i+"' not exist in tree (setNodeExpansion)");if(e={Value:r,Node:i,Cancel:!1},this._aDD(e,u),e.Cancel){this._aDG();return}this._at0(o)==r||this._baN(o)&&!f||(this._amd&&this._amd[i]===undefined?this._amd[i]=!!r:this._amd&&this._amd[i]!=r&&delete this._amd[i],this._bHc(o,r),r&&(this._ExpansionMode!==t.TreeListExpansionMode.SingleExpand||this._ve===undefined||f||this.setNodeExpanded(this._ve,!1,!1,!0),this._ve=i)),this._aDF(e,u)},u.prototype.setExpandedForAll=function(n,t,i){var u,r;if(r={Type:"All",Value:n,Cancel:!1},this._aDD(r,t),r.Cancel){this._aDG();return}for(u in this._$nodes)u!=="null"&&this.setNodeExpanded(u.substr(1),n,!1,i);this._aDF(r,t)},u.prototype.setExpandedForNodes=function(n,t,i,r){var e,f,u;if(u={Type:"Nodes",Nodes:n,Value:t,Cancel:!1},this._aDD(u,i),u.Cancel){this._aDG();return}for(e in n)f=n[e],this._$nodes["$"+f]&&this.setNodeExpanded(f,t,!1,r);this._aDF(u,i)},u.prototype.setExpandedForNodeAncestors=function(n,t,i,r){var u,f;if(t===undefined&&(t=!0),f={Type:"Ancestors",Node:n,Value:t,Cancel:!1},this._aDD(f,i),f.Cancel){this._aDG();return}for(u=n;u!==null&&u!==undefined;)u=this.getNodeParent(u),u&&this.setNodeExpanded(u,t,!1,r);this._aDF(f,i)},u.prototype.getAllExpandedNodes=function(n){var t,i;n===undefined&&(n=!0),i=[];for(t in this._$nodes)this._at0(this._$nodes[t])==n&&t!=="null"&&i.push(t.substr(1));return i},u.prototype.getNodeFixedExpanded=function(n){return this._baN(this._b2(n))},u.prototype.setNodeFixedExpanded=function(n,t){this._bHd(this._b2(n),t)},u.prototype._sA=function(n,t){this._at3>0?this._at3+=1:(this._at3=1,this._sB={},t!==!1&&(n.Cancel=!1,this.SelectionChanging.fire(this,n)))},u.prototype._lJ=function(n,t){var i,r;if(this._at3<=1&&!this._AllowEmptySelection&&this.getNodeChildrenSelected(null)<=0){i=this._lN;for(r in this._sB)if(this._sB.hasOwnProperty(r)&&this._sB[r]===!1){i=r;break}i||(i=this._g2[0]),i&&this.setNodeSelected(i,!0)}this._at3-=1,this._at3<=0&&t!==!1&&(delete n.Cancel,n.Changed=this._sB,this.SelectionChanged.fire(this,n),delete this._agE)},u.prototype._ach=function(){this._at3-=1},u.prototype.checkSelection=function(i,r){var e,o,f,c,u,s,h;if(i=i!==undefined?i:null,s=this._$nodes[i===null?"null":"$"+i],o={Type:"Check"},this._sA(o,r),this._SelectionMode===t.TreeListSelectionMode.SingleSelect&&this._agD(s)&&(this._lN!==undefined?this.setNodeSelected(i,this._lN===e,!1,!0):this._lN=i),f=this.getNodeChildren(i),c=f.length,c==0&&this.getNodeChildrenCount(i)>0||this._baO(s)===!0){if(this.getNodeChildrenSelected(i)===!0)for(u=this.getNodeParent(i);u!==undefined;)this.setNodeChildrenSelected(u,!0),u=this.getNodeParent(u)}else{if(this.getNodeSelected(i))for(u=this.getNodeParent(i);u!==undefined;)h=this.getNodeChildrenSelected(u),n.isNumber(h)&&this.setNodeChildrenSelected(u,h+1),u=this.getNodeParent(u);this.setNodeChildrenSelected(i,0)}for(e in f)f.hasOwnProperty(e)&&(u=f[e],this.checkSelection(u,!1));this._lJ(o,r)},u.prototype.setSelectionMode=function(i,r){var u={Type:"Check"};if(this._sA(u,r),!t.TreeListSelectionMode[i])throw new n.Exception("setting of incorrect selectionMode: '"+i+"'");this._SelectionMode=i,this.checkSelection(null,r),i===t.TreeListSelectionMode.SingleSelect&&this._lN!==undefined&&this.setNodeSelected(this._lN,!0,r),this._lJ(u,r)},u.prototype.getSelectionMode=function(){return this._SelectionMode},u.prototype.setAllowEmptySelection=function(n){this._AllowEmptySelection=!!n,this.checkSelection()},u.prototype.getAllowEmptySelection=function(){return this._AllowEmptySelection},u.prototype.getNodeSelected=function(n){return this._agD(this._b2(n))},u.prototype.setNodeSelected=function(i,r,u,f){var s,e,o;if(o=this._b2(i),!o)throw new n.Exception("item '"+i+"' not exist in tree (setNodeSelection)");if(s={Type:"Single",Value:r,Node:i,Cancel:!1},this._sA(s,u),s.Cancel){this._ach();return}if(!(this._agD(o)==r)&&(!this._aR2(o)||f))for(this._sB&&(this._sB[i]===undefined?this._sB[i]=!!r:this._sB[i]!=r&&delete this._sB[i]),this._aDH(o,r),r&&this._lN!==i&&(this._SelectionMode===t.TreeListSelectionMode.SingleSelect&&this._lN!==undefined&&this.isNodeExist(this._lN)&&!f&&this.setNodeSelected(this._lN,!1,!1,!0),this._lN=i),e=this.getNodeParent(i);e!==undefined;)this.setNodeChildrenSelected(e,r),e=this.getNodeParent(e);this._lJ(s,u),this.updateNodeStyle(i)},u.prototype.setSelectedForAll=function(n,t,i){var u,r;if(r={Type:"All",Value:n,Cancel:!1},this._sA(r,t),r.Cancel){this._ach();return}for(u in this._$nodes)u!=="null"&&this.setNodeSelected(u.substr(1),n,!1,i);this._lJ(r,t)},u.prototype.setSelectedForLevel=function(n,t,i,r){var u,e,f;if(f={Type:"Level",Value:t,Level:n,Cancel:!1},this._sA(f,i),f.Cancel){this._ach();return}for(u in this._$nodes)(e=u.substr(1),this._$nodes.hasOwnProperty(u)&&u!=="null")&&this.getNodeLevel(e)==n&&this.setNodeSelected(e,t,!1,r);this._lJ(f,i)},u.prototype.setSelectedForChildren=function(n,t,i,r){var f,e,o,u,s;if(e={Type:"Children",Value:t,Node:n,Cancel:!1},this._sA(e,i),e.Cancel){this._ach();return}if(u=this.getNodeChildren(n),u&&u.length)for(s=u.length,f=0;f<s;f++)o=u[f],o&&(this.setNodeSelected(o,t,!1,r),this.setSelectedForChildren(o,t,!1,r));this._lJ(e,i)},u.prototype._bHe=function(n,t,i,r){var u={Type:"Single",Value:t,Node:n,Cancel:!1};this._sA(u,!0),u.Cancel?this._ach():(this.setSelectedForAll(!1,i,r),this.setNodeSelected(n,t,i,r),this._lJ(u,!0))},u.prototype.setSelectedForNodes=function(n,t,i,r){var e,u,f;if(f={Type:"Nodes",Value:t,Cancel:!1},this._sA(f,i),f.Cancel){this._ach();return}for(e in n)u=n[e],this._$nodes[u===null?"null":"$"+u]&&this.setNodeSelected(u,t,!1,r);this._lJ(f,i)},u.prototype.preserveSelection=function(n,t){this._agE=this.getAllSelectedNodes(),this._ctr=n||!1,this._cts=t||!1},u.prototype.setSelectedFromToIndex=function(n,t,i,r,u){var w,l,e,a,o,s,v,h,c,y,p,f;for(this._agE=this._agE||[],n>t&&(w=t,t=n,n=w),l=this._g2.length,n<0&&(n=0),t>=l&&(n=l-1),e={},a={},o=0;o<l;o++)(s=this._g2[o],this.getNodeExist(s))&&(v=this._b2(s),o>=n&&o<=t?(h=this._cts?!this._agD(v):i,this._agD(v)!==h&&(!this._aR2(v)||u)&&(e[s]=h)):(h=!i,this._ctr&&(h=this._agE.indexOf(s)>=0),a[s]=h));if(c={Type:"FromToIndex",Value:e,Cancel:!1},this._sA(c,r),c.Cancel){this._ach();return}y={};for(f in e)p=e[f],this.setNodeSelected(f,p,!1,u),this.getNodeSelected(f)===p&&(y[f]=e[f]);for(f in a)this.setNodeSelected(f,a[f],!1,u);c={Type:"FromToIndex",Value:y,Cancel:!1},this._lJ(c,r)},u.prototype.getAllSelectedNodes=function(n){var t,r,i;n===undefined&&(n=!0),i=[];for(t in this._$nodes)r=t.substr(1),this._agD(this._$nodes[t])==n&&t!=="null"&&i.push(r);return i},u.prototype.getNodeFixedSelected=function(n){return this._aR2(this._b2(n))},u.prototype.setNodeFixedSelected=function(n,t){this._bHf(this._b2(n),t)},u.prototype._b2=function(t){var r=t===null?"null":"$"+t,i=this._$nodes[r];if(i===undefined)throw new n.Exception("node don't exist: '"+t+"'");return i},u.prototype.getNodeObject=function(n){return this._b2(n)},u.prototype.getNodeExist=function(n){return!!this._$nodes[n===null?"null":"$"+n]},u.prototype.isNodeExist=function(n){return!!this._$nodes["$"+n]},u.prototype.getNodeIsFirst=function(n){return!!this._aDB[n]},u.prototype.getNodeIsLast=function(n){return!!this._aDC[n]},u.prototype.getNodePosition=function(n){return this._aRY[n]},u.prototype.getNodeLevel=function(t){if(this._ig[t]===undefined)throw new n.Exception('incorrect node nodeKey: "'+t+'" or invisible node');return this._ig[t]},u.prototype.getNodeChildren=function(n){return this._$branches[n===null?"null":"$"+n]||[]},u.prototype.getNodeIndex=function(n){return this._agA(this._b2(n))},u.prototype.setNodeIndex=function(n,t){this._agC(this._b2(n),t),this.updateTree(!0)},u.prototype.getNodeParent=function(n){var t=this._atX(this._b2(n));return typeof t=="number"?""+t:t},u.prototype.setNodeParent=function(n,t){this.deleteNode(n,!1),this._amb(this._b2(n),t),this.updateIndexes(),this.updateTree(!0)},u.prototype.getNodeChildrenCount=function(t){var i,r;return r=this._$branches[t===null?"null":"$"+t],t!==undefined&&(i=this._baO(this._b2(t))),i===!0&&r&&(i=r.length),(i===undefined||this.isFilterActive())&&(i=n.Array.isArray(r)?r.length:0),i},u.prototype.setNodeChildrenCount=function(n,t){this._baM(this._b2(n),t),this.updateTree(!0)},u.prototype.getNodeImageIndex=function(n){return this._bHg(this._b2(n))},u.prototype.setNodeImageIndex=function(n,t){this._bHh(this._b2(n),t),this.updateNode(n,!0)},u.prototype.getNodeEditable=function(n){return this._bHi(this._b2(n))},u.prototype.setNodeEditable=function(n,t){this._bHj(this._b2(n),t)},u.prototype.getNodeContent=function(n){return this._bHk(this._b2(n))},u.prototype.setNodeContent=function(t,i){n.Array.isArray(i)||(i=[i]),this._bHl(this._b2(t),i),this.updateNode(t,!0)},u.prototype.getNodeControls=function(n){return this._bHm(this._b2(n))},u.prototype.setNodeControls=function(n,t){this._bHn(this._b2(n),t),this.updateNode(n)},u.prototype.getNodeClass=function(n){return this._bHo(this._b2(n))},u.prototype.setNodeClass=function(n,t){this._bHp(this._b2(n),t),this.updateNodeStyle(n)},u.prototype.getNodeVisible=function(n){return this._baK(this._b2(n))},u.prototype.setNodeVisible=function(n,t){(this._bHq(this._b2(n),t),this.isUpdating())||(this._atZ(),this.updateTree())},u.prototype.getNodeStyle=function(n){return this._bHr(this._b2(n))},u.prototype.setNodeStyle=function(t,i){i instanceof n.Style||typeof i!="object"||(i=new n.Style(i)),this._bHs(this._b2(t),i),this.updateNodeStyle(t)},u.prototype.getNodeChildrenVisible=function(n){var r=this._bHt(this._b2(n)),i,u,t;if(r!==undefined)return r;if(this.isFilterActive()){i=this.getNodeChildren(n);for(u in i)if(t=i[u],t!==null&&t!==undefined&&this._aR0(t))return!0;return!1}return!!this.getNodeChildrenCount(n)},u.prototype.getNodeChildrenSelected=function(n){var t=this._bHu(this._b2(n));return t&&t<0?0:t},u.prototype.setNodeChildrenSelected=function(n,t){this._bHv(this._b2(n),t),n!==null&&this.updateNodeStyle(n)},u.prototype.getNodeData=function(n){return this._bHw(this._b2(n))},u.prototype.setNodeData=function(n,t){this._bHx(this._b2(n),t)},u.prototype.getNodes=function(){return this._g2},u.prototype.getNodesCount=function(){return this._ama},u.prototype.getAllNodes=function(){var n=window.Object.keys(this._$nodes),t;for(n.indexOf("null")>-1&&n.splice(n.indexOf("null"),1),t=0;t<n.length;t+=1)n[t]=n[t].substr(1);return n},u.prototype.getAllNodesCount=function(){return this._aDx},u.prototype.getNodeByPosition=function(n){return this._g2[n]},u.prototype.setDataObject=function(n){n!==this._DataObject&&(this._bG5(),this._DataObject=n,this.refresh())},u.prototype.setDataMappers=function(n){this._DataMappers=n,this.refresh()},u.prototype.setSort=function(n,t,i){var r={Node:null,Column:n,Direction:t,Method:i,Cancel:!1};return this.SortChanging.fire(this,r),r.Cancel?!1:(this._SortColumn=n,this._SortDirection=t,this._SortMethod=i,this._atZ(),this.updateTree(),this.SortChanged.fire(this,{Node:null,Column:this._SortColumn,Direction:this._SortDirection,Method:this._SortMethod}),!0)},u.prototype.setFilter=function(n,t){var i={String:n,Column:t,Cancel:!1};(this.FilterChanging.fire(this,i),i.Cancel)||(this._FilterString=n,this._FilterColumn=t,this._atZ(),this.updateTree(),this.FilterChanged.fire(this,{String:this._FilterString,Column:this._FilterColumn}))},u.prototype.getSelectedNodes=function(){return this.getAllSelectedNodes()},u.prototype.getLastSelectedNode=function(){return this._lN},u.prototype.getLastExpandedNode=function(){return this._ve},u.prototype.updateMappers=function(){for(var f=["_aDy","_agA","_atX","_aDA","_baO","_bHu","_agD","_at0","_baP","_aR2","_baN","_bHy","_bHa","_bHg","_bHi","_bHk","_bHm","_bHo","_bHr","_baK","_bHt","_bHw"],e=["_bG1","_agC","_amb","_bG9","_baM","_bHv","_aDH","_bHc","_bHz","_bHf","_bHd","_bHA","_bHb","_bHh","_bHj","_bHl","_bHn","_bHp","_bHs","_bHq","_baL","_bHx"],o=["Key","Index","Parent","Children","ChildrenCount","ChildrenSelected","Selected","Expanded","Checked","FixedSelected","FixedExpanded","FixedChecked","FixedFocused","ImageIndex","Editable","Content","Controls","Class","Style","Visible","ChildrenVisible","Data"],r,u,t,i=0;i<f.length;i++)r=f[i],t=o[i],n.isObject(this._DataMappers[t])&&this._DataMappers[t].getGetter()?this[r]=this._DataMappers[t].createGetter():delete this[r],u=e[i],n.isObject(this._DataMappers[t])&&this._DataMappers[t].getSetter()?this[u]=this._DataMappers[t].createSetter():delete this[u]},u.prototype._aDy=function(n){return n[this._DataMappers.Key||"Key"]},u.prototype._bG1=function(n,t){n[this._DataMappers.Key||"Key"]=""+t},u.prototype._agA=function(n){return n[this._DataMappers.Index||"Index"]},u.prototype._agC=function(n,t){n[this._DataMappers.Index||"Index"]=t|0},u.prototype._atX=function(n){var t=n[this._DataMappers.Parent||"Parent"];return t===null||t===undefined?t:""+t},u.prototype._amb=function(n,t){t=t===null||t===undefined?t:""+t,n[this._DataMappers.Parent||"Parent"]=t},u.prototype._baO=function(n){return n[this._DataMappers.ChildrenCount||"ChildrenCount"]},u.prototype._baM=function(t,i){t[this._DataMappers.ChildrenCount||"ChildrenCount"]=i===null||n.isBoolean(i)?i:i|0},u.prototype._at0=function(n){return!!n[this._DataMappers.Expanded||"Expanded"]},u.prototype._bHc=function(n,t){n[this._DataMappers.Expanded||"Expanded"]=!!t},u.prototype._baP=function(n){return n[this._DataMappers.Checked||"Checked"]},u.prototype._bHz=function(n,t){n[this._DataMappers.Checked||"Checked"]=t},u.prototype._aR2=function(n){return!!n[this._DataMappers.FixedSelected||"FixedSelected"]},u.prototype._bHf=function(n,t){n[this._DataMappers.FixedSelected||"FixedSelected"]=!!t},u.prototype._baN=function(n){return!!n[this._DataMappers.FixedExpanded||"FixedExpanded"]},u.prototype._bHd=function(n,t){n[this._DataMappers.FixedExpanded||"FixedExpanded"]=!!t},u.prototype._bHy=function(n){return!!n[this._DataMappers.FixedChecked||"FixedChecked"]},u.prototype._bHA=function(n,t){n[this._DataMappers.FixedChecked||"FixedChecked"]=!!t},u.prototype._bHa=function(n){return!!n[this._DataMappers.FixedFocused||"FixedFocused"]},u.prototype._bHb=function(n,t){n[this._DataMappers.FixedFocused||"FixedFocused"]=!!t},u.prototype._bHg=function(n){return n[this._DataMappers.ImageIndex||"ImageIndex"]},u.prototype._bHh=function(n,t){n[this._DataMappers.ImageIndex||"ImageIndex"]=t},u.prototype._bHi=function(n){return n[this._DataMappers.Editable||"Editable"]!==!1},u.prototype._bHj=function(n,t){n[this._DataMappers.Editable||"Editable"]=!!t},u.prototype._bHk=function(t){return n.Array.isArray(t[this._DataMappers.Content||"Content"])||(t[this._DataMappers.Content||"Content"]=[t[this._DataMappers.Content||"Content"]]),t[this._DataMappers.Content||"Content"]},u.prototype._bHl=function(n,t){n[this._DataMappers.Content||"Content"]=t},u.prototype._bHm=function(t){var i=t[this._DataMappers.Controls||"Controls"];return n.Array.isArray(i)||i===undefined||(t[this._DataMappers.Controls||"Controls"]=[i]),t[this._DataMappers.Controls||"Controls"]},u.prototype._bHn=function(n,t){n[this._DataMappers.Controls||"Controls"]=t},u.prototype._bHo=function(n){return n[this._DataMappers.Class||"Class"]},u.prototype._bHp=function(n,t){n[this._DataMappers.Class||"Class"]=""+t},u.prototype._bHr=function(n){return n[this._DataMappers.Style||"Style"]},u.prototype._bHs=function(n,t){n[this._DataMappers.Style||"Style"]=t},u.prototype._baK=function(n){var t=n[this._DataMappers.Visible||"Visible"];return t===undefined?!0:t},u.prototype._bHq=function(n,t){n[this._DataMappers.Visible||"Visible"]=!!t},u.prototype._agD=function(n){return n[this._DataMappers.Selected||"Selected"]||!1},u.prototype._aDH=function(n,t){n[this._DataMappers.Selected||"Selected"]=!!t},u.prototype._aDA=function(n){return n[this._DataMappers.Children||"Children"]},u.prototype._bG9=function(n,t){n[this._DataMappers.Children||"Children"]=t},u.prototype._bHt=function(n){return n[this._DataMappers.ChildrenVisible||"ChildrenVisible"]},u.prototype._baL=function(n,t){n[this._DataMappers.ChildrenVisible||"ChildrenVisible"]=t},u.prototype._bHu=function(n){return n[this._DataMappers.ChildrenSelected||"ChildrenSelected"]},u.prototype._bHv=function(n,t){n[this._DataMappers.ChildrenSelected||"ChildrenSelected"]=t},u.prototype._bHw=function(n){return n[this._DataMappers.Data||"Data"]},u.prototype._bHx=function(n,t){n[this._DataMappers.Data||"Data"]=t},u.prototype._aR3=function(n,t){this._aDI>0?this._aDI+=1:(this._aDI=1,t!==!1&&(this._ctt={},n.Cancel=!1,this.CheckedChanging.fire(this,n)))},u.prototype._aR4=function(n,t){this._aDI-=1,this._aDI<=0&&(this._atZ(),this.updateTree(!0),t!==!1&&(delete n.Cancel,n.Changed=this._ctt,this.CheckedChanged.fire(this,n)))},u.prototype._aR5=function(){this._aDI-=1},u.prototype.getNodeChecked=function(n){var t=this._baP(this._b2(n));return t===undefined?!1:t},u.prototype.setNodeChecked=function(n,t,i){var u={Type:"Node",Node:n,Value:t,Cancel:!1};if(this._aR3(u,i),u.Cancel){this._aR5();return}this._bHz(this._b2(n),t),this.updateNodeStyle(n),this._aR4(u,i)},u.prototype.getNodeFixedChecked=function(n){return this._bHy(this._b2(n))},u.prototype.setNodeFixedChecked=function(n,t){this._bHA(this._b2(n),t)},u.prototype.setCheckedForAll=function(n,t,i){var u,r;if(r={Type:"All",Value:n,Cancel:!1},this._aR3(r,t),r.Cancel){this._aR5();return}for(u in this._$nodes)u!=="null"&&this.setNodeChecked(u.substr(1),n,!1,i);this._aR4(r,t)},u.prototype.setCheckedForNodes=function(n,t,i,r){var e,f,u;if(u={Type:"Nodes",Nodes:n,Value:t,Cancel:!1},this._aR3(u,i),u.Cancel){this._aR5();return}for(e in n)f=n[e],this._$nodes["$"+f]&&this.setNodeChecked(f,t,!1,r);this._aR4(u,i)},u.prototype.setCheckedForNodeAncestors=function(n,t,i,r){var u,f;if(t===undefined&&(t=!0),f={Type:"Ancestors",Node:n,Value:t,Cancel:!1},this._aR3(f,i),f.Cancel){this._aR5();return}for(u=n;u!==null&&u!==undefined;)u=this.getNodeParent(u),u&&this.setNodeChecked(u,t,!1,r);this._aR4(f,i)},u.prototype.getAllCheckedNodes=function(n){var t,i;n===undefined&&(n=!0),i=[];for(t in this._$nodes)this._baP(this._$nodes[t])==n&&t!=="null"&&i.push(t.substr(1));return i},u}(t.Control);t.TreeListBase=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._vf={},t._yI=null,t._aR6=null,t}return i(u,r),u.prototype.getShowCaptions=function(){return this._ShowCaptions},u.prototype.getShowCheckBoxes=function(){return this._ShowCheckBoxes},u.prototype.getShowTree=function(){return this._ShowTree},u.prototype.getShowTreeLines=function(){return this._ShowTreeLines},u.prototype.getShowGridLines=function(){return this._ShowGridLines},u.prototype.getShowToolTips=function(){return this._ShowToolTips},u.prototype.getEnableAutoColumnSize=function(){return this._EnableAutoColumnSize},u.prototype.getCaptions=function(){return this._Captions},u.prototype.getImageList=function(){return this._ImageList},u.prototype.getPageStyle=function(){return this._PageStyle},u.prototype.getRowSelect=function(){return this._RowSelect},u.prototype.getFocusedNode=function(){return this._FocusedNode},u.prototype.getScrollBarH=function(){return this._ScrollBarH},u.prototype.getScrollBarV=function(){return this._ScrollBarV},u.prototype.getVisibleNodes=function(){return this._VisibleNodes},u.prototype.getIconVerticalAlign=function(){return this._IconVerticalAlign},u.prototype.getContentVerticalAlign=function(){return this._ContentVerticalAlign},u.prototype.getNodeDefaultStyle=function(){return this._NodeDefaultStyle},u.prototype.getEnableDragAndDrop=function(){return this._EnableDragAndDrop},u.prototype.getEnableDragOutside=function(){return this._EnableDragOutside},u.prototype.getEnableDropOutside=function(){return this._EnableDropOutside},u.prototype.getEnableRangeSelect=function(){return this._EnableRangeSelect},u.prototype.getEnableEdit=function(){return this._EnableEdit},u.prototype.getEnableSearch=function(){return this._EnableSearch},u.prototype.getEnableAutoScroll=function(){return this._EnableAutoScroll},u.prototype.getEnableKeyNavigation=function(){return this._EnableKeyNavigation},u.prototype.getAutoScrollDelay=function(){return this._AutoScrollDelay},u.prototype.getScrollStep=function(){return this._ScrollStep},u.prototype.getDblClickExpand=function(){return this._DblClickExpand},u.prototype.getRightButtonSelect=function(){return this._RightButtonSelect},u.prototype.getDragAndDropDelay=function(){return this._DragAndDropDelay},u.prototype.getDragAndDropIndent=function(){return this._DragAndDropIndent},u.prototype.setEnableDragAndDrop=function(n){this._EnableDragAndDrop=n},u.prototype.setEnableDragOutside=function(n){this._EnableDragOutside=n},u.prototype.setEnableDropOutside=function(n){this._EnableDropOutside=n},u.prototype.setEnableRangeSelect=function(n){this._EnableRangeSelect=n},u.prototype.setEnableEdit=function(n){this._EnableEdit=n},u.prototype.setEnableSearch=function(n){this._EnableSearch=n},u.prototype.setEnableAutoScroll=function(n){this._EnableAutoScroll=n},u.prototype.setEnableKeyNavigation=function(n){this._EnableKeyNavigation=n},u.prototype.setAutoScrollDelay=function(n){this._AutoScrollDelay=n},u.prototype.setScrollStep=function(n){this._ScrollStep=n},u.prototype.setDblClickExpand=function(n){this._DblClickExpand=n},u.prototype.setRightButtonSelect=function(n){this._RightButtonSelect=n},u.prototype.setDragAndDropDelay=function(n){this._DragAndDropDelay=n},u.prototype.setDragAndDropIndent=function(n){this._DragAndDropIndent=n},u.prototype._e=function(){r.prototype._e.call(this),this._Captions=null,this._ImageList=null,this._EnableResizeColumns=!0,this._EnableColumnsMenu=!0,this._EnableSort=!0,this._EnableDragAndDrop=!1,this._EnableDragOutside=!1,this._EnableDropOutside=!1,this._EnableRangeSelect=!0,this._EnableEdit=!1,this._EnableSearch=!0,this._EnableAutoScroll=!0,this._EnableAutoColumnSize=!1,this._EnableKeyNavigation=!0,this._ShowTree=!0,this._ShowTreeLines=!0,this._ShowGridLines=!1,this._ShowCaptions=!0,this._ShowCheckBoxes=!1,this._ShowToolTips=!0,this._ShowTextToolTips=!0,this._TextToolTipsColumn=0,this._ToolTipsTimeout=1e3,this._DblClickExpand=!0,this._RowSelect=!1,this._RightButtonSelect=!1,this._DragAndDropDelay=200,this._DragAndDropMode=t.TreeListDragAndDropMode.SingleDrag,this._DragAndDropIndent=20,this._AutoScrollDelay=30,this._ScrollStep=null,this._PageStyle="",this._IconVerticalAlign=t.TreeListIconVerticalAlign.Top,this._ContentVerticalAlign=n.VerticalAlignment.Top,this._NodeDefaultStyle=null,this._SelectUseArrowKeys=!1,this._TabIndex=1,this._dm=!1,this._bB={},this._VisibleNodes=[],this._ScrollBarH=null,this._ScrollBarV=null,this._aci=null,this._f3=null,this._dDx=null,this._ame=null,this._eP={},this._hz=[],this._dR=null,this._ctu=null,this._aR7=[],this._lO=null,this._aa=0,this._ac=0,this._amf=0,this._ou=0,this._f1=0,this._dB=0,this._d9={Top:0,Right:0,Bottom:0,Left:0},this._yI=null,this._aR6=null,this._em=14,this._baR=12,this._kU=0,this._vd=0,this._m8=0,this._vf={},this._at4=0,this._lL=!1,this._baS=!1,this._amh=0,this._f4={IsActive:!1,Control:null,X:0,Y:0,Timeout:null},this._bQ={IsActive:!1,NodeKey:null,Column:null,Timeout:null,DomInput:null,AutoEnding:null},this._dZ={IsActive:!1,Control:null,DomInput:null,DomField:null},this._lQ={IsActive:!1,Timeout:null,ScrollToTop:null},this._en={ShowArea:!1,IsActive:!1,IsStarted:!1,StartIndex:null,ComponentOffset:null,StartClientX:null,PointerX:null,PointerY:null,StartX:null,StartY:null,StartNode:null,StartNodeScrollY:null,StartRelativeY:null,EndIndex:null,DomArea:null,Threshold:5,PageOffset:null},this._aR8={Time:0,NodeKey:null},this._aDJ={Time:0,NodeKey:null},this._ov={IsActive:!1,Columns:[],RegExps:[]},this._acj={StartX:null,StartY:null,StartScrollX:null,StartScrollY:null,StartTime:null,NodeKey:null,EndTime:null},this._bHB=null,this._lR=null,this._ack=null,this._agF=null,this._ami=null,this._gs={WordWrap:!1,DashboardScrolls:!1,BorderBottomAsNode:!1},this._defineEvents(["NodeClick","NodeDblClick","NodeMouseDown","NodeMouseUp","NodeMouseOver","NodeHovered","NodeMouseOut","NodeCellMouseOver","NodeCellMouseOut","NodeEditing","NodeEdited","NodeEditCanceled","NodeDragStart","NodeDrag","NodeDragEnd","NodeDragFinished","ToolTipShowing","CheckBoxClick","VisibleNodesChange","VisibleNodesChanged"])},u.prototype._aY=function(){this.setCaptions(this._Captions),this._render(),this.updateIndexes(),this.setEnabled(this._Enabled),this.setIsRTL(this._IsRTL),this._ParentNode&&this.addToNode(this._ParentNode),this._PageStyle&&this.setPageStyle(this._PageStyle),this.setEnableAutoColumnSize(this._EnableAutoColumnSize),this.setNodeDefaultStyle(this._NodeDefaultStyle),this.refresh(),this._ctv(),this._aR9(),this._baT(this._Captions.getFullContentWidth()),this._acl();var n=this._at1();this._amh=n.VisibleEmptyNodeIndexes.length,this._amh&&this.requestData(n.VisibleEmptyNodeIndexes),this._ScrollStep||(this._ScrollStep=this._aSa()==t.TreeListScrollingMode.Dynamic?2.8:40),this._dm=!0,this.updateTree(!0)},u.prototype.setCaptions=function(t){var i={Height:17,EnableResize:this._EnableResizeColumns,EnableMenu:this._EnableColumnsMenu,EnableSort:this._EnableSort},r=this._ShowCaptions;this.setShowCaptions(!1),t?!n.isObject(t)||t instanceof n.Ui.ListCaptions?n.Array.isArray(t)?this._Captions=new n.Ui.ListCaptions(n.extend({Captions:t},i)):t instanceof n.Ui.ListCaptions&&(this._Captions=t,this._Captions.setEnableResize(this._EnableResizeColumns),this._Captions.setEnableMenu(this._EnableColumnsMenu),this._Captions.setEnableSort(this._EnableSort)):this._Captions=new n.Ui.ListCaptions(n.extend(t,i)):this._Captions=new n.Ui.ListCaptions(i),this.setShowCaptions(r),this._Captions.Changed.addOne(this._acg,this),this._Captions.SortChanging.addOne(this._ctw,this),this._Captions.AutoSize.addOne(this._bab,this)},u.prototype._ctv=function(){var n;if(this._Captions.getCount()==0){var t=this.getNodeByPosition(0),r=t!==undefined&&this.getNodeContent(t).length||0,i=[];for(n=0;n<r;n++)i.push({});this._Captions.setCaptions(i)}},u.prototype._render=function(){this._initFromHTML('<div class="PPTLV"><div class="PPTLVView"><\/div><\/div>'),this.addClass(this._gs.WordWrap?"PPTLVWrapped":"PPTLVNoWrap"),this._f3=n.querySelector(this._DomNode,".PPTLVView");var t=this._baU();this._f3.appendChild(t.DomPage),this._bHC(),this._Captions.setHeight(17),this.setShowCaptions(this._ShowCaptions),this._ScrollBarH=new n.Ui.ScrollBar({ParentNode:this._DomNode,Enabled:this._Enabled,IsVisible:!1,Orientation:n.Orientation.Horizontal,DraggerMinSize:15}),this._ScrollBarV=new n.Ui.ScrollBar({ParentNode:this._DomNode,Enabled:this._Enabled,IsVisible:!1,Orientation:n.Orientation.Vertical,EnableMouseWheel:!1,DraggerMinSize:15}),this._gs.DashboardScrolls?(this._ScrollBarH.setHeight(7),this._ScrollBarV.setWidth(7)):(this._aci=document.createElement("div"),this._aci.className="PPTLVScrollSpacer",this._DomNode.appendChild(this._aci)),this._ScrollBarV.MoveScroll.add(this._ctx,this),this._ScrollBarV.MovedScroll.add(this._cty,this),this._ScrollBarH.MoveScroll.add(this._ctz,this),this._ScrollBarH.MovedScroll.add(this._ctA,this),this._ctB(),this._bQ.DomInput&&(this._bQ.DomInput.style.height=this._g(this._em)+"px"),r.prototype._render.call(this)},u.prototype._ctB=function(){var n,t;this._ami={DomCell:null,DomTextControlCell:null,DomTreeCell:null};for(n in this._agF)this._agF.hasOwnProperty(n)&&(t=document.createElement("td"),t.className="PPTLVNodeCell PPTLVNodeCellEdited",t.innerHTML=this._agF[n],this._ami[n]=t);this._agF={}},u.prototype._baU=function(){var t={},r=n.htmlToDOM('<div class="PPTLVPage"><table class="PPTLVNodesTable"><colgroup><\/colgroup><tbody><\/tbody><\/table><\/div>'),u,e,i,f;if(t.DomPage=r,t.DomTBody=n.querySelector(r,"tbody"),t.DomColgroup=n.querySelector(r,"colgroup"),t.DomCols=[],this._hz.length)for(u=this._hz[0].DomCols,e=u.length,i=0;i<e;i++)f=u[i].cloneNode(),t.DomCols.push(f),t.DomColgroup.appendChild(f);return t.DomPage.style.width=this._m8+"px",this._hz.push(t),t},u.prototype._ctC=function(){return this._hz[0]},u.prototype._bHC=function(){var r=this._cQ,i,t;this._hz.length>1&&(n.removeClass(this._dR,"PPTLVActivePage"),this._unBindEvents(),i=this._hz[1],this._hz[1]=this._hz[0],this._hz[0]=i),t=this._hz[0],this._dR=t.DomPage,n.addClass(t.DomPage,"PPTLVActivePage"),this._ctu=t.DomColgroup,this._aR7=t.DomCols,this._lO=t.DomTBody,r&&this._bindEvents()},u.prototype._baV=function(t){var i=n.querySelector(t,".PPTLVNodeText"),f=t.offsetHeight,r=i.offsetHeight,u;i.style.border="1px dashed #000000",u=(i.offsetHeight-r)/2,i.style.border="",f<r+2*u&&(f=r+2*u),this._em=f,this._baR=r,this._at5=u},u.prototype._acg=function(n,t){(t.Type=="CaptionVisibility"&&(this.updateTree(),this._dc()),this._dm)&&(this._aR9(),this._baT(this._Captions.getFullContentWidth()),this._dc(),this._baW(this._vd))},u.prototype._ctw=function(n,t){var i=this.setSort(t.Caption,t.Direction,t.Method);t.Cancel=!i},u.prototype._bab=function(n,t){var i=this.measureColumnContentWidth(t.Index,!0);t.Caption.setWidth(i)},u.prototype.updateTree=function(t){var f,e,o,i,s,u,r;if(!this.isUpdating()){if(this._aSb&&this._aSb(),this._oq(),this._dA(),t||(this._bB={}),f=this.getNodesCount(),f===!0){this.requestData(null,this.getLastExpandedNode());return}n.isDefined(this._kV)?(e=this._kV|0,o=this._yJ|0):(e=0,o=+f-1+ +this._gs.BorderBottomAsNode);for(i in this._bB)this._bB.hasOwnProperty(i)&&(this.getNodeExist(i)?(this.updateNodeStyle(i),this._bHD(i)):delete this._bB[i]);for(s=document.createDocumentFragment(),i=e;i<=o;i++)this._yK(i,undefined,undefined,s);if(this._lO.appendChild(s),u=this.getNodes(),this._FocusedNode&&u.indexOf(this._FocusedNode)==-1){for(r=this._FocusedNode;r&&u.indexOf(r)==-1;)r=this.getNodeParent(r);r&&u.indexOf(r)>-1&&this.setFocusedNode(r,!0,!1)}this._vg(this._kU),this._EnableAutoColumnSize&&(this._aDK(),this._aDL()),this._aDK(),this._dc()}},u.prototype._agw=function(){this._baX();var n,t=this._kV|0,i=this._baY|0,r=this._yJ|0,u=this._baZ|0;if(t>u||r<i){for(this._dA(),n=t;n<=r;n++)this._yK(n,!1);this._baY=this._kV,this._baZ=this._yJ,this._aDK();return}if(i!==t)for(n=i;n>=t;n--)this._yK(n,!0);for(n=u+1;n<=r;n++)this._yK(n,!1);for(n=i;n<t;n++)this._qq(n);for(n=r+1;n<=u;n++)this._qq(n);this._baY=this._kV,this._baZ=this._yJ,this._aDK()},u.prototype._dA=function(){while(this._lO.lastChild)this._lO.removeChild(this._lO.lastChild);this._vf={}},u.prototype.updateNode=function(n,t){var i=this._bB[n],r;i?t||(r=i&&i.DomRow,delete this._bB[n],this._aDM(n),i=this._bB[n],r.parentNode&&r.parentNode.replaceChild(i.DomRow,r)):this._aDM(n),this._ctD(n),this.updateNodeStyle(n)},u.prototype._aDM=function(t){var r=this._bB[t]={DomRow:document.createElement("tr"),DomCells:{},DomContent:{},DomTexts:{},DomControlContainers:{},DomContentWrappers:{},DomWidgets:null},u;r.DomRow.id="TLVNodeRow"+t,r.DomRow.className="PPTLVNodeRow";var i,f=0,e=this.getNodeControls(t),o=this._Captions.getCount();for(u=0;u<o;u++)this._Captions.getItemIsVisible(u)&&(f==0?(i=this._ami.DomTreeCell.cloneNode(!0),r.DomWidgets=n.querySelector(i,".PPTLVNodeWidgets"),e&&e[u]&&(r.DomControlContainers[u]=n.querySelector(i,".PPTLVNodeControlContainer")),r.DomRow.appendChild(i)):e&&e[u]?(i=this._ami.DomTextControlCell.cloneNode(!0),r.DomControlContainers[u]=n.querySelector(i,".PPTLVNodeControlContainer")):i=this._ami.DomCell.cloneNode(!0),r.DomCells[f]=i,r.DomContent[f]=n.querySelector(i,".PPTLVNodeContent"),r.DomTexts[f]=n.querySelector(i,".PPTLVNodeText"),r.DomRow.appendChild(i),i.className+=" PPTLVColumn"+f,f++)},u.prototype._yK=function(n,t,i,r){var u,f=this.getNodes()[n],e=this.getNodesCount();if(!(n<0)&&!(n>e)&&(n!==e||this._gs.BorderBottomAsNode)){if(n===e&&this._gs.BorderBottomAsNode){this._yI||this._ctE(),this._at6(this._yI,t,i,r);return}if(f===undefined){u=this._vf[n],u||(this._ctF(n),u=this._vf[n]),this._at6(u.DomRow,t,i,r);return}u=this._bB[f],u?this._at6(u.DomRow,t,i,r):this._ctG(f)?(this._aDM(f),u=this._bB[f],this._at6(u.DomRow,t,i,r),this.updateNode(f,!1)):(this.updateNode(f),u=this._bB[f],this._at6(u.DomRow,t,i,r))}},u.prototype._at6=function(t,i,r,u){var f=u||n.isNumber(r)&&this._hz[r].DomTBody||this._lO,e=t,o;i&&f.childNodes[0]?(n.IsIE&&n.IEVer===11&&(o=document.createDocumentFragment(),o.appendChild(t),e=o),f.insertBefore(e,f.childNodes[0])):f.appendChild(e)},u.prototype._ctF=function(t){var i=this._vf[t],r,e,f,u,o,s,h;i||(i=this._vf[t]={}),i.Parent||(r=this._bG7(t),r&&(e=this.getNodeChildrenCount(r.Parent),i.Parent=r.Parent,i.Index=r.Index,i.IsFirst=e==!0||r.Index==0,i.IsLast=e==!0||r.Index==this.getNodeChildrenCount(r.Parent)-1)),i.DomRow||(f=document.createElement("tr"),f.className="PPTLVNodeRow PPTLVEmptyNode",u=this._ami.DomTreeCell.cloneNode(!0),n.addClass(u,"PPTLVColumn0"),o=n.querySelector(u,".PPTLVNodeText"),o.innerHTML="...",this._ShowTree&&(s=n.querySelector(u,".PPTLVNodeWidgets"),h=this._ctH(t),s.appendChild(h)),f.appendChild(u),i.DomRow=f)},u.prototype._ctE=function(){if(!this._yI){this._yI=document.createElement("tr"),this._yI.className="PPTLVBorderBottomRow";var t=document.createElement("td");t.className="PPTLVBorderBottomTd",t.setAttribute("colspan","100"),this._aR6=n.htmlToDOM('<div class="PPTLVBorderBottomDiv"<\/div>'),t.appendChild(this._aR6),this._yI.appendChild(t)}return this._yI},u.prototype._qq=function(t,i){var u,f=this.getNodesCount(),s=this.getNodes(),o=s[t],r,e;t<0||t>f||t===f&&!this._gs.BorderBottomAsNode||(t===f&&this._gs.BorderBottomAsNode?r=this._yI:u=o===undefined?this._vf[t]:this._bB[o],r=u&&u.DomRow,e=n.isNumber(i)?this._hz[i].DomTBody:this._lO,r&&r.parentNode==e&&e.removeChild(r))},u.prototype._dDy=function(t){var o=this._bB[t],u,f,i,e,r;if(o){for(u=this.getNodeContent(t),f=this.getNodeControls(t),i=0,e=u.length;i<e;i++)r=u[i],r instanceof n.Ui.Control&&r.removeFromDOM();for(i in f)r=f[i],r instanceof n.Ui.Control&&r.removeFromDOM();delete this._bB[t]}},u.prototype._ctD=function(t){var i,u,f;this._bHD(t);var r=0,o=this.getNodeContent(t),e=this.getNodeControls(t),s=this._Captions.getCount();for(i=0;i<s;i++)this._Captions.getItemIsVisible(i)&&(u=o[i],this._aSc(t,r,u),f=e&&e[i],!f||u instanceof n.Ui.Control||this._ctI(t,r,f),r++)},u.prototype._bHD=function(t){var i=this._bB[t],r,e,o,u,f;i&&i.DomWidgets&&(i.DomWidgets.innerHTML="",this._ShowTree&&(e=this._ctJ(t),i.DomWidgets.appendChild(e)),this._ShowCheckBoxes&&(r=n.htmlToDOM('<div class="PPTLVNodeWidget PPTLVWidgetWrapper"><div class="PPTLVCheckBox"><\/div><\/div>'),o=n.querySelector(r,".PPTLVCheckBox"),o.setAttribute("data-type","control-checkbox"),i.DomWidgets.appendChild(r)),u=this.getNodeImageIndex(t),(u||this._ImageList)&&(r=n.htmlToDOM('<div class="PPTLVNodeWidget PPTLVWidgetWrapper"><div class="PPTLVNodeIcon"><\/div><\/div>'),f=n.querySelector(r,".PPTLVNodeIcon"),f.setAttribute("data-type","icon"),i.DomWidgets.appendChild(r),i.DomIconWrapper=r,i.DomIcon=f,this._bHE(t,u)))},u.prototype._bHE=function(t,i){var f=this._bB[t],u,r=f&&f.DomIcon,e=f&&f.DomIconWrapper,o,s,h,c;if(f&&f.DomWidgets&&r&&e){if(i=n.isDefined(i)?i:this.getNodeImageIndex(t),n.isString(i)){u=r.style,u.backgroundImage="url("+i+")",u.backgroundPosition="",u.marginLeft="",u.marginTop="",n.addClass(r,"PPTLVNodeCustomIcon");return}if(!this._ImageList||i===null||i===-1){r.style.backgroundImage="",e.style.display="none";return}n.removeClass(r,"PPTLVNodeCustomIcon"),e.style.display="",o=this._ImageList.getIconWidth(),s=this._ImageList.getIconHeight(),u=r.style,u.marginLeft=this._g((20-o)*.5|0)+"px",u.marginTop=this._g((20-s)*.5|0)+"px",i===undefined?(h=!!this.getNodeChildrenVisible(t),c=this.getNodeExpanded(t),this._ImageList.applyToBackground(r,0,h?c?1:0:2)):n.Array.isArray(i)?this._ImageList.applyToBackground(r,i[0],i[1]):this._ImageList.applyToBackground(r,0,i)}},u.prototype._ctJ=function(n){var t=this.getNodeParent(n),i=this.getNodeChildrenVisible(n),r=this.getNodeIsFirst(n),u=this.getNodeIsLast(n);return this._bHF(t,i,r,u)},u.prototype._ctH=function(n){var t=this._vf[n],i=t.Parent,r=t.IsFirst,u=t.IsLast;return this._bHF(i,!1,r,u)},u.prototype._bHF=function(n,t,i,r){for(var o=document.createDocumentFragment(),s=0,u,f,e;n!==undefined;)u="PPTLVNodeWidget",f="",s===0?(u+=" PPTLVTreeNode",f=t?"control-expander":"node"):(f="line",u+=r?" PPTLVTreeTab":" PPTLVTreeLine"),u+=n===null?" PPTLVTreeRoot":"",u+=i?" PPTLVTreeFirst":"",u+=r?" PPTLVTreeLast":"",e=document.createElement("div"),e.className=u,e.setAttribute("data-type",f),o.insertBefore(e,o.firstChild),s++,i=this.getNodeIsFirst(n),r=this.getNodeIsLast(n),n=this.getNodeParent(n);return o},u.prototype._aSc=function(t,i,r){var u=this._bB[t],f,o,e,h,s;if(n.isObject(r)){if(r.PPType&&(r=n.create(r)),s=u&&u.DomContent&&u.DomContent[i],!s)return;r.addToNode(s),n.addClass(u.DomCells[i],"PPTLVNodeCellControlOnly"),r.updateSize()}else{if(!u||!u.DomTexts||!u.DomTexts[i])return;if(f=u.DomTexts[i],r=r===undefined?"":r+"",this._ov.IsActive&&this._ov.Columns.indexOf(i)>-1){for(o=this._ov.RegExps,e=0,h=o.length;e<h;e++)r=r.replace(o[e],"<<>$1<>>");r=r.split("<<>").join('<span class="PPTLVNodeTextHighlight">'),r=r.split("<>>").join("<\/span>")}f.innerHTML=r||" ",r.toLowerCase().indexOf("<div")>-1?n.addClass(f,"PPTLVNodeTextHTMLMarkup"):n.removeClass(f,"PPTLVNodeTextHTMLMarkup")}},u.prototype._ctI=function(t,i,r){var u=this._bB[t],f=u&&u.DomControlContainers&&u.DomControlContainers[i];f&&r&&n.isObject(r)&&(r.PPType&&(r=n.create(r)),r instanceof n.Ui.Control&&r.addToNode(f))},u.prototype._ctG=function(n){var t,i=this.getNodeContent(n),r=this.getNodeControls(n);for(t in r)if(r.hasOwnProperty(t)&&typeof r[t]=="object")return!0;for(t in i)if(i.hasOwnProperty(t)&&typeof i[t]=="object")return!0;return!1},u.prototype._aSd=function(n,t){var i,r;if(this._eP[n]!==t){this._eP[n]=t,i="";for(r in this._eP)this._eP.hasOwnProperty(r)&&(i+=this._eP[r]+"\n");this._ame||(this._ame=document.createElement("style"),this._ame.type="text/css",this._DomNode.appendChild(this._ame)),this._ame.styleSheet?this._ame.styleSheet.cssText=i:this._ame.innerHTML=i}},u.prototype.updateNodeStyle=function(t){var r=this._bB[t],i,f,s,h,e,u,c,o,l;r&&(i="PPTLVNodeRow",f=this.getNodeClass(t),f&&(i+=" "+f),s=!!this.getNodeChildrenVisible(t),h=this.getNodeExpanded(t),s&&(i+=h?" PPTLVNodeExpanded":" PPTLVNodeCollapsed"),e=this.getNodeChecked(t),e&&(i+=" PPTLVNodeChecked"),e===null&&(i+=" PPTLVNodeCheckedUnknown"),u=this.getNodeStyle(t)||this._NodeDefaultStyle,c=typeof u=="string"?u:u.toCSSFormat(),r.DomRow.style.cssText=c,o=this.getNodeImageIndex(t),(this._ImageIndex||n.isDefined(o))&&r.DomIcon&&this._bHE(t,o),t===this._FocusedNode&&(i+=" PPTLVNodeFocused"),this.getNodeChildrenSelected(t)&&(i+=" PPTLVNodeChildrenSelected"),t===this._lR&&(i+=" PPTLVNodeHovered"),r.DomRow.className=i,l=this._baS?!1:this.getNodeSelected(t),this._aDN(t,l))},u.prototype._aDN=function(t,i){var u=this._bB[t],r=u&&u.DomRow;r&&(i?n.addClass(r,"PPTLVNodeSelected"):n.removeClass(r,"PPTLVNodeSelected"))},u.prototype._acl=function(){var n="PPTLVView";n+=this._RowSelect?" PPTLVRowSelect":" PPTLVFirstCellSelect",n+=this._ShowTreeLines?" PPTLVShowTreeLines":" PPTLVHideTreeLines",n+=this._ShowGridLines?" PPTLVShowGridLines":"",n+=u.drag.IsActive?" PPTLVDragStarted":" PPTLVDragEnded",n+=this._EnableAutoColumnSize?" PPTLVAutoColumnSize":" PPTLVFixedColumnSize",n+=" PPTLVIconVerticalAlign"+this._IconVerticalAlign,n+=" PPTLVContentVerticalAlign"+this._ContentVerticalAlign,this._f3.className=n},u.prototype._aR9=function(){var n,i,r,f,t,u=this._hz.length,e,o,s;if(this._EnableAutoColumnSize){if(this._Captions.getEnableResize()&&this._Captions.setEnableResize(!1),this._at4){for(n=0;n<u;n++){for(t=this._hz[n],r=t.DomCols.length,i=0;i<r;i++)t.DomColgroup.removeChild(t.DomCols[i]);t.DomCols=[]}this._at4=0}return}for(this._Captions.setEnableResize(this._EnableResizeColumns),e=this._Captions.getVisibleCaptionsCount()+1;this._at4<e;){for(n=0;n<u;n++)t=this._hz[n],f=document.createElement("col"),t.DomCols.push(f),t.DomColgroup.appendChild(f);this._at4++}while(this._at4>e){for(n=0;n<u;n++)t=this._hz[n],t.DomColgroup.removeChild(t.DomCols.pop());this._at4--}for(o=this._Captions.getVisibleCaptions(),r=o.length,i=0;i<r;i++)for(s=this._g(o[i].getWidth()),i==r-1&&this._RowSelect&&(s-=1),n=0;n<u;n++)this._hz[n].DomCols[i].style.width=s+"px"},u.prototype._ctK=function(){for(var s=this.getNodes(),u,f,e,t,o,c,i,r=0,h=s.length;r<h;r++)if(u=s[r],this.getNodeExist(u)){f=this.getNodeContent(u).concat(this.getNodeControls(u));for(e in f)f.hasOwnProperty(e)&&(t=f[e],t instanceof n.Ui.Control)&&(o=t.getEnabled(),i=t.getData()||{},c=!!i.PPTLVControlIsEnabledBeforeDisabling,this._Enabled&&!o&&c&&(t.setEnabled(!0),i.PPTLVControlIsEnabledBeforeDisabling=null,t.setData(i)),!this._Enabled&&o&&(i.PPTLVControlIsEnabledBeforeDisabling={},t.setData(i),t.setEnabled(!1)))}},u.prototype._ctL=function(n){var t=this.getNodeChecked(n);this.setNodeChecked(n,!t),this.updateNodeStyle(n)},u.prototype._at1=function(){var r=[],u=[],f=[],i,n,t;if(this.getNodesCount()>0)for(i=this._agG(),n=i.From;n<=i.To;n++)t=this.getNodeByPosition(n),t!==undefined?(r.push(t),this._VisibleNodes.indexOf(t)==-1&&f.push(t)):u.push(n);return this._VisibleNodes=r,this._EnableAutoColumnSize&&this._aDL(),{AppearedNodes:f,VisibleEmptyNodeIndexes:u}},u.prototype.highlightText=function(t,i,r){var f,e,o,u;for(t=n.Array.isArray(t)?t:[t],f=[],e=0,o=t.length;e<o;e++)u=n.String.escapeRegExp(t[e]),u=u.split("<").join("&lt;"),u=u.split(">").join("&rt;"),u.length>0&&f.push(new RegExp("("+u+")",i?"g":"ig"));this._ov.RegExps=f,this._ov.IsActive=f.length>0,n.isDefined(r)||(r=[0]),this._ov.Columns=n.Array.isArray(r)?r:[r],this.updateTree()},u.prototype.clearHighlightedText=function(){this._ov.IsActive&&(this._ov.RegExps=[],this._ov.IsActive=!1,this._ov.Columns=[],this.updateTree())},u.prototype.startEditing=function(n,t,i){n!==undefined&&this._acf({NodeKey:n,Column:t||0,AutoEnding:i})},u.prototype.stopEditing=function(){this._oq()},u.prototype.cancelEditing=function(){this._or()},u.prototype.hideToolTip=function(){this._at7()},u.prototype.clearNodes=function(){this._dA(),this._bB={},r.prototype.clearNodes.apply(this,arguments)},u.prototype.setNodeContent=function(t){var o=!1,s=this._bB[t],u,f,e;if(s&&s.DomRow){u=this.getNodeContent(t);for(f in u)u.hasOwnProperty(f)&&(e=u[f],e instanceof n.Ui.Control&&(e.removeFromDOM(),o=!0))}r.prototype.setNodeContent.apply(this,arguments),o&&this.updateNode(t)},u.prototype.setNodeControls=function(t){var o=!1,s=this._bB[t],u,f,e;if(s&&s.DomRow){u=this.getNodeControls(t);for(f in u)u.hasOwnProperty(f)&&(e=u[f],e instanceof n.Ui.Control&&(e.removeFromDOM(),o=!0))}r.prototype.setNodeControls.apply(this,arguments),o&&this.updateNode(t)},u.prototype.addToNode=function(){r.prototype.addToNode.apply(this,arguments),this._dm&&this.updateSize()},u.prototype.dispose=function(){this.isLive()&&(delete this._ImageList,n.IsIE&&(this._DomNode.innerHTML=""),r.prototype.dispose.apply(this,arguments))},u.prototype.setEnableAutoColumnSize=function(n,t){n==this._EnableAutoColumnSize&&this._dm||(this._EnableAutoColumnSize=!!n,this._acl(),this._dm&&(this._aR9(),t!==!0&&(this._aDK(),this._aDL(),this._Captions.setEnableResize(!n))))},u.prototype.refresh=function(){this._bB={},this._vf={},r.prototype.refresh.apply(this,arguments)},u.prototype._yi=function(n){return n},u.prototype._bindEvents=function(){!this._cQ&&this._Enabled&&(n.isTouch&&this._addEvent(this._dR,"touchstart",this._bHG),!n.isMouse||n.IsiPad||n.IsiPhone||(this._addEvent(this._dR,"click",this._bHH),this._addEvent(this._dR,"mousedown",this._bHI),this._addEvent(this._dR,"mouseover",this._bHJ),this._addEvent(this._dR,"mousemove",this._bHK),this._addEvent(this._dR,"mousewheel",this._a1),this._addEvent(this._dR,"DOMMouseScroll",this._a1),this._addEvent(this._dR,"dblclick",this._bHL)),this._addEvent(this._DomNode,"keydown",this._bHM),n.IsIE&&this._addEvent(this._DomNode,"focusin",this._bHN),r.prototype._bindEvents.call(this))},u.prototype._unBindEvents=function(){this._cQ&&(n.isTouch&&this._k(this._dR,"touchstart",this._bHG),n.isMouse&&(this._k(this._dR,"click",this._bHH),this._k(this._dR,"mousedown",this._bHI),this._k(this._dR,"mouseover",this._bHJ),this._k(this._dR,"mousemove",this._bHK),this._k(document,"mousewheel",this._a1),this._k(document,"DOMMouseScroll",this._a1),this._k(this._dR,"dblclick",this._bHL)),this._k(this._DomNode,"keydown",this._bHM),n.IsIE&&this._k(this._DomNode,"focusin",this._bHN),r.prototype._unBindEvents.apply(this,arguments))},u.prototype._bHO=function(){n.isTouch&&this._bV(document,{touchmove:this._bHP,touchend:this._bHQ}),n.isMouse&&this._bV(document,{mousemove:this._op,mouseup:this._ib,mousewheel:this._a1,DOMMouseScroll:this._a1})},u.prototype._bHR=function(){n.isTouch&&(this._k(document,"touchmove",this._bHP),this._k(document,"touchend",this._bHQ)),n.isMouse&&(this._k(document,"mousemove",this._op),this._k(document,"mouseup",this._ib),this._k(document,"mousewheel",this._a1),this._k(document,"DOMMouseScroll",this._a1))},u.prototype._bHM=function(i,r){var o=r.Event,s,h;if(this._EnableSearch&&(o.keyCode===n.Key.F3||o.ctrlKey&&o.keyCode===n.Key.F)&&(this.showSearch(),o.keyCode=0,s=!1),u.drag.IsActive&&o.keyCode===n.Key.Esc&&(this._at8(r),this._ba0(),s=!1),this._EnableKeyNavigation){var f=this._FocusedNode,c=this.getNodePosition(f),e=-1;switch(r.Event.keyCode){case n.Key.Plus:f!==undefined&&this.setNodeExpanded(f,!0);break;case n.Key.Right:f===undefined||this._IsRTL||(e=this._aDq()),f!==undefined&&this._IsRTL&&(e=this._aDr());break;case n.Key.Minus:f!==undefined&&this.setNodeExpanded(f,!1);break;case n.Key.Left:f===undefined||this._IsRTL||(e=this._aDr()),f!==undefined&&this._IsRTL&&(e=this._aDq());break;case n.Key.Space:f!==undefined&&this.setNodeSelected(f,!this.getNodeSelected(f));break;case n.Key.Up:e=this._bHS(!1);break;case n.Key.Down:e=this._bHS(!0)}if(e!==-1&&e!==c){if(h=this._agG(),e<h.From&&this.scrollToPosition(e,0),e>h.To&&this.scrollToPosition(e,1),f=this.getNodeByPosition(e),f!==undefined&&this.setNodeFocused(f),f!==undefined&&!o.ctrlKey&&this._SelectUseArrowKeys)switch(this._SelectionMode){case t.TreeListSelectionMode.SingleSelect:this.setNodeSelected(f,!0);break;case t.TreeListSelectionMode.ControlShiftMultiSelect:this._bHe(f,!0)}return!1}}return s},u.prototype._bHN=function(n,t){var i=t.Event.target;i!==this._DomNode&&i.tagName!=="INPUT"&&this._DomNode.focus()},u.prototype._a1=function(n,t){for(var r=t.Event,i=r.target,f=u.drag,e,o;i&&i!==this._DomNode;)i=i.parentNode;if(i===this._DomNode||f.IsActive)return this._bHT=!0,e=this._ow(),o=r.wheelDelta||-r.detail,this._bHU(o>0),this._en.IsActive&&this._ctM(t),f.IsActive&&this._atS.apply(this,arguments),this._bHT=!1,this._ow()!==e?!1:void 0},u.prototype._bHH=function(t,i){var f=n.Date.now(),u,r;this._acj.EndTime&&f-this._acj.EndTime<330||(u=i.Event,r=this._sC(u),this._ba1(r.NodeKey,r.Type,r.Column,i))},u.prototype._ba1=function(n,t,i,r){if(n!==undefined&&i!=-1){var u=r.Event,f={Node:n,Column:i,Type:t,AltKey:u.altKey,CtrlKey:u.ctrlKey,ShiftKey:u.shiftKey,Cancel:!1};if(this.NodeClick.fire(this,f),!f.Cancel)switch(t){case"control-expander":this._ctN(n,r);break;case"control-checkbox":this._ctO(n,r);break;case"control-drillIcon":this._bHV(n,r);break;case"text":this._ctP(n,i,r);break;case"icon":case"control":case"content":(t!=="content"||this._aR7.length)&&this._bHW(n,i,r)}}},u.prototype._bHG=function(t,i){var f=this,u,r;!i.Event.touches||i.Event.touches.length>1||(this._bHO(),u=i.Event,r=this._acj,r.StartX=u.targetTouches[0].clientX,r.StartY=u.targetTouches[0].clientY,r.StartScrollX=this._bHX(),r.StartScrollY=this._ow(),r.StartTime=n.Date.now(),r.NodeKey=this._sC(u).NodeKey,!this._EnableDragAndDrop||(this._bHY(i),this._DragAndDropDelay))&&n.isTouch&&(this._agH=n.setTimeout(function(t){n.fireEvent(f._DomNode,t,"contextmenu")},700,u,this))},u.prototype._bHL=function(n,t){var r,i,u;(this._ba2(),r=t.Event,i=this._sC(r),i.NodeKey!==undefined&&i.Column!=-1)&&((u={Node:i.NodeKey,Column:i.Column,Type:i.Type,AltKey:r.altKey,CtrlKey:r.ctrlKey,ShiftKey:r.shiftKey,Cancel:!1},this.NodeDblClick.fire(this,u),u.Cancel)||this._bHZ(i.NodeKey,i.Column))},u.prototype._bHI=function(n,i){var r=i.Event,u=this._sC(r),f=u.NodeKey,e=u.Column,o,s;if(!(r.button>1)&&(this._bHO(),f!==undefined)){if(e>-1){if(this._bHB=f,o={Node:f,Column:e,Type:u.Type,AltKey:r.altKey,CtrlKey:r.ctrlKey,ShiftKey:r.shiftKey,Cancel:!1},this.NodeMouseDown.fire(this,o),o.Cancel)return;if(this._EnableDragAndDrop&&(this._bHY(i),!this._DragAndDropDelay))return}s=u.Type,this._EnableRangeSelect&&(this._SelectionMode===t.TreeListSelectionMode.MultiSelect||this._SelectionMode===t.TreeListSelectionMode.ControlShiftMultiSelect?(["line","node","icon","content"].indexOf(s)>-1||e===-1)&&this._bH0(i):this._SelectionMode===t.TreeListSelectionMode.DragMultiSelect&&["line","node","icon","content","text"].indexOf(s)>-1&&this._bH0(i))}},u.prototype._bHK=function(n,t){this._bH1(t)},u.prototype._bHJ=function(n,t){var f=t.Event,u=this._sC(f),i=u.NodeKey,r=u.Column;i!==undefined&&r!==-1&&((r!==this._ack&&(this.NodeCellMouseOver.fire(this,{Node:i,Column:r}),this._ack=r),this._lR&&i==this._lR)||(this.setHoveredNode(i),this._ack=r,this.NodeHovered.fire(this,{Node:i}),this.NodeMouseOver.fire(this,{Node:i})))},u.prototype._bHP=function(t,i){var r;if(n.clearTimeout(this._agH),this._bH1(i),r=u.drag,!r.IsActive){var o=i.Event.targetTouches[0].clientX,s=i.Event.targetTouches[0].clientY,h=this._gs.WordWrap?1/this._em:1,f=o-this._acj.StartX,e=s-this._acj.StartY;this._baW(this._acj.StartScrollX-f),this._vg(this._acj.StartScrollY-e*h),(f>5||e>5)&&r&&r.Timeout&&n.clearTimeout(r.Timeout)}return this._atS.apply(this,arguments),!1},u.prototype._dDz=function(t){var i=this._sC(t).NodeKey;if(i!==undefined){var r=n.calculateOffset(this._DomNode).Y,u=this._ox(i),f=t.targetTouches?t.targetTouches[0].pageY:t.pageY,e=(f-(this._yL(i)+this._lP()+r))/u;return this._qr(i)+e}},u.prototype._bHQ=function(t,i){if(n.clearTimeout(this._agH),i.Event.touches&&!(i.Event.touches.length>0)){var e=i.Event,u=this._sC(e),f=u.NodeKey;f!==undefined&&u.Column>-1&&this.NodeMouseUp.fire(this,{Node:f,Column:u.Column});var r=this._acj,o=n.Date.now(),s=e.changedTouches[0].clientX,h=e.changedTouches[0].clientY;f!==undefined&&f==r.NodeKey&&o-r.StartTime<500&&Math.abs(s-r.StartX)<20&&Math.abs(h-r.StartY)<20&&this._ba1(u.NodeKey,u.Type,u.Column,i),r.StartX=r.StartY=r.StartScrollX=r.StartScrollY=r.StartTime=null,r.NodeKey=undefined,r.EndTime=o,this._aDl.apply(this,arguments),this._bHR()}},u.prototype._op=function(t,i){n.clearTimeout(this._agH);var r=i.Event;i={Event:r},this._ctQ(i),this._en.IsActive&&this._bH2(i),this._atS.apply(this,arguments)},u.prototype._ib=function(t,i){var u,r;n.clearTimeout(this._agH),u=i.Event,this._bH3(),r=this._sC(u),r.NodeKey!==undefined&&r.Column>-1&&this.NodeMouseUp.fire(this,{Node:r.NodeKey,Column:r.Column}),this._en.IsActive&&this._ctR({Event:u}),this._aDl(t,i),this._bHR()},u.prototype._b0=function(n,t){var u=this._bB[this._lR];if(u){for(var f=t.Event,e=this._bH4(f.relatedTarget),i=f.relatedTarget;i&&i!==u.DomRow;)i=i.parentNode;i&&e!=-1?this._ack!==e&&this.NodeCellMouseOut.fire(this,{Node:this._lR,Column:this._ack}):(this.NodeCellMouseOut.fire(this,{Node:this._lR,Column:this._ack}),this.NodeMouseOut.fire(this,{Node:this._lR}),this.removeHover())}r.prototype._b0.apply(this,arguments)},u.prototype._a7=function(t,i){if(n.clearTimeout(this._agH),this._Enabled){var e=i.Event,u=this._sC(e),f=u.NodeKey;(f!==undefined&&u.Column>-1&&(u.Type==="text"||this._aR7.length)&&(i.Node=f,i.Column=u.Column,i.Type=u.Type,i.altKey=e.altKey,i.ctrlKey=e.ctrlKey,i.shiftKey=e.shiftKey,this._RightButtonSelect&&!this._bQ.IsActive?this._bHW(f,u.Column,i):this._FocusedNode!==f&&this.focusNode(f)),this._bQ.IsActive&&this._bQ.NodeKey===f)||r.prototype._a7.apply(this,arguments)}},u.prototype._sC=function(t){var i,r,u;return t.target==this._dR?(r=n.calculateOffset(this._dR),u=this._IsRTL?document.elementFromPoint(r.X+this._f1-this._Captions.getRightMargin()-1,t.clientY):document.elementFromPoint(r.X+this._Captions.getLeftMargin()+1,t.clientY||0),i={NodeKey:this._at9(u),Column:-1,Type:null}):i=this._bH5(t.target),i},u.prototype._bH5=function(n){return{NodeKey:this._at9(n),Column:this._bH4(n),Type:this._ctS(n)}},u.prototype._ctT=function(t){while(t){if(n.hasClass(t,"PPTLV"))return n.Ui.getCtrlById(t.id)||null;t=t.parentNode}return null},u.prototype._at9=function(n){for(var i=undefined,t;n;){if(n.tagName==="TR"&&n.id.indexOf("TLVNodeRow")>-1){t=n.id.substring(10),this._bB[t]&&this._bB[t].DomRow&&(i=t);break}n=n.parentNode}return i},u.prototype._bH4=function(n){while(n&&n.parentNode){if(n.tagName=="TD")break;n=n.parentNode}if(n&&n.className){var t=n.className.match(/PPTLVColumn(\d+)/);return!t||+t[1]>=this._Captions.getCount()?-1:+t[1]}return-1},u.prototype._ctS=function(n){var i,t;if(!n)return null;if(i=n.getAttribute?n.getAttribute("data-type"):null,i)return i;for(var r=/\bPPTLVNodeText\b/,u=/\bPPTLVNodeControlContainer\b/,f=/\bPPTLVNodeCell\b/;n&&n!==this._dR;){if(t=n.className||"",r.test(t))return"text";if(u.test(t))return"control";if(f.test(t))return"content";n=n.parentNode}return null},u.prototype._bHS=function(n){var r=this.getNodesCount(),t=n?-1:r,i;for(this._FocusedNode&&(t=this.getNodePosition(this._FocusedNode)),t+=n?1:-1;t>=0&&t<r;){if((i=this.getNodeByPosition(t),i!==undefined&&!this.getNodeFixedFocused(i))||i===undefined)return t;t+=n?1:-1}return-1},u.prototype._aDr=function(){if(this.getNodeExpanded(this._FocusedNode))this.setNodeExpanded(this._FocusedNode,!1);else{var n=this.getNodeParent(this._FocusedNode);if(n!==null&&!this.getNodeFixedFocused(n))return this.getNodePosition(n)}return this.getNodePosition(this._FocusedNode)},u.prototype._aDq=function(){if(!this.getNodeExpanded(this._FocusedNode)&&this.getNodeChildrenCount(this._FocusedNode))this.setNodeExpanded(this._FocusedNode,!0);else{var n=this.getNodeChildren(this._FocusedNode);if(n.length>0&&n[0]!==null&&!this.getNodeFixedFocused(n[0]))return this.getNodePosition(n[0])}return this.getNodePosition(this._FocusedNode)},u.prototype.setHoveredNode=function(t){if(this._lR!==t){this.removeHover();var i=this._bB[t],r=i&&i.DomRow;r&&(n.addClass(r,"PPTLVNodeHovered"),this._lR=t,this._ack=0)}},u.prototype.removeHover=function(){if(this._lR!==null){var t=this._bB[this._lR],i=t&&t.DomRow;i&&n.removeClass(i,"PPTLVNodeHovered"),this._ShowToolTips&&this._at7(),this._lR=null,this._ack=null}},u.prototype._bHY=function(t){var i=u.drag,r=t.Event,f=this._sC(r).NodeKey,e=(r.targetTouches?r.targetTouches[0]:r).pageY;f===undefined||this._bQ.IsActive||(i.StartNode=f,i.StartNodeHeight=this._ox(f),i.StartRelativeY=e-n.calculateOffset(this._DomNode).Y-this._lP()-this._yL(f),i.EventOnStart=r,this._DragAndDropDelay?(i.Timeout&&n.clearTimeout(i.Timeout),i.Timeout=n.setTimeout(this._aSe,this._DragAndDropDelay,t,this)):this._aSe(t))},u.prototype._atS=function(n,t){var f=u.drag,i=t.Event,s=(i.targetTouches?i.targetTouches[0]:i).clientX,h=(i.targetTouches?i.targetTouches[0]:i).clientY,o,e,r;if(f.Timeout){if(o=document.elementFromPoint(s,h),e=this._at9(o),e===undefined||e!==f.StartNode){this._bH6();return}f.EventOnStart=i}f.IsActive&&(r=this._ctT(t.Event.target),r&&r!==this&&this._EnableDragOutside&&r.getEnableDropOutside()&&r.getCaptions().getVisibleCaptionsCount()>0?r.moveDrag(t):this.moveDrag(t))},u.prototype._aDl=function(n,t){var i=u.drag;i.Timeout&&this._bH6(),i.IsActive&&this._ctU(t)},u.prototype._aSe=function(i){var r=u.drag,h=r.EventOnStart,c={Event:h},f,e,l,a,o,s,v,y;if(r.Timeout&&n.clearTimeout(r.Timeout),r.Timeout=null,h){if(this._en.IsActive&&this._ba3(),l=!1,this._SelectionMode!=t.TreeListSelectionMode.ControlShiftMultiSelect||i.Event.ctrlKey||i.Event.shiftKey||this.getNodeSelected(r.StartNode)||(l=!0,a={Type:"Single",Value:!0,Node:r.StartNode},this._sA(a),this.setSelectedForAll(!1),this.setNodeSelected(r.StartNode,!0),this._lJ(a)),this._DragAndDropMode==t.TreeListDragAndDropMode.SingleDrag||l)r.NodeKeys=[r.StartNode];else{for(r.NodeKeys=[],s=this.getNodes(),e=s.length,f=0;f<e;f++)o=s[f],this.getNodeSelected(o)&&r.NodeKeys.push(o);for(s=this.getSelectedNodes(),e=s.length,v=[],f=0;f<e;f++)o=s[f],r.NodeKeys.indexOf(o)==-1&&v.push(o);r.NodeKeys=r.NodeKeys.concat(v),r.NodeKeys.indexOf(r.StartNode)==-1&&(this.setNodeSelected(r.StartNode,!0),r.NodeKeys.unshift(r.StartNode))}if(y={Event:h,StartNode:r.StartNode,Nodes:r.NodeKeys,Cancel:!1},this.NodeDragStart.fire(this,y),y.Cancel){this._at8(c);return}for(this._at7(),r.IsActive=!0,r.ShowTreeLines=this.getShowTreeLines(),r.StartPageX=i.Event.pageX,r.StartPageY=i.Event.pageY,r.StartTree=this,r.Active=!1,this.beginUpdate(),f=0,e=r.NodeKeys.length;f<e;f++)r.NodeKeys[f]!==null&&this.setNodeExpanded(r.NodeKeys[f],!1);this.endUpdate(),this.setShowTreeLines(!1),this._ctV(c),r.PageHeight=r.Page.DomPage.offsetHeight,this._acl(),this.moveDrag(c)}},u.prototype.moveDrag=function(i){var r=u.drag,s=i.Event,g=(s.targetTouches?s.targetTouches[0]:s).pageY,nt=(s.targetTouches?s.targetTouches[0]:s).clientX,tt=(s.targetTouches?s.targetTouches[0]:s).clientY,it=r.Page,ut=it.DomPage.style,y,ft,w,f,d,c,o,l,b,k,rt,st,ht;for(ut.left=nt-r.OffsetX+"px",ut.top=tt-r.OffsetY+"px",y=r.StartRelativeY-r.StartNodeHeight*.5,r.DomSplitter&&(ft=r.DomSplitter.style.display,r.DomSplitter.style.display="none"),it.DomPage.style.display="none",w=document.elementFromPoint(nt,tt-y),f=this._at9(w),this._EnableAutoColumnSize&&f===undefined&&(w=document.elementFromPoint(this._Captions.getFullContentWidth()-1,s.clientY-y)),it.DomPage.style.display="",r.DomSplitter&&(r.DomSplitter.style.display=ft),d=!1,c=w;c&&c!==this._dR;)d=d||n.hasClass(c,"PPTLVEmptyNode"),c=c.parentNode;if(r.TargetTree=this,c!==this._dR||d){r.Action=t.TreeListDragAndDropAction.Cancel,r.TargetNodeKey=undefined,r.DomNodeOffsetY=null,this._bH7();return}if(f=this._at9(w),f===undefined)if(this._aua(),this._bH8()||this.getNodesCount()!==0){var p=this._agG(),et=p&&this.getNodeByPosition(p.From),ot=p&&this.getNodeByPosition(p.To);if(et&&g-y<n.calculateOffset(this._bB[et].DomRow).Y)f=this.getNodeByPosition(p.From),o=0;else if(ot&&g-y>n.calculateOffset(this._bB[ot].DomRow).Y)f=this.getNodeByPosition(p.To),o=100;else{r.Action=t.TreeListDragAndDropAction.Cancel,this._bH9();return}}else f=null;else o=(g-y-(this._yL(f)+this._lP()+this._ctW()))/this._ox(f)*100;(f!==r.TargetNodeKey||!r.Active&&Math.abs(r.StartPageX-nt)+Math.abs(r.StartPageY-tt)>3)&&(l=f!==undefined,l&&(r.Active=!0),r.TargetNodeKey=f,b=this.getNodePosition(f),k={Event:s,StartTree:r.StartTree,Nodes:r.NodeKeys,TargetNode:f,TargetNodeParent:f===undefined?null:this.getNodeParent(f),Before:b===undefined?undefined:this.getNodeByPosition(b-1),After:b===undefined?undefined:this.getNodeByPosition(b+1),CanTakeChildren:l,CanInsertBefore:l&&f!==null,CanInsertAfter:l&&f!==null},this.NodeDrag.fire(this,k),r.CanTakeChildren=k.CanTakeChildren,r.CanInsertBefore=l&&f!==null&&k.CanInsertBefore,r.CanInsertAfter=l&&f!==null&&k.CanInsertAfter);var e=t.TreeListDragAndDropAction.Cancel,h=r.CanTakeChildren,a=r.CanInsertBefore,v=r.CanInsertAfter;if(f===null?e=h?t.TreeListDragAndDropAction.InsertChildren:e:(a&&h&&v&&(o<=25?e=t.TreeListDragAndDropAction.InsertBefore:o>25&&o<=75?e=t.TreeListDragAndDropAction.InsertChildren:o>75&&(e=t.TreeListDragAndDropAction.InsertAfter)),a&&v&&!h&&(o<=50?e=t.TreeListDragAndDropAction.InsertBefore:o>50&&(e=t.TreeListDragAndDropAction.InsertAfter)),a&&h&&!v&&(o<=50?e=t.TreeListDragAndDropAction.InsertBefore:o>50&&(e=t.TreeListDragAndDropAction.InsertChildren)),h&&v&&!a&&(o<=50?e=t.TreeListDragAndDropAction.InsertChildren:o>50&&(e=t.TreeListDragAndDropAction.InsertAfter)),!a||h||v||(e=t.TreeListDragAndDropAction.InsertBefore),!h||a||v||(e=t.TreeListDragAndDropAction.InsertChildren),!v||h||a||(e=t.TreeListDragAndDropAction.InsertAfter)),r.Action=e,this.getSortDirection()!==n.SortDirection.None)for(rt=r.Action==t.TreeListDragAndDropAction.InsertBefore||r.Action==t.TreeListDragAndDropAction.InsertAfter?this.getNodeParent(f):f,st=0;ht=r.NodeKeys[st++];)rt==this.getNodeParent(ht)&&(r.Action=t.TreeListDragAndDropAction.Cancel);this._bH9()},u.prototype._bIa=function(){var r=u.drag,n=r.TargetNodeKey,i=r.Action,f=this.getNodeChildrenCount(n);return i==t.TreeListDragAndDropAction.InsertAfter&&this.getNodeExpanded(n)&&f!==!0&&f>0&&(n=this.getNodeChildren(n)[0],i=t.TreeListDragAndDropAction.InsertBefore),{TargetNodeKey:n,Action:i}},u.prototype._bIb=function(){var u=this._bIa(),n=u.TargetNodeKey,f=u.Action,i,r;switch(f){case t.TreeListDragAndDropAction.InsertBefore:i=this.getNodeParent(n),r=this.getNodeIndex(n);break;case t.TreeListDragAndDropAction.InsertChildren:i=n,r=this.getNodeChildrenCount(n);break;case t.TreeListDragAndDropAction.InsertAfter:i=this.getNodeParent(n),r=this.getNodeIndex(n)+1}return{Action:f,Parent:i,Index:r}},u.prototype._bH9=function(){var o=u.drag,r=this._bIa(),n=r.TargetNodeKey,s=r.Action,i=0,f,e;switch(s){case t.TreeListDragAndDropAction.InsertBefore:this._ExpansionMode==t.TreeListExpansionMode.MultiExpand&&(i=this.getNodeLevel(n)),this._bIc(n,!1,20*i),this._aDO();break;case t.TreeListDragAndDropAction.InsertAfter:this._ExpansionMode==t.TreeListExpansionMode.MultiExpand&&(i=this.getNodeLevel(n)),this._bIc(n,!0,20*i),this._aDO();break;case t.TreeListDragAndDropAction.InsertChildren:this._aua(),this._aDO(n,"PPTLVNodeDragInsertChildren");break;case t.TreeListDragAndDropAction.Cancel:this._aua(),this._aDO(undefined,"")}f=!this._bH8()&&this.getNodesCount()===0,e=o.Action==t.TreeListDragAndDropAction.Cancel&&f?"PPTLVNodeDragPageCancel":"",this._bId(e)},u.prototype._bH8=function(){var n=u.drag;return n.IsActive&&n.StartTree===n.TargetTree},u.prototype._ctW=function(){var t=u.drag;return t.DomNodeOffsetY===null&&(t.DomNodeOffsetY=n.calculateOffset(this._DomNode).Y),t.DomNodeOffsetY},u.prototype._bH7=function(){this._aua(),this._aDO(undefined,""),this._bId("PPTLVNodeDragPageCancel")},u.prototype._ctX=function(){this._aua()},u.prototype._aDO=function(t,i){var r=u.drag,f=t!==undefined&&this._bB[t]&&this._bB[t].DomRow;r.StyledTargetDomRow&&(r.StyledTargetDomRow!==f||r.StyledTargetNodeClass!==i)&&(n.removeClass(r.StyledTargetDomRow,r.StyledTargetNodeClass),r.StyledTargetNodeClass=null,r.StyledTargetDomRow=null),f&&i&&(n.addClass(f,i),r.StyledTargetDomRow=f,r.StyledTargetNodeClass=i)},u.prototype._bId=function(t){var i=u.drag,r;t!=i.DragPageClass&&(r=i.Page.DomPage,n.removeClass(r,i.DragPageClass),t?(n.addClass(r,t),i.DragPageClass=t):i.DragPageClass=null)},u.prototype._ctY=function(n){for(var u,r,t=0,i=n;t<i.length;t++)if(u=i[t],r=this._bB[u],document.body.contains(r.DomRow))return r;return this._bB[n[0]]},u.prototype._ctV=function(t){var r=u.drag,s=t.Event,y=(s.targetTouches?s.targetTouches[0]:s).pageX,h=r.NodeKeys.length,e,l,i,a,f,o,v,c;if(h){if(e=this._ctY(r.NodeKeys),l=n.calculateOffset(e.DomRow),r.OffsetX=y-l.X,r.OffsetY=r.StartRelativeY,i=r.Page,i)while(i.DomTBody.lastChild)i.DomTBody.removeChild(i.DomTBody.lastChild);else r.Page=i=this._baU(),i.DomPage.className+=" PPTLVNodeDragPage PPTLVHideTreeLines "+this._DomNode.className;for(this._EnableAutoColumnSize?(n.removeClass(i.DomTBody,"PPTLVFixedColumnSize"),n.addClass(i.DomTBody,"PPTLVAutoColumnSize")):(n.removeClass(i.DomTBody,"PPTLVAutoColumnSize"),n.addClass(i.DomTBody,"PPTLVFixedColumnSize")),this._ShowTree?n.addClass(i.DomPage,"PPTLVNodeDragPageShowTabs"):n.removeClass(i.DomPage,"PPTLVNodeDragPageShowTabs"),i.DomPage.setAttribute("dir",this._IsRTL?"rtl":"ltr"),a=this._ShowTree,this.beginUpdate(),this.setShowTree(!1,!0),f=0;f<h;f++)o=r.NodeKeys[f],this.setNodeVisible(o,!1),this._qq(this.getNodePosition(o)),e=this._bB[o],e||this.updateNode(o,!1);for(this.setShowTree(a,!0),this.updateIndexes(),this.endUpdate(),v=Math.min(this._Captions.getFullContentWidth(),this._f1),i.DomPage.style.width=this._g(v-this._d9.Left-this._d9.Right)+"px",f=0;f<h;f++)e=this._bB[r.NodeKeys[f]],e&&e.DomRow&&i.DomTBody.appendChild(e.DomRow);for(document.body.appendChild(i.DomPage),f=r.NodeKeys.indexOf(r.StartNode)-1;f>=0;f--)e=this._bB[r.NodeKeys[f]],c=e.DomRow.offsetHeight,n.isNumber(c)&&(r.OffsetY+=c)}},u.prototype._bIc=function(t,i,r){var f=u.drag,e,o;r=(r||0)+(this._DragAndDropIndent||0)+2,f.DomSplitter||(f.DomSplitter=n.htmlToDOM('<div class="PPTLVNodeDragSplitter"><\/div>')),f.DomSplitterEnd||(f.DomSplitterEnd=n.htmlToDOM('<div class="PPTLVNodeDragSplitterEnd"><\/div>')),f.DomSplitter.parentNode!==this._DomNode&&this._DomNode.appendChild(f.DomSplitter),f.DomSplitterEnd.parentNode!==this._DomNode&&this._DomNode.appendChild(f.DomSplitterEnd),e=this._yL(t)+this._lP()-1,i&&(e+=this._ox(t)),e=Math.max(e,this._lP()),e=Math.min(e,this._dB+this._lP()-2),f.DomSplitter.style.top=e+"px",f.DomSplitterEnd.style.top=e-2+"px",o=this._g(this._amf-this._f1)+"px",this._IsRTL?(f.DomSplitterEnd.style.right=f.DomSplitter.style.right=this._g(r)+"px",f.DomSplitter.style.left=o,f.DomSplitterEnd.style.left=""):(f.DomSplitterEnd.style.left=f.DomSplitter.style.left=this._g(r)+"px",f.DomSplitter.style.right=o,f.DomSplitterEnd.style.right="")},u.prototype._aua=function(){var n=u.drag;n.DomSplitter&&n.DomSplitter.parentNode&&n.DomSplitter.parentNode.removeChild(n.DomSplitter),n.DomSplitterEnd&&n.DomSplitterEnd.parentNode&&n.DomSplitterEnd.parentNode.removeChild(n.DomSplitterEnd)},u.prototype._ctU=function(n){var t=u.drag;t.TargetNodeKey!==undefined?t.TargetTree==this?this._ctZ(n):(t.TargetTree.endDropFromOutside(n),this._at8(n)):this._at8(n),this._ba0()},u.prototype._ctZ=function(n){var r,s,i=u.drag,v,o,c;if(i.Action==t.TreeListDragAndDropAction.Cancel||!i.Active){this._at8(n);return}var l=this._bIb(),h=l.Parent,f=l.Index,a=l.Action,e;if(a!==t.TreeListDragAndDropAction.Cancel&&(e={Event:n.Event,StartTree:i.StartTree,Nodes:i.NodeKeys,Action:a,Canceled:!1,ParentNode:h,Index:f,Cancel:!1},this.NodeDragEnd.fire(this,e),e.Cancel)){i.Action=t.TreeListDragAndDropAction.Cancel,this._at8(n);return}for(this.beginUpdate(),r=0,s=i.NodeKeys.length;r<s;r++)this.setNodeVisible(i.NodeKeys[r],!0);for(v=0,r=0,s=i.NodeKeys.length;r<s;r++)o=i.NodeKeys[r],c=f,h===this.getNodeParent(o)&&(f<this.getNodeIndex(o)?(c+=v,v++):f>this.getNodeIndex(o)&&(c-=1)),this.moveNode(o,h,c);this.setShowTreeLines(i.ShowTreeLines),this.endUpdate(!1),this.updateIndexes(),this.updateTree(),e={Event:n.Event,Nodes:i.NodeKeys,Action:a,ParentNode:h,Index:f},this.NodeDragFinished.fire(this,e)},u.prototype._at8=function(n){var r,t=u.drag,i,f;if(t.IsActive){if(n){for(this.beginUpdate(),this.setShowTreeLines(t.ShowTreeLines),i=0,f=t.NodeKeys.length;i<f;i++)this.setNodeVisible(t.NodeKeys[i],!0);this.endUpdate(),this.updateIndexes(),this.updateTree(),r={Event:n.Event,Nodes:t.NodeKeys,Action:t.Action,Canceled:!0}}else r={Event:null,Nodes:t.NodeKeys,Action:t.Action,Canceled:!0};this.NodeDragEnd.fire(this,r)}},u.prototype.endDropFromOutside=function(n){var i=u.drag;if(i.Action!==t.TreeListDragAndDropAction.Cancel&&i.Active){var r=this._bIb(),e=r.Parent,o=r.Index,f=r.Action,s={Event:n.Event,StartTree:i.StartTree,Nodes:i.NodeKeys,Action:f,Canceled:f===t.TreeListDragAndDropAction.Cancel,ParentNode:e,Index:o,Cancel:!0};this.NodeDragEnd.fire(this,s)}this._bH7()},u.prototype._dDA=function(n,t){var r,f,i,e;if(n!==undefined)for(r=u.drag,f=r.NodeKeys.length,i=0;i<f;i++)e=r.NodeKeys[i],this.moveNode(e,n,t)},u.prototype._ba0=function(){var n=u.drag;n.IsActive=!1,n.NodeKeys=[],n.OffsetX=n.OffsetY=null,n.DomNodeOffsetY=null,n.ShowTreeLines=null,n.PageHeight=n.EventOnStart=null,n.CanTakeChildren=n.CanInsertBefore=n.CanInsertAfter=!0,n.TargetTree=null,n.TargetNodeKey=undefined,n.StyledTargetDomRow=null,n.StyledTargetNodeClass=null,n.StartTree=null,n.StartNode=undefined,n.StartNodeHeight=null,n.StartRelativeY=null,this._aua(),this._acl(),n.Page&&n.Page.DomPage.parentNode&&document.body.removeChild(n.Page.DomPage)},u.prototype._bH6=function(){var t=u.drag;t.Timeout&&n.clearTimeout(t.Timeout),t.Timeout=null,this._ba0()},u.prototype._m0=function(n,t){if(n===this){var i=t.Event.type=="touchmove"?this._acj.NodeKey:this._bHB;i&&(t.NodeKey=i,r.prototype._m0.apply(this,arguments))}},u.prototype.setWidth=function(n,t,i){n===this._Width&&i&&t==undefined&&(t=!0);var u=this._Width;r.prototype.setWidth.call(this,n,t),(this._Width!==u||i)&&this.updateSize()},u.prototype.setHeight=function(n,t,i){n===this._Height&&i&&t==undefined&&(t=!0);var u=this._Height;r.prototype.setHeight.call(this,n,t),(this._Height!==u||i)&&this.updateSize()},u.prototype.setStyle=function(){r.prototype.setStyle.apply(this,arguments),this._dm&&this.updateSize()},u.prototype.getEnableResizeColumns=function(){return this._EnableResizeColumns},u.prototype.setEnableResizeColumns=function(n){n&&this._EnableAutoColumnSize||(this._EnableReizeColumns=!!n,this._Captions.setEnableResize(this._EnableReizeColumns))},u.prototype.getEnableColumnsMenu=function(){return this._EnableColumnsMenu},u.prototype.setEnableColumnsMenu=function(n){this._EnableColumnsMenu=!!n,this._Captions.setEnableMenu(this._EnableColumnsMenu)},u.prototype.getEnableSort=function(){return this._EnableSort},u.prototype.setEnableSort=function(n){this._EnableSort=!!n,this._Captions.setEnableSort(this._EnableSort)},u.prototype.setShowTree=function(n,t){!!n==this._ShowTree&&this._dm||(this._ShowTree=!!n,t||this.updateTree())},u.prototype.setShowCaptions=function(n){this._ShowCaptions===!!n&&this._dm||(this._DomNode&&(this._ShowCaptions=!!n,this._ShowCaptions?(this._Captions.addToNode(this._DomNode,this._f3),this._Captions.updateSize()):this._Captions.removeFromDOM()),this._dm&&this.updateSize())},u.prototype.setIsRTL=function(n){!!n==this._IsRTL&&this._dm||(r.prototype.setIsRTL.apply(this,arguments),this._Captions.setIsRTL(!!n),this._ScrollBarH.setIsRTL(n),this._dm&&this._dc())},u.prototype.setShowCheckBoxes=function(n){!!n==this._ShowCheckBoxes&&this._dm||(this._ShowCheckBoxes=!!n,this.updateTree())},u.prototype.setRowSelect=function(n){this._RowSelect=!!n,this._acl()},u.prototype.setShowTreeLines=function(n){this._ShowTreeLines=!!n,this._acl()},u.prototype.setShowGridLines=function(n){this._ShowGridLines=!!n,this._acl()},u.prototype.setIconVerticalAlign=function(i){if(!n.isMemberOf(t.TreeListIconVerticalAlign,i))throw new n.Exception(this,"incorrect IconVerticalAlign value");var r=this._IconVerticalAlign;(this._IconVerticalAlign=i,i===r&&this._dm)||((i===t.TreeListIconVerticalAlign.FirstLineMiddle||r===t.TreeListIconVerticalAlign.FirstLineMiddle)&&this.updateTree(),this._acl())},u.prototype.setContentVerticalAlign=function(t){if(!n.isMemberOf(n.VerticalAlignment,t))throw new n.Exception(this,"incorrect ContentVerticalAlign value");this._ContentVerticalAlign=t,this._acl()},u.prototype.setNodeDefaultStyle=function(t){t instanceof n.Style||typeof t!="object"||(t=new n.Style(t)),this._NodeDefaultStyle=t,this._dm&&(this.updateSize(),this.updateTree())},u.prototype.setShowToolTips=function(n){this._ShowToolTips=!!n,!this._ShowToolTips&&this._f4.IsActive&&this._at7()},u.prototype.setDragAndDropMode=function(i){n.isMemberOf(t.TreeListDragAndDropMode,i)&&(this._DragAndDropMode=i)},u.prototype.getDragAndDropMode=function(){return this._DragAndDropMode},u.prototype.setEnabled=function(){r.prototype.setEnabled.apply(this,arguments),this._ScrollBarV.setEnabled(this._Enabled),this._ScrollBarH.setEnabled(this._Enabled),this._Captions.setEnabled(this._Enabled),this._ParentNode&&(this._Enabled?this._bindEvents():this._unBindEvents()),this._ctK()},u.prototype.setImageList=function(n){n!=this._ImageList&&(this._ImageList=n,this._dm&&this.updateTree())},u.prototype.areAllVisibleNodesLoaded=function(){return this._amh==0},u.prototype.getSettings=function(){var n=r.prototype.getSettings.apply(this,arguments);return delete n.ScrollingMode,delete n.TabIndex,delete n.ScrollBarH,delete n.ScrollBarV,delete n.VisibleNodes,this._ImageList&&(n.ImageList=this._ImageList),n},u.prototype.setSettings=function(n){n.ImageList&&(this._ImageList=null),r.prototype.setSettings.apply(this,arguments)},u.prototype.setContent=function(){throw new n.Exception("property don't supported in TreeList");},u.prototype.getContent=function(){throw new n.Exception("property don't supported in TreeList");},u.prototype.setShowToolTip=function(){throw new n.Exception("property don't supported in TreeList. Use showToolTips property instead");},u.prototype.getShowToolTip=function(){throw new n.Exception("property don't supported in TreeList. Use showToolTips property instead");},u.prototype._ctN=function(n){this.setNodeExpanded(n,!this.getNodeExpanded(n))},u.prototype._ctO=function(n){var i={Cancel:!1,Node:n};(this.CheckBoxClick.fire(this,i),i.Cancel)||this._ctL(n)},u.prototype._bHW=function(){this._bIe.apply(this,arguments)},u.prototype._ctP=function(t,i,r){var e=r.Event.button,u,f;if(e==0){if(this._bQ.NodeKey==t)return;u=n.Date.now(),f=t===this._aDJ.NodeKey&&this._aDJ.Time&&u-this._aDJ.Time<500,this.getEnableEdit()&&t===this._FocusedNode&&!f?this._ct0(t,i):this._ba2(),this._aDJ.Time=u,this._aDJ.NodeKey=t}this._bIe.apply(this,arguments)},u.prototype._bHV=function(){},u.prototype._bHZ=function(n){this._DblClickExpand&&!this._bQ.IsActive&&this.getNodeChildrenCount(n)&&this.setNodeExpanded(n,!this.getNodeExpanded(n))},u.prototype._bH1=function(n){var i=n.Event,t=this._sC(i),r=t&&t.Type==="text";if(!this._ShowToolTips||!r&&!this._aR7.length){this._at7();return}this._f4.X=n.Event.pageX,this._f4.Y=n.Event.pageY,this._ct1()},u.prototype._bIe=function(i,r,u){var o=u.Event.button,h,w,f,l,a,v,y,s,b,p;if((o===0||o==2&&this._RightButtonSelect||n.isTouch)&&(h=this._aR8.Time,w=this._aR8.NodeKey,this._aR8.Time=n.Date.now(),this._aR8.NodeKey=i,!h||!(n.Date.now()-h<500)||w!=i)){var c=u.Event.shiftKey,k=u.Event.ctrlKey,e=this.getNodeSelected(i);if(o==2&&e){if(this._SelectionMode===t.TreeListSelectionMode.SingleSelect)return;if(this._SelectionMode===t.TreeListSelectionMode.MultiSelect&&!c||this._SelectionMode===t.TreeListSelectionMode.ControlShiftMultiSelect&&!c)return}if(this._SelectionMode===t.TreeListSelectionMode.SingleSelect)this.setNodeSelected(i,!e),this.focusNode(i);else if(c&&o!==2){if(f={Type:"Shift",Value:!0},this._sA(f,!0),f.Cancel){this._ach();return}this.setSelectedForAll(!1),l=this.getNodePosition(this._FocusedNode),a=this.getNodePosition(i),n.isDefined(l)&&n.isDefined(a)?this.setSelectedFromToIndex(l,a,!0):(this.setNodeSelected(i,!0),this._FocusedNode||this.focusNode(i)),this._lJ(f,!0)}else if(k){if(this.focusNode(i),f={Type:"Control",Value:!e,Node:i},this._sA(f,!0),f.Cancel){this._ach();return}this.setNodeSelected(i,!e),this.setSelectedForChildren(i,!e),this._lJ(f,!0)}else if(this.focusNode(i),this._SelectionMode===t.TreeListSelectionMode.ControlShiftMultiSelect){for(v=!1,y=this.getSelectedNodes(),s=0,b=y.length;s<b;s++)if(p=y[s],p!==i&&!this.getNodeFixedSelected(p)){v=!0;break}this._bHe(i,v?!0:!e)}else this.setNodeSelected(i,!e)}},u.prototype._bH0=function(i){var f=i.Event,u=this._sC(f).NodeKey,e=this.getNodePosition(u),r=this._en;n.isDefined(u)&&n.isDefined(e)&&(!this._bQ.IsActive||this._bQ.NodeKey!=u)&&(r.ShowArea=this._SelectionMode!==t.TreeListSelectionMode.DragMultiSelect,r.IsActive=!0,r.PageOffset=n.calculateOffset(this._lO),r.StartIndex=e,r.ComponentOffset=n.calculateOffset(this._DomNode),r.StartClientX=f.clientX,r.StartX=f.pageX-r.ComponentOffset.X,r.StartY=f.pageY-r.ComponentOffset.Y,r.StartNode=u,r.StartNodeScrollY=this._qr(u),r.StartRelativeY=f.pageY-r.ComponentOffset.Y-this._lP()-this._yL(u))},u.prototype._bH2=function(i){var f=i.Event,r=this._en,l=f.pageY-r.ComponentOffset.Y+this._kU,s,e,h,c;if(Math.abs(l-r.StartY)>r.Threshold&&!r.IsStarted&&!u.drag.Timeout&&(r.IsStarted=!0,this._SelectionMode===t.TreeListSelectionMode.MultiSelect||this._SelectionMode===t.TreeListSelectionMode.ControlShiftMultiSelect))for(r.ShowArea=!0,this._ct2(),this._baS=!1,s=this.getNodes(),e=0,h=s.length;e<h;e++)this.updateNodeStyle(s[e]);if(this._en.PointerX=f.clientX,this._en.PointerY=f.clientY,r.IsStarted){this._bIf(f.pageX,f.pageY),r.ShowArea&&(this._en.DomArea.style.display="none"),c=document.elementFromPoint(r.PageOffset.X+this._f3.scrollLeft+1,f.clientY),r.ShowArea&&(this._en.DomArea.style.display="");var a=this._at9(c),o=this.getNodePosition(a),v=this._en.ComponentOffset.Y+this._lP();!n.isDefined(o)&&v>this._en.PointerY&&(o=0),n.isDefined(o)&&this._bIg(o)}},u.prototype._bIg=function(n){var f=this._en,u=this.getNodes(),t,r=f.StartIndex,i=f.EndIndex;if(i===null){if(n>=r)for(t=r;t<=n;t++)this._aub(u[t]);else for(t=n;t<=r;t++)this._aub(u[t]);f.EndIndex=n;return}if(r==n){if(i>n)for(t=n+1;t<=i;t++)this._auc(u[t]);else for(t=i;t<n;t++)this._auc(u[t]);f.EndIndex=n;return}if(i>=r){if(n<r){for(t=r+1;t<=i;t++)this._auc(u[t]);for(t=n;t<r;t++)this._aub(u[t])}if(n>r&&n<=i)for(t=n+1;t<=i;t++)this._auc(u[t]);if(n>i)for(t=i+1;t<=n;t++)this._aub(u[t])}else{if(n<i)for(t=n;t<i;t++)this._aub(u[t]);if(n>i&&n<r)for(t=i;t<n;t++)this._auc(u[t]);if(n>r){for(t=i;t<r;t++)this._auc(u[t]);for(t=r+1;t<=n;t++)this._aub(u[t])}}f.EndIndex=n},u.prototype._aub=function(n){var i,r;if(n!==undefined&&(i=this._bB[n]&&this._bB[n].DomRow,i&&!this.getNodeFixedSelected(n))){if(this._SelectionMode==t.TreeListSelectionMode.DragMultiSelect){r=!this.getNodeSelected(n),this._aDN(n,r);return}this._SelectionMode!==t.TreeListSelectionMode.SingleSelect&&this._aDN(n,!0)}},u.prototype._auc=function(n){var i,r;if(n!==undefined&&(i=this._bB[n]&&this._bB[n].DomRow,i&&!this.getNodeFixedSelected(n))){if(this._SelectionMode==t.TreeListSelectionMode.DragMultiSelect){r=this.getNodeSelected(n),this._aDN(n,r);return}this._SelectionMode!==t.TreeListSelectionMode.SingleSelect&&this._aDN(n,!1)}},u.prototype._ctR=function(n){var i=this._en,r;if(!i.IsStarted){this._ct3(n),this._ba3();return}i.StartIndex>i.EndIndex&&(r=i.EndIndex,i.EndIndex=i.StartIndex,i.StartIndex=r),this._SelectionMode===t.TreeListSelectionMode.DragMultiSelect&&(this.preserveSelection(!0,!0),this.setSelectedFromToIndex(i.StartIndex,i.EndIndex,!0)),(this._SelectionMode===t.TreeListSelectionMode.MultiSelect||this._SelectionMode===t.TreeListSelectionMode.ControlShiftMultiSelect)&&(this._baS=!1,this.preserveSelection(!0,!1),this.setSelectedFromToIndex(i.StartIndex,i.EndIndex,!0)),this._SelectionMode!==t.TreeListSelectionMode.DragMultiSelect&&this.updateTree(!0),i.ShowArea&&this._ba4(),this._ba3()},u.prototype._ct3=function(n){for(var t=n.Event.target,r,i;t!==this._en.DomArea&&t.parentNode;)t=t.parentNode;t==this._en.DomArea&&(this._dDB=null,this._ba4(),r=document.elementFromPoint(n.Event.clientX,n.Event.clientY),i=this._bH5(r),this._ba1(i.NodeKey,i.Type,i.Column,n))},u.prototype._ba3=function(){var n=this._en;n.IsActive=!1,n.IsStarted=!1,n.StartIndex=n.EndIndex=null,n.ComponentOffset=null,n.StartClientX=null,n.StartX=n.StartY=null,n.PointerX=n.PointerY=null,n.StartNode=null,n.StartNodeScrollY=null,n.StartRelativeY=null,this._ba4()},u.prototype._ctM=function(n){this._en.IsActive&&this._bH2(n)},u.prototype._ct4=function(){if(this._lQ.IsActive){if(this.getNodesCount()>0){var n=this._agG();this._bIg(this._lQ.ScrollToTop?n.From:n.To)}this._bIf(this._en.PointerX,this._en.PointerY)}},u.prototype._ctQ=function(t){if((this._en.IsActive||u.drag.IsActive)&&this._EnableAutoScroll){var f=t.Event,e=n.calculateOffset(this._DomNode),i=f.pageY<e.Y+this._lP(),o=f.pageY>e.Y+ +this._Height-this._baQ(),r=u.drag,s=r.IsActive&&r.TargetTree!==r.StartTree;this._lQ.ScrollToTop=i,(i||o)&&!s&&!this._lQ.IsActive&&(this._lQ.IsActive=!0,this._bIh()),(!i&&!o||s)&&this._lQ.IsActive&&(this._lQ.IsActive=!1,this._bH3())}},u.prototype._bIh=function(){this._lQ.Timeout=n.setTimeout(this._bIh,this._AutoScrollDelay,null,this);var t=this._ow(),i=this._iK();(t!=0||!this._lQ.ScrollToTop)&&(t!=i||this._lQ.ScrollToTop)&&(this._bHU(this._lQ.ScrollToTop),this._en.IsActive&&this._ct4(),u.drag.IsActive&&this._ctX())},u.prototype._bH3=function(){this._lQ.Timeout&&(n.clearTimeout(this._lQ.Timeout),this._lQ.Timeout=null),this._lQ.IsActive=!1,this._lQ.ScrollToTop=null},u.prototype._ct2=function(){this._en.DomArea||(this._en.DomArea=n.htmlToDOM('<div class="PPTLVSelectionArea"><div class="PPTreeListSelectionAreaInner"><\/div><\/div>'),this._DomNode.appendChild(this._en.DomArea))},u.prototype._ba4=function(){this._en.DomArea&&(this._DomNode.removeChild(this._en.DomArea),this._en.DomArea=null)},u.prototype._ct5=function(n,t,i,r){if(this._en.ShowArea){var f=Math.abs(i-n),e=Math.abs(r-t),o=Math.min(t,r),s=Math.min(n,i),u=this._en.DomArea.style;u.left=s+"px",u.top=o+"px",u.width=this._g(f)+"px",u.height=this._g(e)+"px"}},u.prototype._bIf=function(t,i){var u=this._en,o=this._yL(u.StartNode),f=this._lP(),s=u.StartX,r,e;n.isDefined(o)?(r=this._lP()+o+u.StartRelativeY,r=Math.min(Math.max(r,f-1),f+this._dB+1)):r=this._ow()>u.StartNodeScrollY?f-1:f+this._dB+1,e=u.ComponentOffset,this._ct5(s,r,t-e.X,i-e.Y-1)},u.prototype._amg=function(){return this._m8},u.prototype._bHX=function(){return this._vd},u.prototype._ow=function(){return this._kU},u.prototype._baW=function(n){var i=this._amg(),t=Math.max(i-this._f1,0);n=this._g(n),n>t&&(n=t),this._vd=n,this._lL=!0,this._ScrollBarH.setValue(n*100/t,!0),this._lL=!1,this._bIi(),this._bIj()},u.prototype._vg=function(t){var u=this._iK(),r=Math.max(u-this._jZ(),0),i;t=this._g(t),t>r&&(t=r),this._kU=t,this._lL=!0,this._ScrollBarV.setValue(t*100/r,!0),this._lL=!1,this._aDP(),i=this._at1(),this._amh=i.VisibleEmptyNodeIndexes.length,this._amh&&(this._bHT?(n.clearTimeout(this._al8),this._al8=n.setTimeout(this._bG8,250,null,this)):this.requestData(i.VisibleEmptyNodeIndexes)),i.AppearedNodes.length&&(this.VisibleNodesChange.fire(this,{Nodes:i.AppearedNodes}),this.VisibleNodesChanged.fire(this,{Nodes:i.AppearedNodes,Changed:i.AppearedNodes}))},u.prototype._bIi=function(){var n;n=this._IsRTL?this._g(this._m8-this._f1-this._vd):this._vd,this._f3.scrollLeft=n,this._Captions.setScrollLeft(n)},u.prototype._bIj=function(){},u.prototype._dDC=function(){},u.prototype._lP=function(){return+this._ShowCaptions*this._Captions.getHeight()},u.prototype._baQ=function(){return 0},u.prototype.setPageStyle=function(t){t instanceof n.Style||typeof t!="object"||(t=new n.Style(t)),this._PageStyle=t;var i=t instanceof n.Style?t.toCSSFormat():t;this._aSd("PageStyle","#"+this._Id+" > div > .PPTLVPage {"+i+";}"),this._dm&&this.updateSize()},u.prototype.updateSize=function(){if(!(this._bI>0)){if(this._atI=this._g(n.getStyle(this._DomNode,"border-top"))+this._g(n.getStyle(this._DomNode,"border-bottom")),this._atH=this._g(n.getStyle(this._DomNode,"border-left"))+this._g(n.getStyle(this._DomNode,"border-right")),this._aa=this._g(this._Width-this._atH),this._ac=this._g(this._Height-this._atI),this._DomNode.style.width=this._aa+"px",this._DomNode.style.height=this._ac+"px",this._amf=this._aa,this._ou=this._ac-this._lP()-this._baQ(),this._ct6(),this._gs.BorderBottomAsNode&&this._ct7(),this._Captions.setHorizontalSizes({Width:this._aa,LeftMargin:this._d9.Left,RightMargin:this._d9.Right,VScrollMargin:this._amf-this._f1}),this._baT(this._Captions.getFullContentWidth()),this._aR9(),document.body.contains(this._DomNode)){var t=this._ct8();this._baV(t),this._lO.removeChild(t)}this._f1=null,this._dB=null,this._dc(),this._baW(this._bHX()),this._vg(this._ow()),this.updateTree(!0),this._Captions.setVScrollMargin(this._amf-this._f1)}},u.prototype._ct8=function(){var t=document.createElement("tr");t.className="PPTLVNodeRow";var i=this._ami.DomTreeCell.cloneNode(!0),u=n.querySelector(i,".PPTLVNodeContent"),f=n.querySelector(i,".PPTLVNodeText"),r=this._NodeDefaultStyle,e=n.isString(r)?r:r.toCSSFormat();return t.style.cssText=e,u.style.fontSize="",i.style.height="auto",f.innerHTML="x",t.appendChild(i),this._at6(t,!0),n.addClass(t,"PPTLVHeightMeasure"),t},u.prototype._dc=function(){var u=this._EnableAutoColumnSize?this._Captions.getFullContentWidth():this._amg(),i=this._gs.DashboardScrolls?0:this._ScrollBarV.getWidth()+1,f=this._gs.DashboardScrolls?0:this._ScrollBarH.getHeight(),t=this._aDQ(!1),r=u>this._amf-i*t;r&&!t&&(t=this._aDQ(!0)),this._ct9(this._amf-i*t),this._cua(this._ou-(r?f:0)),this._aSf(),this._cub(r,t),t?n.addClass(this._f3,"PPTLVVerticalScrollable"):n.removeClass(this._f3,"PPTLVVerticalScrollable"),this._Captions.setVScrollMargin(i*t)},u.prototype._ct6=function(){var t=this._d9;t.Top=0,t.Top+=this._g(n.getStyle(this._dR,"border-top-width")),t.Top+=this._g(n.getStyle(this._dR,"padding-top")),t.Right=0,t.Right+=this._g(n.getStyle(this._dR,"border-right-width")),t.Right+=this._g(n.getStyle(this._dR,"padding-right")),t.Bottom=0,t.Bottom+=this._g(n.getStyle(this._dR,"border-bottom-width")),t.Bottom+=this._g(n.getStyle(this._dR,"padding-bottom")),t.Left=0,t.Left+=this._g(n.getStyle(this._dR,"border-left-width")),t.Left+=this._g(n.getStyle(this._dR,"padding-left"))},u.prototype._ct7=function(){if(this._gs.BorderBottomAsNode&&this._yI){var i=this._g(n.getStyle(this._dR,"border-bottom-width")),r=this._g(n.getStyle(this._dR,"border-bottom-style")),u=this._g(n.getStyle(this._dR,"border-bottom-color")),f=this._g(n.getStyle(this._dR,"padding-bottom")),e=this._g(n.getStyle(this._dR,"background-color")),t=this._aR6.style;t.borderBottomWidth=i+"px",t.borderBottomStyle=r,t.borderBottomColor=u,t.paddingBottom=f+"px",t.backgroundColor=e}},u.prototype._ct9=function(n){(n=this._g(n),n==this._f1&&this._dm)||(this._f1=n,this._f3.style.width=n+"px")},u.prototype._cua=function(n){var i,t,r;if(n=this._g(n),n!=this._dB||!this._dm)for(this._dB=n,this._f3.style.height=n+"px",i=this._g(n-this._d9.Top-this._d9.Bottom),t=0,r=this._hz.length;t<r;t++)this._hz[t].DomPage.style.minHeight=i+"px"},u.prototype._baT=function(n){var i,t,r;for(this._m8=Math.max(n,this._f1),i=this._g(this._m8-this._d9.Left-this._d9.Right),t=0,r=this._hz.length;t<r;t++)this._hz[t].DomPage.style.width=i+"px"},u.prototype._cub=function(n,t){var u,f;this._lL=!0;var i,e=this._gs.DashboardScrolls?0:31,o=this._amg(),s=this._iK(),h=this._jZ(),r=t?this._ScrollBarV.getWidth()+2:2,c=n?this._ScrollBarH.getHeight()+2:2;t?(this._ScrollBarV.setEnabled(!0),this._ScrollBarV.setTop(this._lP()),this._IsRTL?this._ScrollBarV.setLeft(0):this._ScrollBarV.setLeft(this._aa-r),u=this._ac-this._lP()-c,this._ScrollBarV.setHeight(u),this._ScrollBarV.setIsVisible(!0),this._ScrollBarV.updateSize(),i=Math.min(h/s,.99)*(u-e),this._ScrollBarV.setDraggerSize(i),this._ScrollBarV.setValue(this._kU*100/(s-h),!1)):(this._ScrollBarV.setIsVisible(!1),this._ScrollBarV.setEnabled(!1),this._FirstVisibleIndex=0),n?(this._ScrollBarH.setEnabled(!0),this._ScrollBarH.setTop(this._ac-this._ScrollBarH.getHeight()),this._ScrollBarH.setLeft(this._IsRTL?r:0),f=this._aa-r,this._ScrollBarH.setWidth(f),this._ScrollBarH.setIsVisible(!0),this._ScrollBarH.updateSize(),i=Math.min(this._f1/o,.99)*(f-e),this._ScrollBarH.setDraggerSize(i),this._ScrollBarH.setValue(this._vd*100/(o-this._f1),!1)):(this._ScrollBarH.setIsVisible(!1),this._ScrollBarH.setEnabled(!1)),this._gs.DashboardScrolls||(n&&t?(this._aci.style.display="block",this._aci.style.left=this._g(this._ScrollBarV.getLeft())+"px",this._aci.style.top=this._g(this._ScrollBarH.getTop())+"px",this._aci.style.width=this._g(this._ScrollBarV.getWidth())+"px",this._aci.style.height=this._g(this._ScrollBarH.getHeight())+"px"):this._aci.style.display=""),this._lL=!1},u.prototype._bHU=function(n){this._vg(this._ow()+this._ScrollStep*(n?-1:1))},u.prototype._bIk=function(t){return(!n.isNumber(t)||t<0)&&(t=0),t=Math.min(t,1)},u.prototype._bIl=function(n,t){if(n=n|0,!isNaN(n)){for(var i,r=0;n>0;){if(i=this.getNodeByPosition(n),i)break;r++,n--}return i?this._qr(i,!!t)+r*this._em:r*this._em}},u.prototype.scrollToNode=function(n,t){var i,r;if(n||n===""){if(t=this._bIk(t),i=this._qr(n),t==0){this._vg(i);return}r=this._qr(n,!0),this._vg(i+(t?r-i:0))}},u.prototype.scrollToPosition=function(n,t){var i,r;if(n=n|0,!(n<0)){if(t=this._bIk(t),i=this._bIl(n),t==0){this._vg(i);return}r=this._bIl(n,!0),this._vg(i+(r-i)*t)}},u.prototype.measureColumnContentWidth=function(t,i){var u,r,f,e,o,s;if(this._Captions.getItemIsVisible(t)){for(u=0,r=0;r<t;r++)this._Captions.getItemIsVisible(r)&&u++;return f=this._EnableAutoColumnSize,f||this.setEnableAutoColumnSize(!0,!0),i&&(e=this._aDR()),o=n.querySelector(this._lO,".PPTLVColumn"+u),s=o&&o.offsetWidth,e&&this._dA(),f||this.setEnableAutoColumnSize(!1,!0),e&&this.updateTree(!0),s}},u.prototype._aDL=function(){for(var r=0,i,t=0,u=this._Captions.getCount();t<u;t++)this._Captions.getItemIsVisible(t)&&(i=n.querySelector(this._lO,".PPTLVColumn"+r),this._Captions.getItem(t).setWidth(i&&i.offsetWidth||0),r++)},u.prototype._aDK=function(){for(var r,i,u=0,t=0,f=this._Captions.getCount();t<f;t++)(r=this._Captions.getItem(t),this._Captions.getItemIsVisible(t)&&(i=n.querySelector(this._lO,".PPTLVColumn"+u)))&&(i.style.minWidth=this._EnableAutoColumnSize?r.getOptimalWidth()+"px":"",u++)},u.prototype._ctz=function(){this._lL||(this._vd=this._ScrollBarH.getValue()*.01*(this._amg()-this._f1)|0,this._bIi())},u.prototype._ctA=function(){this._lL||(this._vd=this._ScrollBarH.getValue()*.01*(this._amg()-this._f1)|0,this._bIj())},u.prototype._ctx=function(){var r,u,f;if(!this._lL){for(this._kU=this._ScrollBarV.getValue()*.01*(this._iK()-this._jZ()),this._aDP(),this._ba5||(this._ba5=this._VisibleNodes.slice(0),this._aSg=[]),r=this._at1(),u=0;u<r.AppearedNodes.length;u++)f=r.AppearedNodes[u],this._aSg.indexOf(f)===-1&&this._aSg.push(f);r.AppearedNodes.length&&this.VisibleNodesChange.fire(this,{Nodes:r.AppearedNodes}),this._kW||(this._kW=n.setTimeout(this._aSh,50,null,this))}},u.prototype._aSh=function(){this._EnableAutoColumnSize&&this._aDL(),this._kW=null},u.prototype._cty=function(){var u,f,i;if(!this._lL){this._kU=this._ScrollBarV.getValue()*.01*(this._iK()-this._jZ());var o=this._ba5||[],e=this._aSg||[],r=this._at1();for(this._amh=r.VisibleEmptyNodeIndexes.length,this._amh&&this.requestData(r.VisibleEmptyNodeIndexes),delete this._ba5,delete this._aSg,r.AppearedNodes.length&&this.VisibleNodesChange.fire(this,{Nodes:r.AppearedNodes}),u=[],f=0;f<this._VisibleNodes.length;f++)i=this._VisibleNodes[f],o.indexOf(i)===-1&&u.push(i),e.indexOf(i)===-1&&e.push(i);u.length&&this.VisibleNodesChanged.fire(this,{Nodes:u,Changed:e}),this._EnableAutoColumnSize&&this._aDL()}},u.prototype._cuc=function(){this._f4.Control=new n.Ui.ToolTip({ParentNode:document.body,EnableRestoreFocus:!1})},u.prototype._ct1=function(){this._at7(),this._f4.Timeout=n.setTimeout(this._bq,this._ToolTipsTimeout,{},this)},u.prototype._at7=function(){this._f4.Timeout&&(n.clearTimeout(this._f4.Timeout),this._f4.Timeout=null),this._f4.Control&&this._f4.IsActive&&this._f4.Control.hide(),this._f4.IsActive=!1},u.prototype._bq=function(){if(this._lR!=undefined&&this.getNodeExist(this._lR)){this._f4.Control||this._cuc(),this._f4.Control.hide();var t=this.getNodeContent(this._lR),r=n.isNumber(this._TextToolTipsColumn)&&this._TextToolTipsColumn>-1?this._TextToolTipsColumn:this._ack,i=t&&(t[r]||t[0]),u=n.isObject(i)?"":i;this._f4.Control.setContent(u||""),this.ToolTipShowing.fire(this,{Node:this._lR,ToolTip:this._f4.Control,Column:this._TextToolTipsColumn}),this._f4.Control.show(this._f4.X,this._f4.Y+25),this._f4.IsActive=!0}},u.prototype._cud=function(){var n=this._gs.WordWrap?"textarea":"input";this._bQ.DomField=document.createElement(n),this._bQ.DomField.className="PPTLVEditField PPC"},u.prototype._ct0=function(t,i){(this._ba2(),this._bQ.IsActive||this.getNodeEditable(t)===!1||this._Captions.getItem(i).getColumnEditable()===!1)||(this._bQ.Timeout=n.setTimeout(this._acf,500,{NodeKey:t,Column:i},this))},u.prototype._acf=function(t){var f=t.NodeKey,r=t.Column,e=this._bB[f],u=e&&e.DomTexts[r],h=this.getNodeContent(f),c=h&&h[r],o;if((this._bQ.NodeKey!=f||this._bQ.Column!=r)&&this._VisibleNodes.indexOf(f)!==-1&&!n.isObject(c)&&u&&(this._bQ.NodeKey&&this._oq(),o={Node:f,Column:r,Cancel:!1},this.NodeEditing.fire(this,o),!o.Cancel)){var s=u.parentNode,l=n.hasClass(s,"PPTLVNodeTextContainer"),i=e.DomRow.offsetHeight;n.removeClass(e.DomCells[r],"PPTLVNodeCellEdited"),n.addClass(e.DomCells[r],"PPTLVNodeCellEditing"),l?(i-=this._g(n.getStyle(u,"border-top-width")),i-=this._g(n.getStyle(u,"border-bottom-width")),i-=this._g(n.getStyle(s,"border-top-width")),i-=this._g(n.getStyle(s,"border-bottom-width"))):(i-=this._g(n.getStyle(u,"border-top-width")),i-=this._g(n.getStyle(u,"border-bottom-width"))),i=this._g(i),this._bQ.DomField||this._cud(),u.innerHTML="",u.appendChild(this._bQ.DomField),this._bQ.DomField.value=n.String.unescapeHTML(this.getNodeContent(f)[r]),this._bQ.DomField.style.height=i+"px",this._bQ.DomField.focus(),n.setTimeout(this._cue,0,null,this),this._bV(this._bQ.DomField,{blur:this._bIm,keydown:this._cuf}),this._bQ.NodeKey=f,this._bQ.Column=r,this._bQ.IsActive=!0,this._bQ.AutoEnding=t.AutoEnding}},u.prototype._cue=function(){this._bQ.DomField.select(),n.IsFF&&this._bQ.DomField.setSelectionRange(0,this._bQ.DomField.value.length)},u.prototype._oq=function(){var t;if(this._bQ.NodeKey){if(t=this._bQ.NodeKey,this.isNodeExist(t)){var i=this._bQ.Column,r=this.getNodeContent(t),f=r[i],u=n.String.escapeHTML(this._bQ.DomField.value);u===f?this._or():(this._bIn(),r[i]=u,this.setNodeContent(t,r),this.NodeEdited.fire(this,{Node:t,Column:i,ColumnContent:u,OldColumnContent:f}))}this._bQ.NodeKey=null,this._bQ.Column=null,this._bQ.IsActive=!1,this._bQ.AutoEnding=null}},u.prototype._ba2=function(){this._bQ.Timeout&&n.clearTimeout(this._bQ.Timeout)},u.prototype._or=function(){if(this._bQ.NodeKey){var n=this._bQ.NodeKey,t=this._bQ.Column,i=this.getNodeContent(n)[t];this._bIn(),this._aSc(n,t,i),this.NodeEditCanceled.fire(this,{Node:n,Column:t}),this._bQ.NodeKey=null,this._bQ.Column=null,this._bQ.IsActive=!1,this._bQ.AutoEnding=null}},u.prototype._bIn=function(){var r=this._bQ.NodeKey,u=this._bQ.Column,t=this._bB[r].DomTexts[u],i;if(t){for(this._k(this._bQ.DomField,"blur",this._bIm);t.lastChild;)t.removeChild(t.lastChild);i=this._bB[r].DomCells[u],n.removeClass(i,"PPTLVNodeCellEditing"),n.addClass(i,"PPTLVNodeCellEdited")}},u.prototype._bIm=function(){this._bQ.AutoEnding!==!1&&this._oq()},u.prototype._cuf=function(t,i){if(this._bQ.AutoEnding!==!1)switch(i.Event.keyCode){case n.Key.Enter:this._oq();break;case n.Key.Esc:this._or()}i.Event.stopPropagation()},u.prototype._cug=function(){this._dZ.Control||(this._dZ.Control=new n.Ui.DropPanel({ParentNode:this._DomNode,EnableResize:!1,MinDropDownHeight:30,MaxDropDownWidth:Infinity,Class:"PPTLVSearchPanel"}),this._dZ.Control.KeyDown.add(this._cuh,this),this._dZ.Control.MouseDown.add(this._cui,this),this._dZ.Control.Closed.add(this._cuj,this),this._dZ.DomField=document.createElement("input"),this._dZ.DomField.className="PPTLVSearchInput",this._dZ.Control.setContent(this._dZ.DomField))},u.prototype._cuh=function(t,i){var u,r,f;switch(i.Event.keyCode){case n.Key.Enter:if(u=this._dZ.DomField.value,r=this._Captions.getFirstVisibleIndex(),!n.isNumber(r))break;f=this.find(u,r,!0),f||(this._dZ.Control.addClass("PPTLVSearchNotfound"),n.setTimeout(this._cuk,1e3,null,this));break;case n.Key.Esc:this.hideSearch()}},u.prototype._cuj=function(){this.setFocus(),this._DomNode.focus(),this._dZ.IsActive=!1,n.setTimeout(this._cul,100,null,this)},u.prototype._cuk=function(){this._dZ.Control.removeClass("PPTLVSearchNotfound")},u.prototype._cul=function(){this._DomNode.focus()},u.prototype._cui=function(n,t){return t.Event.stopPropagation(),t.Event.returnValue=!1,!1},u.prototype._baG=function(){this._dZ.DomField.focus()},u.prototype.hideSearch=function(){this._dZ.Control&&this._dZ.Control.hide()},u.prototype.showSearch=function(t,i){var u,r;this._EnableSearch&&(this._dZ.Control||this._cug(),u=Math.min(this._aa,this._dZ.Control.getMaxDropDownWidth())-8,this._dZ.DomField.style.width=this._g(u)+"px",this._dZ.DomField.value="",i===undefined?(r=this._dZ.Control.getHeight(),r==0&&(this._dZ.Control.show(0,0),r=this._dZ.Control.getHeight(),this.hideSearch()),r>this._ac&&this._dZ.Control.setHeight(this._ac),r>this._ac&&(r=this._ac),this._dZ.Control.show(0,this._ac-r)):(t=t||0,this._dZ.Control.addToNode(document.body),this._dZ.Control.show(t,i)),this._dZ.IsActive=!0,n.setTimeout(this._baG,300,null,this))},u}(t.TreeListBase);r.drag={Action:null,Active:!1,IsActive:!1,CanTakeChildren:!0,CanInsertBefore:!0,CanInsertAfter:!0,DomNodeOffsetY:null,DomSplitter:null,DomSplitterEnd:null,DragPageClass:null,EventOnStart:null,NodeKeys:[],OffsetX:null,OffsetY:null,Page:null,PageHeight:null,ShowTreeLines:!1,StartNode:undefined,StartTree:null,StartNodeHeight:null,StartPageX:null,StartPageY:null,StartRelativeY:null,StyledTargetDomRow:null,StyledTargetNodeClass:null,TargetTree:null,TargetNodeKey:undefined,Timeout:null},t.TreeListView=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._aY(),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._kV=0,this._baY=0,this._yJ=0,this._baZ=0,this._bIo=0,this._em=20,this._agF={DomTreeCell:'<div class="PPTLVNodeCellContentWrapper"><div class="PPTLVNodeWidgets"><\/div><div class="PPTLVNodeContent"><div class="PPTLVNodeControlContainer"><\/div><div class="PPTLVNodeTextContainer"><span class="PPTLVNodeText"> &nbsp; <\/span><\/div><\/div><\/div>',DomCell:'<div class="PPTLVNodeContent PPTLVNodeTextContainer"><span class="PPTLVNodeText"> &nbsp; <\/span><\/div>',DomTextControlCell:'<div class="PPTLVNodeCellContentWrapper"><div class="PPTLVNodeContent"><div class="PPTLVNodeControlContainer"><\/div><div class="PPTLVNodeTextContainer"><span class="PPTLVNodeText"> &nbsp; <\/span><\/div><\/div><\/div>'}},u.prototype._render=function(){r.prototype._render.call(this),this.addClass("PPSTL")},u.prototype._aDM=function(t){var i,e,o,s,u,f;r.prototype._aDM.call(this,t),i=this._bB[t],i.DomContentWrappers={};for(e in i.DomCells)i.DomCells.hasOwnProperty(e)&&(o=n.querySelector(i.DomCells[e],".PPTLVNodeCellContentWrapper"),o&&(i.DomContentWrappers[e]=o));n.IsIE&&(s=i.DomCells[0],u=s&&n.querySelector(s,".PPTLVNodeTextContainer"),u&&(f=u.cloneNode(!0),n.addClass(u,"PPTLVNodeTextContainerBackground"),n.addClass(f,"PPTLVNodeTextContainerForeground"),f.style.top="-"+this._em+"px",u.parentNode.insertBefore(f,u.nextSibling),i.DomFirstCellForegroundText=n.querySelector(f,".PPTLVNodeText")))},u.prototype._aSc=function(t,i,u){if(r.prototype._aSc.call(this,t,i,u),i===0){var e=this._bB[t],o=e&&e.DomTexts[i],f=e&&e.DomFirstCellForegroundText;n.isObject(u)?f&&(f.style.display="none"):o&&f&&(f.innerHTML=o.innerHTML,f.className=o.className,f.style.display="")}},u.prototype._acg=function(n,t){(r.prototype._acg.call(this,n,t),this._dm)&&!this._RowSelect&&this._FocusedNode&&this._bB[this._FocusedNode]&&this._bIp(this._FocusedNode)},u.prototype._baV=function(t){var i,u,f,e;r.prototype._baV.call(this,t),n.IsChrome?(i=n.querySelector(t,".PPTLVNodeText"),u=4,i.style.border="",i.style.paddingLeft=i.style.paddingRight=u+"px",f=i.offsetWidth,i.style.border="1px dashed #000000",i.style.paddingLeft=i.style.paddingRight=u-this._at5+"px",e=i.offsetWidth,this._bIq=this._at5+(e-f)*.25):this._bIq=this._at5},u.prototype._bIp=function(t){var i=this._bB[t],r=i&&i.DomTexts[0]&&i.DomTexts[0].parentNode,u,f;r&&(u=i.DomContentWrappers[0].offsetWidth-i.DomWidgets.offsetWidth>6,f=Math.ceil(r.getBoundingClientRect().width),u&&r.scrollWidth>f?n.addClass(i.DomRow,"PPTLVNodeEllipsed"):n.removeClass(i.DomRow,"PPTLVNodeEllipsed"))},u.prototype.updateNodeStyle=function(n){var t,i,f,u;if(r.prototype.updateNodeStyle.call(this,n),t=this._bB[n],t){this._RowSelect||n!==this._FocusedNode||this._bIp(n);for(i in t.DomCells)t.DomCells.hasOwnProperty(i)&&(f=t.DomContentWrappers[i]||t.DomCells[i],u=f&&f.style,u&&(u.height=this._em+"px",u.lineHeight=this._em+"px"))}},u.prototype.updateSize=function(){var f;r.prototype.updateSize.call(this);var i,u=this._em-1,n=this._g((u-this._baR)/2),t=this._g(u-this._baR-n);n>t&&(f=n,n=t,t=f);var e=4,o=this._g(n-this._at5),s=this._g(t-this._at5),h=this._g(e-this._bIq);i=".PPTLVNoWrap#"+this._Id+" .PPTLVView.PPTLVFirstCellSelect .PPTLVColumn0.PPTLVNodeCellEdited .PPTLVNodeText{ padding: "+n+"px "+e+"px "+t+"px; }",this._aSd("NodeTextPadding",i),i=".PPTLVNoWrap#"+this._Id+" .PPTLVView.PPTLVFirstCellSelect .PPTLVNodeFocused .PPTLVColumn0.PPTLVNodeCellEdited .PPTLVNodeText{ padding: "+o+"px "+h+"px "+s+"px }",this._aSd("FocusedNodeTextPadding",i)},u.prototype._aSa=function(){return t.TreeListScrollingMode.Virtual},u.prototype._iK=function(){return this.getNodesCount()*this._em+this._d9.Top+this._d9.Bottom},u.prototype._jZ=function(){return this._dB},u.prototype._aDQ=function(n){var t=this._gs.DashboardScrolls?0:this._ScrollBarH.getHeight();return this._iK()>this._ou-(n?t:0)},u.prototype._aDP=function(){this._agw(),this._f3.scrollTop=this._ba6()},u.prototype._qr=function(t,i){var u=this.getNodePosition(t),r;if(n.isDefined(u))return r=u*this._em+this._d9.Top,i?r-(this._dB-this._ox(t)):r},u.prototype._yL=function(n){return this._qr(n)-this._ow()},u.prototype._ox=function(t){return n.isDefined(this.getNodePosition(t))?this._em:0},u.prototype._agG=function(){if(this.getNodesCount()!==0)return{From:this._kV|0,To:this._yJ|0}},u.prototype._aSf=function(){var n=100*this._em/(this._iK()-this._jZ());n>0&&this._ScrollBarV.setScrollSpeed(n)},u.prototype._baX=function(){var t=Math.max(this.getNodesCount()-1,0),n=this._cum();this._kV=Math.max(this._kU-this._d9.Top,0)/this._em,this._bIo=(this._dB-n.Top-n.Bottom-1)/this._em,this._yJ=Math.min(this._kV+this._bIo,t)},u.prototype._cum=function(){return{Top:Math.max(this._d9.Top-this._kU,0),Bottom:Math.max(this._kU+this._dB-(this._iK()-this._d9.Bottom),0)}},u.prototype._ba6=function(){var n=Math.min(this._kU,this._d9.Top)+this._kV%1*this._em;return Math.round(n)},u.prototype._aDR=function(){for(var t=this.getNodes(),n=0;n<t.length;n++)this._yK(n);return!0},u.prototype._aSb=function(){},u.prototype.getFullTreeHeight=function(){return this._iK()},u.prototype.adjustColumnWidth=function(){var f=this.getCaptions(),e=f.getCount(),t,o,i,r,s,u;for(this.beginUpdate(),o=0,i=0;i<e-1;i++)this._Captions.getItemIsVisible(i)&&o++;for(r=this._EnableAutoColumnSize,r||this.setEnableAutoColumnSize(!0,!0),s=this._aDR(),u=f.getItems(),t=0;t<e;t++){var h=n.querySelector(this._lO,".PPTLVColumn"+t),c=h&&h.offsetWidth,l=u[t].getOptimalWidth(),a=Math.max(c,l)+10;u[t].setWidth(a)}s&&this._dA(),r||this.setEnableAutoColumnSize(!1,!0),this.updateTree(!0),this.endUpdate()},u}(t.TreeListView);t.SimpleTreeList=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r,u;(function(n){n[n.Up=0]="Up",n[n.Down=1]="Down"})(r=t.SpinDirection||(t.SpinDirection={})),u=function(t){function u(n){var i=t.call(this,n)||this;return i._sD=null,i._qs=!1,i._gt=-1,i}return i(u,t),u.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["SpinUp","SpinDown"]),this._ShowButtons=!0,this._Items=[],this._AllowSpin=!0},u.prototype.getShowButtons=function(){return this._ShowButtons},u.prototype._render=function(){var i,r;t.prototype._render.call(this),this._aDS=n.htmlToDOM('<div class="SpinButtons"><div class="PPSpinEditButtonUp PPButton"><\/div><div class="PPSpinEditButtonDown PPButton"><\/div><\/div>'),this._vh=n.querySelector(this._aDS,".PPSpinEditButtonUp"),this._vi=n.querySelector(this._aDS,".PPSpinEditButtonDown"),i={ParentNode:this._vh,Direction:n.LTRB.Top,Fill:"#313533",Width:6,Height:3,MaintainAspectRatio:!0},this._dDE=new n.Ui.Arrow(i),i.ParentNode=this._vi,i.Direction=n.LTRB.Bottom,this._dDF=new n.Ui.Arrow(i),n.addClass(this._DomNode,"PPSpinEdit"),r=this._ShowButtons,this._ShowButtons=null,this.setShowButtons(r),this._vh&&this._bV(this._vh,{mousedown:this._cun,mouseup:this._aSi,mouseout:this._cuo}),this._vi&&this._bV(this._vi,{mousedown:this._cup,mouseup:this._aSj,mouseout:this._cuq})},u.prototype._bindEvents=function(){t.prototype._bindEvents.call(this),this._bV(this._o,{DOMMouseScroll:this._ba7,mousewheel:this._ba7})},u.prototype._on=function(n,i){if(t.prototype._on.apply(this,arguments),!this._EnableEdit)return!1;var u=i.Event,f=u.keyCode?u.keyCode:u.which;if(this._AllowSpin)switch(f){case 38:i.Event.shiftKey&&this._agI(),this._agJ(r.Up,u),i.Event.preventDefault();break;case 40:i.Event.shiftKey&&this._agI(),this._agJ(r.Down,u),i.Event.preventDefault()}},u.prototype._ba8=function(t,i){var r=i.Event,u=r.keyCode?r.keyCode:r.which;u===n.Key.Shift&&(this._bIr(),this._eM(!0,!1,0))},u.prototype._ba7=function(n,t){var i,r,u;return!this._EnableEdit||!this._ShowButtons?!0:(i=t.Event,r=this._o,r.disabled)?!0:this.getFocused()?(t.Event.shiftKey&&this._agI(),u=i.wheelDelta?i.wheelDelta<0:i.detail>0,this._aDT(!u),!1):!0},u.prototype._cun=function(n,t){if(this._Enabled){var i=t.Event;if(i.which==1)return this._addEvent(document,"mouseup",this._aSi),t.Event.shiftKey&&this._agI(),this._bIs(i,this._vh,!0)}},u.prototype._aSi=function(n,t){return this._k(document,"mouseup",this._aSi),this._Enabled?(t.Event.shiftKey&&this._agI(),this._bIt(t.Event,this._vh)):void 0},u.prototype._cuo=function(n,t){this._aSi(n,t)},u.prototype._cup=function(n,t){if(this._Enabled){var i=t.Event;if(i.which==1)return this._addEvent(document,"mouseup",this._aSj),t.Event.shiftKey&&this._agI(),this._bIs(i,this._vi,!1)}},u.prototype._aSj=function(n,t){return this._k(document,"mouseup",this._aSj),this._Enabled?(t.Event.shiftKey&&this._agI(),this._bIt(t.Event,this._vi)):void 0},u.prototype._cuq=function(n,t){this._aSj(n,t)},u.prototype._qj=function(i,r){return this._qs?(r.Event.preventDefault(),n.IsiPad&&this.setFocus(),!1):(this._bIr(),t.prototype._qj.apply(this,arguments))},u.prototype._m4=function(){return this.getFocused()&&this._qs||n.IsiPad?!1:t.prototype._m4.apply(this,arguments)},u.prototype._agI=function(){this._acm||this._addEvent(document,"keyup",this._ba8),this._acm=!0},u.prototype._bIr=function(){this._acm&&(this._acm=!1,this._k(document,"keyup",this._ba8))},u.prototype._aDT=function(t){this.isLive()&&(this._agJ(t?r.Up:r.Down,null),this._qs&&!n.IsiPad&&this._fm(this._f0()),n.setTimeout(this._aSk,10,{Focus:!0},this))},u.prototype._aSk=function(t){t.Focus?n.IsiPad||this.setFocus():this._cur(t.Incr?!0:!1)},u.prototype._agJ=function(t,i){var u={SpinDirection:t,Event:i,Shift:this._acm},f,e;this._Items.length!==0&&(t===r.Up?this._gt!==this._Items.length-1?this._gt+=1:this._gt=0:this._gt>0?this._gt-=1:this._gt=this._Items.length-1,f=this._e2,e=this._fl,this.setContent(this._Items[this._gt]+""),this._e2=f,this._fl=e,u.NewValue=this._e2,u.OldValue=f,this._acm||this._eM(!0,!1,this._AfterChangeDelay||n.Ui.DEFAULT_TIMEOUT,u)),t===r.Up?this.SpinUp.fire(this,u):this.SpinDown.fire(this,u)},u.prototype._bIs=function(t,i,r){return this._o.disabled?!1:(this.getFocused()||n.setTimeout(this._aSk,10,{Focus:!0},this),this._qs=!0,this._aDT(r),this._sD=n.setTimeout(this._aSk,500,{Incr:r},this),!0)},u.prototype._bIt=function(){return n.clearTimeout(this._sD),this._qs=!1,!0},u.prototype._cur=function(t){n.clearTimeout(this._sD),this._aDT(t),this._sD=n.setTimeout(this._aSk,100,{Incr:t},this)},u.prototype.setItems=function(n){this._Items=n.slice()},u.prototype.addItem=function(n){this.insertItem(n,null)},u.prototype.insertItem=function(t,i){n.isDefined(i)&&i!==null||(i=this._Items.length),n.insertToArr(this._Items,t.toString(),i)},u.prototype.removeItem=function(n){var t=this._Items.length;n!==undefined?n>-1&&n<t?this._Items.splice(n,1):this._Items.splice(t-1,1):this._Items.splice(t-1,1)},u.prototype.getItems=function(){return this._Items},u.prototype.setShowButtons=function(t){this._ShowButtons!==t&&(this._ShowButtons=t,t?this.addToSideContent(this._aDS,n.LTRB.Right):this.removeFromSideContent(this._aDS,n.LTRB.Right))},u.prototype.getSettings=function(){var n=t.prototype.getSettings.apply(this,arguments),i,r;return n.RightContent&&n.RightContent.length>0&&(i=this.getRightContent(),r=i.indexOf(this._aDS),n.RightContent=r>-1?i.slice(0,r).concat(i.slice(r+1)):i.slice(0)),n},u}(t.TextBox),t.SpinEdit=u})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=this;return n&&n.AfterValueChange&&(n.ValueChanged=n.AfterValueChange,delete n.AfterValueChange),t=r.call(this,n)||this,t.setStep(t._Step),t._Value||t._Value===0?t.setValue(t._Value,!1):(t._Value=null,t._IsNullable||(t._CorrectOnExit?t.setValue(0,!1):t.setValidState(!1))),t._atu=!1,t._amj=null,t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._defineEvents(["Validate"]),this._Step=n.Number.create(1),this._DecimalSeparator=n.getCurrentCulture().DecimalSeparator,this._GroupSeparator=n.getCurrentCulture().GroupSeparator,this._IsNullable=!1,this._CorrectOnExit=!0,this._MinValue=n.Number64.MIN_NUMBER64,this._MaxValue=n.Number64.MAX_NUMBER64,this._FractionCount=0,this._Walkthrough=!1,this._Suffix="",this._Prefix="",this._cus="PPNumberEdit",this._EnableGroupSeparator=!1,this._ba9=14,this._cut=1e-14,this._TrailingZeros=!1},u.prototype._initFields=function(t){var i,f,u;r.prototype._initFields.apply(this,arguments),i=t.FractionCount,(!n.isNumber(i)||i<0)&&(i=0),i=Math.min(i,this._ba9),this._FractionCount=t.FractionCount=i,f=i>0?1/Math.pow(10,i):1,u=t.Step,(!n.isNumber(u)||u<=0)&&(u=f),u=Math.max(f,this._cut,u),t.Step=u,this._Step=n.Number.create(u),this._MinValue=this._yM(this._MinValue),this._MaxValue=this._yM(this._MaxValue),this._MinValue=this._agK(this._MinValue,this._FractionCount),this._MaxValue=this._agK(this._MaxValue,this._FractionCount),!t.Step&&this._FractionCount>0&&(this._Step=n.Number.create(1/Math.pow(10,this._FractionCount))),this._Step=this._yM(this._Step)},u.prototype._bindEvents=function(){r.prototype._bindEvents.apply(this,arguments),this._bV(this._o,{drop:this._u6,paste:this._u6})},u.prototype._unBindEvents=function(){r.prototype._unBindEvents.apply(this,arguments),this._k(this._o,"drop",this._u6),this._k(this._o,"paste",this._u6)},u.prototype._render=function(){r.prototype._render.call(this),n.addClass(this._DomNode,this._cus)},u.prototype._m4=function(){r.prototype._m4.apply(this,arguments),this._amj=this.getNumber()},u.prototype._amk=function(){return this._MinValue.notEquals(0)||this._MaxValue.notEquals(0)},u.prototype._bba=function(n){return this._amk()&&(n.lessThan(this._MinValue)&&(n=this._MinValue),n.greaterThan(this._MaxValue)&&(n=this._MaxValue)),n},u.prototype._agJ=function(i){var e={Cancel:!1},o=this.getNumber(),h,u,s,f;o===null&&this._Value===null&&(o=n.Number.create(0)),o=this._bba(o),h=Math.max(this._aud(o),this._aud(this._Step)),u=i===t.SpinDirection.Up?o.add(this._Step):o.subtract(this._Step),u=this._agK(u,h),this._amk()&&(u.greaterThan(this._MaxValue)?u=this._Walkthrough?this._MinValue:this._MaxValue:u.lessThan(this._MinValue)&&(u=this._Walkthrough?this._MaxValue:this._MinValue)),s=this._vj(u),e.OldValue=this._vj(o),e.NewValue=s,e.NewNumber=u,e.Cancel=!1,this._qk(e),f={},f.Cancel=!1,f.OldValue=this._vj(o),f.NewValue=this._vj(u),f.OldNumber=o,f.NewNumber=u,i===t.SpinDirection.Up?(f.SpinDirection=t.SpinDirection.Up,this.SpinUp.fire(this,f)):(f.SpinDirection=t.SpinDirection.Down,this.SpinDown.fire(this,f)),e.Cancel||f.Cancel||(this._Value=u,this._o.value=this._yN(e.NewValue!==s?this._yM(e.NewValue):e.NewNumber),this.setValidState(!0),this._eM(undefined,undefined,this._AfterChangeDelay||n.Ui.DEFAULT_TIMEOUT,e))},u.prototype._eM=function(t,i,u,f){f&&n.isDefined(f.SpinDirection)&&this._acm||r.prototype._eM.apply(this,arguments)},u.prototype._gY=function(n){if(this.isLive()){var i=this.getNumber(),u=this.getContent(),t={},f=this._e2,e=this._aSl(u,!0).isValid;t.OldValue=this._vj(this._e2),t.NewValue=this._vj(i),t.OldContent=this._fl,t.NewContent=u,t.OldText=this._vj(this._e2),t.NewText=this._vj(i),t.OldNumber=this._e2,t.NewNumber=i,n.args=t,r.prototype._gY.call(this,n),this._bbb=this._aSl(e?this._e2:f,!1).value}},u.prototype._u6=function(n,t){this._qk(t),t.Cancel?(t.Event.preventDefault(),t.Event.stopPropagation()):this._sq(t.Event)},u.prototype._aSm=function(t){if(n.isDefined(t)&&t!==null){var i=t;return this._Prefix&&t.indexOf(this._Prefix)<0&&(i=this._Prefix+i),this._Suffix&&t.indexOf(this._Suffix)<0&&(i=i+this._Suffix),i}return t},u.prototype._aDU=function(t){if(n.isNumber(t))t=this._yN(t,!1);else{t=t.toString(),this._Prefix&&t.indexOf(this._Prefix)==0&&(t=t.substr(this._Prefix.length));var i=t.indexOf(this._Suffix);this._Suffix&&i>=0&&i==t.length-this._Suffix.length&&(t=t.substr(0,t.length-this._Suffix.length))}return t},u.prototype._aSn=function(n){this.Validate.fire(this,n)},u.prototype._eQ=function(t){var o,s,h,c,i,r,e;t.value=this._aDU(t.value);var u=this.getGroupSeparator(),f=this.getDecimalSeparator(),l=this.getFractionCount();return u!==""&&this.getEnableGroupSeparator()&&(o=new RegExp("^\\"+u,"g"),s=new RegExp("\\"+u+"$","g"),t.value=t.value.replace(o,"").replace(s,"")),f!==""&&(h=new RegExp("^\\"+f,"g"),c=new RegExp("\\"+f+"$","g"),t.value=t.value.replace(h,"").replace(c,"")),i=n.getCurrentCulture().validateNumber(t,u,f,l,!0),e=parseFloat(t.stringValue||t.value),e<n.Number64.MIN_VALUE||e>n.Number64.MAX_VALUE?(t.numberValue=r=n.Number.create(NaN),i=!1):(t.numberValue=r=n.Number.create(t.stringValue||t.value),r.isNaN()||(i=this._amk()?r.greaterThanOrEqual(this._MinValue)&&r.lessThanOrEqual(this._MaxValue):!0)),t.value!=""||this._IsNullable||(i=!1),i},u.prototype._aSo=function(n){var t=!1;return(typeof n=="string"||n.length==1)&&(t="0123456789".indexOf(n)>=0),t},u.prototype._aW=function(){r.prototype._aW.apply(this,arguments),this.setDecimalSeparator(n.getCurrentCulture().DecimalSeparator),this.setGroupSeparator(n.getCurrentCulture().GroupSeparator)},u.prototype._on=function(t,i){if(!this._EnableEdit)return!1;r.prototype._on.call(this,t,i);var u=i.Event,f=u.keyCode?u.keyCode:u.which;switch(f){case n.Key.Esc:this.setValue(this._amj),this._o.value=this._yN(this._Value),this.setValidState(!0);break;case n.Key.Space:u.ctrlKey&&u.preventDefault()}},u.prototype._yp=function(t,i){var h,f,c;if(!this._EnableEdit)return!1;var r=i.Event,o=r.keyCode?r.keyCode:r.which,e={Cancel:!1},s=this.getContent();e.OldValue=s,h=this._eB(),f=!0;switch(o){case n.Key.Enter:f=!1;break;default:if(r.charCode===0||r.which===0||r.ctrlKey){f=!1;break}var l=s.substring(0,h.Start),a=s.substring(h.End),u=n.String.fromCharCode(o);e.NewValue=l+u+a,this._aSo(u)||u==this.getDecimalSeparator()&&(u!=this.getDecimalSeparator()||this._FractionCount!==0)||u=="-"?u===this.getDecimalSeparator()&&this._FractionCount!==0&&this._o.value===""&&(this._o.value="0"):(f=!1,r.preventDefault(),r.stopPropagation())}return(c=this._yr(o),!c)?!1:(f&&(this._qk(e),e.Cancel?(r.preventDefault(),r.stopPropagation()):this._sq(r)),!0)},u.prototype._bIu=function(){var n=this._o.value.substr(this._f0()-1,1);return n.charCodeAt(0)},u.prototype._agi=function(n,t){var i=t.Event,e=i.keyCode?i.keyCode:i.which;if(e==229||e==0){var s={Cancel:!1},h=!0,r=this._o.value.substr(this._f0()-1,1);e=r.charCodeAt(0),this._aSo(r)||r==this.getDecimalSeparator()&&(r!=this.getDecimalSeparator()||this._FractionCount!==0)||r=="-"?r===this.getDecimalSeparator()&&this._FractionCount!==0&&this._o.value===""&&(this._o.value="0"):(h=!1,i.preventDefault(),i.stopPropagation());var f={value:this._o.value,numberValue:null},u={},o=this._eQ(f);return this.setValidState(o),o?this.applyValidCSS():this.applyNotValidCSS(),u.IsValid=o,u.TextValue=f.value,u.Value=this._vj(f.numberValue),u.Number=f.numberValue,this._aSn(u),h&&(this._qk(s),s.Cancel?(i.preventDefault(),i.stopPropagation()):this._sq(i)),!0}},u.prototype._qj=function(n,t){this._bIv(),r.prototype._qj.call(this,n,t)},u.prototype._yN=function(t,i){i===undefined&&(i=!0),t=t;var u=this.getGroupSeparator()&&this.getEnableGroupSeparator()?this.getGroupSeparator():"",f=this.getDecimalSeparator(),r=this.getFractionCount();return t instanceof n.Number64?t=t.toString():(t instanceof n.Number&&(t=t.toNumber()),r=this._TrailingZeros?this._aud(t):r,t=n.getCurrentCulture().numberToFormattedString(t,u,f,r)),i&&(t=this._aSm(t)),t},u.prototype._bIv=function(){var i=this._yN(this.getNumber()),t,r,e;if(i){if(t=i,t=this._aDU(t),this.getGroupSeparator()!=""&&this.getEnableGroupSeparator())while(t.indexOf(this._GroupSeparator)>0)t=t.replace(this._GroupSeparator,"");if(this._DecimalSeparator!=".")while(t.indexOf(this._DecimalSeparator)>0)t=t.replace(this._DecimalSeparator,".");t=n.Number.create(t),(this._Value==null||this._Value.notEquals(t))&&(this._amk()&&t.lessThan(this._MinValue)?(t=this._MinValue.toFixed(this._FractionCount),i=this._yN(t)):this._amk()&&t.greaterThan(this._MaxValue)&&(t=this._MaxValue.toFixed(this._FractionCount),i=this._yN(t)),this._Value=t)}else i="",this._CorrectOnExit&&!this._IsNullable&&(i=this._bbb?this._bbb:n.Number.create(0),i.lessThan(this._MinValue)&&(i=this._MinValue),i.greaterThan(this._MaxValue)&&(i=this._MaxValue),this._Value=i,i=this._yN(i));if(r=this._o,e=this._o.getAttribute("value"),i.toString&&i.toString().indexOf("e")!==-1?(r.value=this.getContent(),e&&r.setAttribute("value",this.getContent())):(r.value=i,e&&r.setAttribute("value",i)),this._qs)this.setValidState(!0),this.applyValidCSS();else{var f={value:i,numberValue:null},u={},o=this._eQ(f);this.setValidState(o),o?this.applyValidCSS():this.applyNotValidCSS(),u.IsValid=o,u.TextValue=f.value,u.Value=this._vj(f.numberValue),u.Number=f.numberValue,this._aSn(u)}},u.prototype._agK=function(t,i){var u=t,r;return this._aud(t)>i&&(r=n.Number.create(Math.pow(10,i)),u=t instanceof n.Number?t.multiply(r).round().div(r):Math.round(t*r.toNumber())/r.toNumber()),u},u.prototype._aud=function(t){var u=0,i,f,r;return(n.isNumber(t)||t instanceof n.Number)&&(t instanceof n.Number64?i=t.toString():(f=t instanceof n.Number?t.toNumber():t,i=n.NumberFormat.toDecimalString(f)),r=i.indexOf("."),r>=0&&r<i.length-1&&(i=i.substring(r+1),u=i.length)),u},u.prototype._aCY=function(n){if(this.isLive()){var t=this._aSl(this._o.value,!0);this._Value=t.isValid?t.value:this._o.value!==""?this._bbb:null,this.setValidState(t.isValid),this._aSn(t.args),r.prototype._aCY.call(this,n)}},u.prototype._aSl=function(t,i){var u,e,s;i?t=this._aSm(t):(n.isNumber(t)&&(t=this._yM(t)),t instanceof n.Number?(u=this.getFractionCount(),u!=null&&(t=this._agK(t,u))):typeof t=="string"?t[0]!==this.getDecimalSeparator()||isNaN(parseInt(t.substr(1,t.length-1),10))&&t.length!==1?t="":(t=n.Number.create("0"+t.replace(",",".")),u=this.getFractionCount(),u!=null&&(t=this._agK(t,u))):t="");var r={value:t,numberValue:null},o=this._eQ(r),f={};return f.IsValid=o,f.TextValue=r.value,e=this._vj(r.numberValue),f.Value=isNaN(e)?undefined:e,f.Number=r.numberValue,r.value===""&&this._IsNullable?t=null:f.IsValid?(r.numberValue.isNaN()?(s=(r.value.toString&&r.value.toString()||r.value+"").replace(n.getCurrentCulture().DecimalSeparator,"."),t=n.Number.create(s)):t=r.numberValue,t=t===""||t.isNaN()?null:t):(t instanceof n.Number||(t=this._yM(t)),t.isNaN()?t=this._Value:(this._amk()&&t.lessThan(this._MinValue)&&(t=this._MinValue),this._amk()&&t.greaterThan(this._MaxValue)&&(t=this._MaxValue))),{value:t,isValid:o,args:f}},u.prototype._vj=function(t){return t instanceof n.Number?t.toNumber():t},u.prototype._yM=function(t){return t=+t,t<n.Number64.MIN_VALUE&&(t=n.Number64.MIN_VALUE),t>n.Number64.MAX_VALUE&&(t=n.Number64.MAX_VALUE),n.Number.create(t)},u.prototype._aCZ=function(t,i){return t instanceof n.Number&&i instanceof n.Number?t.notEquals(i):t!==i},Object.defineProperty(u.prototype,"AfterValueChange",{get:function(){return this.ValueChanged},enumerable:!0,configurable:!0}),u.prototype.getPrefix=function(){return this._Prefix},u.prototype.getSuffix=function(){return this._Suffix},u.prototype.getFractionCount=function(){return this._FractionCount},u.prototype.getDecimalSeparator=function(){return this._DecimalSeparator},u.prototype.getWalkthrough=function(){return this._Walkthrough},u.prototype.getIsNullable=function(){return this._IsNullable},u.prototype.getAfterChangeDelay=function(){return this._AfterChangeDelay},u.prototype.getGroupSeparator=function(){return this._GroupSeparator},u.prototype.getEnableGroupSeparator=function(){return this._EnableGroupSeparator},u.prototype.getCorrectOnExit=function(){return this._CorrectOnExit},u.prototype.setSuffix=function(n){this._o.value=this._aDU(this._o.value),this._Suffix=n,this._o.value=this._aSm(this._o.value)},u.prototype.setPrefix=function(n){this._o.value=this._aDU(this._o.value),this._Prefix=n,this._o.value=this._aSm(this._o.value)},u.prototype.getContent=function(){return this._aDU(r.prototype.getContent.apply(this))},u.prototype.getValue=function(){return this._Value instanceof n.Number?this._Value.toNumber():this._Value},u.prototype.getStep=function(){return this._Step.toNumber()},u.prototype.getMinValue=function(){return this._MinValue.toNumber()},u.prototype.getMaxValue=function(){return this._MaxValue.toNumber()},u.prototype.getNumber=function(){return this._Value},u.prototype.setValue=function(n,t){var i,f,u;n!==null&&n!==""&&(n=this._yM(n)),i=this._aSl(n,!1),t!==!1&&this._aCZ(n,this._Value)&&this._aSn(i.args),this._aCZ(n,this._Value)&&(this._Value=i.value,this._amj=i.value,this.setValidState(!0),r.prototype.setValue.apply(this,arguments),this._o.value=this._yN(i.value)||"",this._bbc!=null&&(f=this._o.value.substr(0,this._bbc),u=f.split("").sort(),this._fm(this._bbc+((u.lastIndexOf(" ")<0?u.lastIndexOf(","):-1)+1)),delete this._bbc)),this._fl=this.getContent()},u.prototype.setFractionCount=function(n,t){var i,r;(n==null||typeof n=="number"&&n>=0)&&(n>this._ba9&&(n=this._ba9),i=this._aud(this.getStep()),n!=null&&n<i&&this.setStep(1/Math.pow(10,n)),this._FractionCount=n,n!=null&&(r=this._agK(this._Value,n),delete this._Value,this.setValue(r,t)))},u.prototype.setDecimalSeparator=function(t){if(typeof t=="string"){if(t.length!=1)throw new n.ArgumentException(this,"DecimalSeparator must consist of one character");this._DecimalSeparator=t,this._o.value=this._yN(this.getValue())}},u.prototype.setGroupSeparator=function(t){if(typeof t=="string"){if(t.length>1)throw new n.ArgumentException(this,"GroupSeparator should not contain more than one character");this._GroupSeparator=t,this._o.value=this._yN(this.getValue())}},u.prototype.setWalkthrough=function(n){this._Walkthrough=n==!0},u.prototype.setStep=function(t){var r=this._yM(t),u=this._aud(t),i=this.getFractionCount();if(i!=null&&u>i)throw new n.Exception(this,"Length of fractional part of step must be less than FractionCount property value");this._Step=r},u.prototype.setMinValue=function(n){var t=this._yM(n),i;t.lessThanOrEqual(this._MaxValue)&&(i=this.getFractionCount(),i!=null&&(t=this._agK(t,i)),this._MinValue=t,this._Value!==null&&this._bba(this._Value).notEquals(this._Value)&&this.setValue(this._Value))},u.prototype.setMaxValue=function(n){var t=this._yM(n),i;t.greaterThanOrEqual(this._MinValue)&&(i=this.getFractionCount(),i!=null&&(t=this._agK(t,i)),this._MaxValue=t,this._Value!==null&&this._bba(this._Value).notEquals(this._Value)&&this.setValue(this._Value))},u.prototype.setIsNullable=function(t){this._IsNullable=!!t;var i=this.getNumber(),r=this.getContent();i instanceof n.Number&&!i.isNaN()&&r?r||this.setValue(null):this._IsNullable?(this.applyValidCSS(),this.setValidState(!0),this.setValue(null)):this.setValue(this._MinValue)},u.prototype.setAllowedSymbols=function(t){var i,u;(n.Array.isArray(t)||n.isString(t))&&(i=[].concat(t)),u=this.getDecimalSeparator(),n.isDefined(i)&&t!==null&&i.indexOf(u)===-1&&i.push(u),r.prototype.setAllowedSymbols.call(this,i)},u.prototype.setEnableGroupSeparator=function(n){this._EnableGroupSeparator=n,this._bIv()},u}(t.SpinEdit);t.NumberEdit=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r,u;(function(n){n[n.Left=1]="Left",n[n.Right=2]="Right",n[n.None=3]="None",n[n.All=4]="All"})(r=t.RoundedCorners||(t.RoundedCorners={})),u=function(t){function u(n){var i=t.call(this,n)||this;return i._bIw=!0,i}return i(u,t),u.prototype._e=function(){t.prototype._e.call(this),this._GroupName="",this._bIw=!1,this._ImagePosition=n.AnchorStyles.Left,this._MenuArrowPosition=n.AnchorStyles.None,this._defineEvents(["Pressed","StateChanged"])},u.prototype._initFields=function(i){i=i||{},n.isBoolean(i.IsToggle)&&(i.IsToggleButton=i.IsToggle,delete i.IsToggle),n.isBoolean(i.IsChecked)&&(i.IsPressed=i.IsChecked,delete i.IsChecked),i.GroupName&&i.IsToggleButton!==!1&&(i.IsToggleButton=!0),delete i.IsFlat,t.prototype._initFields.call(this,i)},u.prototype._render=function(){t.prototype._render.call(this),this.addClass("PPGroupButtonsItem"),this._IsPressed&&this._IsToggleButton&&this.addClass("Selected"),this.setRoundedCorners(r.All)},u.prototype._bp=function(n,i){if(this._Enabled){var r=t.prototype._bp.call(this,n,i);return this._IsToggleButton&&this.setIsHovered(!1),r}},u.prototype._bEV=function(){return this._IsPressed&&this._GroupName&&this._IsToggleButton?this._IsPressed:!this._IsPressed},u.prototype.getGroupName=function(){return this._GroupName},u.prototype.getIsToggle=function(){return this.getIsToggleButton()},u.prototype.setIsToggle=function(n){return this.setIsToggleButton(n)},u.prototype.getIsChecked=function(){return this.getIsPressed()},u.prototype.setIsChecked=function(n,t){t===!1&&this.StateChanged.suspend(),this.setIsPressed(n),t===!1&&this.StateChanged.resume()},u.prototype.setIsPressed=function(i){this._IsPressed!==i&&(t.prototype.setIsPressed.call(this,i),(this._IsToggleButton||this._GroupName)&&(this._IsPressed=i,this.addStateClass(i?n.ControlState.Active:n.ControlState.Release),this._IsPressed?(this.addClass("Selected"),this.Pressed.fire(this,{})):this.removeClass("Selected")),this._bIw&&this.StateChanged.fire(this,{}))},u.prototype.setGroupName=function(n){n!==this._GroupName&&(this._GroupName=n,this._Parent&&this._Parent.refreshGroup(this._GroupName),this._GroupName||this.setRoundedCorners(this._RoundedCorners))},u.prototype.setIsVisible=function(n){t.prototype.setIsVisible.call(this,n),this._Parent&&this._GroupName&&this._Parent.refreshGroup(this._GroupName)},u.prototype.setRoundedCorners=function(){},u.prototype.dispose=function(){this._GroupName&&this.setGroupName(null),delete this._Parent,t.prototype.dispose.call(this)},u}(t.Button),t.GroupButtonsItem=u})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(n){var t=function(n){function t(t){var i=n.call(this,t)||this;return i._render(),i}return i(t,n),t.prototype._render=function(){this._initFromHTML("<div class='PPGroupButtonsSeparator'><\/div>"),this.addClass("PPNoSelect"),n.prototype._render.call(this)},t.prototype.dispose=function(){delete this._Parent,n.prototype.dispose.call(this)},t}(n.Control);n.GroupButtonsSeparator=t})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._Groups={},t._dY=0,t._Menu=null,t._oz={},t._render(),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._ImageList=null,this._Items=[],this._ShowOverflowButton=!1,this._IsSplitGroups=!1,this._defineEvents(["ItemClick","StateChanged"]),this._Orientation=n.Orientation.Horizontal,this._AutoFit=!1,this._MinWidth=null,this._aSp={},this._yB=[]},u.prototype._render=function(){this._initFromHTML("<div class='PPGroupButtons'><\/div>"),this._Menu=new n.Ui.Menu({ImageList:this._ImageList,ItemSelected:new n.Delegate(this._e4,this)}),this.beginUpdate(),this._OverflowMenuButton=new n.Ui.Button({Class:"PPOverflowMenuButton",Menu:this._Menu}),this._cr(),this.setShowOverflowButton(this._ShowOverflowButton);var t=this._Orientation||n.Orientation.Horizontal;this._Orientation=null,this.setOrientation(t),this.endUpdate(),r.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode)},u.prototype._cr=function(){var t=this._Items||[],n,i;for(this._Items=[],n=0,i=t.length;n<i;n++)this.addItem(t[n])},u.prototype._bbd=function(n,t){return this._dY>0&&this._yB.push({F:n,A:t}),this._dY>0},u.prototype._cuu=function(){this.getDomNode().style.width=this._Orientation==n.Orientation.Vertical&&this.getWidth()?this.getWidth()+"px":""},u.prototype._e4=function(n,i){var r,e,u,f;for(r in this._oz)if(e=this._oz[r].menuItem,i.Item===e){u=this.getItemById(r),u instanceof t.Button&&(f=i.Item.getChecked(),u.setIsPressed(f!=null?f:!0));break}},u.prototype._bbe=function(t){var i=t.getGroupName&&t.getGroupName(),r,u;for(r in this._Groups)i!==r&&(u=this._Groups[r].indexOf(t),u>-1&&(t.addToNode(this._DomNode,this._aSp[r]),this._Groups[r].splice(u,1)));i&&(this._Groups[i]||(this._Groups[i]=[],this._aSp[i]=n.htmlToDOM("<div class='PPGroupButtons__InGroup'><\/div>"),this._DomNode.appendChild(this._aSp[i])),this._Groups[i].indexOf(t)<0&&(this._Groups[i].push(t),t.addToNode(this._aSp[i])))},u.prototype._bbf=function(t){if(t!==this._OverflowMenuButton){var r,i,u;if(i={Parent:this._Menu},t instanceof n.Ui.GroupButtonsSeparator){r=new n.Ui.Separator,this._oz[t.getId()]={menuItem:r,isUserHidden:!t.getIsVisible()},this._Menu.addItem(r);return}t instanceof n.Ui.GroupButtonsItem&&(i.Checked=t.getIsToggleButton&&t.getIsToggleButton()?t.getIsPressed():null,t.getGroupName&&t.getGroupName()&&(i.GroupName=t.getGroupName(),i.Checked=t.getIsPressed())),t instanceof n.Ui.Button&&(this._ImageList&&t.getRowIndex&&t.getColumnIndex&&t.getRowIndex()>-1&&t.getColumnIndex()>-1?(i.RowIndex=t.getRowIndex(),i.ColumnIndex=t.getColumnIndex()):t.getImageUrl&&t.getImageUrl()&&(i.ImageUrl=t.getImageUrl()),u=t.getContent(),t.getMenu&&t.getMenu()&&(i.Menu=t.getMenu(),t instanceof n.Ui.SplitButton&&t.DefaultAction&&(i.PPType="SplitMenuItem"))),(t instanceof n.Ui.Combo||t instanceof n.Ui.TextBox||t instanceof n.Ui.TreeCombo)&&(u=t.getContent()||t.getValue()),t instanceof n.Ui.Control&&(u&&(i.Content=u),i.Enabled=t.getEnabled(),r=i.PPType?n.create(i):new n.Ui.MenuItem(i),this._oz[t.getId()]={menuItem:r,isUserHidden:!t.getIsVisible()},this._Menu.addItem(r))}},u.prototype._bbg=function(n,t){this._Menu.removeItemByIndex(this._Menu.getItems().indexOf(this._oz[n.getId()].menuItem),t)},u.prototype._bbh=function(n){var t=this._oz[n.getId()].menuItem;t&&(n.getIsToggleButton&&n.getIsToggleButton()&&n.getIsPressed&&n.getIsPressed()!==t.getChecked()&&t.setChecked(n.getIsPressed()),n.getGroupName&&n.getGroupName()!==t.getGroupName()&&t.setGroupName(n.getGroupName()),n.getContent()!==t.getContent()&&t.setContent(n.getContent()),n.getMenu&&n.getMenu()!==t.getMenu()&&t.setMenu(n.getMenu()),n.getEnabled&&n.getEnabled()!=t.getEnabled()&&t.setEnabled(n.getEnabled()))},u.prototype._cuv=function(n){var e=n.getGroupName(),u,o,r,i,f;if(e&&n.getIsToggleButton())for(u=this._Groups[e]||[],o=u.length,r=0;r<o;r++)i=u[r],f=i.StateChanged.isSuspended(),n!==i&&(f||i.StateChanged.suspend(),i.setIsPressed(!1),i.removeClass("Selected"),f||i.StateChanged.resume())},u.prototype._cuw=function(n){this.ItemClick.fire(this,{Item:n})},u.prototype._bIx=function(n){this.StateChanged.fire(this,{Item:n})},u.prototype._yO=function(t){t.setParent(this),t.setIsRTL(this._IsRTL),this._ImageList&&t.setImageList&&!t.getImageList()&&t.setImageList(this._ImageList),t instanceof n.Ui.GroupButtonsItem&&(t.StateChanged.add(this._bIx,this),t.Pressed.add(this._cuv,this),t.Click.add(this._cuw,this),this._bbe(t)),this._bbf(t),this.refreshItemsVisibility()},u.prototype._dDG=function(n){for(var i=["PPGroupButtonsItem_InGroup","PPGroupButtonsItem_First","PPGroupButtonsItem_Last"],t=0;t<i.length;t++)n.removeClass(i[t])},u.prototype._aue=function(n,t){var i=this._Items.indexOf(n),r=this._Items.indexOf(t);return i<r?-1:i>r?1:0},u.prototype._dDH=function(n){for(var r=n?this._Groups[n]:this._Items,u=[],i,t=0,f=r.length;t<f;t++)i=r[t],i.getIsVisible&&i.getIsVisible()&&u.push(i);return u.sort(this._aue.bind(this))},u.prototype._cux=function(n){for(var r=this._Items,u=[],t,e,i=0,f=r.length;i<f;i++)t=r[i],e=t.getGroupName&&t.getGroupName(),n===e&&(!this._Groups[n]||this._Groups[n].indexOf(t)<0)&&u.push(t);return u},u.prototype.getItems=function(){return this._Items},u.prototype.getOrientation=function(){return this._Orientation},u.prototype.getImageList=function(){return this._ImageList},u.prototype.getIsSplitGroups=function(){return this._IsSplitGroups},u.prototype.getShowOverflowButton=function(){return this._ShowOverflowButton},u.prototype.getAutoFit=function(){return this._AutoFit},u.prototype.setAutoFit=function(n){this._AutoFit=n},u.prototype.setOrientation=function(t){if(this._Orientation!==t)switch(t){case n.Orientation.Horizontal:this.removeClass("PPGroupButtons_Vertical"),this._Orientation=t,this._OverflowMenuButton&&this._OverflowMenuButton.removeClass("PPOverflowMenuButton_Vertical");break;case n.Orientation.Vertical:this.addClass("PPGroupButtons_Vertical"),this._Orientation=t,this._OverflowMenuButton&&this._OverflowMenuButton.addClass("PPOverflowMenuButton_Vertical")}},u.prototype.setWidth=function(t,i){if(this._MinWidth==null||!(t<this._MinWidth))if(r.prototype.setWidth.call(this,t,i),this._AutoFit){var u=this._Items.length;u>0&&(this._Orientation==n.Orientation.Horizontal?n.callEach(this._Items,"setWidth",this._g(t)/u):n.callEach(this._Items,"setWidth",t))}else this.beginUpdate(),this.refreshItemsVisibility(),this.endUpdate()},u.prototype.setHeight=function(n,t){r.prototype.setHeight.call(this,n,t),this.beginUpdate(),this.refreshItemsVisibility(),this.endUpdate()},u.prototype.setIsRTL=function(n){var i,t;for(r.prototype.setIsRTL.call(this,n),i=this._Items.length,t=0;t<i;t++)this._Items[t].setIsRTL(this._IsRTL);this._OverflowMenuButton.setIsRTL(this._IsRTL)},u.prototype.setEnabled=function(n){this._ShowOverflowButton&&this._Menu&&this._Menu.hide(),r.prototype.setEnabled.call(this,n)},u.prototype.setIsSplitGroups=function(n){this._IsSplitGroups=n},u.prototype.setShowOverflowButton=function(n){this._ShowOverflowButton=!!n,this._ShowOverflowButton?this._OverflowMenuButton.addToNode(this._DomNode):this._OverflowMenuButton.removeFromDOM(),this.beginUpdate(),this.refreshGroups(),this.refreshItemsVisibility(),this.endUpdate()},u.prototype.addItem=function(n){this.insertItem(n,undefined)},u.prototype.insertItem=function(t,i){var r,u,f;if(!t)throw new n.ArgumentNullException(this);r=t,t instanceof n.Ui.Control||(u=t,u.Parent||(u.Parent=this),r=u.PPType?n.create(t):new n.Ui.GroupButtonsItem(t)),this._Items.indexOf(r)<0&&(f=n.isNumber(i)&&i<this._Items.length,f?(n.Array.insertBefore(this._Items,t,this._Items[i]),r.addToNode(this._DomNode,this._Items[i+1].getDomNode())):(this._Items.push(r),this._ShowOverflowButton&&this._OverflowMenuButton.getParentNode()?r.addToNode(this._DomNode,this._OverflowMenuButton.getDomNode()):r.addToNode(this._DomNode)),this._yO(r))},u.prototype.removeItemByIndex=function(n,t){this.removeAt(n,t)},u.prototype.removeAt=function(t,i){var r,u,f;t>-1&&t<this._Items.length&&(r=this._Items[t],this._bbg(r,i),r instanceof n.Ui.GroupButtonsItem&&r.StateChanged.remove(this._bIx,this),i?r.dispose():(r instanceof n.Ui.GroupButtonsItem&&(u=r.getGroupName(),u&&this._Groups[u]&&(f=this._Groups[u].indexOf(r),f>-1&&this._Groups[u].splice(f,1))),r.removeFromDOM()),this._Items.splice(t,1),this.beginUpdate(),this.refreshItemsVisibility(),this.endUpdate())},u.prototype.setItems=function(n){this.clearItems(!0),this._Items=n,this._cr()},u.prototype.clearItems=function(n){for(var t=this._Items;t.length;)this.removeAt(0,n)},u.prototype.removeItem=function(n,t){this.removeAt(this._Items.indexOf(n),t)},u.prototype.getItem=function(n){return this._Items[n]},u.prototype.getItemById=function(n){for(var i=this._Items.length,t=0;t<i;t++)if(this._Items[t].getId()===n)return this._Items[t];return null},u.prototype.getGroupItems=function(n){return this._Groups[n]},u.prototype.refreshGroup=function(n){var r,t,i;if(!this._bbd("refreshGroup",arguments)&&!this._IsSplitGroups){for(r=this._cux(n);r.length;)this._bbe(r.shift());if(t=this._Groups[n],t)for(i=0;i<t.length;i++)this._bbe(t[i])}},u.prototype.refreshGroups=function(){if(this._bbd("refreshGroups"))for(var n in this._Groups)this.refreshGroup(n)},u.prototype.refreshItemsVisibility=function(){var u,r,h,c,l,a;if(this._bbd("refreshItemsVisibility")){var y=this._Items.length,e=this._Orientation===n.Orientation.Vertical,i=0,v=0,o=!1;for(this._ShowOverflowButton&&(i=e?this._OverflowMenuButton.getHeight():this._OverflowMenuButton.getWidth()),i=this._Width?(i||20)+5:0,v=e?this.getHeight():this.getWidth(),this._Menu.hide(),u=0;u<y;u++){var t=this._Items[u],s=this._oz[t.getId()].menuItem,f=this._oz[t.getId()].isUserHidden==!0;this._bbh(t),o?(t.getIsVisible()&&t.setIsVisible(!1),s.setIsVisible(!0&&!f)):(t.setIsVisible(!f),r=0,e?(h=this._g(n.getStyle(t.getDomNode(),"marginTop")),c=this._g(n.getStyle(t.getDomNode(),"marginBottom")),r+=isNaN(h)?0:h,r+=isNaN(c)?0:c,i+=t.getHeight()):(l=this._g(n.getStyle(t.getDomNode(),"marginLeft")),a=this._g(n.getStyle(t.getDomNode(),"marginRight")),r+=isNaN(l)?0:l,r+=isNaN(a)?0:a,i+=t.getWidth()),i+=r,i>v&&this._Width>0?(t.getIsVisible()&&t.setIsVisible(!1),s.setIsVisible(!0&&!f),o=!0):(t.setIsVisible(!f),s.setIsVisible(!1)))}this._OverflowMenuButton.setIsVisible(o)}},u.prototype.beginUpdate=function(){this._dY++},u.prototype.endUpdate=function(){if(this._dY--,this._dY<=0)for(this._dY=0;this._yB.length;){var n=this._yB.shift();this[n.F].apply(this,n.A)}},u.prototype.setItemVisible=function(n,t){var i=this.getItem(n);this._oz[i.getId()]&&(this._oz[i.getId()].isUserHidden=!t,this.refreshItemsVisibility())},u.prototype.dispose=function(){var i,n,t;delete this._ImageList;for(i in this._oz)n=this._oz[i].menuItem,t=this._Menu.getItems(),t&&t.length?t.indexOf(n)===-1&&n.dispose?n.dispose():delete this._oz[i]:n.dispose&&n.dispose();r.prototype.dispose.call(this)},u}(t.Control),u;t.GroupButtons=r,u=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t}(r),t.InstrumentalButtons=u})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var u,r;(function(n){n[n.Days=0]="Days",n[n.Weeks=1]="Weeks",n[n.Months=2]="Months",n[n.Quarters=3]="Quarters",n[n.HalfYears=4]="HalfYears",n[n.Years=5]="Years"})(u=t.MonthCalendarMode||(t.MonthCalendarMode={})),r=function(r){function u(n){var t=r.call(this,n)||this;return t._render(),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._CurrentDate=new window.Date,this._Culture=n.getCurrentCulture(),this._defineEvents(["CurrentDateChanged","CurrentDateSelected"])},u.prototype._render=function(){var t,i;this._DomNode?n.removeChildren(this._DomNode):this._auf(),t=this._bbi(),t&&this._DomNode&&this._DomNode.appendChild(t),i=this._lS(),i&&this._DomNode&&this._DomNode.appendChild(i),r.prototype._render.call(this),this._ParentNode&&this._ParentNode!=this._DomNode.parentNode&&this.addToNode(this._ParentNode)},u.prototype._bbi=function(){var i=n.htmlToDOM("<div class='PPMonthCalendarModeView__TitleBlock'><\/div>");return this._aug=new n.Ui.Button({ParentNode:i,Width:16,Height:16,Class:"PPMCLeftBtn",ResourceKey:this._aSq(),Style:"float: left",BorderStyle:{Enabled:!0,Release:{Enabled:!1}},Arrow:{ArrowType:t.ArrowType.Triangle,FillType:t.ArrowFillType.Fill,Direction:n.LTRB.Left},Click:new n.Delegate(this._aDV,this)}),this._bIy=new t.Label({ParentNode:i,Content:this._bbj()}),this._auh=new t.Button({ParentNode:i,Width:16,Height:16,Class:"PPMCRightBtn",ResourceKey:this._aSr(),Style:"float: right",BorderStyle:{Enabled:!0,Release:{Enabled:!1}},Arrow:{ArrowType:t.ArrowType.Triangle,FillType:t.ArrowFillType.Fill,Direction:n.LTRB.Right},Click:new n.Delegate(this._aDW,this)}),i},u.prototype._bbj=function(){return this._CurrentDate.getFullYear()+""},u.prototype._cuy=function(n){this._bIy&&this._bIy.setContent(n)},u.prototype._aSq=function(){return"monthCalendarPreviousYear"},u.prototype._aSr=function(){return"monthCalendarNextYear"},u.prototype._dDI=function(n){return this._dd(n.getFullYear(),n.getMonth(),n.getDate())},u.prototype._dd=function(n,t,i){var r=this._MaxDate.getFullYear(),f=this._MaxDate.getMonth(),o=this._MaxDate.getDate(),u=this._MinDate.getFullYear(),e=this._MinDate.getMonth(),s=this._MinDate.getDate();return n>r||n<u?!0:n==r&&t>f||n==r&&t==f&&i>o?!0:n==u&&t<e||n==u&&t==e&&i<s?!0:!1},u.prototype._fC=function(n,t,i,r,u,f,e){var o=this._CurrentDate,l;n.getFullYear&&(o=n,n=o.getFullYear());var s=!n&&n!==0?o.getFullYear():n,h=!t&&t!==0?o.getMonth():t,c=!i&&i!==0?o.getDate():i,a=!r&&r!==0?o.getHours():r,v=!u&&u!==0?o.getMinutes():u,y=!f&&f!==0?o.getSeconds():f,p=!e&&e!==0?o.getMilliseconds():f;this._dd(s,h,c)||(l=this._CurrentDate,this._CurrentDate=new window.Date(s,h,c,a,v,y,p),this.CurrentDateChanged.fire(this,{OldDate:l,NewDate:this._CurrentDate}))},u.prototype._acn=function(n,t,i,r,u,f,e){var s=this._CurrentDate;this._fC(n,t,i,r,u,f,e),this.CurrentDateSelected.fire(this,{OldDate:s,NewDate:this._CurrentDate})},u.prototype._yP=function(n){return this._bbk===n&&n.getIsPressed()?(n.setIsPressed(!0),!1):(this._aml(n),!0)},u.prototype._aml=function(n){this._bbk&&this._bbk.setIsPressed(!1),n.setIsPressed(!0),this._bbk=n},u.prototype._bbl=function(n,t){return n.getTime()===t.getTime()},u.prototype._aDV=function(){var i=this._CurrentDate;this._dd(i.getFullYear()-1,i.getMonth(),i.getDate())?this._fC(this._MinDate):this._fC(i.getFullYear()-1,i.getMonth(),i.getDate()),this._render()},u.prototype._aDW=function(){var i=this._CurrentDate;this._dd(i.getFullYear()+1,i.getMonth(),i.getDate())?this._fC(this._MaxDate):this._fC(i.getFullYear()+1,i.getMonth(),i.getDate()),this._render()},u.prototype._yQ=function(){var i=this._CurrentDate,r=i.getMonth(),u=i.getDate();this._aug.setEnabled(!this._dd(i.getFullYear()-1,11,31)),this._auh.setEnabled(!this._dd(i.getFullYear()+1,0,1))},u.prototype.setCurrentDate=function(n){this._bbl(this._CurrentDate,n)||(this._fC(n),this._render())},u.prototype.getCurrentDate=function(){return this._CurrentDate},u.prototype.setMinDate=function(n){this._MinDate=n},u.prototype.setMaxDate=function(n){this._MaxDate=n},u}(t.Control),t.MonthCalendarModeView=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return i(u,r),u.prototype._auf=function(){this._initFromHTML("<div class='PPMonthCalendarDaysView'><\/div>")},u.prototype._bbi=function(){var i=r.prototype._bbi.call(this);return this._bIz=new t.Button({ResourceKey:"monthCalendarPreviousYear",Width:16,Height:16,Style:"float: left",BorderStyle:{Enabled:!0,Release:{Enabled:!1}},Arrow:{ArrowType:t.ArrowType.TriangleDouble,FillType:t.ArrowFillType.Fill,Direction:n.LTRB.Left,Width:7,Height:8},Click:new n.Delegate(this._cuz,this)}),this._bIA=new t.Button({ResourceKey:"monthCalendarNextYear",Width:16,Height:16,Style:"float: right",BorderStyle:{Enabled:!0,Release:{Enabled:!1}},Arrow:{ArrowType:t.ArrowType.TriangleDouble,FillType:t.ArrowFillType.Fill,Direction:n.LTRB.Right,Width:7,Height:8},Click:new n.Delegate(this._cuA,this)}),this._bIz.addToNode(i,i.firstChild),this._bIA.addToNode(i,i.lastChild),i},u.prototype._bbj=function(){return this._Culture.MonthNames[this._CurrentDate.getMonth()]+" "+this._CurrentDate.getFullYear()},u.prototype._aSq=function(){return"monthCalendarPreviousMonth"},u.prototype._aSr=function(){return"monthCalendarNextMonth"},u.prototype._lS=function(){var r,e,f,u,c,v,o,l,t,a,s,i,h,y;if(r=n.htmlToDOM("<table class='PPMonthCalendarDaysView__Content'><\/table>"),r.cellPadding="1",r.cellSpacing="0",r.border="0",e=r.insertRow(),u=this._Culture.ShortDayNames,c=this._Culture.ShortDayNames.length,this._Culture.IsSundayFirst){for(u=[],t=0;t<c;t++)u.push(this._Culture.ShortDayNames[t]);v=u.splice(-1),u.splice(0,0,v[0])}for(o=0;o<c;o++)f=e.insertCell(-1),f.innerHTML=u[o],f.className="PPMonthCalendarDaysView__Header";for(l=this._cuB(),t=0;t<l.length;t++)for(e=r.insertRow(-1),a=l[t],s=0;s<a.length;s++)i=a[s],f=e.insertCell(-1),h="",i.Month<0&&(h="PPMonthCalendarDaysView__PrevDay"),i.Month>0&&(h="PPMonthCalendarDaysView__NextDay"),y=new n.Ui.Button({ParentNode:f,Width:40,Class:h,Enabled:!i.IsOutOfRange,Content:i.Day,IsPressed:i.IsActive,IsToggleButton:!0,BorderStyle:{Enabled:!1,Press:{Enabled:!0},Active:{Enabled:!0},Hover:{Enabled:!0}},Data:i,Click:new n.Delegate(this._cuC,this)}),i.IsActive&&this._aml(y);return r},u.prototype._cuB=function(){var e=this._CurrentDate.getMonth(),o=this._CurrentDate.getFullYear(),v=this._CurrentDate.getDate(),h=o,c=o,f=e-1,s=e+1;f<0&&(f=11,h--),s>11&&(s=0,c++);for(var y=this._Culture.getDaysInMonth(e,o),p=this._Culture.getDaysInMonth(f,h),a=new window.Date(o,e,1,12),i=this._Culture.IsSundayFirst?a.getDay()%7:(a.getDay()+6)%7,w=i==0,u=[],l=0,t=0,r,t=1;t<=y;t++)r=u[l],n.isDefined(r)||(r=[],u[l]=r),r[i]={Index:i,Day:t,Month:0,IsActive:t==v,IsOutOfRange:this._dd(o,e,t)},i++,i>6&&(i=0,l++);if(i=p,w)for(r=[],u.unshift(r),t=6;t>=0;t--)r[t]={Index:t,Day:i,Month:-1,IsActive:!1,IsOutOfRange:this._dd(h,f,i)},i--;else for(r=u[0],t=6;t>=0;t--)n.isDefined(r[t])||(r[t]={Index:t,Day:i,Month:-1,IsActive:!1,IsOutOfRange:this._dd(h,f,i)},i--);for(r=u[u.length-1],i=1,t=0;t<7;t++)n.isDefined(r[t])||(r[t]={Index:t,Day:i,Month:1,IsActive:!1,IsOutOfRange:this._dd(c,s,i)},i++);if(u.length==5)for(r=[],u[5]=r,t=0;t<7;t++)r[t]={Index:t,Day:i,Month:1,IsActive:!1,IsOutOfRange:this._dd(c,s,i)},i++;return this._yQ(f,s),u},u.prototype._yQ=function(n,t){var f=this._CurrentDate,i=f.getFullYear(),r=f.getMonth(),u;this._bIz.setEnabled(!this._dd(i-1,r,this._Culture.getDaysInMonth(r,i-1))),this._bIA.setEnabled(!this._dd(i+1,r,1)),u=i-(n==11?1:0),this._aug.setEnabled(!this._dd(u,n,this._Culture.getDaysInMonth(n,u))),this._auh.setEnabled(!this._dd(i+(t==0?1:0),t,1))},u.prototype._aDV=function(){var i=this._CurrentDate,r=i.getMonth(),u=i.getDate(),f=i.getFullYear()-(r==0?1:0),e=r!=0?r-1:11;this._dd(f,e,u)?this._fC(this._MinDate):this._fC(f,e,u),this._render()},u.prototype._aDW=function(){var i=this._CurrentDate.getMonth(),r=this._CurrentDate.getFullYear()+(i==11?1:0),u=i!=11?i+1:0;this._dd(r,u,this._CurrentDate.getDate())?this._fC(this._MaxDate):this._fC(r,u,this._CurrentDate.getDate()),this._render()},u.prototype._cuz=function(){this._dd(this._CurrentDate.getFullYear()-1,this._CurrentDate.getMonth(),this._CurrentDate.getDate())?this._fC(this._MinDate):this._fC(this._CurrentDate.getFullYear()-1,this._CurrentDate.getMonth(),this._CurrentDate.getDate()),this._render()},u.prototype._cuA=function(){this._dd(this._CurrentDate.getFullYear()+1,this._CurrentDate.getMonth(),this._CurrentDate.getDate())?this._fC(this._MaxDate):this._fC(this._CurrentDate.getFullYear()+1,this._CurrentDate.getMonth(),this._CurrentDate.getDate()),this._render()},u.prototype._cuC=function(n){if(this._yP(n)){var r=n.getData(),f=this._CurrentDate.getFullYear(),e=this._CurrentDate.getMonth(),i=e+r.Month,u=f;i<0&&(i=11,u--),i>11&&(i=0,u++),this._acn(u,i,r.Day),r.Month!==0&&this._render()}},u.prototype.getViewMode=function(){return t.MonthCalendarMode.Days},u}(t.MonthCalendarModeView);t.MonthCalendarDaysView=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return i(u,r),u.prototype._auf=function(){this._initFromHTML("<div class='PPMonthCalendarWeeksView'><\/div>")},u.prototype._bbj=function(){var n=this._bbm(),t=n?this._Culture.MonthNames[0]:this._Culture.MonthNames[6],i=n?this._Culture.MonthNames[5]:this._Culture.MonthNames[11];return t+" - "+i+" "+this._CurrentDate.getFullYear()},u.prototype._bbm=function(){return this.getCurrentWeek()<26},u.prototype._cuD=function(t){if(n.isDefined(t)){var f=this._CurrentDate.getFullYear(),u=this._Culture.getFirstWeekDate(t,f);if(u.getTime()<this._MinDate.getTime()||u.getTime()>this._MaxDate.getTime())return!0}return!1},u.prototype._lS=function(){var i,e,r,y=this.getCurrentWeek(),h=this._bbm(),p=this._CurrentDate.getFullYear(),u,l,a,t,o,v;i=n.htmlToDOM("<table><\/table>"),i.cellPadding="1",i.cellSpacing="0",i.border="0",e=i.insertRow(-1);var c=h?0:6,w=h?5:11,g=h?25:52,b=5,k=6;for(t=c;t<=w;t++)r=e.insertCell(-1),u=this._Culture.ShortMonthNames,l=t<u.length?u[t]:u[u.length-1],r.innerHTML=l,r.className="PPMonthCalendarWeeksView__Header";for(a=this._cuE(p),t=0;t<b;t++)for(e=i.insertRow(-1),o=0;o<k;o++){var d=a[o+c],f=d[t],s={Week:f,IsActive:f===y,IsOutOfRange:this._cuD(f,0,0)};r=e.insertCell(-1),n.isDefined(f)&&(v=new n.Ui.Button({ParentNode:r,Content:f+1,Enabled:!s.IsOutOfRange,IsPressed:s.IsActive,IsToggleButton:!0,Width:42,BorderStyle:{Enabled:!1,Press:{Enabled:!0},Active:{Enabled:!0},Hover:{Enabled:!0}},Data:s,Click:new n.Delegate(this._cuF,this)}),s.IsActive&&this._aml(v))}return this._yQ(),i},u.prototype._cuE=function(n){for(var t=new window.Date(n,0,1,12,0,0,0),o=this._Culture.WEEKMS,c=864e5,f=[[],[],[],[],[],[],[],[],[],[],[],[]],e=0,i=[];t.getFullYear()==n;){var s=t.getMonth(),l=new window.Date(t.getTime()+o-1),a=l.getMonth();if(s==a)i=f[s],i.push(e);else{for(var r=new window.Date(t.getTime()),u=r.getMonth(),h=0;u==r.getMonth();)h++,r=new window.Date(r.getTime()+c);h<=3&&u<11&&u++,i=f[u],i.push(e)}t=new window.Date(t.getTime()+o),e++}return f},u.prototype._yQ=function(){var n=this._CurrentDate,t=n.getMonth()<6;t?(this._auh.setEnabled(!this._dd(n.getFullYear(),6,1)),this._aug.setEnabled(!this._dd(n.getFullYear()-1,11,31))):(this._auh.setEnabled(!this._dd(n.getFullYear()+1,0,1)),this._aug.setEnabled(!this._dd(n.getFullYear(),5,31)))},u.prototype._bIB=function(n){var s=this._CurrentDate.getFullYear(),t=this.getCurrentWeek(),i=this._bbm(),r=26,u=27,f=0,o=i?t>u-1?u-1:t:t-r,e=s;return!i&&n>0&&e++,i&&n<0&&e--,f=t==r+u-1?r-1:i?r+o:o,this._Culture.getFirstWeekDate(f,e)},u.prototype._cuF=function(n){if(this._yP(n)){var r=n.getData(),i=this._Culture.getFirstWeekDate(r.Week,this._CurrentDate.getFullYear());this._acn(i.getFullYear(),i.getMonth(),i.getDate())}},u.prototype._aSq=function(){return"monthCalendarPreviousHalfYear"},u.prototype._aSr=function(){return"monthCalendarNextHalfYear"},u.prototype._aDV=function(){var i=this._bIB(-1);this._dd(i.getFullYear(),i.getMonth(),i.getDate())?this._fC(this._MinDate):this._fC(i),this._render()},u.prototype._aDW=function(){var i=this._bIB(1);this._dd(i.getFullYear(),i.getMonth(),i.getDate())?this._fC(this._MaxDate):this._fC(i),this._render()},u.prototype.getCurrentWeek=function(){return this._Culture.getWeekNumber(this._CurrentDate)},u.prototype.getViewMode=function(){return t.MonthCalendarMode.Weeks},u}(t.MonthCalendarModeView);t.MonthCalendarWeeksView=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return i(u,r),u.prototype._auf=function(){this._initFromHTML("<div class='PPMonthCalendarMonthsView'><\/div>")},u.prototype._dd=function(n,t){var f=this._Culture.getDaysInMonth(t,n),r=new window.Date(n,t,1,12,0,0,0),u=new window.Date(n,t,f,23,59,0,0);return r.getTime()>this._MaxDate.getTime()&&u.getTime()>this._MaxDate.getTime()?!0:r.getTime()<this._MinDate.getTime()&&u.getTime()<this._MinDate.getTime()?!0:!1},u.prototype._lS=function(){for(var r,u,f=this._Culture.MonthNames,s=this._CurrentDate.getFullYear(),e=this._CurrentDate.getMonth(),o,i=n.htmlToDOM("<table><\/table>"),t=0;t<f.length;t++)t%3==0&&(r=i.insertRow()),u=r.insertCell(),o=new n.Ui.Button({ParentNode:u,Width:72,Content:f[t],IsPressed:t===e,IsToggleButton:!0,BorderStyle:{Enabled:!1,Press:{Enabled:!0},Active:{Enabled:!0},Hover:{Enabled:!0}},Enabled:!this._dd(s,t,0),Data:t,Click:new n.Delegate(this._cuG,this)}),t===e&&this._aml(o);return this._yQ(),i},u.prototype._cuG=function(n){this._yP(n)&&this._acn(this._CurrentDate.getFullYear(),n.getData())},u.prototype.getViewMode=function(){return t.MonthCalendarMode.Months},u}(t.MonthCalendarModeView);t.MonthCalendarMonthsView=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return i(u,r),u.prototype._auf=function(){this._initFromHTML("<div class='PPMonthCalendarQuarterView'><\/div>")},u.prototype._cuH=function(n,t){var r=new window.Date(n,t,1,0,0,0,0).getTime(),u=new window.Date(n,t+2,this._Culture.getDaysInMonth(t+2,n),24,0).getTime(),f=this._MaxDate.getTime(),e=this._MinDate.getTime();return r>f||u<e?!0:!1},u.prototype._lS=function(){for(var i=n.htmlToDOM("<div class='PPMonthCalendarQuarterView__Content'><\/div>"),r=this._Culture.QuarterNames,e=this._CurrentDate.getFullYear(),u=this.getCurrentQuarter(),t=0;t<r.length;t++){var f=t*3,s=f+2,o=new n.Ui.Button({ParentNode:i,Content:r[t],UseWrapping:!1,IsPressed:u===t,IsToggleButton:!0,Enabled:!this._cuH(e,f,0),Width:140,Height:21,BorderStyle:{Enabled:!1,Press:{Enabled:!0},Active:{Enabled:!0},Hover:{Enabled:!0}},Data:t,Click:new n.Delegate(this._cuI,this)});u===t&&this._aml(o)}return this._yQ(),i},u.prototype._aDV=function(){var i=this.getCurrentQuarter();this._dd(this._CurrentDate.getFullYear()-1,i*3,1)?this._fC(this._MinDate):this._fC(this._CurrentDate.getFullYear()-1,i*3,1),this._render()},u.prototype._aDW=function(){var i=this.getCurrentQuarter();this._dd(this._CurrentDate.getFullYear()+1,i*3,1)?this._fC(this._MaxDate):this._fC(this._CurrentDate.getFullYear()+1,i*3,1),this._render()},u.prototype._yQ=function(){var n=this._CurrentDate.getFullYear();this._aug.setEnabled(!this._dd(n-1,11,31)),this._auh.setEnabled(!this._dd(n+1,0,1))},u.prototype._cuI=function(n){this._yP(n)&&(this._dd(this._CurrentDate.getFullYear(),n.getData()*3,1)?this._acn(this._MinDate.getFullYear(),this._MinDate.getMonth(),this._MinDate.getDate()):this._acn(this._CurrentDate.getFullYear(),n.getData()*3))},u.prototype.getCurrentQuarter=function(){return Math.floor(this._CurrentDate.getMonth()/3)},u.prototype.getViewMode=function(){return t.MonthCalendarMode.Quarters},u}(t.MonthCalendarModeView);t.MonthCalendarQuartersView=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return i(u,r),u.prototype._auf=function(){this._initFromHTML("<div class='PPMonthCalendarHalfYearView'><\/div>")},u.prototype._cuJ=function(n,t){var r=new window.Date(n,t,1,0,0,0,0).getTime(),u=new window.Date(n,t+5,this._Culture.getDaysInMonth(t+5,n),24,0).getTime(),f=this._MaxDate.getTime(),e=this._MinDate.getTime();return r>f||u<e?!0:!1},u.prototype._lS=function(){for(var i=n.htmlToDOM("<div class='PPMonthCalendarHalfYearView__Content'><\/div>"),r=this._Culture.HalfYearNames,e=this._CurrentDate.getFullYear(),u=this.getCurrentHalfYear(),t=0;t<r.length;t++){var f=t*6,s=f+5,o=new n.Ui.Button({ParentNode:i,Content:r[t],UseWrapping:!1,IsPressed:u===t,IsToggleButton:!0,Enabled:!this._cuJ(e,f,0),Width:140,BorderStyle:{Enabled:!1,Press:{Enabled:!0},Active:{Enabled:!0},Hover:{Enabled:!0}},Data:t,Click:new n.Delegate(this._cuK,this)});u===t&&this._aml(o)}return this._yQ(),i},u.prototype._cuK=function(n){this._yP(n)&&(this._dd(this._CurrentDate.getFullYear(),n.getData()*6,1)?this._acn(this._MinDate.getFullYear(),this._MinDate.getMonth(),this._MinDate.getDate()):this._acn(this._CurrentDate.getFullYear(),n.getData()*6,1))},u.prototype.getCurrentHalfYear=function(){return Math.floor(this._CurrentDate.getMonth()/6)},u.prototype.getViewMode=function(){return t.MonthCalendarMode.HalfYears},u}(t.MonthCalendarModeView);t.MonthCalendarHalfYearView=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(){return r!==null&&r.apply(this,arguments)||this}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._StartYear=1990,this._YearsCount=35,this._Rows=7},u.prototype._auf=function(){this._initFromHTML("<div class='PPMonthCalendarYearsView'><\/div>")},u.prototype._lS=function(){var i=this._CurrentDate.getFullYear(),u,f,r,t,e;for((i<this._StartYear||i>this._StartYear+35)&&(this._StartYear=i-20-i%10),this._aui=this._StartYear,u=n.htmlToDOM("<div class='PPMonthCalendarYearsView__Content'><\/div>"),r=0;r<this._YearsCount;r++)t=this._aui+r,r%this._Rows==0&&(f=n.htmlToDOM("<div class='PPMonthCalendarYearsView__Content__Col'><\/div>"),u.appendChild(f)),e=new n.Ui.Button({Content:t,UseWrapping:!1,IsPressed:t===i,IsToggleButton:!0,Height:21,Width:56,Enabled:this._MinDate.getFullYear()<=t&&t<=this._MaxDate.getFullYear(),BorderStyle:{Enabled:!1,Press:{Enabled:!0},Active:{Enabled:!0},Hover:{Enabled:!0}},Data:t,Click:new n.Delegate(this._cuL,this)}),e.addToNode(f),t===i&&this._aml(e);return this._yQ(),u},u.prototype._yQ=function(){this._aug.setEnabled(!this._dd(this._aui-1,11,31)),this._auh.setEnabled(!this._dd(this._aui+this._YearsCount,0,1))},u.prototype._bbl=function(n,t){return n.getFullYear()===t.getFullYear()},u.prototype._aSq=function(){return"monthCalendarPrevious35Year"},u.prototype._aSr=function(){return"monthCalendarNext35Year"},u.prototype._aDV=function(){this._aui-=this._YearsCount;var i=this._CurrentDate;this._dd(i.getFullYear()-this._YearsCount,i.getMonth(),i.getDate())?this._fC(this._MinDate):this._fC(i.getFullYear()-this._YearsCount,i.getMonth(),i.getDate()),this._render()},u.prototype._aDW=function(){this._aui+=this._YearsCount;var i=this._CurrentDate;this._dd(i.getFullYear()+this._YearsCount,i.getMonth(),i.getDate())?this._fC(this._MaxDate):this._fC(i.getFullYear()+this._YearsCount,i.getMonth(),i.getDate()),this._render()},u.prototype._cuL=function(n){var u=n.getData(),r=this._CurrentDate,i;this._yP(n)&&(this._dd(u,r.getMonth(),r.getDate())?(i=this._MaxDate,this._MinDate.getFullYear()==u&&(i=this._MinDate),this._acn(i.getFullYear(),i.getMonth(),i.getDate())):this._acn(u,r.getMonth(),r.getDate()),this._cuy(n.getData()))},u.prototype.setCurrentDate=function(n){this._bbl(n,new window.Date)&&(this._aui=this._StartYear),r.prototype.setCurrentDate.call(this,n)},u.prototype.getViewMode=function(){return t.MonthCalendarMode.Years},u}(t.MonthCalendarModeView);t.MonthCalendarYearsView=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(t){var i=r.call(this,t)||this,f,u;if(!n.isDefined(i._Mode))for(f=[i._ShowDaysButton,i._ShowWeeksButton,i._ShowMonthsButton,i._ShowQuartersButton,i._ShowHalfYearsButton,i._ShowYearsButton],i._Mode=null,u=0;u<f.length;u++)if(f[u]){i._Mode=u;break}return i._render(),i}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._MinDate=new window.Date(1e3,0,1,0,0,0,0),this._MaxDate=new window.Date(9999,11,31,23,59,0,0),this._CurrentDate=new window.Date,this._Culture=n.getCurrentCulture(),this._ShowDaysButton=!0,this._ShowWeeksButton=!0,this._ShowMonthsButton=!0,this._ShowQuartersButton=!0,this._ShowHalfYearsButton=!0,this._ShowYearsButton=!0,this._ShowNowButton=!0,this._ShowTime=!1,this._j0={},this._bbn=!1,this._bbo=!1,this._defineEvents(["ModeChanged","CurrentDateChanged","CurrentDateSelected"])},u.prototype._render=function(){(this._initFromHTML("<div class='PPMonthCalendar'><\/div>"),n.isDefined(this._Mode))&&(this._aco=new n.Ui.GroupButtons({ParentNode:this._DomNode,Class:"PPMonthCalendar__ModeButtons",StateChanged:new n.Delegate(this._sc,this),Items:[this._dDJ=new n.Ui.GroupButtonsItem({IsVisible:this._ShowDaysButton,IsPressed:this._Mode===t.MonthCalendarMode.Days,GroupName:this._Id,ResourceKey:"mcDays",Data:t.MonthCalendarMode.Days}),this._dDK=new n.Ui.GroupButtonsItem({IsVisible:this._ShowWeeksButton,IsPressed:this._Mode===t.MonthCalendarMode.Weeks,GroupName:this._Id,ResourceKey:"mcWeeks",Data:t.MonthCalendarMode.Weeks}),this._dDL=new n.Ui.GroupButtonsItem({IsVisible:this._ShowMonthsButton,IsPressed:this._Mode===t.MonthCalendarMode.Months,GroupName:this._Id,ResourceKey:"mcMonths",Data:t.MonthCalendarMode.Months}),this._dDM=new n.Ui.GroupButtonsItem({IsVisible:this._ShowMonthsButton,IsPressed:this._Mode===t.MonthCalendarMode.Quarters,GroupName:this._Id,ResourceKey:"mcQuarters",Data:t.MonthCalendarMode.Quarters}),this._dDN=new n.Ui.GroupButtonsItem({IsVisible:this._ShowHalfYearsButton,IsPressed:this._Mode===t.MonthCalendarMode.HalfYears,GroupName:this._Id,ResourceKey:"mcHalfYears",Data:t.MonthCalendarMode.HalfYears}),this._dDO=new n.Ui.GroupButtonsItem({IsVisible:this._ShowYearsButton,IsPressed:this._Mode===t.MonthCalendarMode.Years,GroupName:this._Id,ResourceKey:"mcYears",Data:t.MonthCalendarMode.Years})]}),this._bIC=n.htmlToDOM("<div class='PPMonthCalendar__CalendarBlock'><\/div>"),this._DomNode.appendChild(this._bIC),this._yR(),this._agL=n.htmlToDOM("<div class='PPMonthCalendar__TimeBlock'><\/div>"),new t.LineLabel({ParentNode:this._agL}),this._DomNode.appendChild(this._agL),this._ShowTime&&this._aDX(),this._auj=n.htmlToDOM("<div class='PPMonthCalendar__NowBlock'><\/div>"),this._DomNode.appendChild(this._auj),this._bID=new n.Ui.Button({ParentNode:this._auj,ResourceKey:"monthCalendarNow",Click:new n.Delegate(this._cuM,this)}),this._ShowNowButton?n.show(this._auj):n.hide(this._auj),this._bbp(),r.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode))},u.prototype._bbp=function(){if(this._bID){var n=new window.Date,t=this._CurrentDate;this._bID.setEnabled(!this._aSs(n)&&!(n.getFullYear()==t.getFullYear()&&n.getMonth()==t.getMonth()&&n.getDate()==t.getDate()))}},u.prototype._aDX=function(){var t,i;this._agM||(t=new n.Ui.Label({Class:"PPMCHoursLabel",ResourceKey:"mcHours",ParentNode:this._agL}),this._agM=new n.Ui.NumberEdit({ParentNode:this._agL,MinValue:0,MaxValue:23,Walkthrough:!0,IsRTL:this._IsRTL}),this._agM.Validate.add(this._cuN,this),this._agM.SpinUp.add(this._bIE,this),this._agM.SpinDown.add(this._bIE,this),this._agM.AfterValueChange.add(this._bIF,this)),this._agN||(i=new n.Ui.Label({Class:"PPMCMinutesLabel",ResourceKey:"mcMinutes",ParentNode:this._agL}),this._agN=new n.Ui.NumberEdit({ParentNode:this._agL,MinValue:0,MaxValue:59,Walkthrough:!0,IsRTL:this._IsRTL}),this._agN.Validate.add(this._cuO,this),this._agN.SpinUp.add(this._bIG,this),this._agN.SpinDown.add(this._bIG,this),this._agN.AfterValueChange.add(this._bIH,this)),this._agM.setValue(this.getCurrentHour(),!1),this._agN.setValue(this.getCurrentMinute(),!1),this._ShowTime?n.show(this._agL):n.hide(this._agL)},u.prototype._yR=function(){if(this._bbn){this._bbo=!0;return}var i={ParentNode:this._bIC,CurrentDate:this._CurrentDate,Culture:this._Culture,MinDate:this._MinDate,MaxDate:this._MaxDate,CurrentDateChanged:new n.Delegate(this._cuP,this),CurrentDateSelected:new n.Delegate(this._cuQ,this)};this._j0[this._Mode]&&this._j0[this._Mode].dispose();switch(this._Mode){case t.MonthCalendarMode.Days:this._j0[this._Mode]=new t.MonthCalendarDaysView(i);break;case t.MonthCalendarMode.Weeks:this._j0[this._Mode]=new t.MonthCalendarWeeksView(i);break;case t.MonthCalendarMode.Months:this._j0[this._Mode]=new t.MonthCalendarMonthsView(i);break;case t.MonthCalendarMode.Quarters:this._j0[this._Mode]=new t.MonthCalendarQuartersView(i);break;case t.MonthCalendarMode.HalfYears:this._j0[this._Mode]=new t.MonthCalendarHalfYearView(i);break;case t.MonthCalendarMode.Years:this._j0[this._Mode]=new t.MonthCalendarYearsView(i)}this._j0[this._Mode].show(),this._bbp()},u.prototype._cuR=function(n){for(var i=this._aco.getItems(),t=0;t<i.length;t++)if(i[t].getData()===n)return i[t];return null},u.prototype._cuP=function(n,t){this.setCurrentDate(t.NewDate)},u.prototype._cuQ=function(n,t){this.CurrentDateSelected.fire(this,t)},u.prototype._sc=function(t,i){var u=this,f=n.Object.keys(this._j0),r;f.forEach(function(n){u._j0[n].hide()}),this._Mode=i.Item.getData(),this._j0[this._Mode]?(r=this._j0[this._Mode],r.CurrentDateChanged.suspend(),r.setMinDate(this._MinDate),r.setMaxDate(this._MaxDate),r.setCurrentDate(this._CurrentDate),r.CurrentDateChanged.resume(),r.show()):this._yR(),this.ModeChanged.fire(this,{})},u.prototype._cuM=function(){this._Enabled&&this.setCurrentDate(new window.Date)},u.prototype._bIF=function(n,t){this._vk(parseInt(t.NewValue))||n.setValue(this._CurrentDate.getHours())},u.prototype._bIH=function(n,t){this._acp(parseInt(t.NewValue))||n.setValue(this._CurrentDate.getMinutes())},u.prototype._cuN=function(n,t){this._bIF(n,{NewValue:t.Value+""})},u.prototype._cuO=function(n,t){this._bIH(n,{NewValue:t.Value+""})},u.prototype._bIE=function(n,t){t.Cancel=!this._vk(parseInt(t.NewValue))},u.prototype._bIG=function(n,t){t.Cancel=!this._acp(parseInt(t.NewValue))},u.prototype._vk=function(n){if(n>=0&&n<=23){var t=this._CurrentDate,r=new window.Date(t.getTime()),i=!1;if(t.getHours()===23&&n===0&&(n=24,i=!0),t.getHours()===0&&n===23&&(n=-1,i=!0),r.setHours(n),!this._aSs(r))return this._CurrentDate.setHours(n),this.CurrentDateChanged.fire(this,{OldDate:t,NewDate:this._CurrentDate}),i&&(this._aDX(),this._yR()),!0}return!1},u.prototype._acp=function(n){if(n>=0&&n<=59){var t=this._CurrentDate,i=new window.Date(t.getTime()),r=!1,u=!1;if(t.getMinutes()===59&&n===0&&(n=60,r=!0),t.getMinutes()===0&&n===59&&(n=-1,r=!0),i.setMinutes(n),t.getDay()!=i.getDay()&&(u=!0),!this._aSs(i))return this._CurrentDate.setMinutes(n),this.CurrentDateChanged.fire(this,{OldDate:t,NewDate:this._CurrentDate}),r&&this._aDX(),u&&this._yR(),!0}return!1},u.prototype._aSs=function(n){return n.getTime()>this._MaxDate.getTime()||n.getTime()<this._MinDate.getTime()},u.prototype.getShowDaysButton=function(){return this._ShowDaysButton},u.prototype.getShowWeeksButton=function(){return this._ShowWeeksButton},u.prototype.getShowMonthsButton=function(){return this._ShowMonthsButton},u.prototype.getShowQuartersButton=function(){return this._ShowQuartersButton},u.prototype.getShowHalfYearsButton=function(){return this._ShowHalfYearsButton},u.prototype.getShowYearsButton=function(){return this._ShowYearsButton},u.prototype.getShowNowButton=function(){return this._ShowNowButton},u.prototype.getShowTime=function(){return this._ShowTime},u.prototype.getMode=function(){return this._Mode},u.prototype.setIsRTL=function(n){r.prototype.setIsRTL.call(this,n),this._aco.setIsRTL(n);for(var t in this._j0)this._j0[t].setIsRTL(n);this._agM&&this._agM.setIsRTL(n),this._agN&&this._agN.setIsRTL(n)},u.prototype.setWidth=function(){},u.prototype.setHeight=function(){},u.prototype.setShowDaysButton=function(n){this._ShowDaysButton!==n&&(this._ShowDaysButton=n,this._aco.getItem(0).setIsVisible(n))},u.prototype.setShowWeeksButton=function(n){this._ShowWeeksButton!==n&&(this._ShowWeeksButton=n,this._aco.getItem(1).setIsVisible(n))},u.prototype.setShowMonthsButton=function(n){this._ShowMonthsButton!==n&&(this._ShowMonthsButton=n,this._aco.getItem(2).setIsVisible(n))},u.prototype.setShowQuartersButton=function(n){this._ShowQuartersButton!==n&&(this._ShowQuartersButton=n,this._aco.getItem(3).setIsVisible(n))},u.prototype.setShowHalfYearsButton=function(n){this._ShowHalfYearsButton!==n&&(this._ShowHalfYearsButton=n,this._aco.getItem(4).setIsVisible(n))},u.prototype.setShowYearsButton=function(n){this._ShowYearsButton!==n&&(this._ShowYearsButton=n,this._aco.getItem(5).setIsVisible(n))},u.prototype.setShowNowButton=function(t){this._ShowNowButton!==t&&(this._ShowNowButton=t,t?n.show(this._auj):n.hide(this._auj))},u.prototype.setShowTime=function(n){this._ShowTime!==n&&(this._ShowTime=n,this._aDX())},u.prototype.getCurrentDate=function(){return new window.Date(this._CurrentDate)},u.prototype.setCurrentDate=function(n){var i,t;this._CurrentDate.getTime()===n.getTime()||this._aSs(n)||(i=this._CurrentDate,this._CurrentDate=n,t=this._j0[this._Mode],t.CurrentDateChanged.suspend(),t.setMinDate(this._MinDate),t.setMaxDate(this._MaxDate),t.setCurrentDate(n),t.CurrentDateChanged.resume(),this._aDX(),this.CurrentDateChanged.fire(this,{OldDate:i,NewDate:this._CurrentDate}),this._bbp())},u.prototype.getCurrentYear=function(){return this._CurrentDate.getFullYear()},u.prototype.getCurrentMonth=function(){return this._CurrentDate.getMonth()},u.prototype.getCurrentWeek=function(){return this._Culture.getWeekNumber(this._CurrentDate)},u.prototype.getCurrentQuarter=function(){return Math.floor(this.getCurrentMonth()/3)},u.prototype.getCurrentHalfYear=function(){return Math.floor(this.getCurrentMonth()/6)},u.prototype.getCurrentDay=function(){return this._CurrentDate.getDate()},u.prototype.getCurrentHour=function(){return this._CurrentDate.getHours()},u.prototype.getCurrentMinute=function(){return this._CurrentDate.getMinutes()},u.prototype.getMinDate=function(){return this._MinDate},u.prototype.setMinDate=function(n){var i,t;this._MinDate.getTime()!==n.getTime()&&(i=this._MinDate,this._MinDate=n,t=n,t.getTime()>this._MaxDate.getTime()&&(this._MaxDate=new window.Date(t.getTime())),t.getTime()>this.getCurrentDate().getTime()&&this.setCurrentDate(new window.Date(t.getTime())),this._yR())},u.prototype.getMaxDate=function(){return this._MaxDate},u.prototype.setMaxDate=function(n){var i,t;this._MaxDate.getTime()!==n.getTime()&&(i=this._MaxDate,this._MaxDate=n,t=n,t.getTime()<this._MinDate.getTime()&&(this._MinDate=new window.Date(t.getTime())),t.getTime()<this.getCurrentDate().getTime()&&this.setCurrentDate(new window.Date(t.getTime())),this._yR())},u.prototype.setMode=function(n){if(n!==this._Mode){this._Mode=n;var t=this._cuR(n);t&&t.setIsPressed(!0)}},u.prototype.getCalendarView=function(){return this._j0[this._Mode]||this._yR(),this._j0[this._Mode]},u.prototype.setSettings=function(n){this._bbn=!0,r.prototype.setSettings.call(this,n),this._bbn=!1,this._bbo&&this._yR(),this._bbo=!1},u.prototype.setEnabled=function(n){r.prototype.setEnabled.call(this,n),this._aco.setEnabled(n)},u}(t.Control);t.MonthCalendar=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(i){var r=t.call(this,i)||this,u;if(!r._ShowTime&&!r._ShowDate)throw new n.ArgumentException(r,"ShowDate and ShowTime can not be false at the same time");return u=!1,r._CurrentDate||(r._IsNullable&&(r.DateTimeChanged.suspend(),u=!0),r._CurrentDate=new window.Date),r._Culture||(r._Culture=n.getCurrentCulture()),r.addClass("PPDateTimeEdit"),r.setContent(r._aDY(),!1),r._EditorValue=r.getContent(),r._ih={d:null,m:null,y:null,h:null,n:null,v:null},r._aSt=null,r._cuS={0:"d",1:"v",2:"v",3:"v",4:"v",5:"y"},r._acq=null,r.setCurrentDate(r._CurrentDate),u&&(r.setValue(""),r.DateTimeChanged.resume()),r}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._ShowTime=!0,this._ShowDate=!0,this._Culture=n.getCurrentCulture(),this._Mode=n.Ui.MonthCalendarMode.Days,this._RevertToPrevious=!1,this._bII(),this._MonthNames=null,this._IsNullable=!1,this._sE=0,this._MinDate=new window.Date(1e3,0,1,0,0,0,0),this._MaxDate=new window.Date(9999,11,31,23,59,0,0),this._defineEvents(["DateTimeChanged"])},r.prototype._initFields=function(i){i=i||{},i.CurrentDate&&(this._CurrentDate=new window.Date(i.CurrentDate.getFullYear(),i.CurrentDate.getMonth(),i.CurrentDate.getDate(),i.CurrentDate.getHours(),i.CurrentDate.getMinutes())),n.isDefined(i.AfterChangeDelay)||(i.AfterChangeDelay=n.Ui.DEFAULT_TIMEOUT),t.prototype._initFields.call(this,i)},r.prototype._bII=function(){this._TextAfterYear="",this._TextAfterMonth=n.resourceManager.getString("dateTimeEditTextAfterMonth"),this._TextAfterWeek=n.resourceManager.getString("dateTimeEditTextAfterWeek"),this._TextAfterQuarter=n.resourceManager.getString("dateTimeEditTextAfterQuarter"),this._TextAfterHalfYear=n.resourceManager.getString("dateTimeEditTextAfterHalfYear")},r.prototype._bindEvents=function(){this._cQ||(t.prototype._bindEvents.call(this),this._bV(this._o,{dragstart:this._bbq,select:this._bbr,selectstart:this._bbs,paste:this._aSu}))},r.prototype._unBindEvents=function(){t.prototype._unBindEvents.call(this),this._d7(this._o)},r.prototype._fn=function(){this._sE==0&&(this._eo=this._amm()),this._sE++},r.prototype._eC=function(t,i){var f,e,o,r,u,s;this._sE--,typeof t=="string"&&(this._EditorValue=t),this._sE<=0&&(r=this._EditorValue!=this._e2,this._sE=0,f=this._e2,e=this._fl,o=this._ji,this.setContent(this._EditorValue,!1),this._e2=f,this._fl=e,this._ji=o,this._sE++,u=i==!0?!0:this._cuT(r),this._sE--,u?this.applyValidCSS():this.applyNotValidCSS(),this._qs?n.setTimeout(this._bIJ,10,this.getFocused(),this):this._bIJ(),this._bIK&&!this._acm&&r&&(s=this.getAfterChangeDelay(),this._eM(!0,!1,s)))},r.prototype._bIJ=function(n){this._amn(this._eo,!!n)},r.prototype._aW=function(){t.prototype._aW.apply(this,arguments),this._Culture=n.getCurrentCulture(),this._bII(),this.setMonthNames(this._Culture.MonthNames)},r.prototype._bbq=function(){return!1},r.prototype._m4=function(){return!this._EnableEdit||this._qs?!1:(this._aDZ(),this._acq=this.getCurrentDate(),this._a9m(new n.EventArgs),!1)},r.prototype._qj=function(n,t){this._EnableEdit&&!this._qs&&(this._aDZ(),this.getValue()==""&&this._IsNullable||this._eQ(this._RevertToPrevious?this._acq:null),this._bE1(t),this._qs||this._eM(!0,!1,0),this._acq=null)},r.prototype._on=function(t,i){var o,e,c,u,r,f,s,h,l;if(this._EnableEdit){if(o=i.Event,e=o.keyCode||o.which,e==229||e==0)return!0;if(this._ShowDate!=!0||!o.altKey||o.keyCode!=40){if(o.shiftKey)return e===9?(this._sE=0,navigator.userAgent.indexOf(" Firefox/")>-1&&this._o.blur(),!0):!1;switch(e){case n.Key.Tab:return this._sE=0,navigator.userAgent.indexOf(" Firefox/")>-1&&this._o.blur(),!0;case n.Key.Enter:return this._eM(!0,!1,0),!0;case n.Key.Esc:return this._eQ(this._RevertToPrevious?this._acq:null),!0;case n.Key.Backspace:return this._fn(),r=this._eo,s=this._fD(r),s=(r=="y"?" ":"0")+s,h=2,r=="y"&&(h=4),s.length>h&&(s=s.substr(0,h)),this._amo(r,s),this._eC(),!1;case 46:return!0;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:return(this._eo=="y"||this._Mode==n.Ui.MonthCalendarMode.Days||this._Mode==n.Ui.MonthCalendarMode.Weeks)&&(c=e>=96&&e<=105?e-96:e-48,this._cuU(c)),!1;case n.Key.Left:return this._fn(),this._aDZ(),f=!0,this._Mode==n.Ui.MonthCalendarMode.Days?(u=this._Culture.DateOrder,this._ShowTime&&(u+="hn",this._Culture.Hour24Mode||(u+="a")),r=u.indexOf(this._eo),r>0?r--:r=u.length-1,f&&(this._eo=u.substr(r,1),this._eQ(this._RevertToPrevious?this._acq:null))):(f=!1,this._eo=="y"&&this._Mode!=n.Ui.MonthCalendarMode.Years&&(this._eo="v",this._eQ(this._RevertToPrevious?this._acq:null),f=!0)),this._eC(),f;case n.Key.Right:case 109:case 110:case 111:case 189:case 190:case 191:return this._fn(),this._aDZ(),f=!0,this._Mode==n.Ui.MonthCalendarMode.Days?(l=this._eo,u=this._Culture.DateOrder,this._ShowTime&&(u+="hn",this._Culture.Hour24Mode||(u+="a")),r=u.indexOf(l),r<u.length-1?r++:r=0,f&&(this._eo=u.substr(r,1),this._eQ(this._RevertToPrevious?this._acq:null))):(f=!1,this._eo=="v"&&(this._eo="y",this._eQ(this._RevertToPrevious?this._acq:null),f=!0)),this._eC(),f;case 38:return this._agJ(!0),!1;case 40:if(!o.altKey)return this._agJ(!1),!1}return!1}}},r.prototype._yp=function(){return!1},r.prototype._bIu=function(){var n=this._o.value.substr(this._f0()-1,1);return n.charCodeAt(0)},r.prototype._agi=function(n,t){var i,r;if(t.Event.keyCode==229||t.Event.keyCode==0)return i=this._bIu(),this._on(n,{Event:{keyCode:i}}),!1;if(!this._EnableEdit){t.Event.preventDefault();return}return this.getValue()==""&&this._IsNullable?(this.setCurrentDate(null),!1):(t.Event.keyCode!==9&&this._aSt||(this._aSt=r=this._aSt?this._eo:this._cuS[this._Mode]),this._acm&&this._ba8.apply(this,arguments),this._aSv(r),!1)},r.prototype._atw=function(n,t){if(!this._EnableEdit){t.Event.preventDefault();return}return t.Event.which!=1&&(document.selection&&this._o.blur(),this._addEvent(document.documentElement,"mouseup",this._sp),this._o.setAttribute("readonly","readonly")),document.selection||(this._sF=!1,this._o.selectionEnd=this._o.selectionStart,this._sF=!0),!0},r.prototype._sp=function(n,t){return this._EnableEdit?this._o.disabled?!1:(t.Event.which!=1&&(document.selection&&this._o.focus(),this._k(document.documentElement,"mouseup",this._sp),this._o.removeAttribute("readonly")),this._ji=this.getCurrentDate(),this._ji==null&&(this._e2=""),this._aSv(),this._aSt=this._eo,!0):!1},r.prototype._bbr=function(){return!1},r.prototype._bbs=function(t,i){return(n.IsIE&&i.Event.stopPropagation(),!this._EnableEdit)?!1:!this._sF},r.prototype._aSu=function(){return!1},r.prototype._ba7=function(t,i){var r,u,f;if(!this._EnableEdit)return!1;if(r=i.Event,r.detail){if(n.isDefined(this._aSw)||(this._aSw=!1),this._aSw==!0)return;this._aSw=!0,n.setTimeout(this._cuV,50,undefined,this)}return this._o.disabled?!1:this.getFocused()?(u=r.detail?r.detail*-120:r.wheelDelta,f=u<0,i.Event.shiftKey&&this._agI(),this._aDT(!f),!1):!0},r.prototype._cuV=function(){this._aSw=!1},r.prototype._cuW=function(t){n.clearTimeout(this._aD0),this._aD0=-1,t||(this._aD0=n.setTimeout(this._aDZ,n.Ui.DEFAULT_TIMEOUT,null,this))},r.prototype._aDZ=function(){this.isLive()&&(n.clearTimeout(this._aD0),delete this._aD0)},r.prototype._cuU=function(n){var i,t,r,u;this._fn(),i=this._eo,t=this._fD(i),this._aD0||(t=i=="y"?"    ":"00"),t+=n,r=parseInt(t,10);switch(i){case"h":if(this._Culture.Hour24Mode){while(r>23)t=t.substring(1,t.length),r=parseInt(t,10);while(t.indexOf("0")==0&&t.length>1)t=t.substring(1,t.length)}else while(r>12)t=t.substring(1,t.length),r=parseInt(t,10);break;case"n":while(r>60)t=t.substring(1,t.length),r=parseInt(t,10);t.length<2&&(t="0"+t)}u=this._aSx(i),t.length>u&&(t=t.substr(t.length-u,u)),this._cuW(i=="y"),this._amo(i,t),this._eC()},r.prototype._aSx=function(t){if(this._ih[t])return this._ih[t].length;switch(t){case"d":case"m":case"h":case"n":return 2;case"y":return 4;case"v":if(this._Mode==n.Ui.MonthCalendarMode.Weeks)return 2}return 0},r.prototype._amm=function(){var t=this._f0(),u=this._EditorValue,f,o,e,s,h,c,i,r,l;if(this._Mode==n.Ui.MonthCalendarMode.Days){if(f=!this._ShowTime,f||(e=u.indexOf(" "),t<=e&&(f=!0)),!f)return!this._Culture.Hour24Mode&&(o=u.lastIndexOf(" "),o!=e&&t>o)?"a":(s=u.indexOf(this._Culture.TimeSeparator,e),t<=s)?"h":"n";if(f)return(h=u.indexOf(this._Culture.DateSeparator),c=u.lastIndexOf(this._Culture.DateSeparator),t<=h)?this._Culture.DateOrder.substr(0,1):t<=c?this._Culture.DateOrder.substr(1,1):this._Culture.DateOrder.substr(2,1)}else{i=0,r=0;switch(this._Mode){case n.Ui.MonthCalendarMode.Months:i=this._bbt().length,this._TextAfterMonth||(this._TextAfterMonth=n.resourceManager.getString("dateTimeEditTextAfterMonth")),r=this._TextAfterMonth.length;break;case n.Ui.MonthCalendarMode.Weeks:i=this._ih.v!=null?this._ih.v.length:this._aSx("v"),this._TextAfterWeek||(this._TextAfterWeek=n.resourceManager.getString("dateTimeEditTextAfterWeek")),r=this._TextAfterWeek.length;break;case n.Ui.MonthCalendarMode.Quarters:i=this._bbu().length,this._TextAfterQuarter||(this._TextAfterQuarter=n.resourceManager.getString("dateTimeEditTextAfterQuarter")),r=this._TextAfterQuarter.length;break;case n.Ui.MonthCalendarMode.HalfYears:i=this._bbv().length,this._TextAfterHalfYear||(this._TextAfterHalfYear=n.resourceManager.getString("dateTimeEditTextAfterHalfYear")),r=this._TextAfterHalfYear.length;break;case n.Ui.MonthCalendarMode.Years:return"y"}return l=t<i||t>=i&&t<i+r?"v":"y"}},r.prototype._amn=function(t,i){var l,v,e,r,u,f,o,s,h,c,a,y;if(this.getFocused()||i){if(this._Mode==n.Ui.MonthCalendarMode.Days)if(document.selection){if(this._bbw(),r=this._EditorValue,u=this._o.createTextRange(),u.moveStart("character",-r.length),u.moveEnd("character",-r.length),this._ShowDate&&(f=r.indexOf(" "),f<0&&(f=r.length)),this._ShowTime&&"hna".indexOf(t)>=0){o=r.indexOf(this._Culture.TimeSeparator,f),e=r.length,this._Culture.Hour24Mode||(e=r.lastIndexOf(" "));switch(t){case"h":u.moveStart("character",f+1),u.moveEnd("character",o-f-1);break;case"n":u.moveStart("character",o+1),u.moveEnd("character",e-o-1);break;case"a":u.moveStart("character",e+1),u.moveEnd("character",r.length)}this._sF=!1,u.select(),this._sF=!0,this._aSy=t;return}if(this._ShowDate){s=r.indexOf(this._Culture.DateSeparator),h=r.lastIndexOf(this._Culture.DateSeparator);switch(this._Culture.DateOrder.indexOf(t)){case 0:u.moveEnd("character",s);break;case 1:u.moveStart("character",s+1),u.moveEnd("character",h-s-1);break;default:u.moveStart("character",h+1),u.moveEnd("character",f-h-1)}this._sF=!1,u.select(),this._sF=!0}}else{if(this._bbw(),r=this._EditorValue,this._ShowDate&&(f=r.indexOf(" "),f<0&&(f=r.length)),this._ShowTime&&"hna".indexOf(t)>=0){o=r.indexOf(this._Culture.TimeSeparator,f),e=r.length,this._Culture.Hour24Mode||(e=r.lastIndexOf(" ")),this._sF=!1;switch(t){case"h":this._o.selectionStart=f+1,this._o.selectionEnd=o;break;case"n":this._o.selectionStart=o+1,this._o.selectionEnd=e;break;case"a":this._o.selectionStart=e+1,this._o.selectionEnd=r.length}this._sF=!0,this._aSy=t;return}if(this._ShowDate){s=r.indexOf(this._Culture.DateSeparator),h=r.lastIndexOf(this._Culture.DateSeparator),this._sF=!1;switch(this._Culture.DateOrder.indexOf(t)){case 0:this._o.selectionStart=0,this._o.selectionEnd=s;break;case 1:this._o.selectionStart=s+1,this._o.selectionEnd=h;break;default:this._o.selectionStart=h+1,this._o.selectionEnd=f}this._sF=!0}}else{this._bbw(),r=this._EditorValue;switch(this._Mode){case n.Ui.MonthCalendarMode.Months:c=this._bbt().length,this._TextAfterMonth||(this._TextAfterMonth=n.resourceManager.getString("dateTimeEditTextAfterMonth")),a=this._TextAfterMonth.length;break;case n.Ui.MonthCalendarMode.Weeks:c=this._ih.v!=null?this._ih.v.length:(this.getCurrentWeek()+1).toString().length,this._TextAfterWeek||(this._TextAfterWeek=n.resourceManager.getString("dateTimeEditTextAfterWeek")),a=this._TextAfterWeek.length;break;case n.Ui.MonthCalendarMode.Quarters:c=this._bbu().length,this._TextAfterQuarter||(this._TextAfterQuarter=n.resourceManager.getString("dateTimeEditTextAfterQuarter")),a=this._TextAfterQuarter.length;break;case n.Ui.MonthCalendarMode.HalfYears:c=this._bbv().length,this._TextAfterHalfYear||(this._TextAfterHalfYear=n.resourceManager.getString("dateTimeEditTextAfterHalfYear")),a=this._TextAfterHalfYear.length;break;case n.Ui.MonthCalendarMode.Years:c=0,a=0}y=this._ih.y!=null?this._ih.y.length:this._aSx("y");switch(t){case"v":case null:l=0,v=c;break;case"y":l=c+a,v=l+y}document.selection?(u=this._o.createTextRange(),u.moveStart("character",-r.length),u.moveEnd("character",-r.length),u.moveStart("character",l),u.moveEnd("character",v-l),this._sF=!1,u.select(),this._sF=!0):(this._o.selectionStart=l,this._o.selectionEnd=v)}this._aSy=t}},r.prototype._bbw=function(){n.IsIE?(this._k(this._o,"focus",this._m4),this._k(this._o,"blur",this._qj),document.body.focus(),this._o.focus(),n.setTimeout(this._cuX,0,null,this)):this._o.focus()},r.prototype._cuX=function(){this._addEvent(this._o,"focus",this._m4),this._addEvent(this._o,"blur",this._qj)},r.prototype._cuY=function(){return this._Mode==n.Ui.MonthCalendarMode.Days?(this._fn(),this._ShowDate?this._eo=this._Culture.DateOrder.substring(0,1):this._ShowTime?this._eo="h":this._aSv(),this._eC()):this._eo=this._Mode==n.Ui.MonthCalendarMode.Years?"y":"v",this._qs=!1,this._eo},r.prototype._aSv=function(t){if(t)this._amn(t);else if(this._Mode==n.Ui.MonthCalendarMode.Days){this._fn();var i=this._eo;this._eC(),this._eo=i}else this._eo=this._amm(),this._amn(this._eo)},r.prototype._fD=function(t){var u,i,r,e,o,f;if(this._sE==0)throw"Method _GetEditorSymbols() must be called between _BeginRender() and _EndRender() methods";u=this._aSx("y");switch(this._Mode){case n.Ui.MonthCalendarMode.Days:if(i=this._EditorValue,"dmy".indexOf(t)>=0){var s=i.indexOf(this._Culture.DateSeparator),h=i.lastIndexOf(this._Culture.DateSeparator),c=i.length;this._ShowTime&&(c=i.indexOf(" "));switch(this._Culture.DateOrder.indexOf(t)){case 0:return i.substring(0,s);case 1:return i.substring(s+1,h);default:return i.substring(h+1,c)}}if("hna".indexOf(t)>=0){if(r=i.split(" "),this._ShowDate){if(r.length<2)return"";i=r[1]}else i=r[0];e=i.split(this._Culture.TimeSeparator);switch(t){case"h":return e[0];case"n":return e[1];case"a":return this._ShowDate?r[2]:r[1]}}break;case n.Ui.MonthCalendarMode.Weeks:case n.Ui.MonthCalendarMode.Months:case n.Ui.MonthCalendarMode.Quarters:case n.Ui.MonthCalendarMode.HalfYears:case n.Ui.MonthCalendarMode.Years:o=0,f=0;switch(t){case"v":f=this._EditorValue.length-this._TextAfterYear.length-u-this._bbx().length;break;case"y":o=this._EditorValue.length-this._TextAfterYear.length-u,f=u}return this._EditorValue.substr(o,f)}return""},r.prototype._amo=function(t,i){var o,u,r,e,f;this._fn(),o=this._eo,u="";switch(this._Mode){case n.Ui.MonthCalendarMode.Days:for(r={d:this._fD("d"),m:this._fD("m"),y:this._fD("y")},this._ShowTime&&(r.h=this._fD("h"),r.n=this._fD("n"),this._Culture.Hour24Mode||(r.a=this._fD("a"))),r[t]=i,e=[],f=0;f<3;f++)e[f]=r[this._Culture.DateOrder.substr(f,1)];u=e.join(this._Culture.DateSeparator),this._ShowTime&&(this._ShowDate?u+=" "+r.h+this._Culture.TimeSeparator+r.n:u=r.h+this._Culture.TimeSeparator+r.n),this._Culture.Hour24Mode||(u+=" "+r.a);break;case n.Ui.MonthCalendarMode.Weeks:case n.Ui.MonthCalendarMode.Months:case n.Ui.MonthCalendarMode.Quarters:case n.Ui.MonthCalendarMode.HalfYears:r={v:this._fD("v"),y:this._fD("y")},r[t]=i,this._ih[t]=i,u=[r.v,this._bbx(),r.y,this._TextAfterYear].join("");break;case n.Ui.MonthCalendarMode.Years:this._ih[t]=i,u=i+this._TextAfterYear}this._eo=o,this._eC(u)},r.prototype._cuZ=function(t,i){this._fn();switch(this._Mode){case n.Ui.MonthCalendarMode.Days:switch(t){case"d":this._acr(i);break;case"m":this._amp(i);break;case"y":this._vl(i);break;case"h":this._vk(i);break;case"n":this._acp(i);break;case"a":this._cu0();break;default:return}break;case n.Ui.MonthCalendarMode.Weeks:if(t=="v")this._bIL(i);else if(t=="y"){var r=this.getCurrentWeek();this._vl(i),r!=this.getCurrentWeek()&&this._bIL(r)}break;case n.Ui.MonthCalendarMode.Months:t=="v"?this._amp(i):t=="y"&&this._vl(i);break;case n.Ui.MonthCalendarMode.Quarters:t=="v"?this._cu1(i):t=="y"&&this._vl(i);break;case n.Ui.MonthCalendarMode.HalfYears:t=="v"?this._cu2(i):t=="y"&&this._vl(i);break;case n.Ui.MonthCalendarMode.Years:t=="y"&&this._vl(i)}this._eo=t,this._eC(this._aDY())},r.prototype._eQ=function(t){var rt,ut,g,nt,b,ft,tt,p,k,it;this._fn();var et=this._eo,i=this.getCurrentYear(),u=this.getCurrentMonth()+1,f=this.getCurrentDay(),r=this.getCurrentHour(),o=this.getCurrentMinute(),y="",c,l,a,d,h;if(this._Mode==n.Ui.MonthCalendarMode.Days){if(this._ShowDate){for(c=this._fD("d")+"";c.indexOf("0")==0;)c=c.substr(1,c.length-1);for(f=parseInt(c,10),isNaN(f)&&(f=1),l=this._fD("m")+"";l.indexOf("0")==0;)l=l.substr(1,l.length-1);for(u=parseInt(l,10),isNaN(u)&&(u=1),a=this._fD("y")+"";a.indexOf("0")==0;)a=a.substr(1,a.length-1);i=parseInt(a,10),isNaN(i)&&(i=(new window.Date).getFullYear())}if(this._ShowTime){for(d=this._fD("h")+"",h=this._fD("n")+"";h.indexOf("0")==0&&h.length>1;)h=h.substring(1,h.length);o=parseInt(h,10),o=o%60,this._Culture.Hour24Mode?(r=parseInt(d,10),r=r%24):(rt=this._fD("a")+"",r=parseInt(d,10),r=r%12,r==0&&(r=12),ut=rt.toLowerCase()!=this._Culture.TimeAmPm[1].toLowerCase()?n.TimeFlag.am:n.TimeFlag.pm,r=this._Culture.to24hMode(r,ut))}if(f<1&&(f=1),u<1&&(u=1),u>12&&(u=12),i<100&&(i=i>=50?1900+i:2e3+i),this.isValid()||!t?(g=new window.Date(i,u-1,f,r,o,0),g.getTime()<this._MinDate.getTime()&&(i=this._MinDate.getFullYear(),u=this._MinDate.getMonth()+1,f=this._MinDate.getDate(),r=this._MinDate.getHours(),o=this._MinDate.getMinutes()),g.getTime()>this._MaxDate.getTime()&&(i=this._MaxDate.getFullYear(),u=this._MaxDate.getMonth()+1,f=this._MaxDate.getDate(),r=this._MaxDate.getHours(),o=this._MaxDate.getMinutes())):(i=t.getFullYear(),u=t.getMonth()+1,f=t.getDate(),r=t.getHours(),o=t.getMinutes()),nt=this._Culture.getDaysInMonth(u-1,i),f>nt&&(f=nt),this._acr(f),this._amp(u-1),this._vl(i),this._acp(o),this._vk(r),b="",this._ShowDate){for(c=f+"",l=u+"",a=i+"",c.length<2&&(c="0"+f),l.length<2&&(l="0"+u),ft={d:c,m:l,y:a},tt=[],p=0;p<3;p++)tt[p]=ft[this._Culture.DateOrder.substr(p,1)];b=tt.join(this._Culture.DateSeparator),y=b}this._ShowTime&&(h=o+"",h.length==1&&(h="0"+o),this._Culture.Hour24Mode?k=r+this._Culture.TimeSeparator+h:(it=this._Culture.to12hMode(r),k=it[0]+this._Culture.TimeSeparator+o+" "+this._Culture.TimeAmPm[it[1]?0:1]),y=this._ShowDate?b+" "+k:k)}else{for(var e=null,s=null,v=this._ih.y!=null?this._ih.y:this._fD("y"),w=this._ih.v!=null?this._ih.v:this._fD("v");v.indexOf("0")==0;)v=v.substr(1,v.length-1);for(v=parseInt(v),isNaN(v)||(i=v);w.indexOf("0")==0;)w=w.substr(1,w.length-1);switch(this._Mode){case n.Ui.MonthCalendarMode.Weeks:e=parseInt(w),isNaN(e)||(e--,e>=0&&e<=52&&(s=this._Culture.getFirstWeekDate(e,i)));break;case n.Ui.MonthCalendarMode.Months:e=u-1,s=this._bby(e,i);break;case n.Ui.MonthCalendarMode.Quarters:e=this.getCurrentQuarter(),s=this._aSz(e,i);break;case n.Ui.MonthCalendarMode.HalfYears:e=this.getCurrentHalfYear(),s=this._aSA(e,i);break;case n.Ui.MonthCalendarMode.Years:e=i,s=new window.Date(e,0,1,12,0,0,0)}e==null||isNaN(e)||s==null||(this._bbz(e,i,!0)?(i=this._MaxDate.getFullYear(),u=this._MaxDate.getMonth()+1,f=this._MaxDate.getDate(),r=this._MaxDate.getHours(),o=this._MaxDate.getMinutes()):this._bbz(e,i,!1)?(i=this._MinDate.getFullYear(),u=this._MinDate.getMonth()+1,f=this._MinDate.getDate(),r=this._MinDate.getHours(),o=this._MinDate.getMinutes()):s.getTime()>=this._MinDate.getTime()?(i=s.getFullYear(),u=s.getMonth()+1,f=s.getDate(),r=s.getHours(),o=s.getMinutes()):(i=this._MinDate.getFullYear(),u=this._MinDate.getMonth()+1,f=this._MinDate.getDate(),r=this._MinDate.getHours(),o=this._MinDate.getMinutes()),this._acr(1),this._vl(i),this._amp(u-1),this._acr(f),this._vk(r),this._acp(o)),y=this._aDY(),this._ih={d:null,m:null,y:null,h:null,n:null,v:null}}this._sE==0&&(this._eo=et),this._eC(y)},r.prototype._cuT=function(t){var i=this.getCurrentYear(),e=this.getCurrentMonth()+1,o=this.getCurrentDay(),u=this.getCurrentHour(),h=this.getCurrentMinute(),c,l,a,p,s,b,w,k,v,r,f,y;if(this._Mode==n.Ui.MonthCalendarMode.Days){if(this._ShowDate){for(c=this._fD("d")+"";c.indexOf("0")==0;)c=c.substr(1,c.length-1);if(o=parseInt(c,10),isNaN(o))return!1;for(l=this._fD("m")+"";l.indexOf("0")==0;)l=l.substr(1,l.length-1);if(e=parseInt(l,10),isNaN(e))return!1;for(a=this._fD("y")+"";a.indexOf("0")==0;)a=a.substr(1,a.length-1);if(i=parseInt(a,10),isNaN(i))return!1}if(this._ShowTime){for(p=this._fD("h")+"",s=this._fD("n")+"";s.indexOf("0")==0&&s.length>1;)s=s.substring(1,s.length);if(h=parseInt(s,10),isNaN(h)||h>59)return!1;if(this._Culture.Hour24Mode){if(u=parseInt(p,10),isNaN(u)||u>23)return!1}else{if(b=this._fD("a")+"",u=parseInt(p,10),isNaN(u)||u>12)return!1;u==0&&(u=12),u=this._Culture.to24hMode(u,b.toLowerCase()!=this._Culture.TimeAmPm[1].toLowerCase())}}if(this._ShowDate){if(o<1||e<1||e>12||(w=new window.Date(i,e-1,o,u,h,0),w.getTime()<this._MinDate.getTime()||w.getTime()>this._MaxDate.getTime())||(k=this._Culture.getDaysInMonth(e-1,i),o>k))return!1;t&&(this._acr(o),this._amp(e-1),this._vl(i))}this._ShowTime&&t&&(this._acp(parseInt(s,10)),this._vk(parseInt(p,10)))}else{for(v=this._ih.y!=null?this._ih.y:this._fD("y");v.indexOf("0")==0;)v=v.substr(1,v.length-1);if(i=parseInt(v),isNaN(i))return!1;r=null,f=null;switch(this._Mode){case n.Ui.MonthCalendarMode.Weeks:for(y=this._ih.v!=null?this._ih.v:this._fD("v");y.indexOf("0")==0;)y=y.substr(1,y.length-1);if((r=parseInt(y),isNaN(r))||(r--,r<0||r>52))return!1;f=this._Culture.getFirstWeekDate(r,i);break;case n.Ui.MonthCalendarMode.Months:r=e-1,f=this._bby(r,i);break;case n.Ui.MonthCalendarMode.Quarters:r=this.getCurrentQuarter(),f=this._aSz(r,i);break;case n.Ui.MonthCalendarMode.HalfYears:r=this.getCurrentHalfYear(),f=this._aSA(r,i);break;case n.Ui.MonthCalendarMode.Years:r=i,f=new window.Date(r,0,1,12,0,0,0)}if(this._bbz(r,i))return!1;t&&(f.getTime()>=this._MinDate.getTime()?(i=f.getFullYear(),e=f.getMonth()+1,o=f.getDate(),u=f.getHours(),h=f.getMinutes()):(i=this._MinDate.getFullYear(),e=this._MinDate.getMonth()+1,o=this._MinDate.getDate(),u=this._MinDate.getHours(),h=this._MinDate.getMinutes()),this._acr(1),this._vl(i),this._amp(e-1),this._acr(o),this._vk(u),this._acp(h))}return!0},r.prototype._aDT=function(n){this._agJ(n)},r.prototype._dDR=function(t){t.self.setFocus(),n.setTimeout(t.self._cu3,10,{self:t.self,pos:t.pos})},r.prototype._cu3=function(n){n.self._amn(n.pos)},r.prototype._agJ=function(t){this._fn();var i="";this._aSy?i=this._aSy:this._dDS?i=this._eo:this._Mode==n.Ui.MonthCalendarMode.Days?this._ShowDate?i=this._Culture.DateOrder.substring(0,1):this._ShowTime&&(i="h"):i=this._Mode==n.Ui.MonthCalendarMode.Years?"y":"v",this._cuZ(i,t?"+1":"-1"),this._eQ(),this._acq=this.getCurrentDate(),this._bIK=!0,this._eC(),delete this._bIK},r.prototype._eM=function(i,r,u){u=n.isDefined(u)?u:this._AfterChangeDelay,this._qs&&(!this._qs||this._acm)||t.prototype._eM.apply(this,arguments)},r.prototype._gY=function(i){var r,u;this.isLive()&&(this.DateTimeChanged.isSuspended()||t.prototype._gY.apply(this,arguments),this._CurrentDate)&&(r=this.getCurrentDate(),n.isDefined(this._ji)||(this._ji=r),r==null&&this._ji==null||!i.fireEvents||r!=null&&this._ji!=null&&r.getTime()===this._ji.getTime()&&!i.reInit||(u={OldDate:this._ji,NewDate:r},this.DateTimeChanged.fire(this,u)),this._ji=this.getCurrentDate())},r.prototype._aDY=function(){var r,t,e,u,o,f,i,s,h;switch(this._Mode){case n.Ui.MonthCalendarMode.Days:for(r={},t=this.getCurrentDay()+"",t.length<2&&(t="0"+t),r.d=t,t=this.getCurrentMonth()+1+"",t.length<2&&(t="0"+t),r.m=t,r.y=this.getCurrentYear(),e=[],u=0;u<3;u++)e[u]=r[this._Culture.DateOrder.substr(u,1)];return(o=e.join(this._Culture.DateSeparator),!this._ShowTime)?o:(f="",i=this.getCurrentMinute()+"",i.length<2&&(i="0"+i),this._Culture.Hour24Mode?f=this.getCurrentHour()+this._Culture.TimeSeparator+i:(s=this._Culture.to12hMode(this.getCurrentHour()),f=s[0]+this._Culture.TimeSeparator+i+" "+this._Culture.TimeAmPm[s[1]?0:1]),this._ShowDate)?o+" "+f:f;case n.Ui.MonthCalendarMode.Weeks:return h=this.getCurrentWeek()+1,this._TextAfterWeek||(this._TextAfterWeek=n.resourceManager.getString("dateTimeEditTextAfterWeek")),[h,this._TextAfterWeek,this.getCurrentYear(),this._TextAfterYear].join("");case n.Ui.MonthCalendarMode.Months:return this._TextAfterMonth||(this._TextAfterMonth=n.resourceManager.getString("dateTimeEditTextAfterMonth")),[this._bbt(),this._TextAfterMonth,this.getCurrentYear(),this._TextAfterYear].join("");case n.Ui.MonthCalendarMode.Quarters:return this._TextAfterQuarter||(this._TextAfterQuarter=n.resourceManager.getString("dateTimeEditTextAfterQuarter")),[this._bbu(),this._TextAfterQuarter,this.getCurrentYear(),this._TextAfterYear].join("");case n.Ui.MonthCalendarMode.HalfYears:return this._TextAfterHalfYear||(this._TextAfterHalfYear=n.resourceManager.getString("dateTimeEditTextAfterHalfYear")),[this._bbv(),this._TextAfterHalfYear,this.getCurrentYear(),this._TextAfterYear].join("");case n.Ui.MonthCalendarMode.Years:return[this.getCurrentYear(),this._TextAfterYear].join("")}},r.prototype._cu0=function(){this.getCurrentHour()<12?this._vk("+12"):this._vk("-12")},r.prototype._bbt=function(){return this._MonthNames||this.setMonthNames(this._Culture.MonthNames),this._MonthNames[this.getCurrentDate().getMonth()]},r.prototype._bbu=function(){return this._bIM(this.getCurrentQuarter()+1)},r.prototype._bbv=function(){return this._bIM(this.getCurrentHalfYear()+1)},r.prototype._bIM=function(n){switch(n){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV";case 5:return"V";case 6:return"VI";case 7:return"VII";case 8:return"VIII";case 9:return"IX";case 10:return"X";default:return""}},r.prototype._bbx=function(){switch(this._Mode){case n.Ui.MonthCalendarMode.Days:throw new Error("нельзя использовать метод _bbx при текущем значении режима PP.Ui.MonthCalendarMode.Days");case n.Ui.MonthCalendarMode.Weeks:return this._TextAfterWeek||(this._TextAfterWeek=n.resourceManager.getString("dateTimeEditTextAfterWeek")),this._TextAfterWeek;case n.Ui.MonthCalendarMode.Months:return this._TextAfterMonth||(this._TextAfterMonth=n.resourceManager.getString("dateTimeEditTextAfterMonth")),this._TextAfterMonth;case n.Ui.MonthCalendarMode.Quarters:return this._TextAfterQuarter||(this._TextAfterQuarter=n.resourceManager.getString("dateTimeEditTextAfterQuarter")),this._TextAfterQuarter;case n.Ui.MonthCalendarMode.HalfYears:return this._TextAfterHalfYear||(this._TextAfterHalfYear=n.resourceManager.getString("dateTimeEditTextAfterHalfYear")),this._TextAfterHalfYear;case n.Ui.MonthCalendarMode.Years:return"";default:throw new Error("Не известное значение режима PP.Ui.MonthCalendarMode");}},r.prototype._bbz=function(t,i,r){var u,f,e;switch(this._Mode){case n.Ui.MonthCalendarMode.Days:throw new Error("Этот метод не работает для режима 'дни'");case n.Ui.MonthCalendarMode.Weeks:u=this._Culture.getFirstWeekDate(t,i),f=this._Culture.getLastWeekDate(t,i);break;case n.Ui.MonthCalendarMode.Months:u=this._bby(t,i),f=this._cu5(t,i);break;case n.Ui.MonthCalendarMode.Quarters:u=this._aSz(t,i),f=this._cu6(t,i);break;case n.Ui.MonthCalendarMode.HalfYears:u=this._aSA(t,i),f=this._cu7(t,i);break;case n.Ui.MonthCalendarMode.Years:u=new window.Date(t,0,1,12,0,0,0),f=new window.Date(t,11,31,23,59,0,0)}return e=typeof r=="undefined"?u.getTime()<this._MinDate.getTime()&&f.getTime()<this._MinDate.getTime()||u.getTime()>this._MaxDate.getTime():r?u.getTime()>this._MaxDate.getTime():u.getTime()<this._MinDate.getTime()&&f.getTime()<this._MinDate.getTime()},r.prototype._bby=function(n,t){return new window.Date(t,n,1,12,0,0,0)},r.prototype._cu5=function(n,t){var i=this._Culture.getDaysInMonth(n,t);return new window.Date(t,n,i,23,59,0,0)},r.prototype._aSz=function(n,t){return new window.Date(t,n*3,1,12,0,0,0)},r.prototype._cu6=function(n,t){var i=n*3+2,r=this._Culture.getDaysInMonth(i,t);return new window.Date(t,i,r,23,59,0,0)},r.prototype._aSA=function(n,t){return new window.Date(t,n*6,1,12,0,0,0)},r.prototype._cu7=function(n,t){var i=n*6+5,r=this._Culture.getDaysInMonth(i,t);return new window.Date(t,i,r,23,59,0,0)},r.prototype._aSB=function(n,t){var u,r,f,o,e,i;if(this._sE==0)throw"Method _aSB() must be called between _fn() and _eC() methods";u=this.getCurrentYear(),r=0;switch(t){case"w":r=53;break;case"q":r=4;break;case"hy":r=2;break;default:throw"Item value must be 'w', 'q' or 'hy'";}if(typeof n=="string"&&(f=0,n.indexOf("+")==0&&(f=1),n.indexOf("-")==0&&(f=-1),f!=0)){for(o=parseInt(n.substring(1,n.length),10),e=null,t=="w"?e=this.getCurrentWeek():t=="q"?e=this.getCurrentQuarter():t=="hy"&&(e=this.getCurrentHalfYear()),n=e+f*o;n<0;)n+=r,u--;while(n>=r)n-=r,u++}if(typeof n!="number")throw new Error("value type is not Number");if(n>=r||n<0)throw new Error("Incorrect value value");i=null;switch(t){case"w":i=this._Culture.getFirstWeekDate(n,u);break;case"q":i=this._aSz(n,u);break;case"hy":i=this._aSA(n,u)}this._acr(1),this._vl(i.getFullYear()),this._amp(i.getMonth()),this._acr(i.getDate()),this._acp(i.getMinutes()),this._vk(i.getHours())},r.prototype._vl=function(n){var t,i;typeof n=="string"?(t=0,n.indexOf("+")==0&&(t=1),n.indexOf("-")==0&&(t=-1),0!=t&&(i=parseInt(n.substring(1,n.length),10),this._CurrentDate.setFullYear(this.getCurrentYear()+t*i))):this._CurrentDate.setFullYear(n)},r.prototype._cu2=function(n){this._aSB(n,"hy")},r.prototype._cu1=function(n){this._aSB(n,"q")},r.prototype._amp=function(n){var r,u,t,i;if(typeof n=="string"){if(r=0,n.indexOf("+")==0&&(r=1),n.indexOf("-")==0&&(r=-1),0!=r){for(u=parseInt(n.substring(1,n.length),10),t=this.getCurrentMonth()+r*u;t<0;)t+=12,i=this.getCurrentYear(),i--,this._CurrentDate.setFullYear(i);while(t>=12)t-=12,i=this.getCurrentYear(),i++,this._CurrentDate.setFullYear(i);this._CurrentDate.setMonth(t)}}else this._CurrentDate.setMonth(n)},r.prototype._bIL=function(n){this._aSB(n,"w")},r.prototype._acr=function(n){var t,i,r;typeof n=="string"?(t=0,n.indexOf("+")==0&&(t=1),n.indexOf("-")==0&&(t=-1),0!=t&&(i=parseInt(n.substring(1,n.length),10),r=this.getCurrentDay()+t*i,this._CurrentDate.setDate(r))):this._CurrentDate.setDate(n)},r.prototype._vk=function(n){var t,i,r;for(typeof n=="string"?(i=0,n.indexOf("+")==0&&(i=1),n.indexOf("-")==0&&(i=-1),0!=i&&(r=parseInt(n.substring(1,n.length),10),t=this.getCurrentHour(),this._CurrentDate.setHours(t+i*r))):this._CurrentDate.setHours(n);this.getCurrentHour()<0;)t=this.getCurrentHour(),this._CurrentDate.setHours(t+24);t=this.getCurrentHour(),t=t%24,this._CurrentDate.setHours(t)},r.prototype._acp=function(n){var t,i,r;for(typeof n=="string"?(i=0,n.indexOf("+")==0&&(i=1),n.indexOf("-")==0&&(i=-1),0!=i&&(r=parseInt(n.substring(1,n.length),10),t=this.getCurrentMinute(),this._CurrentDate.setMinutes(t+i*r))):this._CurrentDate.setMinutes(n);this.getCurrentMinute()<0;)t=this.getCurrentMinute(),t+=60,this._CurrentDate.setMinutes(t);t=this.getCurrentMinute(),t=t%60,this._CurrentDate.setMinutes(t)},r.prototype.getRevertToPrevious=function(){return this._RevertToPrevious},r.prototype.setRevertToPrevious=function(n){this._RevertToPrevious=!!n},r.prototype.getMode=function(){return this._Mode},r.prototype.setMode=function(n){this._Mode!=n&&(this._Mode=n,this.refresh())},r.prototype.getCurrentDate=function(){return this.getValue()==""&&this._IsNullable?null:new window.Date(this._CurrentDate.getTime())},r.prototype.setCurrentDate=function(t,i){var u=arguments.length>1?u=arguments[1]:!0,r;if(t instanceof window.Date)this._MaxDate&&t.getTime()>this._MaxDate.getTime()&&(t=this._MaxDate),this._MinDate&&t.getTime()<this._MinDate.getTime()&&(t=this._MinDate),this._fn(),this._CurrentDate=t,this._EditorValue=this._aDY(),this._ih={d:null,m:null,y:null,h:null,n:null,v:null},r=this._AfterChangeDelay,this._AfterChangeDelay=0,this._eC(undefined,i),this._AfterChangeDelay=r;else if(t)throw new n.ArgumentException(this);else this.setContent("")},r.prototype.getCurrentYear=function(){return this._CurrentDate.getFullYear()},r.prototype.getCurrentQuarter=function(){return Math.floor(this.getCurrentMonth()/3)},r.prototype.getCurrentHalfYear=function(){return Math.floor(this.getCurrentMonth()/6)},r.prototype.getCurrentMonth=function(){return this._CurrentDate.getMonth()},r.prototype.getCurrentWeek=function(){return this._Culture.getWeekNumber(this._CurrentDate)},r.prototype.getCurrentDay=function(){return this._CurrentDate.getDate()},r.prototype.getCurrentHour=function(){return this._CurrentDate.getHours()},r.prototype.getCurrentMinute=function(){return this._CurrentDate.getMinutes()},r.prototype.getMinDate=function(){return this._MinDate},r.prototype.setMinDate=function(n){var t;if(typeof n=="undefined"||n==null)throw new Error("Param of property setMinDate can't be null");if(!(n instanceof window.Date))throw new Error("param of property setMinDate must be type of Date");var u=n.getFullYear(),f=n.getMonth(),e=n.getDate(),i=0,r=0;if(this._ShowTime&&(i=n.getHours(),r=n.getMinutes()),t=new window.Date(u,f,e,i,r,0),t.getTime()>this._MaxDate.getTime())throw new Error("New value of MinDate can't be more then MaxDate");t.getTime()>this.getCurrentDate().getTime()&&(this._CurrentDate=new window.Date(t.getTime())),this._MinDate=t},r.prototype.getMaxDate=function(){return this._MaxDate},r.prototype.setMaxDate=function(n){var t;if(typeof n=="undefined"||n==null)throw new Error("Param of property setMaxDate can't be null");if(!(n instanceof window.Date))throw new Error("param of property setMaxDate must be type of Date");var u=n.getFullYear(),f=n.getMonth(),e=n.getDate(),i=23,r=59;if(this._ShowTime&&(i=n.getHours(),r=n.getMinutes()),t=new window.Date(u,f,e,i,r),t.getTime()<this._MinDate.getTime())throw new Error("New value of MaxDate can't be less then MinDate");t.getTime()<this.getCurrentDate().getTime()&&(this._CurrentDate=new window.Date(t.getTime())),this._MaxDate=t},r.prototype.setShowDate=function(t){if(t!=!0&&!this._ShowTime)throw new n.ArgumentException(this,"ShowDate and ShowTime can not be false at the same time");this._ShowDate=t==!0,this.refresh()},r.prototype.setShowTime=function(t){if(t!=!0&&!this._ShowDate)throw new n.ArgumentException(this,"ShowDate and ShowTime can not be false at the same time");this._ShowTime=t==!0,this.refresh()},r.prototype.getMonthNames=function(){return this._MonthNames},r.prototype.setMonthNames=function(t){if(!n.Array.isArray(t))throw new Error("value must be type of Array");if(t.length<12)throw new Error("array length must be 12");this._MonthNames=[];for(var i=0;i<t.length;i++)this._MonthNames.push(t[i]+"");this.refresh()},r.prototype.setIsNullable=function(n){this._IsNullable=n},r.prototype.getIsNullable=function(){return this._IsNullable},r.prototype.refresh=function(){var u="",c,p,i,r,e,o,s,a,f,v,y,b,h;switch(this._Mode){case n.Ui.MonthCalendarMode.Days:r=this._Culture.DateOrder,(r.length!=3||r.indexOf("d")<0||r.indexOf("m")<0||r.indexOf("y")<0)&&(r="dmy");var t="",l=[],w=[];if(this._ShowDate)for(i=0;i<r.length;i++){c=r.charAt(i);switch(c){case"d":e=this.getCurrentDay().toString(),e.length==1&&(e="0"+e),l.push(e);break;case"m":o=(this.getCurrentMonth()+1).toString(),o.length==1&&(o="0"+o),l.push(o);break;case"y":for(s=this.getCurrentYear().toString();s.length<4;)s="0"+s;l.push(s)}}if(u=l.join(this._Culture.DateSeparator),this._ShowTime){for(this._ShowDate&&(u+=" "),(t.indexOf("h")<0||t.indexOf("n")<0)&&(t+="hn"),a=t.indexOf("a"),f=!0,this._Culture.Hour24Mode||(a>-1?a!=0?f=!1:a!=t.length-1?f=!0:(t=t.replace("a",""),t+="a",f=!0):(t+="a",f=!0)),v="",i=0;i<t.length;i++){c=t.charAt(i);switch(c){case"h":y=this.getCurrentHour(),this._Culture.Hour24Mode||(b=this._Culture.to12hMode(y),y=b[0],v=this._Culture.TimeAmPm[b[1]?0:1]),w.push(y.toString());break;case"n":h=this.getCurrentMinute().toString(),h.length==1&&(h="0"+h),w.push(h)}}u+=w.join(this._Culture.TimeSeparator),this._Culture.Hour24Mode||(f?u+=" "+v:u=v+" "+u)}p=r+t,i=p.indexOf(this._eo),i<0&&(this._eo=this._ShowDate?p.charAt(0):"h");break;case n.Ui.MonthCalendarMode.Weeks:case n.Ui.MonthCalendarMode.Months:case n.Ui.MonthCalendarMode.Quarters:case n.Ui.MonthCalendarMode.HalfYears:case n.Ui.MonthCalendarMode.Years:u=this._aDY()}this._EditorValue=this._o.value=u,this.applyValidCSS(),this._ih={d:null,m:null,y:null,h:null,n:null,v:null}},r}(t.SpinEdit);t.DateTimeEdit=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(i){var r=t.call(this,i)||this;return r._Culture||(r._Culture=new n.CultureInfo),r.setIsRTL(r._IsRTL),r._DomNode.className+=" "+r._cu8,r.setEnabled(r._Enabled),r._bbA=null,r._ji=r.getCurrentDate(),r._amq=r._DateTimeEdit.getValue(),r.setMode(r._Mode),r}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._cu8="PPDateTimePicker",this._cu9="PPDateTimeDrop",this._Culture=null,this._CurrentDate=null,this._ShowButtons=!1,this._MinDate=new window.Date(1e3,0,1,0,0,0,0),this._MinDateConst=new window.Date(1e3,0,1,0,0,0,0),this._MaxDate=new window.Date(9999,11,31,23,59,0,0),this._MaxDateConst=new window.Date(9999,11,31,23,59,0,0),this._ShowCheckBox=!1,this._ShowTime=!1,this._ShowDate=!0,this._DateTimeEdit=null,this._Mode=n.Ui.MonthCalendarMode.Days,this._EnableEdit=!0,this._DropCalendar=!0,this._IsDropHasCombosWidth=!1,this._auk=!1,this._aD1=!0,this._defineEvents(["DateTimeChanged","TextChange","CheckedChanged"]),this._NullCheckBox=new n.Ui.CheckBox({})},r.prototype._initFields=function(i){var r,u;i=i||{},i.Culture=i.Culture||n.getCurrentCulture(),i.CurrentDate=i.CurrentDate||new window.Date,r=i.DateTimeEdit||{},r.Culture=i.Culture,r.CurrentDate=i.CurrentDate,r.MaxDate=i.MaxDate||this._MaxDate,r.MinDate=i.MinDate||this._MinDate,r.ShowTime=i.ShowTime||this._ShowTime,r.ShowButtons=!1,n.isDefined(i.Checked)&&(i.ShowCheckBox=!0),this._DateTimeEdit=new n.Ui.DateTimeEdit(r),this._Editor=this._DateTimeEdit,this._aSC=i.CalendarSettings||{},u={Template:n.Templates.DropPanel,UseScrollBox:!1,EnableResize:!1,MinDropDownHeight:0,MinDropDownWidth:0},i.DropPanel=n.extend(i.DropPanel,u,!0),delete i.Calendar,delete i.CalendarSettings,delete i.DateTimeEdit,t.prototype._initFields.call(this,i)},r.prototype._bindEvents=function(){t.prototype._bindEvents.call(this),this._DateTimeEdit.DateTimeChanged.add(this._cva,this),this._DateTimeEdit.Focus.add(this._cvb,this),this._DateTimeEdit.Blur.add(this._bbB,this)},r.prototype._unBindEvents=function(){t.prototype._unBindEvents.call(this),this._DateTimeEdit.DateTimeChanged.clear(this),this._DateTimeEdit.AfterChange.clear(this),this._DateTimeEdit.Focus.clear(this),this._DateTimeEdit.Blur.clear(this),this._DateTimeEdit.MouseDown.clear(this),this._bIN()},r.prototype._cvc=function(n){if(!this._bbC){var t=n?n:this.getCalendar();t.CurrentDateSelected.add(this._cvd,this),t.CurrentDateChanged.add(this._cve,this),t.ModeChanged.add(this._cvf,this),this._bbC=!0}},r.prototype._bIN=function(n){if(this._bbC){var t=n?n:this.getCalendar(!0);t.ModeChanged.clear(this),t.CurrentDateChanged.clear(this),this._bbC=!1}},r.prototype._alQ=function(){var r=this.getShowCheckBox()?this._NullCheckBox.getChecked():!0;this._Enabled&&r&&t.prototype._alQ.apply(this,arguments)},r.prototype._render=function(){var i,u,r;if(t.prototype._render.call(this),this._ShowCheckBox&&(this._NullCheckBox.addToNode(this._DomNode,this._DomNode.firstChild),this.addClass("PPCheck")),!this._DropCalendar){var f=this.getDomNode(),e=n.querySelector(f,".PPButtonNode"),o=n.querySelector(this.getDomNode(),".PPControlNode");n.hide(e),n.addClass(o,"PPButtonNodeHide")}this._NullCheckBox.setEnabled(this._Enabled),this._NullCheckBox.CheckedChanged.add(this._bIO,this),this._bIP=17,i=this._NullCheckBox.getDomNode(),this._aSD=i.offsetWidth,u=this._aSD+this._g(n.getStyle(i,"margin-left"))+this._g(n.getStyle(i,"margin-right")),r=this._g(this._Width)-(this._ShowCheckBox?u||this._bIP:0)||"",r!==""&&(r=r+"px"),this._Checked&&(this._NullCheckBox.CheckedChanged.suspend(),this._NullCheckBox.setChecked(!0),this._NullCheckBox.CheckedChanged.resume()),this.setShowButtons(this._ShowButtons)},r.prototype._i9=function(){return this.getIsDropPanelCreated()&&this.getDropPanel()&&this.getDropPanel().getDroppedDown()},r.prototype._aRi=function(n,i){var r=this.getShowCheckBox()?this._NullCheckBox.getChecked():!0;return this._CurrentDate&&r&&this._Enabled&&this._DropCalendar?t.prototype._aRi.call(this,n,i):!1},r.prototype._aW=function(){t.prototype._aW.apply(this,arguments);var u=n.getCurrentCulture();this._Culture&&this._Culture.CultureName==u.CultureName||(this._Culture=u,this._i9()||(this._auk=!0))},r.prototype._cva=function(n,t){this._CurrentDate&&this._CurrentDate.getTime()==t.NewDate.getTime()||(this._CurrentDate=new window.Date(t.NewDate.getTime())),this._bbA=t.NewDate,this._eM(!0,!1,0),this._bbD&&this.getDropPanel().hide()},r.prototype._cvg=function(){return this._bIQ||(this._bIQ=n.htmlToDOM("<div class='PPCover'><\/div>")),this._bIQ},r.prototype._bIO=function(t,i){var e=this.getShowCheckBox()?t.getChecked():!0,r=this._cvg(),u,f;this._DateTimeEdit.setEnabled(e),e?(n.isInDOM(r)&&this._ButtonNode.removeChild(r),this._DomNode.removeAttribute("disabled"),this._CurrentDate||(u=new window.Date,f=u.getTime(),(f<this.getMinDate().getTime()||f>this.getMaxDate().getTime())&&(u=this.getMinDate()),this.setCurrentDate(u))):(n.isInDOM(r)||this._ButtonNode.appendChild(r),this._DomNode.setAttribute("disabled","disabled")),this.setIsHovered(!1),this._i9()&&this.getDropPanel().hide(),this.CheckedChanged.fire(this,i)},r.prototype._cve=function(n,t){this._CurrentDate=new window.Date(t.NewDate.getTime()),this._DateTimeEdit.DateTimeChanged.suspend(),this._DateTimeEdit.setCurrentDate(this._CurrentDate,!0),this._DateTimeEdit.DateTimeChanged.suspend()},r.prototype._cvd=function(n,t){if(this._DateTimeEdit&&this._i9()){if(this._CurrentDate=new window.Date(t.NewDate.getTime()),this._cvh=this.getCurrentDate(),this._bbD)this._DateTimeEdit.setCurrentDate(this._CurrentDate,!0),this._aul=!1,this._bbD=!1;else{var i=this._ji,r=this._amq;this._DateTimeEdit.DateTimeChanged.suspend(),this._DateTimeEdit.setCurrentDate(this._CurrentDate),this._DateTimeEdit.DateTimeChanged.resume(),this._ji=i,this._amq=r,this._eM(!0,!1,this._AfterChangeDelay)}this.getDropPanel().hide()}},r.prototype._cvf=function(n){this._i9()&&(this._Mode=n.getMode(),this._DateTimeEdit.setMode(this._Mode))},r.prototype._cvb=function(){this._aul||(this._bbA=this.getCurrentDate()),this._aul=!0},r.prototype._bbB=function(){this._i9()||(this._aul=!1)},r.prototype._bIR=function(t){var r=this.getCalendar();this._cvc(r),t.setContent(r),r.show(),this._EnableEdit&&n.addClass(this._DomNode,"OpenedEnableEdit"),this._aul||(this._aul=!0,this._bbA=this.getCurrentDate())},r.prototype._bIS=function(){this._bIN(),this._cvi=this._Mode,this._cvh=this.getCurrentDate(),n.removeClass(this._DomNode,"OpenedEnableEdit"),this._bbD||(this._eM(!0,!1,0),this._aul=!1)},r.prototype._eM=function(t,i,r,u){this._bIT&&n.clearTimeout(this._bIT),n.isObject(u)||(u={}),u.fireEvents=t,u.reInit=i,r===0?this._gY(u):r!==null&&(this._bIT=n.setTimeout(this._gY,r,u,this))},r.prototype._gY=function(n){var i,t,r,u;this._CurrentDate&&(i=this.getCurrentDate(),t=this.getEditor(),n.fireEvents&&(n.reInit||!this._ji||this._ji.getTime()!==i.getTime())&&(r={OldDate:this._ji,NewDate:i},this.DateTimeChanged.fire(this,r),t.getContent()!==this._amq&&(u={OldValue:this._amq,NewValue:t.getValue()},this.TextChange.fire(this,u))),this._ji=this.getCurrentDate(),this._amq=t.getValue())},r.prototype._dDT=function(n){this.DateTimeChanged.fire(this,n)},r.prototype.getDateTimeEdit=function(){return this._DateTimeEdit},r.prototype.getShowCheckBox=function(){return this._ShowCheckBox},r.prototype.getShowTime=function(){return this._ShowTime},r.prototype.getDropCalendar=function(){return this._DropCalendar},r.prototype.setCalendarSettings=function(t){this._aSC=this.getCalendarSettings(),t&&(this._aSC=n.extend(this._aSC,t,!0,!0))},r.prototype.getCalendarSettings=function(){var t={ShowDaysButton:!0,ShowWeeksButton:!0,ShowMonthsButton:!0,ShowQuartersButton:!0,ShowHalfYearsButton:!0,ShowYearsButton:!0};return n.extend(t,this._aSC,!0),t.MaxDate=this._MaxDate,t.MinDate=this._MinDate,t.CurrentDate=this.getDateTimeEdit().getCurrentDate(),t.Mode=this.getMode(),t.ShowTime=this._ShowTime,t.Culture=this._Culture,t.IsRTL=this.getIsRTL(),t},r.prototype.setIsHovered=function(n){this._ShowCheckBox&&!this._CurrentDate&&n||t.prototype.setIsHovered.apply(this,arguments)},r.prototype.setValue=function(n,t){this.setCurrentDate(n,t)},r.prototype.getValue=function(){return this.getCurrentDate()},r.prototype.setEnableEdit=function(){this._DateTimeEdit.setEnableEdit(this._EnableEdit)},r.prototype.getEnableEdit=function(){return this._DateTimeEdit.getEnableEdit()},r.prototype.setRevertToPrevious=function(n){this._DateTimeEdit.setRevertToPrevious(n)},r.prototype.getRevertToPrevious=function(){return this._DateTimeEdit.getRevertToPrevious()},r.prototype.getCalendar=function(t){return n.Ui.DateTimePicker.getGlobalCalendar(this,t)},r.prototype.setEnabled=function(n){t.prototype.setEnabled.apply(this,arguments),this._DateTimeEdit.setEnabled(n),this._NullCheckBox.setEnabled(n),!n&&this._i9()&&this.getDropPanel().hide(),n&&this._bIO(this._NullCheckBox,{})},r.prototype.setIsRTL=function(i){t.prototype.setIsRTL.call(this,i),this._DateTimeEdit.setIsRTL(i),n.IsIE&&n.IEVer<=9&&(this._DomNode.style.cssText=this._DomNode.style.cssText)},r.prototype.setShowCheckBox=function(n){this._ShowCheckBox=!!n,this._ShowCheckBox?(this._NullCheckBox.addToNode(this._DomNode,this._DomNode.firstChild),this.addClass("PPCheck")):(this._NullCheckBox.removeFromDOM(),this.removeClass("PPCheck")),this._CurrentDate||this.setValue(new window.Date),this.setWidth(this._Width||this._DomNode.offsetWidth)},r.prototype.getChecked=function(){return this._NullCheckBox.getChecked()},r.prototype.setChecked=function(n){this.setShowCheckBox(!0),this._NullCheckBox.setChecked(n)},r.prototype.getDropHeight=function(){return this.getDropPanel().getHeight()},r.prototype.getDropWidth=function(){return this.getDropPanel().getWidth()},r.prototype.setShowTime=function(n){n=n==!0,this._ShowTime!=n&&(this._ShowTime=n,this._DateTimeEdit.setShowTime(n),this._auk=!0)},r.prototype.getCurrentDate=function(){return new window.Date(this._CurrentDate.toString())},r.prototype.setCurrentDate=function(n,t){var r,i,u,f;this._CurrentDate=n,r=!1,i=this._DateTimeEdit.DateTimeChanged,t===!1&&i&&i.suspend(),u=this._ji,f=this._amq,this._DateTimeEdit.setCurrentDate(n),t||(this._ji=u,this._amq=f),t===!1&&!r&&i&&i.resume(),this._eM(t,!1,0),this._auk=!0},r.prototype.getMinDate=function(){return this._MinDate},r.prototype.setMinDate=function(n){if(!(n instanceof window.Date)&&n!==null)throw new Error("incorrect type");n===null&&(n=new window.Date(this._MinDateConst.getTime())),this._CurrentDate.getTime()<n.getTime()&&this.setCurrentDate.apply(this,arguments),this._DateTimeEdit.setMinDate(n),this._MinDate=new window.Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),0,0),this._auk=!0},r.prototype.getMaxDate=function(){return this._MaxDate},r.prototype.setMaxDate=function(n){if(!(n instanceof window.Date)&&n!==null)throw new Error("incorrect type");n===null&&(n=new window.Date(this._MaxDateConst.getTime())),this._CurrentDate.getTime()>n.getTime()&&this.setCurrentDate.apply(this,arguments),this._DateTimeEdit.setMaxDate(n),this._MaxDate=new window.Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),0,0),this._auk=!0},r.prototype.setMode=function(n){this._DateTimeEdit.setMode(n)},r.prototype.getMode=function(){return this._DateTimeEdit.getMode()},r.prototype.getMonthNames=function(){return this._DateTimeEdit.getMonthNames()},r.prototype.setMonthNames=function(n){this._DateTimeEdit.setMonthNames(n)},r.prototype.setShowButtons=function(n){this._DateTimeEdit.setShowButtons(n)},r.prototype.getShowButtons=function(){return this._DateTimeEdit.getShowButtons()},r.prototype.setWidth=function(){var u,e,f;t.prototype.setWidth.apply(this,arguments),this._NullCheckBox&&(u=this._NullCheckBox.getDomNode(),this._aSD||(this._aSD=u.offsetWidth),e=this._aSD+this._g(n.getStyle(u,"margin-left"))+this._g(n.getStyle(u,"margin-right")),f=this._g(this._Width)-(this._ShowCheckBox?e||this._bIP:0)||"",f!==""&&(f=f+"px")),this._EnableEdit||this._p4()},r.prototype.addToNode=function(){t.prototype.addToNode.apply(this,arguments),this.setWidth(this._Width)},r.prototype.showDropPanel=function(){var i,f,u;if(this.getEnabled()){if(this._ShowCheckBox&&this._CurrentDate===null&&this._NullCheckBox.getEnabled()&&this._NullCheckBox.getChecked()===!1)return;if(i=this.getDropPanel(),this._aD1&&(this._aD1=!1,this._auk=!1,this._cvi=this._Mode),i.Opened.add(this._bIR,this),t.prototype.showDropPanel.call(this),i.Opened.remove(this._bIR,this),this._Width=0,this._i9()){f=i.getDomNode(),f.className=f.className;var e=document.documentElement.clientHeight,h=n.calculateOffset(i.getDomNode()),s=i.getDomNode(),r=s.offsetHeight,c=s.offsetWidth,o=n.calculateOffset(this._DomNode);this._IsRTL&&i.setCoords({X:o.X-c+this.getWidth(),Y:i.getCoords().Y}),u=i.getCoords().X,h.Y+r>e&&(r>e?i.setCoords({X:u,Y:0}):o.Y-r>0?i.setCoords({X:u,Y:o.Y-r}):i.setCoords({X:u,Y:e-r})),i.setFocus()}}},r.prototype.applyValidCSS=function(){this._DateTimeEdit.applyValidCSS()},r.prototype.applyNotValidCSS=function(){this._DateTimeEdit.applyNotValidCSS()},r.prototype.setStyle=function(n){t.prototype.setStyle.apply(this,arguments),this._DateTimeEdit.setStyle(n)},r.prototype.getDropPanel=function(){var i=this.getIsDropPanelCreated(),n=t.prototype.getDropPanel.call(this);return i||(n.removeClass("PPComboDropPanel"),n.getDomNode().className+=" "+this._cu9,n.Closed.add(this._bIS,this)),n},r.prototype.dispose=function(){if(this.isLive()){this.getDropPanel().Closed.remove(this._bIS,this);var i=n.Ui.DateTimePicker._DTPCollection||[],r=i.indexOf(this);r>-1&&i.splice(r,1),this.getDropPanel().getContent()&&this.getDropPanel().setContent(null),t.prototype.dispose.call(this),i.length===0&&n.Ui.DateTimePicker._GlobalCalendar&&n.Ui.DateTimePicker._GlobalCalendar.dispose(),n.Ui.DateTimePicker._DTPCollection=i}},r.getGlobalCalendar=function(t,i){var u=t.getCalendarSettings(),r=n.Ui.DateTimePicker._GlobalCalendar;return r&&r instanceof n.Ui.Control&&r.isLive()||(n.Ui.DateTimePicker._GlobalCalendar=new n.Ui.MonthCalendar),n.Ui.DateTimePicker._GlobalCalendar.setSettings(u),i||(n.Ui.DateTimePicker._DTPCollection=n.Ui.DateTimePicker._DTPCollection||[],n.Ui.DateTimePicker._DTPCollection.indexOf(t)<0&&n.Ui.DateTimePicker._DTPCollection.push(t)),n.Ui.DateTimePicker._GlobalCalendar},r}(t.Combo);t.DateTimePicker=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function f(t){var i=r.call(this,t)||this;return i._agg="PPMaskEditInput",i._atv="PPMaskEditInputNotValid",i._agh="PPMaskEditInputTd",i._cvj="PPMaskEditInputTdNotValid",i._ValidState=!1,i._LastValidValue=null,i._ChangedTimeout=null,n.Ui.clipboard.Pasted.add(i._u6,i),i._render(),i}return i(f,r),f.prototype._e=function(){r.prototype._e.call(this),this._defineEvents(["Change","ValueChanged","AfterTimeout","Blur"]),this._Mask="_*",this._MaskSymbols="",this._RegExpContent=".*",this._AfterChangeDelay=n.Ui.DEFAULT_TIMEOUT,this._MaxLength=-1},f.prototype._render=function(){var i="<table cellspacing='0' cellpadding='0' border='0' class='PPMaskEditTable'><tbody><tr><td><input type='text' value='_' /><\/td><\/tr><\/tbody><\/table>",t;this._initFromHTML(i),n.IsIE&&this.addClass("IE"),n.IsSafari&&this.addClass("Safari"),n.IsFF&&this.addClass("FF"),this._o=this._DomNode.getElementsByTagName("input")[0],this._aum=this._o.parentNode,this._o.className=this._agg,this._aum.className=this._agh,this._o.disabled=!this.getEnabled(),r.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode),t=this._Mask,this._Mask=null,t&&this.setMask(t),this._Value&&this._Value!=0?this.setValue(this._Value,!0):(this._Value=null,this._LastValidValue=null)},f.prototype._bindEvents=function(){this._cQ||(r.prototype._bindEvents.call(this),this._bV(this._o,{selectstart:this._bbs,select:this._bbr,paste:this._aSu,cut:this._cvk,drop:this._aSu,dragstart:this._bbq,keyup:this._agi,keydown:this._on,keypress:this._yp,blur:this._qj,focus:this._m4,mouseup:this._sp,mousedown:this._atw,contextmenu:this._cvl,mousemove:this._aSE}))},f.prototype._unBindEvents=function(){r.prototype._unBindEvents.call(this),this._d7(this._o)},f.prototype._cvm=function(){for(var u=this.getMask(),f=this.getMaskSymbols(),e=/[adcADC]/,t="",r,i,n=0;n<u.length;n++)r=u.charAt(n),i=f.charAt(n),t+=r==="_"?i&&e.test(i)?i.toLowerCase():"a":r;return t},f.prototype._sG=function(n){var t,r,a,c,l,e,y;if(!this._o.DataObject){if(n&&this._o.value=="")return!1;if(t=this._o.DataObject=new u,t.EditorNode=this._o,this._LastValidValue=this._o.value,this.getRegExpContent()==null)return;if(t.RegExpContent=this.getRegExpContent(),this.getMask()==null)return;t.Mask=this.getMask(),t.MaskSymbols=this._cvm(),this._o.value&&this._o.value!=""||(this._o.value=this._amr()?"":t.Mask.replace(/\*/g,""));var v=t.Mask,p=t.MaskSymbols,w=v.length;t.SplittersArr=[],t.MaskArr=[],t.MaskSymbolsArr=[],t.MaskFlex=[];for(var i="",s="",f="",h=!1,o=0;o<w;o++)r=v.charAt(o),a=p.charAt(o),r=="_"||r=="*"?(f.length>0&&(t.SplittersArr.push(f),f=""),c=!1,r=="*"&&i.length>0&&i.charAt(i.length-1)=="_"?(c=!0,h=!0):r=="_"&&(i.length==0||i.charAt(i.length-1)=="_")&&(c=!0),c&&(i+=r,s+=a!=="*"?a:"")):((i.length>0||t.MaskArr.length==0)&&(t.MaskArr.push(i),t.MaskSymbolsArr.push(s),t.MaskFlex.push(h),i="",s="",h=!1),f+=r);f.length>0&&(t.SplittersArr.push(f),t.MaskArr.push(""),t.MaskSymbolsArr.push(""),t.MaskFlex.push(!1)),i.length>0&&(t.MaskArr.push(i),t.MaskSymbolsArr.push(s),t.MaskFlex.push(h)),l=this.getData(),t.getPartsValue(),l.EditorValue||(l.EditorValue=this.getEditorValue()),l.RenderCounter=0}return this._MaxLength>-1&&(e=this.getData(),y=e.EditorValue,e.EditorValue=e.EditorValue.substring(0,this._MaxLength),y!==e.EditorValue&&this._ams(e.EditorValue,0)),!0},f.prototype._fn=function(){var n=this.getData();n.RenderCounter==0&&(n.CaretPosItem=this._amm()),n.RenderCounter++,n.EditorValue||(n.EditorValue=this.getEditorValue())},f.prototype._eC=function(n,t,i){var r=this.getData(),u,f;r.RenderCounter--,typeof n=="string"&&(r.EditorValue=n),r.RenderCounter<=0&&(r.RenderCounter=0,u=this.getEditorValue(),f=r.EditorValue+"",(u!=f||i)&&this._ams(r.EditorValue,i),this._amn(r.CaretPosItem))},f.prototype._cvn=function(n){for(var u=this.getData(),r=this._f0(),i=u.CaretPosItem,h=u.EditorValue,f=-1,c=0,l=h.length-1,e=-1,o=n.DataObject.SplittersArr,a=o.length,s,t=0;t<a;t++){if(e=h.indexOf(o[t],f+1),t==i)break;c=f+1,l=e-1,f=e+o[t].length-1}s=!0,r<=0?s=!1:(i>0&&i--,r=c),s&&(u.CaretPosItem=i,this._eQ(!1),n.LastSelected=i,n.CaretPos=r,this._fm(r))},f.prototype._cvo=function(n){for(var h=this.getData(),r=this._f0(),t=h.CaretPosItem,u=h.EditorValue,c=0,l=u.length-1,f=n.DataObject.SplittersArr,e=f.length,o=-1,s=u.indexOf(f[0],o+1),a,i=0;i<e-1;i++)if(o=s+f[i].length-1,s=u.indexOf(f[i+1],o+1),i==t){c=o+1,l=s;break}e!=0&&t>=e-1&&(c=s+f[e-1].length,l=u.length-1),a=!0,r>=u.length?a=!1:t<e?(t++,r=c):r=l,a&&(h.CaretPosItem=t,this._eQ(!1),n.LastSelected=t,n.CaretPos=r,this._fm(r))},f.prototype._dDU=function(n){for(var f=this.getData(),l=this._f0(),t=f.CaretPosItem,a=f.EditorValue,r=-1,e=0,o=-1,u=n.DataObject.SplittersArr,v=u.length,s,h,c,i=0;i<v;i++){if(s=a.indexOf(u[i],r+1),i==t){e=r+1,o=s-1;break}r=s+u[i].length-1}(v==0||r!=-1&&o==-1)&&(e=r+1,o=a.length-1),h=!0,c=1,this._fn(),l<=0?h=!1:l==e&&t>0&&(t--,c=u[t].length),h&&(f.CaretPosItem=t,this._eQ(!1),n.LastSelected=t),this._eC(!1,!1,-c)},f.prototype._bIU=function(n){for(var e=this.getData(),l=this._f0(),t=e.CaretPosItem,o=e.EditorValue,r=-1,a=-1,u=-1,f=n.DataObject.SplittersArr,v=f.length,s,h,c,i=0;i<v;i++){if(s=o.indexOf(f[i],r+1),i==t){a=r+1,u=s-1;break}r=s+f[i].length-1}(v==0||r!=-1&&u==-1)&&(a=r+1,u=o.length-1),h=!0,c=1,this._fn(),l>=o.length?h=!1:l>u&&t<n.DataObject.SplittersArr.length&&(t++,c=f[t-1].length),h&&(e.CaretPosItem=t,this._eQ(!1),n.LastSelected=t),this._eC(!1,!1,c)},f.prototype._cvp=function(n,t){var l=this.getData(),p=n.keyCode?n.keyCode:n.which,f=this._f0(),s=l.CaretPosItem,r=l.EditorValue,a=this._eB(),w=a.Start===a.End,c,y;if(w&&(f>=r.length&&!t.DataObject.MaskFlex[t.DataObject.MaskFlex.length-1]||this._MaxLength>-1&&r.length>this._MaxLength))return!1;for(var u=-1,v=-1,e=-1,o=t.DataObject.SplittersArr,h=o.length,i=0;i<h;i++){if(c=r.indexOf(o[i],u+1),i==s){v=u+1,e=c-1;break}u=c+o[i].length-1}return(h==0||u!=-1&&e==-1)&&(v=u+1,e=r.length-1),f>e&&(y=s<h?o[s].length:1,r.charCodeAt(f)==p&&this._fm(f+y)),!0},f.prototype._cvl=function(n,t){if(this._Enabled)r.prototype._a7.call(this,n,t),t.Event.stopPropagation();else return!1},f.prototype._qj=function(n,t){var i=this.getData();return i.Focused=!1,this._sG(),this._o.FocusFromMouse=!1,this._eQ(!0),this._bbE||(this._eM(!0,!1,0),this.Blur.fire(this,t)),!1},f.prototype._bbq=function(){return!1},f.prototype._m4=function(n,t){var r=t.Event,i=this._o,u;return this._sG(!1),u=this.getData(),u.Focused=!0,this._fn(),isNaN(i.LastSelected)||(u.CaretPosItem=i.LastSelected),i.FocusFromMouse||(isNaN(i.CaretPos)&&(i.CaretPos=i.value.length),this._fm(i.CaretPos)),this._eC(),r.preventDefault?r.preventDefault():r.returnValue=!1,!1},f.prototype._on=function(t,i){var u=!1,r=i.Event,f=this._o,e,o,s;if(this._sG(!1),e=r.keyCode?r.keyCode:r.which,!r.altKey){o=this._eB();switch(e){case 9:u=!0;break;case 13:this._eQ(!0),this._eM(!0,!1,0);break;case 8:if(o.End!=o.Start)for(s=o.End-1;s>=o.Start;s--)this._yS(f,null,!0,!0);else this._yS(f,null,!0,!0);n.IsChrome&&this._aSF();break;case 46:this._cvq();break;case 16:break;case 33:this._cvn(f);break;case 34:this._cvo(f);break;case 35:if(r.shiftKey)return;u=!0;break;case 36:if(r.shiftKey)return;u=!0;break;case 37:if(r.shiftKey)return;u=!0;break;case 39:if(r.shiftKey)return;u=!0;break;default:if(!this._aSG(e))return;u=r.shiftKey&&e==45||r.ctrlKey&&e==86?!0:this._cvp(r,f)}}u||r.preventDefault()},f.prototype._yp=function(t,i){var r=i.Event,f=r.keyCode?r.keyCode:r.which,o,u,e;switch(f){case 9:case 8:case 13:break;default:if(r.charCode===0||r.which===0)return;if(o=window.String.fromCharCode(f),u=this._eB(),u.Start!=u.End){for(e=u.End-1;e>=u.Start;e--)this._yS(this._o,null,!0,!0);this._fm(u.Start)}this._aSG(f)&&this._yS(this._o,o),n.IsChrome&&this._aSF()}r.preventDefault()},f.prototype._agi=function(n,t){var i=t.Event,r=i.keyCode?i.keyCode:i.which;return r!=9?!1:!0},f.prototype._atw=function(n,t){var i=this._o;return this._sG(),i.FocusFromMouse=!0,document.all||t.Event.which!==1||(this._aD2=!1,i.selectionEnd=i.selectionStart,this._aD2=!0),!0},f.prototype._aSE=function(){return!0},f.prototype._sp=function(){var i=this._o,r;return i.disabled?!1:this._sG(!0)?(i.CaretPos=this._f0(),r=this._amm(),this.getData().CaretPosItem=r,this._sG(),!0):!1},f.prototype._bbr=function(){return},f.prototype._bbs=function(){return},f.prototype._cvk=function(t,i){var l=this._o,o=this._eB(),u=o.Start,s=o.End,a=l.value.substr(u,s-u)||"",f=this._o.Data.EditorValue,h,c,e,r;for(this._fm(s),r=0;r<a.length;r++){if(h=this._f0(),h<=u)break;this._yS(this._o,null,!0,!0)}for(n.IsChrome&&this._aSF(),c=this._o.Data.EditorValue,e="",r=0;r<f.length;r++)f[r]!==c[r]&&(e+=f[r]);n.Ui.clipboard.copy(e),i.Event.preventDefault()},f.prototype._u6=function(t,i){var r,s,h,f;if(this._DomNode.contains(i.Target)){var e=i.TextValue,u=this._eB(),o=-1;for(u.Start!==u.End&&(o=u.End,this._fm(u.Start)),r=0;r<e.length;r++){if(s=this._f0(),s===o)break;h=e.charCodeAt(r),f=this._aSG(h),f&&(f=this._yS(this._o,e[r])),f||this._bIU(this._o)}n.IsChrome&&this._aSF()}},f.prototype._aSu=function(n,t){t.Event.preventDefault()},f.prototype._aSF=function(n){var t=n||this._f0(),i=this._o.value,r;return this._o.value=i.substr(0,t),r=this._o.scrollWidth,this._o.value=i,this._o.scrollLeft=r-this._o.offsetWidth,this._fm(t),this},f.prototype._cvq=function(){var n=this._eB(),t=this._o.value,r=0,u;n.Start==n.End&&(n.End=n.Start+1,n.End>t.length&&(n.End=t.length),r=1);var f=t.substring(0,n.Start),e=t.substring(n.End),o=this._o.DataObject,i=o.Mask.substring(n.Start,n.End);i=i.replace("*",""),this._amr()&&(i="",r=0),u=[f,i,e].join(""),this._fn(),this._eC(u,!1,r)},f.prototype._yS=function(n,t,i,r){var b,k;if(n.disabled)return!1;var y=this.getData(),h=n.DataObject,u=this._f0(),f=this._amm();y.CaretPosItem=f;for(var e=h.DatePartValues[f],a=h.MaskSymbolsArr[f],c=y.EditorValue,p=-1,o=-1,s=-1,w=h.SplittersArr,d=w.length,l,v=0;v<d;v++){if(b=c.indexOf(w[v],p+1),v==f){o=p+1,s=b-1;break}p=b+w[v].length-1}if((d==0||p!=-1&&s==-1)&&(o=p+1,s=Math.max(c.length-1,0)),i)u==o?r?f>0&&(this._fn(),f--,y.CaretPosItem=f,this._eC(),this._fm(u-h.SplittersArr[f].length),this._yS(n,t,i,r)):h.MaskFlex[f]&&(this._fn(),e=s-o==0?"_":c.substr(o+1,s-o),e=="_"&&this._amr()&&(e=""),this._amo(f,e),this._eC()):(this._fn(),r?u-o==1?e=s-o==0?"_":(h.MaskFlex[f]?"":"_")+c.substr(u,s-o):u-s>=1?e=s-o<0?"":s-o==0?"_":c.substr(o,s-o)+(h.MaskFlex[f]?"":"_"):(e=c.substr(o,u-o-1)+(h.MaskFlex[f]?"":"_"),u<=s&&(e+=c.substr(u,s-u+1))):h.MaskFlex[f]&&s-u>=0&&(e=c.substr(o,u-o),u<s&&(e+=c.substr(u+1,s-u))),e=="_"&&this._amr()&&(e=""),this._amo(f,e),this._eC(),this._fm(u+(r?u-s>1?s-u:-1:0)));else if(u>s)if(h.MaskFlex[f]&&u-s==1){if(l=a.charAt(a.length-1),this._MaskSymbols&&!this._bbF(t,l))return!1;this._fn(),e[e.length-1]=="_"&&(e=e.substr(0,e.length-1)),w[f]&&w[f]==t||(e+=t),this._amo(f,e),this._eC(),this._fm(u+1)}else return f<h.SplittersArr.length&&h.MaskArr[f+1].length>0?(this._fn(),f++,y.CaretPosItem=f,this._eC(),this._fm(s+1+h.SplittersArr[f-1].length),this._yS(n,t)):!1;else{if(u==o){if(l=a.charAt(0),this._MaskSymbols&&!this._bbF(t,l))return!1;e=!h.MaskFlex[f]||c.charAt(o)=="_"||this._amr()?t+(s-o>=1?c.substr(o+1,s-o):""):t+e}else{if(l=a.charAt(u-o),l||(l=a.charAt(a.length-1)),this._MaskSymbols&&!this._bbF(t,l))return!1;h.MaskFlex[f]&&c.charAt(u)!="_"?e=c.substr(o,u-o)+t+c.substr(u,s-u+1):(e=c.substr(o,u-o)+t,u<s&&(e+=c.substr(u+1,s-u)))}k=1,this._fn(),this._amo(f,e),u==s&&f<h.SplittersArr.length&&!h.MaskFlex[f]&&(f++,y.CaretPosItem=f,k+=h.SplittersArr[f-1].length),this._eC(),this._fm(u+k)}return!0},f.prototype._f0=function(){if(document.selection){var n=document.selection.createRange();return n.moveStart("character",-this.getData().EditorValue.length),(n.text+"").length}try{return this._o.selectionEnd}catch(t){if(t.name=="NS_ERROR_FAILURE")return 0;throw t;}},f.prototype._fm=function(n){var t=this._o,f=this.getData(),u=f.EditorValue.length,i,r;t.setSelectionRange&&navigator.userAgent.indexOf("Opera/")>-1?t.setSelectionRange(n,n):t.createTextRange?(i=t.createTextRange(),i.moveStart("character",-u),i.moveEnd("character",-u),i.moveEnd("character",n),i.collapse(!1),i.select()):(this._aD2=!1,t.selectionStart=n,t.selectionEnd=t.selectionStart,this._aD2=!0),r=this._amm(),this.getData().CaretPosItem=r,this._amn(r)},f.prototype._eB=function(){var n=null,t=null;if(document.selection){var i=document.selection.createRange(),u=(i.text+"").length,r=this._o.value.length,f=i.moveStart("character",r);n=r-f,t=n+u}else try{n=this._o.selectionStart,t=this._o.selectionEnd}catch(e){if(e.name=="NS_ERROR_FAILURE")n=0,t=0;else throw e;}return{Start:n,End:t}},f.prototype._amm=function(){for(var t=this._o,f=this._f0(),e=this.getData().EditorValue,u=-1,i=0,r,n=0;n<t.DataObject.SplittersArr.length;n++){if(r=e.indexOf(t.DataObject.SplittersArr[n],u+1),f<=r+t.DataObject.SplittersArr[n].length-1){i=n;break}i=n+1,u=r+t.DataObject.SplittersArr[n].length-1}return i},f.prototype._amn=function(n){var f=this._o,e,r,c=this.getData(),t,i,u,s,o,h;if(c.Focused){if(document.selection){for(f.focus(),u=c.EditorValue,o=-u.length,r=-u.length,i=-1,h=f.DataObject.SplittersArr,s=h.length,t=0;t<s;t++){if(e=u.indexOf(h[t],i+1),t==n){t>0?(o=i+1,r=e-o):r=e;break}i=e+h[t].length-1}(s==0||i!=-1&&r==-u.length)&&(o=i+1,r=u.length-o)}else{for(f.focus(),u=c.EditorValue,o=0,r=0,i=-1,t=0;t<f.DataObject.SplittersArr.length;t++){if(e=u.indexOf(f.DataObject.SplittersArr[t],i+1),t==n){t>0?(o=i+1,r=e):r=e;break}i=e+f.DataObject.SplittersArr[t].length-1}(s==0||i!=-1&&r==0)&&(o=i+1,r=u.length)}f.LastSelected=n,f.CaretPos=this._f0()}},f.prototype._aSv=function(){this._fn();var n=this.getData().CaretPosItem;return this._eC(),n},f.prototype._cuY=function(){this._fn();var t=this.getData(),n="0";return t.CaretPosItem=n,this._eC(),n},f.prototype._amo=function(n,t,i){var r=this._o.DataObject,u,f,e;this._fn(),u=this.getData(),f=0,i||(f=u.CaretPosItem),r.getPartsValue(),r.DatePartValues[n]=t,r.DatePartLengths[n]=t.length,e=r.getValue(),i||(u.CaretPosItem=f),this._eC(e)},f.prototype._eQ=function(n){var h;n=n==!0,n&&this._fn();var u=this.getData(),c=u.CaretPosItem,r=this._o.DataObject,f=!1;r.getPartsValue();for(var e=r.DatePartValues,o=e.length,l=r.SplittersArr,t="",s,i=0;i<o;i++)s=e[i]+"",t=t+s,i<o-1&&(t=t+l[i]);return h=new RegExp(r.RegExpContent),this._ValidState=h.test(t),this._ValidState?(this.applyValidCSS(),this._LastValidValue=t,f=!0):this._LastValidValue&&n?t=this._LastValidValue:this.applyNotValidCSS(),n&&(u.RenderCounter==0&&(u.CaretPosItem=c),this._eC(t),f=!0),f},f.prototype._a9o=function(){if(this._AllowedSymbols){var i=this.getEditorValue(),n=i.length,r=this._f0(),t;for(this._fm(n);n>0;)t=i.substr(n-1,1),this._Mask.indexOf(t)<0?(t=t.charCodeAt(0),this._aSG(t)?this._fm(n-1):this._yS(this._o,null,!0,!0)):this._fm(n-1),n=this._f0();this._fm(r)}},f.prototype._eM=function(t,i,r,u){t=typeof t=="undefined"?!0:t==!0,this._agf&&n.clearTimeout(this._agf),n.isObject(u)||(u=new n.EventArgs),r===0?this._gY({fireEvents:t,reInit:i,args:u}):r!==null&&(this._agf=n.setTimeout(this._gY,r,{fireEvents:t,reInit:i,args:u},this))},f.prototype._gY=function(n){if(this.isLive()){var i=this.getValue(),t=n.args;t.OldValue=this._e2,t.NewValue=i,n.fireEvents&&(this._e2!=i||n.reInit)&&(this.Change.fire(this,t),this.ValueChanged.fire(this,t),this.AfterTimeout.fire(this,t)),this._e2=i}},f.prototype._aSG=function(t){var r,i;if(!this._AllowedSymbols)return!0;if(r=n.String.fromCharCode(t),this._AllowedSymbols instanceof RegExp)return this._AllowedSymbols.test(r);for(i=0;i<this._AllowedSymbols.length;i++)if(r===this._AllowedSymbols[i])return!0;return!1},f.prototype._bbF=function(t,i){var u=(i+"").toUpperCase().charAt(0),r=n.Ui.MaskEdit.MASK_SYMBOLS_CLASSES[u];return r instanceof RegExp?r.test(t):!1},f.prototype._amr=function(){return this._Mask==="_*"},f.prototype._cvr=function(n){var t=this._RegExpContent instanceof RegExp?this._RegExpContent:new RegExp(this._RegExpContent);return t.test(n)},f.prototype._ams=function(t,i){var r=this._o,u=this._f0(),f=new n.EventArgs;r.value=t,this._fm(u+(i?i:0)),this._eQ(!1)&&this._eM(!this._bbE,!1,this._AfterChangeDelay,f)},f.prototype.getLastValidValue=function(){return this._LastValidValue},f.prototype.getValidState=function(){return this._ValidState},f.prototype.getRegExpContent=function(){return this._RegExpContent},f.prototype.getMask=function(){return this._Mask},f.prototype.getMaskSymbols=function(){return this._MaskSymbols},f.prototype.getAllowedSymbols=function(){return this._AllowedSymbols},f.prototype.getAfterChangeDelay=function(){return this._AfterChangeDelay},f.prototype.setAfterChangeDelay=function(n){this._AfterChangeDelay=n},f.prototype.getData=function(){var n=this._o;return n.Data||(n.Data={Focused:!1,CaretPosItem:"0",RenderCounter:0,EditorValue:this.getEditorValue()}),n.Data},f.prototype.blur=function(){this._o.blur()},f.prototype.applyValidCSS=function(){this._o.className!=this._agg&&(this._o.className=this._agg),this._aum.className!=this._agh&&(this._aum.className=this._agh)},f.prototype.applyNotValidCSS=function(){var n=this._agg+" "+this._atv,t=this._agh+" "+this._cvj;this._o.className!=n&&(this._o.className=n),this._aum.className!=t&&(this._aum.className=t)},f.prototype.setFocus=function(){return this._o.focus(),this},f.prototype.setEnabled=function(n){return r.prototype.setEnabled.call(this,n),this._o&&(this._o.disabled=n!=!0),this},f.prototype.getContent=function(){return this.getLastValidValue()},f.prototype.getValue=function(){return this.getLastValidValue()},f.prototype.setValue=function(t,i,r){var s,u,f,e,h,o;if(t=t+"",this._bbE=!0,r=r?r:!0,this._cvr(t)){for(s=this.getValue(),this._o.Data=null,this._o.removeAttribute("disabled"),this._o.value="",u=n.htmlToDOM('<div style="position: absolute; left: -1000px; top: -1000px;"><\/div>'),u.appendChild(this._o),document.body.appendChild(u),f=this._o.DataObject,f.SplittersArr[0]&&t.indexOf(f.SplittersArr[0])==0?this._fm(f.SplittersArr[0].length):this._fm(0),e=0;e<t.length;e++)h=this._f0(),this._yS(this._o,t[h])||this._bIU(this._o);this._Enabled!=!0&&this._o.setAttribute("disabled","true"),this._sG(),r&&this._a9o(),this._eQ(!1),i!==!0&&(this._e2=s,o={},r&&(o.RestrictValue=this.getEditorValue()),this._eM(!0,!1,0,o)),this._aum.appendChild(this._o),u.parentNode.removeChild(u)}delete this._bbE},f.prototype.setContent=function(n,t,i){this.setValue(n,t,i)},f.prototype.getEditorValue=function(){var t=this._o,n;return n=t.value+"",n==""&&(n=this._amr()?"":this._Mask.replace(/\*/g,""),t.value=n),n},f.prototype.setRegExpContent=function(n){this._RegExpContent!=n&&(this._RegExpContent=n,this._o.DataObject=null,this._o.Data=null,this._sG(),this._eQ(!1))},f.prototype.setMask=function(n){this._Mask!=n&&(this._Mask=n,this._o.value=this._amr()?"":this._Mask.replace(/\*/g,""),this._o.DataObject=null,this._o.Data=null,this._sG(),this._eQ(!1))},f.prototype.setMaskSymbols=function(n){this._MaskSymbols!=n&&(this._MaskSymbols=n,this._o.DataObject=null,this._o.Data=null,this._sG(),this._eQ(!1))},f.prototype.setMaxLength=function(t){n.isNumber(t)&&this._MaxLength!==t&&(this._MaxLength=t,this._o.DataObject=null,this._o.Data=null,this._sG(),this._eQ(!1))},f.prototype.getMaxLength=function(){return this._MaxLength},f.prototype.setWidth=function(){r.prototype.setWidth.apply(this,arguments),this._BorderConteiner&&(this._BorderConteiner.style.width=this._Width!==""&&this._Width?this._Width+"px":"")},f.prototype.setHeight=function(){r.prototype.setHeight.apply(this,arguments),this._BorderConteiner&&(this._BorderConteiner.style.height=this._Height!==""&&this._Height?this._Height==="auto"?this._Height:this._Height+"px":"")},f.prototype.addToNode=function(){r.prototype.addToNode.apply(this,arguments),this._BorderConteiner&&(this._BorderConteiner.appendChild(this._DomNode),this.setWidth(this._Width),this.setHeight(this._Height))},f.prototype.hide=function(){r.prototype.hide.apply(this,arguments),this._BorderConteiner&&n.hide(this._BorderConteiner)},f.prototype.show=function(){r.prototype.show.apply(this,arguments),this._BorderConteiner&&n.show(this._BorderConteiner)},f.prototype.setAllowedSymbols=function(n){this._AllowedSymbols!=n&&(this._AllowedSymbols=n,this._sG(!1),this._a9o(),this.setValue(this.getEditorValue(),!1,!1))},f.prototype.getFocused=function(){return this._o===document.activeElement},f.prototype.getSettings=function(){var n=r.prototype.getSettings.apply(this,arguments);return delete n.ScrollingMode,delete n.ValidState,delete n.LastValidValue,n},f.prototype.refreshStyle=function(){t.TextBox.prototype.refreshStyle.apply(this)},f.prototype.selectAll=function(){var n=this._o;n.focus(),n.setSelectionRange(0,n.value.length)},f.prototype.dispose=function(){this.isLive()&&(this._o.DataObject=null,this._o.Data=null,r.prototype.dispose.call(this))},f}(t.Control),u;r.MASK_SYMBOLS_CLASSES={A:/[a-zA-Zа-яёА-ЯЁ0-9]/,C:/[a-zA-Zа-яёА-ЯЁ]/,D:/[0-9]$/},t.MaskEdit=r,u=function(){function n(){this._aD3=0}return n.prototype._dDV=function(){this._aD3++},n.prototype._dDW=function(){this._aD3--,this._aD3<0&&(this._aD3=0)},n.prototype.getValue=function(){for(var t="",i=this.DatePartValues.length,r,n=0;n<i;n++)r=this.DatePartValues[n],t=t+r,n<i-1&&(t=t+this.SplittersArr[n]);return t},n.prototype.getStringValue=function(n,t){var r=this.DatePartLengths[n],i=t+"";if(!this.MaskFlex[n])while(i.length<r)i="0"+i;return i.length>r&&(this.DatePartLengths[n]=i.length),i},n.prototype.getCurrentPart=function(n){for(var e=this.EditorNode.value,i=0,r=0,u=-1,f,o,t=0;t<this.SplittersArr.length;t++){if(f=e.indexOf(this.SplittersArr[t],u+1),t==n){t>0?(i=u+1,r=f-i):r=f;break}u=f+this.SplittersArr[t].length-1}return(this.SplittersArr.length==0||u!=-1&&r==0)&&(i=u+1,r=e.length-i),o=e.substr(i,r)},n.prototype.getPartsValue=function(){var f;this.DatePartValues=new window.Array(this.SplittersArr.length+1),this.DatePartLengths=new window.Array(this.SplittersArr.length+1);for(var r=this.EditorNode.value,i=0,n=0,u=-1,e=this.SplittersArr.length,t=0;t<e;t++)f=r.indexOf(this.SplittersArr[t],u+1),t>0?(i=u+1,n=f-i):n=f,this.DatePartValues[t]=r.substr(i,n),this.DatePartLengths[t]=n,u=f+this.SplittersArr[t].length-1;this.SplittersArr.length==0?n=r.length:(i=u+1,n=r.length-i),this.DatePartValues[e]=r.substr(i,n),this.DatePartLengths[e]=n},n}()})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(i){var r=t.call(this,i)||this,f,u;return i&&i.CaptionString!=null&&r.setCaptionString(i.CaptionString),i&&i.CaptionStringNothing!=null&&r.setCaptionStringNothing(i.CaptionStringNothing),r._n9=new n.Ui.ToolTip({ParentNode:document.body}),r._mO=r._Editor,r._mO.MouseOver.add(r._p2,r),r._mO.MouseOut.add(r._p3,r),r._mO.setAfterChangeDelay(r._FindDelay),f=r._p4(),f&&(r._addEvent(f,"mouseover",r._p2),r._addEvent(f,"mouseout",r._p3)),r.setShowFindButton(r._ShowFindButton),u=r.getFindButton(),u.MouseDown.add(r._agj,r),u.MouseUp.add(r._aD4,r),u.MouseOver.add(r._aD5,r),u.MouseOut.add(r._aD6,r),r._TreeList.setIsRTL(r._IsRTL),r._agO(),r.updateCaption(),n.addClass(r._DomNode,r._bIV),r._aSH=!0,r}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._HideOnNodeClick=!1,this._CloseOnContentClick=!1,this._OpenToFocused=!1,this._OpenToSelected=!0,this._DropClass="PPTreeComboDrop",this._AutoFillCaption=!0,this._ShowFindButton=!0,this._FindDelay=n.Ui.DEFAULT_TIMEOUT,this._ResourceKey="TreeComboSelectedCount",this._CaptionString="",this._CaptionStringNothing="",this._ImagePath=n.ImagePath,this._defineEvents(["CaptionUpdating"]),this._bIV="PPTreeCombo",this._ey={IsCroped:!1},this._xL=!1},r.prototype._initFields=function(i){i=i||{};var r=i.TreeList||{};r.ParentNode=null,this._TreeList=null,r instanceof s?this._TreeList=r:this._aSI=this._TreeList=new s(r),this._TreeList.setEnableEdit(!1),this._TreeList.setEnableSearch(!1),delete i.TreeList,i.DropPanel=i.DropPanel||{},n.isDefined(i.DropPanel.MaxDropDownWidth)||(i.DropPanel.MaxDropDownWidth=n.Number.MAX_VALUE),n.isDefined(i.DropPanel.MinDropDownWidth)||(i.DropPanel.MinDropDownWidth=50),n.isDefined(i.DropPanel.MaxDropDownHeight)||(i.DropPanel.MaxDropDownHeight=n.Number.MAX_VALUE),n.isDefined(i.DropPanel.MinDropDownHeight)||(i.DropPanel.MinDropDownHeight=50),n.isDefined(i.DropPanel.Height)||(i.DropPanel.Height=230),i.OpenOnSideContentClick=i._OpenOnSideContentClick!==undefined?i._OpenOnSideContentClick:!0,t.prototype._initFields.apply(this,arguments)},r.prototype.getCaptionString=function(){return this._CaptionString},r.prototype.getCaptionStringNothing=function(){return this._CaptionStringNothing},r.prototype.getTreeList=function(){return this._TreeList},r.prototype.getHideOnNodeClick=function(){return this._HideOnNodeClick},r.prototype.getOpenToFocused=function(){return this._OpenToFocused},r.prototype.getOpenToSelected=function(){return this._OpenToSelected},r.prototype.getFindDelay=function(){return this._FindDelay},r.prototype.getAutoFillCaption=function(){return this._AutoFillCaption},r.prototype.setAutoFillCaption=function(n){this._AutoFillCaption=n},r.prototype._aW=function(n,i){t.prototype._aW.call(this,n,i),this.updateCaption()},r.prototype._p2=function(n,t){this._xL||this._xM(t.Event)},r.prototype._p3=function(){this._bIW()},r.prototype._aD5=function(){this._xL=!0,this._bIW()},r.prototype._aD6=function(t,i){this._xL=!1;var r=this._mO.getDomNode();n.reallyOut(r,i.Event)||this._xM(i.Event)},r.prototype._ae=function(){this._lK(),n.IsiPad||n.IsiPhone||this._TreeList.setFocus()},r.prototype._bbG=function(){this._TreeList.setSize(this.getDropPanel().getWidth()-6,this.getDropPanel().getHeight()-6)},r.prototype._lK=function(){this._TreeList.setSize(this.getDropPanel().getWidth()-6,this.getDropPanel().getHeight()-6)},r.prototype._aun=function(n,t){var r=t&&t.Event&&t.Event.which===3,i=!r,u;this._TreeList.getRightButtonSelect()===!0&&r===!0&&(u=this.getDropPanel().getContextMenu()||this.getDropPanel().getContent()&&this.getDropPanel().getContent().getContextMenu(),i=u?!1:!0),this._HideOnNodeClick&&i&&this.closeDropPanel()},r.prototype._cS=function(){this._AutoFillCaption&&this.updateCaption()},r.prototype._asM=function(){this._TreeList.clearSelection()},r.prototype._agO=function(){this._TreeList.SelectionChanging.add(this._aun,this),this._TreeList.SelectionChanged.add(this._cS,this)},r.prototype._aSJ=function(){this._TreeList.NodeClick&&(this._TreeList.NodeClick.remove(this._aun,this),this._TreeList.SelectionChanged.remove(this._cS,this))},r.prototype._h3=function(n,i){var u=this._TreeList.getContextMenu(),f=u&&u.getDomNode(),r;if(this._TreeList.hideSearch(),f)for(r=i.Event.target;r&&r.parentNode;){if(r==f)return;r=r.parentNode}t.prototype._h3.call(this,n,i)},r.prototype._agj=function(t,i){if(n.IsiPad||n.IsiPhone)return!0;if(!this._ea&&i.Event.which===n.MouseButton.Left&&this._ShowFindButton&&!this._ea)return this.showSearch(),!0;this._ea=="cross"&&(this.getTextBox().setValue(""),this._sI("find")),n.setTimeout(this._bbH,30,{Self:this})},r.prototype._aD7=function(t){var i=t.Self;if(!i._ea&&t.Event.which===n.MouseButton.Left&&i._ShowFindButton&&!i._ea){i.showSearch();return}i._ea=="cross"&&this._sI("find"),n.setTimeout(i._bbH,30,{Self:this})},r.prototype._aD4=function(t,i){if((n.IsiPad||n.IsiPhone)&&this._Enabled){if(this._ea!=="cross"&&(n.IsiPad||n.IsiPhone)){this.setEnableEdit(!0);var r=this.getTextBox();r.setFocus()}n.setTimeout(this._aD7,0,{Self:this,Event:i.Event})}},r.prototype._sI=function(t){this._ea=t;var u,r,i=this.getFindButton();t==="cross"?(i.removeClass("PPFindText"),i.addClass("PPClearText"),r=n.resourceManager.getString("CrossContent","searchButton")):(i.removeClass("PPClearText"),i.addClass("PPFindText"),r=n.resourceManager.getString("Content","searchButton")),i.getToolTip()?i.getToolTip().setContent(r):i.setToolTip(new n.Ui.ToolTip({Content:r}))},r.prototype._amt=function(){if(!this._ea||this._vm){delete this._vm;return}var i=this.getTextBox().getValue();this._dZ(i),i&&this._ea!=="cross"&&this._sI("cross"),i||this._ea==="find"||this._sI("find")},r.prototype._amu=function(t,i){delete this._vm;switch(i.Event.keyCode){case n.Key.Enter:this._dZ(this.getTextBox().getValue()),this._vm=!0,i.Event.stopPropagation();break;case n.Key.Esc:this._dZ(null),this.stopCaptionEditing(),i.Event.stopPropagation()}},r.prototype._dZ=function(n){this._TreeList.find(n,0,!0)},r.prototype._vc=function(n,i){if(t.prototype._vc.call(this,n,i),i.imgClick&&!this._ea){this.showSearch();return}this._ea?this.getDropPanel().notifyContentMouseDown(i.Event):(this.getDropPanel().hide(),this._mO.blur())},r.prototype._xM=function(t){if(this._ey.IsCroped){this._n9.setContent(this._ey.Original);var i=n.calculateOffset(this._mO.getDomNode());i.X=Math.max(t.pageX-30,1),i.Y=i.Y<25?i.Y+25:i.Y-25,this._n9.show(i.X,i.Y)}},r.prototype._bIW=function(){this._n9&&this._n9.getIsVisible()&&this._n9.hide()},r.prototype._bbH=function(n){var t=n.Self.getTextBox();t&&t.setFocus()},r.prototype._aD8=function(n,t){if(this._ea)for(var i=t.Event&&t.Event.target,r=this.getTextBox().getDomNode();i!=null;){if(i==r){t.Cancel=!0;return}i=i.parentNode}},r.prototype._d3=function(n,i){t.prototype._d3.call(this,n,i),this._TreeList.hideToolTip(),this._TreeList.removeHover(),this._TreeList.hideSearch(),this._ea&&this.stopCaptionEditing(),this._CaptionString&&this.updateCaption()},r.prototype.dispose=function(){this._aSI||delete this._TreeList,t.prototype.dispose.call(this)},r.prototype.addToNode=function(n,i,r){t.prototype.addToNode.call(this,n,i,r),this.updateCaption()},r.prototype.showDropPanel=function(){if(t.prototype.showDropPanel.call(this),this._TreeList.updateSize(!0),this._TreeList.getCutOverflow()&&this._TreeList.redraw(),this._OpenToFocused&&this._TreeList.getFocusedNode())this._TreeList.scrollToNode(this._TreeList.getFocusedNode());else if(this._OpenToSelected){var n=this._TreeList.getSelectedNodes();n[0]&&this._TreeList.scrollToNode(n[0],.5)}this._CaptionString&&this.updateCaption()},r.prototype.updatePosition=function(){this.getIsDropPanelCreated()&&this.getDropPanel().getDroppedDown()&&t.prototype.showDropPanel.call(this)},r.prototype.getIsFindMode=function(){return!!this._ea},r.prototype.showSearch=function(){var r;this._ea=null,this.setContent(""),this.setEnableEdit(!0);var t=this.getTextBox(),i=t.getDomNode(),u=n.calculateOffset(i);t.setValue(""),t.setFocus(),r=n.calculateOffset(i),u.X!==r.X&&this.closeDropPanel(),this.getDropPanel().getDroppedDown()||this.showDropPanel(),t.setFocus(),t.AfterChange.contains(this._amt,this)||t.AfterChange.add(this._amt,this),t.KeyDown.contains(this._amu,this)||t.KeyDown.add(this._amu,this),t.setValue(""),this._sI("find"),n.setTimeout(this._bbH,30,{Self:this})},r.prototype.stopCaptionEditing=function(){this._ea&&(this.setEnableEdit(!1),this._sI(""),this.updateCaption())},r.prototype.setCaptionString=function(n){this._CaptionString!==n&&(this._CaptionString=n,this.updateCaption())},r.prototype.setCaptionStringNothing=function(n){this._CaptionStringNothing!==n&&(this._CaptionStringNothing=n,this.updateCaption())},r.prototype.getHeaderArgs=function(){return this._ey},r.prototype.createCaption=function(){var n=this._TreeList.getSelectedNodes(),t;if(this._ContentNode){if(t=n[0]?n[0].getText():"",!n||!n.length){this._ey.IsCroped=!1,this.setContent(this._CaptionStringNothing);return}this._CaptionString&&this.getIsDropPanelCreated()&&this.getDropPanel().getIsVisible()&&n.length>1&&(t=this._CaptionString),this._ey.IsCroped=!1,this.setContent(t)}},r.prototype.updateCaption=function(n){this.stopCaptionEditing();var t={UserCaption:n,Forced:!1,Cancel:!1};(this._aSH&&this.CaptionUpdating.fire(this,t),t.Cancel)||(n||n===""?this.setContent(n):this.createCaption())},r.prototype.setIsRTL=function(n){n=n==!0,t.prototype.setIsRTL.call(this,n),this._TreeList.setIsRTL(n),this.updateCaption(this.getContent())},r.prototype.setWidth=function(n){t.prototype.setWidth.call(this,n),this._aSH&&(this.getAutoFillCaption()?this.updateCaption():this.updateCaption(this.getContent()))},r.prototype.getFocused=function(){return t.prototype.getFocused.call(this)||this.getTextBox().getFocused()},r.prototype.noVisibleOpenedContextMenu=function(){return(!this.getDropPanel().getContextMenu()||!this.getDropPanel().getContextMenu().getIsVisible())&&this.getDropPanel().getContent()&&(!this.getDropPanel().getContent().getContextMenu()||!this.getDropPanel().getContent().getContextMenu().getIsVisible())},r.prototype.setTreeList=function(n){n!==this._TreeList&&(this._aSJ(),this._aSI&&(this._aSI.dispose(),delete this._aSI),this._TreeList=n,this.getIsDropPanelCreated()&&this.getDropPanel().setContent(this._TreeList),this._agO(),this._lK(),this.updateCaption())},r.prototype.setHideOnNodeClick=function(n){this._HideOnNodeClick=n==!0},r.prototype.setOpenToFocused=function(n){this._OpenToFocused=!!n},r.prototype.setOpenToSelected=function(n){this._OpenToSelected=!!n},r.prototype.setFindDelay=function(n){this._mO.setAfterChangeDelay(n)},r.prototype.getCutOverflow=function(){return this._TreeList.getCutOverflow()},r.prototype.setCutOverflow=function(n){this._TreeList.setCutOverflow(n)},r.prototype.getShowColumns=function(){return this._TreeList.getShowColumns()},r.prototype.setShowColumns=function(n){this._TreeList.setShowColumns(n)},r.prototype.getValue=function(){return this._ey&&this._ey.Original?this._ey.Original:t.prototype.getValue.call(this)},r.prototype.setContent=function(n){this._ey.Original=n,t.prototype.setContent.call(this,n)},r.prototype.getSettings=function(){var n=t.prototype.getSettings.call(this);return delete n.CaptionString,n},r.prototype.setValue=function(n,t,i){if(this._ey.Original=n,n===null||n===!1){this._TreeList.deSelectAll(i),t?this.getTextBox().setValue(t):this._AutoFillCaption&&!i&&this.updateCaption();return}var r=null;return n&&(r=this._TreeList.findText(n),r&&(this._TreeList.deSelectAll(i),r.setSelected(!0,!1,i))),t?this.getTextBox().setValue(t):this._AutoFillCaption&&!i&&this.updateCaption(),r},r.prototype.closeDropPanel=function(){this.getDropPanel().hide()},r.prototype.getDropPanel=function(){var r=this.getIsDropPanelCreated(),i=t.prototype.getDropPanel.call(this);return r||(i.addClass(this._DropClass),i.setContent(this._TreeList),i.Opened.add(this._ae,this),i.SizeChanging.add(this._bbG,this),i.SizeChanged.add(this._lK,this),(n.IsiPad||n.IsiPhone)&&i.Closing.add(this._aD8,this)),i},r}(t.Combo);t.TreeCombo=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._amv=null,i._auo=null,i._render(),n&&n.IsVisible&&i.show(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._IndicationVisibility=!0},r.prototype._initFields=function(n){n=n||{},n.ParentNode||(n.ParentNode=document.body),t.prototype._initFields.call(this,n)},r.prototype._bindEvents=function(){this._cQ||(this._addEvent(this._DomNode,"mouseover",this._cG),this._addEvent(this._DomNode,"mousemove",this._cH),this._addEvent(this._DomNode,"contextmenu",this._a7))},r.prototype._bIX=function(){},r.prototype._render=function(){this._DomNode=n.htmlToDOM("<div class='PPWaitProgressBackground'><\/div>"),n.initOS(this._DomNode),this._IndicationVisibility||n.addClass(this._DomNode,"PPHideWaitProgress")},r.prototype._a7=function(n,t){t.Event.preventDefault(),t.Event.stopPropagation()},r.prototype._cG=function(n,t){this._amv||(this._amv=t.Event)},r.prototype._cH=function(n,t){this._auo=t.Event},r.prototype.show=function(){this.addToNode(this._ParentNode)},r.prototype.hide=function(){var r=this._ParentNode,t,i,u;this.removeFromDOM(),this._ParentNode=r,this._amv&&this._auo&&(t=document.elementFromPoint(this._amv.clientX,this._amv.clientY),i=document.elementFromPoint(this._auo.clientX,this._auo.clientY)),t&&i&&t!==i&&(u=this._amv,n.fireEvent(t,this._auo)),delete this._amv,delete this._auo},r.prototype.setData=function(n,t){t!=undefined?(this._DataKeys||(this._DataKeys={}),n!=null&&n!=undefined?this._DataKeys[t]=n:delete this._DataKeys[t]):this._Data=n},r.prototype.getData=function(n){return n!=undefined?this._DataKeys&&this._DataKeys[n]:this._Data},r.prototype.setSettings=function(n){var i=!1;n&&(i=n.IsVisible,delete n.IsVisible),t.prototype.setSettings.call(this,n),i&&this.show()},r.prototype.setIndicationVisibility=function(t){n.isBoolean(t)&&t!==this._IndicationVisibility&&(this._IndicationVisibility=t,t?n.removeClass(this._DomNode,"PPHideWaitProgress"):n.addClass(this._DomNode,"PPHideWaitProgress"))},r.prototype.getIndicationVisibility=function(){return this._IndicationVisibility},r}(t.Control);t.Waiter=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["StateChanged"]),this._MenuArrowPosition=n.AnchorStyles.Right},r.prototype._initFields=function(i){i=n.extend(i,this._cvs(),!0),i&&delete i.IsFlat,n.isBoolean(i.IsToggle)&&(i.IsToggleButton=i.IsToggle,delete i.IsToggle),n.isBoolean(i.IsChecked)&&(i.IsPressed=i.IsChecked,delete i.IsChecked),t.prototype._initFields.call(this,i)},r.prototype._render=function(){t.prototype._render.call(this),this.addClass("PPToolBarButton")},r.prototype._cvs=function(){return{MenuDropPosition:n.AnchorStyles.Bottom,ImagePosition:n.AnchorStyles.Left}},r.prototype.setIsChecked=function(n,t){t===!1&&this.StateChanged.suspend(),this.setIsPressed(n),t===!1&&this.StateChanged.resume()},r.prototype.getIsChecked=function(){return this.getIsPressed()},r.prototype.setRoundedCorners=function(){},r.prototype.setIsPressed=function(n){t.prototype.setIsPressed.call(this,n),this.StateChanged.fire(this,{})},r.prototype.setGroupName=function(n){this._GroupName=n},r.prototype.getGroupName=function(){return this._GroupName},r}(t.Button);r.RoundedCorners={Left:t.RoundedCorners.Left,Right:t.RoundedCorners.Right,None:t.RoundedCorners.None,All:t.RoundedCorners.All},t.ToolBarButton=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(i){var r=t.call(this,i)||this;return r._Orientation=n.Orientation.Horizontal,r._render(),r}return i(r,t),r.prototype._render=function(){this._initFromHTML("<div class='PPToolBarSeparator'><\/div>");var n=this._Orientation;this._Orientation=null,this.setOrientation(n),this.addClass("PPNoSelect"),t.prototype._render.call(this)},r.prototype.setOrientation=function(t){if(this._Orientation!==t)if(this._Orientation=t,t===n.Orientation.Horizontal)for(var i=0;i<4;i++)this._DomNode.appendChild(n.htmlToDOM("<div><\/div>"));else n.removeChildren(this._DomNode)},r.prototype.dispose=function(){delete this._Parent,t.prototype.dispose.apply(this,arguments)},r}(t.Control);t.ToolBarSeparator=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._bbJ=!1,t._Menu=null,t._ItemsMapping={},t._render(),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._ImageList=null,this._Items=[],this._ShowOverflowButton=!1,this._defineEvents(["ItemClick","StateChanged"]),this._Orientation=n.Orientation.Horizontal,this._AutoFit=!1,this._MinWidth=null},u.prototype._render=function(){this._initFromHTML("<div><\/div>"),this.addClass("PPToolBar"),this._Menu=new n.Ui.Menu({ImageList:this._ImageList,ItemSelected:new n.Delegate(this._e4,this)}),this.beginUpdate(),this._OverflowMenuButton=new n.Ui.ToolBarButton({Class:"PPOverflowMenuButton",Menu:this._Menu}),this._cr(),this.setShowOverflowButton(this._ShowOverflowButton);var t=this._Orientation||n.Orientation.Horizontal;this._Orientation=null,this.setOrientation(t),this.endUpdate(),r.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode)},u.prototype._cr=function(){var t=this._Items||[],n,i;for(this._Items=[],n=0,i=t.length;n<i;n++)this.addItem(t[n])},u.prototype._cuu=function(){this.getDomNode().style.width=this._Orientation==n.Orientation.Vertical&&this.getWidth()?this.getWidth()+"px":""},u.prototype._e4=function(n,i){var r,e,u,f;for(r in this._ItemsMapping)if(e=this._ItemsMapping[r].menuItem,i.MenuItem===e){u=this.getItemById(r),u instanceof t.Button&&(f=i.MenuItem.getChecked(),u.setIsPressed(f!=null?f:!0));break}},u.prototype._bbf=function(t){if(t!==this._OverflowMenuButton){var r,i,u;if(i={Parent:this._Menu},t instanceof n.Ui.ToolBarSeparator){r=new n.Ui.Separator,this._ItemsMapping[t.getId()]={menuItem:r,isUserHidden:!t.getIsVisible()},this._Menu.addItem(r);return}t instanceof n.Ui.Button&&(this._ImageList&&t.getRowIndex&&t.getColumnIndex&&t.getRowIndex()>-1&&t.getColumnIndex()>-1?(i.RowIndex=t.getRowIndex(),i.ColumnIndex=t.getColumnIndex()):t.getImageUrl&&t.getImageUrl()&&(i.ImageUrl=t.getImageUrl()),u=t.getContent(),t.getMenu&&t.getMenu()&&(i.Menu=t.getMenu(),t instanceof n.Ui.SplitButton&&t.DefaultAction&&(i.PPType="SplitMenuItem"))),(t instanceof n.Ui.Combo||t instanceof n.Ui.TextBox||t instanceof n.Ui.TreeCombo)&&(u=t.getContent()||t.getValue()),t instanceof n.Ui.Control&&(u&&(i.Content=u),i.Enabled=t.getEnabled(),r=i.PPType?n.create(i):new n.Ui.MenuItem(i),this._ItemsMapping[t.getId()]={menuItem:r,isUserHidden:!t.getIsVisible()},this._Menu.addItem(r))}},u.prototype._bbg=function(n,t){this._Menu.removeItemByIndex(this._Menu.getItems().indexOf(this._ItemsMapping[n.getId()].menuItem),t)},u.prototype._bbh=function(n){var t=this._ItemsMapping[n.getId()].menuItem;t&&(n.getIsToggleButton&&n.getIsToggleButton()&&n.getIsPressed&&n.getIsPressed()!==t.getChecked()&&t.setChecked(n.getIsPressed()),n.getGroupName&&n.getGroupName()!==t.getGroupName()&&t.setGroupName(n.getGroupName()),n.getContent()!==t.getContent()&&t.setContent(n.getContent()),n.getMenu&&n.getMenu()!==t.getMenu()&&t.setMenu(n.getMenu()),n.getEnabled&&n.getEnabled()!=t.getEnabled()&&t.setEnabled(n.getEnabled()))},u.prototype._cvt=function(n){this.ItemClick.fire(this,{Item:n})},u.prototype._cvu=function(n){this.StateChanged.fire(this,{Item:n})},u.prototype._yO=function(n){n.setParent(this),n.setIsRTL(this._IsRTL);var i=n;this._ImageList&&i.setImageList&&!i.getImageList()&&i.setImageList(this._ImageList),n.Click.add(this._cvt,this),n instanceof t.ToolBarButton&&n.StateChanged.add(this._cvu,this),this._bbf(n),this.refreshItemsVisibility()},u.prototype.getItems=function(){return this._Items},u.prototype.getOrientation=function(){return this._Orientation},u.prototype.getImageList=function(){return this._ImageList},u.prototype.getShowOverflowButton=function(){return this._ShowOverflowButton},u.prototype.getAutoFit=function(){return this._AutoFit},u.prototype.setAutoFit=function(n){this._AutoFit=n},u.prototype.setOrientation=function(t){if(this._Orientation!==t)switch(t){case n.Orientation.Horizontal:this.removeClass("PPToolBar_Vertical"),this._Orientation=t,this._OverflowMenuButton&&this._OverflowMenuButton.removeClass("PPOverflowMenuButton_Vertical");break;case n.Orientation.Vertical:this.addClass("PPToolBar_Vertical"),this._Orientation=t,this._OverflowMenuButton&&this._OverflowMenuButton.addClass("PPOverflowMenuButton_Vertical")}},u.prototype.setWidth=function(t,i){if(this._MinWidth==null||!(t<this._MinWidth))if(r.prototype.setWidth.call(this,t,i),this._AutoFit){var u=this._Items.length;u>0&&(this._Orientation==n.Orientation.Horizontal?n.callEach(this._Items,"setWidth",this._g(t)/u):n.callEach(this._Items,"setWidth",t))}else this.beginUpdate(),this.refreshItemsVisibility(),this.endUpdate()},u.prototype.setHeight=function(n,t){r.prototype.setHeight.call(this,n,t),this.beginUpdate(),this.refreshItemsVisibility(),this.endUpdate()},u.prototype.setIsRTL=function(){var i,t;for(r.prototype.setIsRTL.apply(this,arguments),i=this._Items.length,t=0;t<i;t++)this._Items[t].setIsRTL(this._IsRTL);this._OverflowMenuButton.setIsRTL(this._IsRTL)},u.prototype.setEnabled=function(n){this._ShowOverflowButton&&this._Menu&&this._Menu.hide(),r.prototype.setEnabled.call(this,n)},u.prototype.setShowOverflowButton=function(n){this._ShowOverflowButton=!!n,this._ShowOverflowButton?(this._OverflowMenuButton.addToNode(this._DomNode),this._yO(this._OverflowMenuButton)):(this.removeItem(this._OverflowMenuButton,!1),this._OverflowMenuButton.removeFromDOM()),this.beginUpdate(),this.refreshItemsVisibility(),this.endUpdate()},u.prototype.addItem=function(n){this.insertItem(n,undefined)},u.prototype.insertItem=function(t,i){var r,u,f;if(!t)throw new n.ArgumentNullException(this);r=t,t instanceof n.Ui.Control||(u=t,u.Parent||(u.Parent=this),r=u.PPType?n.create(t):new n.Ui.ToolBarButton(t)),r instanceof n.Ui.ToolBarSeparator?r.setOrientation(this._Orientation):r.addClass("PPToolBarItem"),this._Items.indexOf(r)<0&&(f=n.isNumber(i)&&i<this._Items.length,f?(n.Array.insertBefore(this._Items,t,this._Items[i]),r.addToNode(this._DomNode,this._Items[i+1].getDomNode())):(this._Items.push(r),this._ShowOverflowButton&&this._OverflowMenuButton.getParentNode()?r.addToNode(this._DomNode,this._OverflowMenuButton.getDomNode()):r.addToNode(this._DomNode)),this._yO(r))},u.prototype.removeItemByIndex=function(n,t){this.removeAt(n,t)},u.prototype.removeAt=function(n,t){if(n>-1&&n<this._Items.length){var i=this._Items[n];this._bbg(i,t),t?i.dispose():i.removeFromDOM(),this._Items.splice(n,1),this.beginUpdate(),this.refreshItemsVisibility(),this.endUpdate()}},u.prototype.setItems=function(n){this.clearItems(!0),this._Items=n,this._cr()},u.prototype.clearItems=function(n){for(var t=this._Items;t.length;)this.removeAt(0,n)},u.prototype.removeItem=function(n,t){this.removeAt(this._Items.indexOf(n),t)},u.prototype.getItem=function(n){return this._Items[n]},u.prototype.getItemById=function(n){for(var i=this._Items.length,t=0;t<i;t++)if(this._Items[t].getId()===n)return this._Items[t];return null},u.prototype.refreshItemsVisibility=function(){var y=this._Items.length,e=this._Orientation===n.Orientation.Vertical,i=0,v=0,o=!1,u,r,h,c,l,a;if(!this._bbJ){for(this._ShowOverflowButton&&(i=e?this._OverflowMenuButton.getHeight():this._OverflowMenuButton.getWidth()),i=this._Width?(i||20)+5:0,v=e?this.getHeight():this.getWidth(),this._Menu.hide(),u=0;u<y;u++){var t=this._Items[u],s=this._ItemsMapping[t.getId()].menuItem,f=this._ItemsMapping[t.getId()].isUserHidden==!0;this._bbh(t),o?(t.getIsVisible()&&t.setIsVisible(!1),s.setIsVisible(!0&&!f)):(t.setIsVisible(!f),r=0,e?(h=this._g(n.getStyle(t.getDomNode(),"marginTop")),c=this._g(n.getStyle(t.getDomNode(),"marginBottom")),r+=isNaN(h)?0:h,r+=isNaN(c)?0:c,i+=t.getHeight()):(l=this._g(n.getStyle(t.getDomNode(),"marginLeft")),a=this._g(n.getStyle(t.getDomNode(),"marginRight")),r+=isNaN(l)?0:l,r+=isNaN(a)?0:a,i+=t.getWidth()),i+=r,i>v&&this._Width>0?(t.getIsVisible()&&t.setIsVisible(!1),s.setIsVisible(!0&&!f),o=!0):(t.setIsVisible(!f),s.setIsVisible(!1)))}this._OverflowMenuButton.setIsVisible(o)}},u.prototype.beginUpdate=function(){this._bbJ=!0},u.prototype.endUpdate=function(){this._bbJ=!1,this.refreshItemsVisibility()},u.prototype.setItemVisible=function(n,t){var i=this.getItem(n);this._ItemsMapping[i.getId()]&&(this._ItemsMapping[i.getId()].isUserHidden=!t,this.refreshItemsVisibility())},u.prototype.dispose=function(){var i,n,t;delete this._ImageList;for(i in this._ItemsMapping)n=this._ItemsMapping[i].menuItem,t=this._Menu.getItems(),t&&t.length?t.indexOf(n)===-1&&n.dispose?n.dispose():delete this._ItemsMapping[i]:n.dispose&&n.dispose();r.prototype.dispose.call(this)},u}(t.Control);t.ToolBarWrapper=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(n){var t=function(n){function t(t){return n.call(this,t)||this}return i(t,n),t}(n.GroupButtons);n.GroupButtonsWrapper=t})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._jj=i._Control,i._jj.ItemClick.add(i._cvv,i),i._jj.StateChanged.add(i._cvw,i),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["ItemClick","StateChanged"])},r.prototype._initFields=function(n){n&&(this._Mode=n.Mode,delete n.Mode),t.prototype._initFields.call(this,n)},r.prototype._fT=function(){return!this._Mode||this._Mode==="Normal"?n.Ui.ToolBarWrapper:n.Ui.GroupButtonsWrapper},r.prototype._cvv=function(n,t){this.ItemClick.fire(this,t)},r.prototype._cvw=function(n,t){this.StateChanged.fire(this,t)},r.prototype.getItems=function(){return this._jj.getItems()},r.prototype.getOrientation=function(){return this._jj.getOrientation()},r.prototype.getImageList=function(){return this._jj.getImageList()},r.prototype.getShowOverflowButton=function(){return this._jj.getShowOverflowButton()},r.prototype.getAutoFit=function(){return this._jj.getAutoFit()},r.prototype.setAutoFit=function(n){this._jj.setAutoFit(n)},r.prototype.setOrientation=function(n){this._jj.setOrientation(n)},r.prototype.setShowOverflowButton=function(n){this._jj.setShowOverflowButton(n)},r.prototype.addItem=function(n){this.insertItem(n,undefined)},r.prototype.insertItem=function(n,t){this._jj.insertItem(n,t)},r.prototype.removeItemByIndex=function(n,t){this.removeAt(n,t)},r.prototype.removeAt=function(n,t){this._jj.removeAt(n,t)},r.prototype.setItems=function(n){this._jj.setItems(n)},r.prototype.clearItems=function(n){this._jj.clearItems(n)},r.prototype.removeItem=function(n,t){this._jj.removeItem(n,t)},r.prototype.getItem=function(n){return this._jj.getItem(n)},r.prototype.getItemById=function(n){return this._jj.getItemById(n)},r.prototype.beginUpdate=function(){this._jj.beginUpdate()},r.prototype.endUpdate=function(){this._jj.endUpdate()},r}(t.ProxyControl);t.ToolBar=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var f,r,u;(function(n){n[n.Palette=0]="Palette",n[n.Spectrum=1]="Spectrum"})(f=t.ColorPanelMode||(t.ColorPanelMode={})),function(n){n[n.RGB=0]="RGB",n[n.HSV=1]="HSV"}(r=t.ColorPanelSpectrumMode||(t.ColorPanelSpectrumMode={})),u=function(t){function u(n){var i=t.call(this,n)||this;return i._aD9=[],i._aEa=[],i._MAXPRESLEN=55,i._MAXUSEDLEN=20,i._LOCALSTORAGEKEY="pp.usedColors",i._iL=[],i._bIY=null,i._aZ=null,i._amw=null,i._agP=null,i._acs=null,i._oA=null,i._cvx=null,i._aEb=null,i._bbK=null,i._cvy=null,i._act=null,i._sJ=undefined,i._aSL=null,i._el=null,i._aSM=null,i._j1=null,i._aEc=null,i._aSN=null,i._aSO=null,i._cvz=null,i._render(),i._aup=!1,i._aSP=!1,i}return i(u,t),u.prototype._e=function(){t.prototype._e.call(this),this._Color=this._Value=new n.Color(0),this._Mode=n.Ui.ColorPanelMode.Palette,this._SpectrumMode=n.Ui.ColorPanelSpectrumMode.RGB,this._defineEvents(["PaletteSelected","ColorChange","ModeChanged"]),this._aSQ="PPCCPresentedLabel",this._aSR="PPCCPresentedTab",this._aEd="PPCCPaletteColorBtn",this._bbL="selected",this._aSS="hovered",this._aEe="pressed",this._aST="PPCCUsedTab",this._auq="PPCCMap",this._bbM="RGB",this._bbN="HSV",this._aur="PPCCSliderBg",this._bbO="RGB",this._bbP="HSV",this._bbQ=["#000000","#cccccc","#cb3265","#ed1b23","#ea4e00","#e9ae00","#669900","#00a1e7","#3258c9","#6532cb","#a248a3","#333333","#d6d6d6","#d55882","#f0464c","#ff691f","#ffc61e","#7dbb00","#1cbaff","#3277d3","#8258d5","#ba64bb","#4c4c4c","#dddddd","#de7d9e","#f46f74","#ff8b51","#ffd250","#92dc00","#4ec9ff","#7e96dd","#9e7dde","#c986ca","#666666","#e6e6e6","#e8a4bb","#f79a9e","#ffad85","#ffe084","#a9fe00","#81d9ff","#a2b3e5","#bba4e8","#d9abd9","#808080","#ffffff","#f1c9d6","#fac3c5","#ffd0b7","#ffecb6","#b4ff20","#b3e8ff","#c9d2ef","#d6c9f1","#e8cde9"],this._PresentedColors=this._bbQ},u.prototype._initFields=function(i){if(i){var r=i.Color||i.Value;r instanceof n.Color?this._Color=r.clone():n.isString(r)&&(this._Color=n.Color.getColor(r)),delete i.Color,delete i.Value}t.prototype._initFields.call(this,i)},u.prototype._render=function(){var ut="PPCPanel",r="PPCCToolBarBlock",u="PPModeBlock",f="PPCCPaletteBlock",e=this._aSQ,ft=this._aSR,gt=this._aEd,ni=this._bbL,ti=this._aSS,ii=this._aEe,o="PPCCPaletteSep",s="PPCCUsedLabel",et=this._aST,h="PPCCSpectrumBlock",c="PPCCSpectrumTab",l=this._auq,ri=this._bbM,ui=this._bbN,a="PPCCCross",v="PPCCSlider",y=this._aur,fi=this._bbO,ei=this._bbP,p="PPCCSliderArrow",w="PPCCMapCell",b="PPCCSldCell",k="PPCCInpCell",d="PPCCSpecInpTab",ot="PPCCSpecSepCell1",st="PPCCSpecSep1",ht="PPCCSpecSepCell2",ct="PPCCSpecSepCell3",g="PPCCModelCapCell",nt="PPCCModelComboCell",lt="PPCCEdit1CapCell",at="PPCCEdit1Cell",vt="PPCCEdit2CapCell",yt="PPCCEdit2Cell",pt="PPCCEdit3CapCell",wt="PPCCEdit3Cell",tt,it,rt;this._initFromHTML("<div class='"+ut+"'><div class='"+r+"'><\/div><div class='"+u+"'><div class='"+f+"'><div class='"+e+"'><\/div><table class='"+ft+"' border='0' cellspacing='0' cellpadding='0'><\/table><div class='"+o+"'><\/div><div class='"+s+"'><\/div><table class='"+et+"' border='0' cellspacing='0' cellpadding='0'><\/table><\/div><div class='"+h+"'><table class='"+c+"' border='0' cellspacing='0' cellpadding='0'><tr><td class='"+w+"'><div class='"+l+"'><div class='"+a+"'><\/div><\/div><\/td><td class='"+b+"'><div class='"+v+"'><div class='"+y+"'><\/div><div class='"+p+"'><\/div><\/div><\/td><td class='"+k+"'><table class='"+d+"' border='0' cellspacing='0' cellpadding='0'><tr><td class='"+g+"'><\/td><td class='"+nt+"'><\/td><\/tr><tr><td class='"+ot+"' colspan='2'><div class='"+st+"'><\/div><\/td><\/tr><tr><td class='"+ht+"' colspan='2'><\/td><\/tr><tr><td class='"+ct+"' colspan='2'><\/td><\/tr><\/table><\/td><\/tr><\/table><\/div><\/div><\/div>"),this._bIY=n.querySelector(this._DomNode,"."+r),this._bbR(),this._acs=n.querySelector(this._DomNode,"."+u),this._oA=n.querySelector(this._acs,"."+f),tt=n.querySelector(this._oA,"."+e),this._cvx=new n.Ui.Label({ResourceKey:"colorPanelPresentedColors",ParentNode:tt}),this._bbK=n.querySelector(this._oA,"."+o),this._bbT=n.querySelector(this._oA,"."+s),this._cvy=new n.Ui.Label({ResourceKey:"colorPanelUsedColors",ParentNode:this._bbT}),this._bJf(),this._bJg(),this._aSL=n.querySelector(this._acs,"."+h);var i=n.querySelector(this._aSL,"."+c),bt=n.querySelector(i,"."+w),kt=n.querySelector(i,"."+b),dt=n.querySelector(i,"."+k);this._el=n.querySelector(bt,"."+l),this._aSM=n.querySelector(this._el,"."+a),this._j1=n.querySelector(kt,"."+v),this._aEc=n.querySelector(this._j1,"."+y),this._aSN=n.querySelector(this._j1,"."+p),this._aSO=n.querySelector(dt,"."+d),it=n.querySelector(this._aSO,"."+g),this._cvz=new n.Ui.Label({ResourceKey:"colorPanelModel",ParentNode:it}),rt=n.querySelector(this._aSO,"."+nt),this._agQ=new n.Ui.ComboBox({Id:this._Id+"_ModelCombo",ParentNode:rt,EnableEdit:!1,ListBox:{ItemSelected:new n.Delegate(this._cvR,this),Items:[{ResourceKey:"colorPanelRGB",Value:n.Ui.ColorPanelSpectrumMode.RGB,IsSelected:!0},{ResourceKey:"colorPanelHSV",Value:n.Ui.ColorPanelSpectrumMode.HSV}]},Width:56,DropPanel:{MinDropDownWidth:0,MinDropDownHeight:0,EnableResize:!1}}),this._aus={},this._aus[n.Ui.ColorPanelSpectrumMode.RGB]=new n.Ui.Label({ResourceKey:"colorPanelRed"}),this._aus[n.Ui.ColorPanelSpectrumMode.HSV]=new n.Ui.Label({ResourceKey:"colorPanelHue"}),this._qt=this._bbV(lt,this._aus,at,"_qt",2),this._qt.AfterValueChange.add(this._cvS,this),this._aut={},this._aut[n.Ui.ColorPanelSpectrumMode.RGB]=new n.Ui.Label({ResourceKey:"colorPanelGreen"}),this._aut[n.Ui.ColorPanelSpectrumMode.HSV]=new n.Ui.Label({ResourceKey:"colorPanelSaturation"}),this._qu=this._bbV(vt,this._aut,yt,"_qu",4),this._qu.AfterValueChange.add(this._cvT,this),this._auu={},this._auu[n.Ui.ColorPanelSpectrumMode.RGB]=new n.Ui.Label({ResourceKey:"colorPanelBlue"}),this._auu[n.Ui.ColorPanelSpectrumMode.HSV]=new n.Ui.Label({ResourceKey:"colorPanelBrightness"}),this._qv=this._bbV(pt,this._auu,wt,"_qv",6),this._qv.AfterValueChange.add(this._cvU,this),this.setSpectrumMode(this._SpectrumMode),this.setIsRTL(this._IsRTL),this._ParentNode&&this.addToNode(this._ParentNode),this._bbW(),t.prototype._render.call(this)},u.prototype._bindEvents=function(){t.prototype._bindEvents.call(this),this._aup||(this._c7&&this._addEvent(this._c7,"contextmenu",this._a7),this._el&&(this._addEvent(this._el,"mousemove",this._cvV),this._addEvent(this._el,"mousedown",this._cvW),this._addEvent(this._el,"mouseup",this._bJh)),this._j1&&(this._addEvent(this._j1,"mousemove",this._cvX),this._addEvent(this._j1,"mousedown",this._cvY),this._addEvent(this._j1,"mouseup",this._bJi))),this._aup=!0},u.prototype._unBindEvents=function(){if(t.prototype._unBindEvents.call(this),this._aup&&(this._el&&this._d7(this._el),this._j1&&this._d7(this._j1)),this._aSP||this._aup){for(var n=0,i=this._aEa.length;n<i;n++)this._d7(this._aEa[n]);this._aSP=!1}this._aup=!1},u.prototype._bJj=function(n){if(this._Enabled){var i=n.getData();this._Mode!=i&&(this._Mode=i,this.updateSize())}},u.prototype._cvR=function(n){if(this._Enabled){var i=n.getSelectedIndex();this._SpectrumMode!=i&&(this._SpectrumMode=i,this._bJk(i))}},u.prototype._cvZ=function(t,i){n.setTimeout(this._cv0,120,i,this)},u.prototype._cv0=function(t){var i,r,u;this._Enabled&&(i=t.Event.target,i.Pressed||n.isTouch)&&(r=n.Color.getColor(i.Color),u={NewColor:r.clone(),OldColor:this._Color==null?null:this._Color.clone(),Cancel:!1},this.updateUsedColors(r),this.PaletteSelected.fire(this,u),u.Cancel||(this._sJ!=i&&(this._aEf(),this._acu(i)),this._Color=r.clone()))},u.prototype._cv1=function(t,i){if(this._Enabled){var u=i.Event,r=u.target;(r.Pressed=null,u.which==1)&&(n.addClass(r,this._aEe),r.Pressed=!0)}},u.prototype._cv2=function(t,i){if(this._Enabled){var r=i.Event,u=r.target;r.which==1&&n.removeClass(u,this._aEe)}},u.prototype._cv3=function(t,i){if(this._Enabled){var u=i.Event,r=u.target;r.Pressed=null,n.removeClass(r,this._aSS),n.removeClass(r,this._aEe)}},u.prototype._cv4=function(t,i){if(this._Enabled){var u=i.Event,r=u.target;r.Pressed=null,n.addClass(r,this._aSS)}},u.prototype._cvV=function(n,t){this._Enabled&&this._aSU&&this._bJl(t.Event)},u.prototype._cvW=function(t,i){var r=i.Event;if(r.which!=1)return!1;if(!this._Enabled||this._aSU)return this._bJh(t,i);this._aSU=!0,this._bbX=document.body.style.MozUserSelect,document.body.style.MozUserSelect="none",n.setCapture(this._el),this._bJl(i.Event)},u.prototype._bJh=function(t,i){var r=i.Event;if(r.which!=1)return!1;this._Enabled&&this._aSU&&(n.releaseCapture(this._el),document.body.style.MozUserSelect=this._bbX,this._aSU=!1)},u.prototype._cvX=function(n,t){if(this._Enabled){if(!this._aSV)return!1;this._bJm(t.Event)}},u.prototype._cvY=function(t,i){var r=i.Event;if(this._Enabled){if(r.which!=1)return!1;this._aSV?this._bJi(t,i):(this._aSV=!0,this._bbX=document.body.style.MozUserSelect,document.body.style.MozUserSelect="none",n.setCapture(this._j1),this._bJm(i.Event))}},u.prototype._bJi=function(t,i){var r=i.Event;if(r.which!=1)return!1;this._aSV&&(n.releaseCapture(this._j1),document.body.style.MozUserSelect=this._bbX,this._aSV=!1)},u.prototype._bbY=function(t,i){var r,u,f;n.isString(i)&&(i=parseInt(i)),r={NewColor:null,OldColor:this._Color==null?null:this._Color.clone(),Cancel:!1},this._Color==null&&(this._Color=n.Color.fromRGB(255,255,255)),u={R:this._Color.getR(),G:this._Color.getG(),B:this._Color.getB()},f={H:this._Color.getH(),S:this._Color.getS(),V:this._Color.getV()};switch(t){case 1:u.R=i,f.H=i;break;case 2:u.G=i,f.S=i;break;case 3:u.B=i,f.V=i}this._Color=this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.RGB?n.Color.fromRGB(u.R,u.G,u.B):n.Color.fromHSV(f.H,f.S,f.V),r.NewColor=this._Color,r.OldColor&&r.NewColor&&r.NewColor.isEqual(r.OldColor)||this._aSW(r),this._cv5()},u.prototype._cvS=function(n,t){this._bbY(1,t.NewValue)},u.prototype._cvT=function(n,t){this._bbY(2,t.NewValue)},u.prototype._cvU=function(n,t){this._bbY(3,t.NewValue)},u.prototype._bJl=function(t){var s=this._bJn(t,this._el),i=s.X,r=s.Y,f=this._el.offsetWidth,e=this._el.offsetHeight;if((!(i<0)||!(r<0))&&(!(i>=f)||!(r<0))&&(!(i>=f)||!(r>=e))&&(!(i<0)||!(r>=e))){i<0&&(i=0),i>=f&&(i=f-1),r<0&&(r=0),r>=e&&(r=e-1),this._bJo(i,r);var h=null,o=this._XYZtoHSV(i,r,parseInt(this._aSN.style.top)),u={Cancel:!1};this._Color&&(h=this._Color.clone()),this._Color=n.Color.fromHSV(o.H,o.S,o.V),u.OldColor=h,u.NewColor=this._Color.clone(),u.OldColor&&u.NewColor&&u.NewColor.isEqual(u.OldColor)||this._aSW(u),this._bJp()}},u.prototype._bJm=function(t){var s=this._bJn(t,this._j1),e=s.X,f=s.Y,h=this._j1.offsetWidth,o=this._j1.offsetHeight,i,u,r,c;e<0&&f<0||e>=h&&f<0||e>=h&&f>=o||e<0&&f>=o||(u=f,r={Cancel:!1},this._Color==null&&(i=this._XYZtoHSV(e,f,0),this._Color=n.Color.fromHSV(i.H,i.S,i.V)),r.OldColor=this._Color.clone(),u<0?(u=0,this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.RGB?this._Color=n.Color.fromHSV(this._Color.getH(),this._Color.getS(),100):this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.HSV&&(this._Color=n.Color.fromHSV(360,this._Color.getS(),this._Color.getV()))):u>=o?(u=o-1,this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.RGB?this._Color=n.Color.fromHSV(this._Color.getH(),this._Color.getS(),0):this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.HSV&&(this._Color=n.Color.fromHSV(0,this._Color.getS(),this._Color.getV()))):(i=this._XYZtoHSV(0,0,u),this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.RGB?this._Color=n.Color.fromHSV(this._Color.getH(),this._Color.getS(),i.V):this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.HSV&&(this._Color=n.Color.fromHSV(i.H,this._Color.getS(),this._Color.getV()))),this._bJq(u),r.NewColor=this._Color.clone(),r.OldColor&&r.NewColor&&r.NewColor.isEqual(r.OldColor)||this._aSW(r),c=this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.HSV?i.H:null,this._bJp(!0,c))},u.prototype._bJr=function(n){var t,r,i;if(this._Color||this._aEf(),this._Color&&(!this._sJ||this._sJ&&this._sJ.Color.toUpperCase()!=this._Color.toString()))for(this._aEf(),t=0,r=n.length;t<r;t++)if(i=this._aD9[t],i.Color.toUpperCase()==this._Color.toString())return this._acu(i),!0;return!1},u.prototype._bbR=function(){var t,i;this._aZ||(t=this._Id+"_TB",this._aZ=new n.Ui.InstrumentalButtons({Id:t,ParentNode:this._bIY}),i=t+"_dDX",this._amw=new n.Ui.GroupButtonsItem({Id:this._Id+"_PaletteBtn",ResourceKey:"colorPanelPalette",GroupName:i,Parent:this._aZ}),this._amw.setData(n.Ui.ColorPanelMode.Palette),this._amw.StateChanged.add(this._bJj,this),this._aZ.addItem(this._amw),this._agP=new n.Ui.GroupButtonsItem({Id:this._Id+"_agP",ResourceKey:"colorPanelSpectrum",GroupName:i,Parent:this._aZ}),this._agP.setData(n.Ui.ColorPanelMode.Spectrum),this._agP.StateChanged.add(this._bJj,this),this._aZ.addItem(this._agP));switch(this._Mode){case n.Ui.ColorPanelMode.Palette:this._amw.setIsChecked(!0,!1),this._cv6=this._amw;break;case n.Ui.ColorPanelMode.Spectrum:this._agP.setIsChecked(!0,!1),this._cv6=this._agP}},u.prototype._bJs=function(n,t,i,r,u){var h,e,l,o;if(!u||u.length===0)return[];for(h=[],e=0;e<t;e++)for(l=n.insertRow(-1),o=0;o<i;o++){var f=l.insertCell(-1),c=o+e*i,s="#FFFFFF";f.className=this._aEd,c<u.length?(s=u[c].toString(),this._Color&&s.toUpperCase()==this._Color.toString()&&this._acu(f)):f.style.visibility="hidden",f.style.backgroundColor=s,f.Color=s,f.Index=c,f.IsUsed=r,h.push(f),this._addEvent(f,"click",this._cvZ),this._addEvent(f,"mousedown",this._cv1),this._addEvent(f,"mouseup",this._cv2),this._addEvent(f,"mouseout",this._cv3),this._addEvent(f,"mouseover",this._cv4)}return h},u.prototype._bbS=function(){var i,t,r;if(this._aEb){for(i=this._aD9.length,t=0;t<i;t++)r=this._aD9[t],this._d7(r);this._aEb.removeChild(this._aEb.firstChild)}else this._aEb=n.querySelector(this._oA,"."+this._aSR);this._aD9=this._bJs(this._aEb,5,11,!1,this._PresentedColors)},u.prototype._bJg=function(){for(this._act||(this._act=n.querySelector(this._oA,"."+this._aST)),this._aSP=!1;this._act.rows.length>0;)this._act.deleteRow(0);this._sJ&&this._sJ.IsUsed&&(this._sJ=null),this._act.style.display=this._iL&&this._iL.length!=0?"":"none",this._aEa=this._bJs(this._act,2,10,!0,this._iL),this._aSP=this._aEa.length>0},u.prototype._bJf=function(){var i,t;if(typeof localStorage!="undefined"&&localStorage&&localStorage.getItem(this._LOCALSTORAGEKEY))for(i=localStorage.getItem(this._LOCALSTORAGEKEY).split(" "),this._iL=[],t=0;t<i.length;t++)this._iL.push(n.Color.getColor(i[t]))},u.prototype._cv7=function(){var t,n;if(typeof localStorage!="undefined"&&localStorage){for(t=[],n=0;n<this._iL.length;n++)t.push(this._iL[n].toString());localStorage.setItem(this._LOCALSTORAGEKEY,t.join(" "))}},u.prototype._bbV=function(t,i,r,u,f){var o=this._aSO.insertRow(f),s=o.insertCell(-1),h,e;s.className=t;for(h in i)i[h].addToNode(s);return e=o.insertCell(-1),e.className=r,new n.Ui.NumberEdit({Id:this._Id+u,ParentNode:e,FractionCount:0,Width:56})},u.prototype._bJk=function(t){var f,e,u,i;if(typeof t!="number")throw new Error("incorrect type of value");for(f="",e="",this._SpectrumMode=t,u=[r.HSV,r.RGB],i=0;i<u.length;i++)this._auu[u[i]].setIsVisible(t===u[i]),this._aut[u[i]].setIsVisible(t===u[i]),this._aus[u[i]].setIsVisible(t===u[i]);t==n.Ui.ColorPanelSpectrumMode.RGB?(this._qt.setMinValue(0),this._qt.setValue(this._Color==null?255:this._Color.getR(),!1),this._qt.setMaxValue(255),this._qu.setMinValue(0),this._qu.setMaxValue(255),this._qu.setValue(this._Color==null?255:this._Color.getG(),!1),this._qv.setMinValue(0),this._qv.setMaxValue(255),this._qv.setValue(this._Color==null?255:this._Color.getB(),!1),f=[this._auq,this._bbM].join(" "),e=[this._aur,this._bbO].join(" ")):t==n.Ui.ColorPanelSpectrumMode.HSV&&(this._qt.setMinValue(0),this._qt.setMaxValue(360),this._qt.setValue(this._Color==null?0:this._Color.getH(),!1),this._qu.setMinValue(0),this._qu.setValue(this._Color==null?0:this._Color.getS(),!1),this._qu.setMaxValue(100),this._qv.setMinValue(0),this._qv.setValue(this._Color==null?100:this._Color.getV(),!1),this._qv.setMaxValue(100),f=[this._auq,this._bbN].join(" "),e=[this._aur,this._bbP].join(" ")),f&&this._el.className!=f&&(this._el.className=f),e&&this._aEc.className!=e&&(this._aEc.className=e),this._bbZ(this._Color),this._bbW()},u.prototype._acu=function(n){n.className=[this._aEd,this._bbL].join(" "),this._sJ=n},u.prototype._aEf=function(){this._sJ&&(this._sJ.className=this._aEd),this._sJ=null},u.prototype._bbZ=function(t){var r=this._HSVtoXYZ(t.getH(),t.getS(),t.getV()),i,u,f;this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.RGB?(i=n.Color.fromHSV(t.getH(),t.getS(),100),u=i.toString(),this._aEc.style.backgroundColor=u):this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.HSV&&(i=n.Color.fromHSV(t.getH(),100,100),f=i.toString(),this._el.style.backgroundColor=f),this._bJo(r.X,r.Y),this._bJq(r.Z)},u.prototype._bJo=function(n,t){this._aSM&&(n<0&&(n=0),t<0&&(t=0),n>=this._el.offsetWidth&&(n=this._el.offsetWidth-1),t>=this._el.offsetHeight&&(t=this._el.offsetHeight-1),this._aSM.style.left=n+"px",this._aSM.style.top=t+"px")},u.prototype._bJq=function(n){this._aSN&&(n<0&&(n=0),n>=this._j1.offsetHeight&&(n=this._j1.offsetHeight-1),this._aSN.style.top=n+"px")},u.prototype._bJt=function(t){this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.RGB?(this._qt.setValue(t.getR(),!1),this._qu.setValue(t.getG(),!1),this._qv.setValue(t.getB(),!1)):this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.HSV&&(this._qt.setValue(t.getH(),!1),this._qu.setValue(t.getS(),!1),this._qv.setValue(t.getV(),!1))},u.prototype._bJn=function(t,i){var r=n.calculateOffset(i),u=n.calculateMouseX(t),f=n.calculateMouseY(t),e=u-r.X,o=f-r.Y;return{X:e,Y:o}},u.prototype._cv5=function(){this._aEf(),this._bbZ(this._Color)},u.prototype._bJp=function(t,i){if(this._aEf(),this._bJt(this._Color),this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.RGB){var r=n.Color.fromHSV(this._Color.getH(),this._Color.getS(),100);this._aEc.style.backgroundColor=r.toString()}t&&(this._el.style.backgroundColor=n.Color.fromHSV(i||this._Color.getH(),100,100).toString())},u.prototype._aSW=function(n){this.ColorChange.fire(this,n)},u.prototype._HSVtoXYZ=function(t,i,r){var h=this._el.offsetWidth,u=this._el.offsetHeight,f=this._j1.offsetHeight,e=0,o=0,s=0;return this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.RGB?(e=Math.round(t*h/360),o=u-1-Math.round(i*u/101),s=f-1-Math.round(r*f/101)):this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.HSV&&(e=Math.round(i*h/101),o=u-1-Math.round(r*u/101),s=f-1-Math.round(t*f/360)),{X:e,Y:o,Z:s}},u.prototype._XYZtoHSV=function(t,i,r){var h=this._el.offsetWidth,u=this._el.offsetHeight,f=this._j1.offsetHeight,e=0,o=0,s=0;return this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.RGB?(e=Math.round(t*360/h),o=Math.round((u-1-i)*101/u),s=Math.round((f-1-r)*101/f)):this._SpectrumMode==n.Ui.ColorPanelSpectrumMode.HSV&&(o=Math.round(t*101/h),s=Math.round((u-1-i)*101/u),e=Math.round((f-1-r)*360/f)),{H:e,S:o,V:s}},u.prototype._bbW=function(){if(!this._aD1){this._cv8(this._aZ);var n=this._cv9(this._aZ);n<this._acs.offsetWidth&&this._cwa(this._aZ,this._acs),this._bbR()}},u.prototype._cv8=function(n){var f,e,r,s,t,h,c,i,o,u;if(n)for(f=0,e=n.getItems(),r=0,s=e.length;r<s;r++)t=e[r],h=t.getDomNode(),e[r].setWidth(""),c=t.getIsChecked(),t.setIsChecked(!0,!1),i=h.offsetWidth,i>f&&(f=i),t.setIsChecked(c,!1),o=t.getDomNode(),i=this._aSX(o),u=f-o.offsetWidth,u=u<0?0:u,i=i+u,t.setWidth(i)},u.prototype._cv9=function(n){for(var i=n.getItems(),r=0,t=0,u=i.length;t<u;t++)r+=i[t].getDomNode().offsetWidth;return r},u.prototype._cwa=function(n,t){for(var f=this._aSX(t),r=n.getItems(),u=r.length,e=Math.floor(f/u),i=0;i<u;i++)this._cwb(r[i],e)},u.prototype._aSX=function(t){return t.offsetWidth-n.Ui.getMarginsWidth(t)},u.prototype._cwb=function(t,i){var r=i-n.Ui.getMarginsWidth(t.getDomNode());r=r<0?0:r,t.setWidth(r)},u.prototype.getPresentedColors=function(){return this._PresentedColors},u.prototype.getMode=function(){return this._Mode},u.prototype.getSpectrumMode=function(){return this._SpectrumMode},u.prototype.setIsRTL=function(n){t.prototype.setIsRTL.call(this,n);var i=this._IsRTL?"rtl":"ltr";this._c7&&(this._c7.dir=i),this._aZ&&this._aZ.setIsRTL(this._IsRTL),this._agQ&&this._agQ.setIsRTL(this._IsRTL),this._qt&&this._qt.setIsRTL(this._IsRTL),this._qu&&this._qu.setIsRTL(this._IsRTL),this._qv&&this._qv.setIsRTL(this._IsRTL)},u.prototype.getValue=function(){return this.getColor()},u.prototype.getColor=function(){return this._Color==null?null:this._Color.clone()},u.prototype.setEnabled=function(n){n=n==!0,this._amw.setEnabled(n),this._agP.setEnabled(n),this._qt.setEnabled(n),this._qu.setEnabled(n),this._qv.setEnabled(n),this._agQ.setEnabled(n),t.prototype.setEnabled.call(this,n)},u.prototype.setWidth=function(){},u.prototype.setHeight=function(){},u.prototype.setPresentedColors=function(n){this._PresentedColors=n?n:this._bbQ,this._PresentedColors!==this._bbQ&&this._bbS()},u.prototype.setColor=function(t){var i=t;if(typeof t=="undefined"||t==null)i=null;else if(n.isString(t))i=n.Color.getColor(t+"");else if(!(t instanceof n.Color))throw new n.NotSupportedException(this,"incorrect type of Color");i&&(i=i.clone()),this._Color=i,this.updateSize()},u.prototype.setMode=function(n){this._Mode!==n&&(this._Mode=n,this.updateSize(),this.ModeChanged.fire(this,{}))},u.prototype.setSpectrumMode=function(t){this._bJk(t),this._agQ instanceof n.Ui.Combo&&this._agQ.setValue(t)},u.prototype.addToNode=function(n,i,r){t.prototype.addToNode.call(this,n,i,r),this.updateSize()},u.prototype.updateSize=function(){if(this._bbR(),this._bbS(),this._bJf(),this._bJg(),this._iL&&this._iL.length!=0?(this._act.style.display="",this._bbK.style.display="",this._bbT.style.display=""):(this._bbT.style.display="none",this._bbK.style.display="none",this._act.style.display="none"),this._Mode==n.Ui.ColorPanelMode.Palette)this._bJr(this._aD9)||this._bJr(this._aEa),n.show(this._oA),n.hide(this._aSL);else if(this._Mode==n.Ui.ColorPanelMode.Spectrum){n.hide(this._oA),n.show(this._aSL),this._agQ.getDropPanel().setWidth(this._agQ.getDomNode().offsetWidth+2);var t=this._agQ.getListBox();t.setSelectedIndex(this._SpectrumMode,!1),this._bbZ(this._Color),this._bJt(this._Color)}this._bbW()},u.prototype.updateUsedColors=function(n){var i,r,t;if(this._Enabled){if(i=!1,n&&(r={OldColor:this._Color==null?null:this._Color.clone(),NewColor:n.clone(),Cancel:!1},this._Color=n.clone(),!r.Cancel)){for(t=0;t<this._iL.length;t++)if(this._iL[t].isEqual(this._Color)){this._iL.splice(t,1);break}this._iL.unshift(this._Color.clone()),this._iL.length>this._MAXUSEDLEN&&this._iL.splice(-1,1),this._cv7(),i=!0}i&&this._aSW(r)}},u.prototype.dispose=function(){this.isLive()&&(this._DomNode.innerHTML="",this._aus[n.Ui.ColorPanelSpectrumMode.RGB].dispose(),this._aut[n.Ui.ColorPanelSpectrumMode.RGB].dispose(),this._auu[n.Ui.ColorPanelSpectrumMode.RGB].dispose(),this._aus[n.Ui.ColorPanelSpectrumMode.HSV].dispose(),this._aut[n.Ui.ColorPanelSpectrumMode.HSV].dispose(),this._auu[n.Ui.ColorPanelSpectrumMode.HSV].dispose(),t.prototype.dispose.call(this))},u.getGlobalColorPanel=function(t){var r=t.getColorPanelSettings(),i=n.Ui.ColorPanel._GlobalColorPanel;return i&&i instanceof n.Ui.Control&&i.isLive()||(n.Ui.ColorPanel._GlobalColorPanel=new n.Ui.ColorPanel),n.Ui.ColorPanel._GlobalColorPanel.setSettings(r),n.Ui.ColorPanel._GlobalColorPanel},u}(t.Control),t.ColorPanel=u})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r,u;(function(n){n[n.Color=0]="Color",n[n.Fill=1]="Fill"})(r=t.DisplayOption||(t.DisplayOption={})),u=function(t){function u(i){var u=t.call(this,i)||this;return u._ImageEmptyColor=n.ImagePath+"NoColor.png",u._bg=null,u._agR=null,u._cI=null,u._DropClass="PPCCDrop",u._DisplayOption==r.Fill?(u._bb0="PPBCComboFace_Pressed",u._bb1="PPBCComboFace__Bg",u._HoverClass="PPBCComboFace_Hovered"):(u._bb0="PPCComboFace_Pressed",u._bb1="PPCComboFace__Bg",u._HoverClass="PPCComboFace_Hovered"),u._render(),u}return i(u,t),u.prototype._e=function(){t.prototype._e.call(this),this._Mode=n.Ui.ColorPanelMode.Palette,this._SpectrumMode=n.Ui.ColorPanelSpectrumMode.RGB,this._PresentedColors=null,this._auv={},this._acv={},this._Color=n.Color.black,this._DisplayOption=r.Color,this._defineEvents(["ColorChanged","ColorChange","ValueChanged"])},u.prototype._initFields=function(i){var u,f;i&&(u=i.Color||i.Value,u&&(f=n.isString(u)?n.Color.getColor(u):u,i.Color=f||u),i.DisplayOption&&i.DisplayOption==r.Fill&&!i.Color&&(this._Color=n.Color.white),!i.DropPanel||i.DropPanel instanceof n.Ui.DropPanel||(this._auv=i.DropPanel,delete i.DropPanel),this._acv.Mode=i.Mode,this._acv.Color=i.Color,this._acv.SpectrumMode=i.SpectrumMode,this._acv.PresentedColors=i.PresentedColors),t.prototype._initFields.call(this,i)},u.prototype._render=function(){if(this._dDY=this._auw(this._Color),!this._DomNode)switch(this._DisplayOption){case r.Fill:this._initFromHTML("<div class='PPBCComboFace'><div class='PPBCCombo__Icon'><\/div><div class='PPBCCombo__Arrow'><\/div><\/div>"),this._bg=n.createElement(this._DomNode.firstChild,this._bb1);var i=new n.Ui.Arrow({ParentNode:n.querySelector(this._DomNode,".PPBCCombo__Arrow"),Width:7,Height:3,Fill:"#7B7B7B"});break;case r.Color:this._initFromHTML("<div class='PPCComboFace'><\/div>"),this._bg=n.createElement(this._DomNode,this._bb1),this._cI=n.createElement(this._bg),this._cI.className="PPCComboFace__Arrow",this._agR=new n.Ui.Arrow({ParentNode:this._cI,Width:8,Height:4}),this._aEg(this._Color)}t.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode)},u.prototype._cwc=function(){var n=this.getColorPanel();n.setColor(this._Color?this._Color.clone():this._Color),n.PaletteSelected.addOne(this._aEh,this),n.ColorChange.addOne(this._amx,this),n.ModeChanged.addOne(this._bJu,this)},u.prototype._cwd=function(){var n=this.getColorPanel();n.PaletteSelected.remove(this._aEh,this),n.ColorChange.remove(this._amx,this),n.ModeChanged.remove(this._bJu,this)},u.prototype._bp=function(){if(!this._Enabled)return!1;t.prototype._bp.apply(this,arguments);var u=n.calculateOffset(this._DomNode),l=this._g(n.getStyle(this._DomNode,"height"))+this._g(n.getStyle(this._DomNode,"paddingTop"))+this._g(n.getStyle(this._DomNode,"paddingTop")),f=this.getDropPanel();f.setContent(this.getColorPanel()),this._cwc(),f.show(0,0);var e=f.getDomNode().offsetHeight,o=f.getDomNode().offsetWidth,a=document.documentElement.clientHeight,s=document.documentElement.clientWidth,h=0,c=0;c=u.Y+l+e>a?u.Y-e>0?u.Y-e:a-e:u.Y+l,h=u.X,u.X+o>s&&s>o?h=s-o:s<=o&&(h=0),f.setCoords({X:h,Y:c}),this._bb2(!0),f.getContent().updateSize()},u.prototype._amx=function(n,t){this._i9()&&!t.Cancel&&(this._aEg(t.NewColor),this.ColorChange.fire(this,t))},u.prototype._aEh=function(){this._i9()&&(this.getIsDropPanelCreated()&&this.getDropPanel().hide(),this._bb2(!1))},u.prototype._bJu=function(){this.getIsDropPanelCreated()&&this.getDropPanel().updateSize()},u.prototype._d3=function(n){this._bb2(!1);var i={OldColor:this._auw(this._Color),NewColor:this._auw(n.getContent().getColor())};this.setColor(i.NewColor,!1),this.getDropPanel().setContent(null),this._cwd(),!i.NewColor||i.OldColor&&i.NewColor.isEqual(i.OldColor)||this._bJv(i)},u.prototype._bJv=function(n){this.ColorChanged.fire(this,n),this.ValueChanged.fire(this,n)},u.prototype._bb2=function(t){t==!0?(this.setIsHovered(!1),n.addClass(this._DomNode,this._bb0)):n.removeClass(this._DomNode,this._bb0)},u.prototype._i9=function(){return this.getIsDropPanelCreated()&&this.getDropPanel()&&this.getDropPanel().getDroppedDown()},u.prototype._aEg=function(t){if(t!=null&&!(t instanceof n.Color))throw new Error("incorrect type of color");this._bg&&(this._bg.style.backgroundImage="",this._bg.style.backgroundColor=this._Enabled&&t?t.toString():""),this._bJw(t)},u.prototype._bJw=function(t){var r,i,u;this._agR&&(r="#ffffff",t!==null&&(i=void 0,typeof t=="string"?i=n.Color.getColor(t):t instanceof n.Color&&(i=t),u=.299*i.getR()+.587*i.getG()+.114*i.getB(),u>=180&&(r="#777777")),this._agR.setFill(r))},u.prototype._auw=function(t){return t instanceof n.Color?t.clone():t},u.prototype.setColorPanelSettings=function(t){n.extend(this._acv,t,!0)},u.prototype.getColorPanelSettings=function(){return this._acv},u.prototype.getPresentedColors=function(){return this._PresentedColors},u.prototype.getColorPanel=function(){return n.Ui.ColorPanel.getGlobalColorPanel(this)},u.prototype.setEnabled=function(n){t.prototype.setEnabled.call(this,n),n?this._aEg(this._Color):this._bg.style.backgroundColor="",this.getIsDropPanelCreated()&&this.getDropPanel().getDroppedDown()&&this.getDropPanel().hide()},u.prototype.setPresentedColors=function(n){this._PresentedColors=n,this._acv.PresentedColors=n},u.prototype.setWidth=function(){},u.prototype.setHeight=function(){},u.prototype.getColor=function(){return this._auw(this._Color)},u.prototype.setColor=function(t,i){var u,r,f;if(i=arguments.length>1?arguments[1]:!0,typeof t=="undefined"||t==null)u=n.Color.black;else if(typeof t=="string")u=n.Color.getColor(t);else if(t instanceof n.Color)u=t;else throw new n.ArgumentException(this,"incorrect type of Color");this._Color&&this._Color.isEqual(u)||(r=this._auw(u),i?(f={OldColor:this._auw(this._Color),NewColor:r,Cancel:!1},this.ColorChange.fire(this,f),f.Cancel||(this._aEg(r),this._acv.Color=r,this._Color=r),this._bJv(f)):(this._aEg(r),this._i9()&&this.getColorPanel().setColor(r),this._Color=r))},u.prototype.setEmptyColor=function(){if(this._bg&&this._Enabled){var t=n.Color.getColor("ghostwhite");this._bg.style.background="url("+this._ImageEmptyColor+") center center / cover",this._bg.style.backgroundColor=t.toString(),this._bJw(t),this._Color=null}},u.prototype.getValue=function(){return this.getColor()},u.prototype.setValue=function(){this.setColor.apply(this,arguments)},u.prototype.setIsRTL=function(n){t.prototype.setIsRTL.apply(this,arguments),this._acv.IsRTL=n},u.prototype.showDropPanel=function(){this._bp(this,null)},u.prototype.getDropPanel=function(){if(!this.getIsDropPanelCreated()){var t={MinDropDownHeight:0,MinDropDownWidth:0,MaxDropDownHeight:1e4,MaxDropDownWidth:1e4,EnableResize:!1};n.extend(t,this._auv,!0),this._DropPanel=new n.Ui.DropPanel(t),this._DropPanel.addClass(this._DropClass),this._DropPanel.Closed.add(this._d3,this),this._alR=!0,delete this._auv}return this._DropPanel},u.prototype.getIsDropPanelCreated=function(){return this._alR},u.prototype.dispose=function(){this.isLive()&&(this.getIsDropPanelCreated()&&this.getDropPanel().getDroppedDown()&&this.getDropPanel().hide(),this.getDropPanel().getContent()&&this.getDropPanel().setContent(null),t.prototype.dispose.call(this))},u}(t.Control),t.ColorCombo=u})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._render=function(){var r,f,e,i,u;t.prototype._render.apply(this,arguments),r=this.getListBox(),r.beginUpdate(),f=n.Font.Family;for(e in f)i=n.Font.Family[e],u=new n.Ui.ListItem({Content:i,Value:i}),this.addItem(u),u.getDomNode().style.fontFamily=i;r.endUpdate()},r.prototype._d3=function(){this._cwe(),t.prototype._d3.apply(this,arguments)},r.prototype._cwe=function(){for(var t=this.getTextBox().getContent(),u=this.getItems(),e=u.length,f=!1,r,i=0;i<e;i++)if(u[i].getContent()===t){f=!0;break}r=this.getSelectedItem(),f||(t=r?r.getContent():n.resourceManager.getString(this._SelectedNoneResourceKey)),this.getTextBox().setContent(t,!1)},r}(t.ComboBox);t.FontComboBox=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._bb3=!1},r.prototype._render=function(){this._TextBox=new n.Ui.NumberEdit({Content:this._Content,ShowButtons:!1,AllowSpin:!1,AfterChangeDelay:1,EnableEdit:this._EnableEdit,Blur:new n.Delegate(this._cwf,this)}),this._Editor=this._TextBox,t.prototype._render.apply(this,arguments),this._TextBox.addToNode(this._ContentNode),this._TextBox.show();var i;i=this._NumberEdit instanceof n.Ui.Control?this._NumberEdit.getSettings():this._NumberEdit?this._NumberEdit:{},i.EnableEdit=this._EnableEdit,delete i.RightContent,this._TextBox.setSettings(i),this._TextBox.AfterValueChange.add(this._bb4,this),this._TextBox.SpinUp.add(this._bb4,this),this._TextBox.SpinDown.add(this._bb4,this),this.setContent(0,!1)},r.prototype._cwf=function(n,t){this._bb3||this._gY(n,t)},r.prototype._p4=function(){return null},r.prototype._a9q=function(){return null},r.prototype._d3=function(n,i){this.hasVisibleItems()&&t.prototype._d3.call(this,n,i)},r.prototype._h3=function(n,i){if(this._TextBox.getShowButtons()){var r=i.Event.target;if(r&&this._DomNode.contains(r))return}t.prototype._h3.apply(this,arguments)},r.prototype._bb4=function(n,t){this.setContent(t.NewValue,!1)},r.prototype._db=function(n,i){this._bb3=!0,t.prototype._db.call(this,n,i),this._bb3=!1},r.prototype.setValue=function(n,t){this.setContent(n,t)},r.prototype.setContent=function(t,i){var r,e,p,s,h,c,f,o;if(t!=this._Content){if(r=t,e=!1,isNaN(r)||r===null)return;var u=this._TextBox,l=u.getGroupSeparator(),a=u.getDecimalSeparator(),v=u.getFractionCount(),y=n.getCurrentCulture().validateNumber({value:r},l,a,v,!0);if(!y)return;if(r<u.getMinValue()&&(r=u.getMinValue()),r>u.getMaxValue()&&(r=u.getMaxValue()),p=this._Content,s=r.toString(),this._Content=s,u.setContent(t,i),this._ListBox instanceof n.Ui.Control)this._ListBox.setValue(this._Content,i);else if(this._ListBoxSets.Items){for(h=this._ListBoxSets.Items,c=this._ListBoxSets.Items.length,f=0;f<c;f++)o=h[f],delete o.IsSelected,o.Content==this._Content&&(this._ListBoxSets.SelectedIndex=f,e=!0);e||delete this._ListBoxSets.SelectedIndex}}},r.prototype.getValue=function(){return this.hasVisibleItems()&&this._bGp()?this._ListBox.getValue():this._TextBox.getValue()},r.prototype.clear=function(){t.prototype.clear.apply(this,arguments),this.setContent(0,!1)},r}(t.ComboBox);t.NumComboBox=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._render(),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._ImagePath=n.ImagePath,this._IsJustifyVisible=!0,this._IsAlignmentVisible=!0,this._IsSizeExtend=!0,this._IsBackgroundColorVisible=!1,this._Alignment=n.HorizontalAlignment.Left,this._Font=null,this._FontFamilyControlWidth=null,this._defineEvents(["PropertyChanged","ValueChanged"])},u.prototype._render=function(){var f;this._initFromHTML("<div class='PPTextSettings'><div class='PPTextSettings_Container'><div class='PPFontComboContainer'><\/div><\/div><div class='PPTextSettings_Container'><\/div><\/div>"),this._FontFamilyControlWidth=this._FontFamilyControlWidth!==null?this._FontFamilyControlWidth:this._IsJustifyVisible?163:140,this._FontFamilyComboBox=new n.Ui.FontComboBox({ParentNode:n.querySelector(this._DomNode,".PPFontComboContainer"),ResourceKey:"fontBoxFamily",EnableEdit:!0,Height:21,Width:this._FontFamilyControlWidth,DropPanel:{MaxWidth:this._FontFamilyControlWidth},ListBox:{ItemSelected:new n.Delegate(this._bb5,this)}}),this._FontSizeLabel=new n.Ui.Label({Class:"PPFontSettings",ParentNode:this._DomNode.firstChild,ResourceKey:"fdSizeColon",IsVisible:!1}),this._FontSizeComboBox=new n.Ui.NumComboBox({ParentNode:this._DomNode.firstChild,ResourceKey:"fontBoxSize",EnableEdit:!0,Height:21,Width:57,DropPanel:{MinWidth:57},TextChanged:new n.Delegate(this._bb6,this),ListBox:{Items:[{Content:"8",Value:8,Data:1},{Content:"9",Value:9,IsVisible:this._IsSizeExtend},{Content:"10",Value:10,Data:2},{Content:"11",Value:11,IsVisible:this._IsSizeExtend},{Content:"12",Value:12,Data:3},{Content:"14",Value:14,Data:4},{Content:"16",Value:16,IsVisible:this._IsSizeExtend},{Content:"18",Value:18,Data:5},{Content:"20",Value:20,IsVisible:this._IsSizeExtend},{Content:"22",Value:22,IsVisible:this._IsSizeExtend},{Content:"24",Value:24,Data:6},{Content:"26",Value:26,IsVisible:this._IsSizeExtend},{Content:"28",Value:28,IsVisible:this._IsSizeExtend},{Content:"36",Value:36,Data:7},{Content:"48",Value:48,IsVisible:this._IsSizeExtend},{Content:"72",Value:72,IsVisible:this._IsSizeExtend}]},NumberEdit:{MinValue:1,MaxValue:this._IsSizeExtend?72:36}}),this._ImageList=new n.ImageList({Source:this._ImagePath+"fb_icons.png",IconHeight:16,IconWidth:16}),f=new n.Ui.Panel,this._StyleToolbar=new n.Ui.GroupButtons({ParentNode:this._DomNode.lastChild,ImageList:this._ImageList,Class:"TextSettingsToolbar"}),this._Toolbar=new n.Ui.ToolBar({Mode:"Normal",ParentNode:this._DomNode.lastChild,ImageList:this._ImageList,Class:"TextSettingsToolbar"});var e=this._Toolbar,u=this._StyleToolbar,i=new n.Delegate(this._bb7,this);this._StyleBoldButton=new n.Ui.Button({ParentNode:f.getContentNode(),IsToggleButton:!0,ResourceKey:"fontBoxStyleBold",Class:"PPStyleBold",Click:i}),this._StyleItalicButton=new n.Ui.Button({ParentNode:f.getContentNode(),IsToggleButton:!0,ResourceKey:"fontBoxStyleItalic",Class:"PPStyleItalic",Click:i}),this._StyleUnderlineButton=new n.Ui.Button({ParentNode:f.getContentNode(),IsToggleButton:!0,ResourceKey:"fontBoxStyleUnderline",Class:"PPStyleUnderline",Click:i}),e.addItem(f),this._IsAlignmentVisible?(i=new n.Delegate(this._cwg,this),this._AlignmentLeftButton=new n.Ui.GroupButtonsItem({RowIndex:0,ColumnIndex:2,ResourceKey:"fontBoxAlignLeft",GroupName:"alignmentGroup",StateChanged:i}),this._AlignmentCenterButton=new n.Ui.GroupButtonsItem({RowIndex:0,ColumnIndex:1,ResourceKey:"fontBoxAlignCenter",GroupName:"alignmentGroup",StateChanged:i}),this._AlignmentRightButton=new n.Ui.GroupButtonsItem({RowIndex:0,ColumnIndex:0,ResourceKey:"fontBoxAlignRight",GroupName:"alignmentGroup",StateChanged:i}),this._IsJustifyVisible&&(this._AlignmentJustifyButton=new n.Ui.GroupButtonsItem({RowIndex:0,ColumnIndex:3,Parent:e,GroupName:"alignmentGroup",StateChanged:i})),u.addItem(this._AlignmentLeftButton),u.addItem(this._AlignmentCenterButton),u.addItem(this._AlignmentRightButton),this._IsJustifyVisible&&u.addItem(this._AlignmentJustifyButton),e.addItem(u)):u.hide(),this._FontColorCombo=new n.Ui.ColorCombo({ParentNode:this._DomNode.lastChild,ResourceKey:"fontBoxColor",Class:"TextSettingsColorCombo",ColorChanged:new n.Delegate(this._bb8,this)}),e.addItem(this._FontColorCombo),this._IsBackgroundColorVisible&&(this._BackgroundColorCombo=new n.Ui.ColorCombo({ParentNode:this._DomNode.lastChild,ResourceKey:"fontBoxBackgroundColor",Class:"TextSettingsColorCombo",DisplayOption:t.DisplayOption.Fill,ColorChanged:new n.Delegate(this._cwh,this)}),e.addItem(this._BackgroundColorCombo)),this._Font?this._Font instanceof n.Font||(this._Font=new n.Font(this._Font)):this._Font=new n.Font,this.setFont(this._Font),this.setAlignment(this._Alignment),r.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode)},u.prototype._bR=function(n){this.PropertyChanged.fire(this,{PropertyName:n,Font:this._Font,Alignment:this._Alignment,BackgroundColor:this._BackgroundColor})},u.prototype._cwg=function(t){if(this._IsAlignmentVisible){var r=n.HorizontalAlignment.None;t==this._AlignmentLeftButton&&(r=n.HorizontalAlignment.Left),t==this._AlignmentCenterButton&&(r=n.HorizontalAlignment.Center),t==this._AlignmentRightButton&&(r=n.HorizontalAlignment.Right),t==this._AlignmentJustifyButton&&(r=n.HorizontalAlignment.Justify),this._Alignment=r,this._bR(u.PropertyName.Alignment)}},u.prototype._bb7=function(t){var r="",u=!1,f=t.getIsPressed();t==this._StyleBoldButton&&(r=n.Ui.FontBox.PropertyName.IsBold,u=this._Font.getIsBold(),this._Font.setIsBold(f)),t==this._StyleUnderlineButton&&(r=n.Ui.FontBox.PropertyName.IsUnderline,u=this._Font.getIsUnderline(),this._Font.setIsUnderline(f)),t==this._StyleItalicButton&&(r=n.Ui.FontBox.PropertyName.IsItalic,u=this._Font.getIsItalic(),this._Font.setIsItalic(f)),this._bR(r),this.ValueChanged.fire(this,{OldValue:u,NewValue:f})},u.prototype._bb6=function(t){var r=t.getValue(),e=n.Ui.FontBox.PropertyName.Size,u,f;if(!r||(u=this._Font.getSizeUnits(),f=this._Font.getSize(),r=u==n.SizeUnits.Pt?r:n.convertSizeUnits(r,n.SizeUnits.Pt,u),r===f))return!1;this._Font.setSize(r),this._bR(e),this.ValueChanged.fire(this,{OldValue:f,NewValue:r})},u.prototype._bb5=function(t,i){var r=i.ListItem.getContent(),u=this._Font.getFontFamily(),f=n.Ui.FontBox.PropertyName.FontFamily;this._Font.setFontFamily(r),this._bR(f),this.ValueChanged.fire(this,{OldValue:u,NewValue:r})},u.prototype._bb8=function(t){if(!this._bb9){var r=t.getColor(),u=this._Font.getColor(),f=n.Ui.FontBox.PropertyName.Color;this._Font.setColor(r),this._bR(f),this.ValueChanged.fire(this,{OldValue:u,NewValue:r})}},u.prototype._cwh=function(t){if(!this._bb9){var r=t.getColor(),u=this._BackgroundColor,f=n.Ui.FontBox.PropertyName.BackgroundColor;this._BackgroundColor=r,this._bR(f),this.ValueChanged.fire(this,{OldValue:u,NewValue:r})}},u.prototype.getFont=function(){return this._Font},u.prototype.getAlignment=function(){return this._Alignment},u.prototype.getFontFamilyComboBox=function(){return this._FontFamilyComboBox},u.prototype.getFontSizeComboBox=function(){return this._FontSizeComboBox},u.prototype.getToolbar=function(){return this._Toolbar},u.prototype.getStyleToolbar=function(){return this._StyleToolbar},u.prototype.getIsSizeExtend=function(){return this._IsSizeExtend},u.prototype.getValue=function(){return this.getFont()},u.prototype.setValue=function(n){this.setFont(n)},u.prototype.setFont=function(t){if(t&&t instanceof n.Font){this._Font=t,this._bb9=!0;var i=this._Font.getSizeUnits();this._FontFamilyComboBox.setValue(this._Font.getFontFamily(),!1),this._FontSizeComboBox.setValue(Math.round((i==n.SizeUnits.Pt?this._Font.getSize():n.convertSizeUnits(this._Font.getSize(),i,n.SizeUnits.Pt))*100)/100,!1),this._StyleBoldButton.setIsPressed(this._Font.getIsBold()),this._StyleItalicButton.setIsPressed(this._Font.getIsItalic()),this._StyleUnderlineButton.setIsPressed(this._Font.getIsUnderline()),this._FontColorCombo.setColor(this._Font.getColor()),this._bb9=!1}},u.prototype.setBackgroundColor=function(n){n&&this._BackgroundColorCombo.setColor(n)},u.prototype.setAlignment=function(t){t&&(this._Alignment=t,this._IsAlignmentVisible&&(this._AlignmentLeftButton.setIsChecked(this._Alignment==n.HorizontalAlignment.Left,!1),this._AlignmentCenterButton.setIsChecked(this._Alignment==n.HorizontalAlignment.Center,!1),this._AlignmentRightButton.setIsChecked(this._Alignment==n.HorizontalAlignment.Right,!1),this._IsJustifyVisible&&this._AlignmentJustifyButton.setIsChecked(this._Alignment==n.HorizontalAlignment.Justify,!1)))},u.prototype.setIsSizeExtend=function(t){var r,s,i;this._IsSizeExtend=!!t;var f=this._FontSizeComboBox,u=f.getEditor(),h=this._IsSizeExtend?72:36,c=parseInt(u.getContent()),e=f.getItems(),l=n.Ui.FontBox.PropertyName.Size,a=this._Font.getSizeUnits(),o=8;for(r=0,s=e.length;r<s;r++)i=e[r],this._IsSizeExtend||i.getData()?i.setIsVisible(!0):i.setIsVisible(!1),i.getIsVisible()&&i.getValue()<=c&&(o=i.getValue());u.setMaxValue(h),u.setContent(o+"")},u.prototype.setIsRTL=function(n){r.prototype.setIsRTL.call(this,n),this._FontFamilyComboBox.setIsRTL(this._IsRTL),this._FontSizeComboBox.setIsRTL(this._IsRTL),this._Toolbar.setIsRTL(this._IsRTL),this._StyleToolbar.setIsRTL(this._IsRTL),this._FontColorCombo.setIsRTL(this._IsRTL),this._IsBackgroundColorVisible&&this._BackgroundColorCombo.setIsRTL(this._IsRTL)},u.prototype.setEnabled=function(n){r.prototype.setEnabled.call(this,n),n=!!n,this._FontFamilyComboBox.setEnabled(n),this._FontSizeComboBox.setEnabled(n),this._Toolbar.setEnabled(n),this._StyleToolbar.setEnabled(n),this._FontColorCombo.setEnabled(n),this._IsBackgroundColorVisible&&this._BackgroundColorCombo.setEnabled(n)},u.prototype.getColorCombo=function(){return this._FontColorCombo},u.prototype.getBackgroundColorCombo=function(){return this._BackgroundColorCombo},u.prototype.getSettings=function(){var n=r.prototype.getSettings.call(this);return delete n.FontFamilyComboBox,delete n.FontSizeComboBox,delete n.Toolbar,n},u.prototype.setControlsGroupVisibility=function(t,i){t=!!t;switch(i){case n.Ui.FontBox.ControlsGroups.FontFamily:t?this._FontFamilyComboBox.show():this._FontFamilyComboBox.hide();break;case n.Ui.FontBox.ControlsGroups.FontSize:t?this._FontSizeComboBox.show():this._FontSizeComboBox.hide();break;case n.Ui.FontBox.ControlsGroups.FontSizeLabel:t?this._FontSizeLabel.show():this._FontSizeLabel.hide();break;case n.Ui.FontBox.ControlsGroups.TextAlignment:this._IsAlignmentVisible&&(t?(this._AlignmentRightButton.show(),this._AlignmentCenterButton.show(),this._AlignmentLeftButton.show(),this._IsJustifyVisible&&this._AlignmentJustifyButton.show()):(this._AlignmentLeftButton.hide(),this._AlignmentCenterButton.hide(),this._AlignmentRightButton.hide(),this._IsJustifyVisible&&this._AlignmentJustifyButton.hide()));break;case n.Ui.FontBox.ControlsGroups.FontStyle:t?(this._StyleBoldButton.show(),this._StyleItalicButton.show(),this._StyleUnderlineButton.show()):(this._StyleBoldButton.hide(),this._StyleItalicButton.hide(),this._StyleUnderlineButton.hide());break;case n.Ui.FontBox.ControlsGroups.FontColor:t?this._FontColorCombo.show():this._FontColorCombo.hide()}},u}(t.Control);r.ControlsGroups={FontFamily:"FontFamily",FontSize:"FontSize",FontSizeLabel:"FontSizeLabel",TextAlignment:"TextAlignment",FontStyle:"FontStyle",FontColor:"FontColor"},r.PropertyName={Size:"Size",FontFamily:"FontFamily",Alignment:"Alignment",IsBold:"IsBold",IsItalic:"IsItalic",IsUnderline:"IsUnderline",Color:"Color",BackgroundColor:"BackgroundColor"},t.FontBox=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["ItemChanged","Editing","Edited","TextEditing","TextEdited","Deleting","MenuClick"]),this._Menu=null,this._Template=n.Templates.TabItem,this._Caption="",this._ImageUrl="",this._IsPressed=!1,this._ContentDomNode=null,this._bca=!1,this._hA=null,this._cwi=20,this._amy=null,this._bcb=!1},r.prototype._render=function(){this._initFromHTML("<div>"+this._Template.replace("{Content}","<div class='PPImage'><\/div><div class='PPCaption'><\/div><div class='PPDelete PPButton'><\/div><div class='PPMenuButton'><\/div>")+"<\/div>"),this.addClass("PPTabItem"),this._ImageNode=n.querySelector(this._DomNode,".PPImage"),this._CaptionNode=n.querySelector(this._DomNode,".PPCaption"),this._amy=n.querySelector(this._DomNode,".PPDelete"),this._MenuButtonContainer=n.querySelector(this._DomNode,".PPMenuButton"),n.hide(this._amy),this._ContentDomNode=n.htmlToDOM("<div><\/div>"),n.addClass(this._ContentDomNode,"PPContent");var i=this._Content,r=this._Caption;this._Content=null,this._Caption=null,this.setContent(i),this.setImageUrl(this._ImageUrl),this.setCaption(r),t.prototype._render.apply(this,arguments),this.getMenu()?(n.show(this._MenuButtonContainer),this._MenuButton=new n.Ui.Button({Menu:this.getMenu(),Class:"NoReleaseBorder",ParentNode:this._MenuButtonContainer}),this._MenuButton.Click.add(this._cwj,this)):(n.hide(this._MenuButtonContainer),this._MenuButton instanceof n.Ui.Button&&(this._MenuButton.dispose(),this._MenuButton=null)),this._IsPressed||this.addClass(this._ReleaseClass)},r.prototype._bindEvents=function(){t.prototype._bindEvents.apply(this,arguments),this._amy&&this._bV(this._amy,{click:this._aSY,mousedown:this._cwk})},r.prototype._unBindEvents=function(){t.prototype._unBindEvents.apply(this,arguments),this._amy&&this._d7(this._amy)},r.prototype._cwj=function(n,t){this.MenuClick.fire(this,t)},r.prototype._bp=function(){this._Enabled&&t.prototype._bp.apply(this,arguments)},r.prototype._hu=function(n,i){this._Enabled&&!i.Cancel&&this._acf(i),t.prototype._hu.apply(this,arguments)},r.prototype._aRz=function(t,i){var r=this;if(this._bcb){if(this._IsPressed)return this._hu(t,i),!1}else this._bcb=!0,n.setTimeout(function(){r._bcb=!1},500)},r.prototype._cG=function(){t.prototype._cG.apply(this,arguments)},r.prototype._b0=function(){t.prototype._b0.apply(this,arguments)},r.prototype._cwk=function(){this._cwl=!0},r.prototype._aSY=function(n,t){this._cwl=!1;var i={Cancel:!1,Event:t.Event};if(this.Deleting.fire(this,i),!i.Cancel)return t.Event.stopPropagation(),!1},r.prototype._cwm=function(t,i){i.Event.keyCode===n.Key.Esc&&this.cancelEdit()},r.prototype._bJx=function(){this.endEdit()},r.prototype._cwn=function(n,t){this.TextEditing.fire(this,t)},r.prototype._cwo=function(n,t){this.TextEdited.fire(this,t)},r.prototype._dDZ=function(n){n._hA&&n._hA.isLive()&&n._hA.setFocus()},r.prototype._bk=function(n,t){var i=!1;(this._MenuButton&&(i=this._MenuButton.getDomNode().contains(t.Event.target)),!this._Enabled||this.getIsEditing()||i)||this.MouseDown.fire(this,t)},r.prototype._acf=function(t){var u;if(!this.getIsEditing()){var i=this._CaptionNode,f=Math.max(this._g(this.getCssStyle(i,"width"))||i.offsetWidth||this._g(this._Width),this._cwi),r={ParentNode:i,Width:f+(f?n.isTouch?8:5:0),Height:i.offsetHeight};(t=t||{},u=n.extend({Caption:this._Caption,TextBoxSettings:r,Cancel:!1},t,!0),this.Editing.fire(this,u),u.Cancel)||(n.show(this._CaptionNode),i.innerHTML="",this._hA&&this._hA.isLive()?(this._hA.setSettings(r),this._hA.setContent(this._Caption,!1),this._hA.show()):(this._hA=new n.Ui.TextBox(r),this._hA.setContent(this._Caption),this._hA.Blur.add(this._bJx,this),this._hA.Enter.add(this._bJx,this),this._hA.KeyDown.add(this._cwm,this),this._hA.BeforeChange.add(this._cwn,this),this._hA.TextChanged.add(this._cwo,this)),this._bcc=this._Caption,this._Caption="",this._hA.setFocus())}},r.prototype.getTemplate=function(){return this._Template},r.prototype.getCaption=function(){return this._Caption},r.prototype.getImageUrl=function(){return this._ImageUrl},r.prototype.getIsPressed=function(){return this._IsPressed},r.prototype.getMenu=function(){return this._Menu},r.prototype.getContentDomNode=function(){return this._ContentDomNode},r.prototype.canDrop=function(){var u=n.Ui.Control._DragDrop.Data||{},r=u.StartTabControl,f=r&&r.getDomNode(),t=u.TabControl,i=t&&t.getDomNode(),e=this._ContentDomNode;if(!this.isLive()||!r||!t||!t.getDragDropEnabled()||r!==t&&(!r.getEnableDragOutside()||!t.getEnableDropFromOutside()))return!1;if(i&&!n.hasClass(e,"PPHide"))while((i=i.parentNode)&&i&&i!==document.body)if(i===f)return!1;return!0},r.prototype.setIsHovered=function(){this._IsPressed||t.prototype.setIsHovered.apply(this,arguments)},r.prototype.setIsPressed=function(t){this.addStateClass(t?n.ControlState.Active:n.ControlState.Release),this._IsPressed=!!t},r.prototype.setCaption=function(t){this._Caption=t,t?n.show(this._CaptionNode):n.hide(this._CaptionNode),this._CaptionNode.innerHTML=t,this.ItemChanged.fire(this,{Property:"Caption",Value:t})},r.prototype.setContent=function(t){t instanceof n.Object||!n.isObject(this._Content)||(t=n.getProperty(t,"PPType")?n.create(t):""),this.ItemChanged.fire(this,{Property:"Content",Value:t}),this._bW(t,this._ContentDomNode,"Content",!0)},r.prototype.setPosition=function(n){this.ItemChanged.fire(this,{Property:"Position",Value:n})},r.prototype.setEnabled=function(n){t.prototype.setEnabled.apply(this,arguments),this.ItemChanged.fire(this,{Property:"Enabled",Value:n===!0})},r.prototype.setImageUrl=function(t){if(typeof t=="undefined"||t==null||t.toLowerCase()=="null")this._ImageUrl="";else if(typeof t!="string")throw new n.ArgumentException(this,"incorrect type of value");else this._ImageUrl=t;this._ImageUrl?(this._ImageNode.style.backgroundImage="url('"+this._ImageUrl+"')",this._CaptionNode.parentNode.insertBefore(this._ImageNode,this._CaptionNode)):(this._ImageNode.style.backgroundImage="",this._ImageNode.parentNode&&this._ImageNode.parentNode.removeChild(this._ImageNode))},r.prototype.setIsVisible=function(i){if(t.prototype.setIsVisible.apply(this,arguments),this._ContentDomNode){n.isBoolean(i)&&(i=i?n.Ui.Visibility.Visible:n.Ui.Visibility.Collapsed);var u=this._ContentDomNode.style,r;switch(i){case n.Ui.Visibility.Collapsed:n.hide(this._ContentDomNode),r=!1;break;case n.Ui.Visibility.Visible:n.show(this._ContentDomNode),u.visibility="visible",r=!0;break;case n.Ui.Visibility.Hidden:u.visibility="hidden",r=!1}this.ItemChanged.fire(this,{Property:"IsVisible",Value:r})}},r.prototype.setWidth=function(n){t.prototype.setWidth.apply(this,arguments),this.ItemChanged.fire(this,{Property:"Width",Value:n})},r.prototype.setIsRTL=function(i){i!==this._IsRTL&&t.prototype.setIsRTL.call(this,i),this._MenuButton instanceof n.Ui.Control&&this._MenuButton.isLive()&&this._MenuButton.setIsRTL(this._IsRTL)},r.prototype.getContentNodes=function(){return this._ContentDomNode.children},r.prototype.hide=function(){this.setIsVisible(!1),this.ItemChanged.fire(this,{Property:"Hidden",Value:!0})},r.prototype.show=function(){this.setIsVisible(!0),this.ItemChanged.fire(this,{Property:"Hidden",Value:!1})},r.prototype.beginEdit=function(){if(this._Enabled){var n={Forced:!0};this._hu(this,n)}},r.prototype.endEdit=function(){var n,t,i;if(this.getIsEditing()){if(n=this._hA.getContent(),t={Caption:n},this._hA.hide(),i=this._bcc!==n,t.Break||!i){this.setCaption(this._bcc);return}this.setCaption(n),this.Edited.fire(this,t)}},r.prototype.cancelEdit=function(){this.getIsEditing()&&(this._hA.hide(),this.setCaption(this._bcc))},r.prototype.getIsEditing=function(){return this._hA&&this._hA.getIsVisible()},r.prototype.selectText=function(){this.getIsEditing()&&this._hA.selectAll()},r.prototype.dispose=function(){if(this._ContentDomNode){var n=this._ContentDomNode.parentNode;n&&n.removeChild(this._ContentDomNode)}delete this._Menu,t.prototype.dispose.call(this,arguments)},r.prototype.getSettings=function(){var n=t.prototype.getSettings.apply(this,arguments);return delete n.Parent,n},r.prototype.getDeleteNode=function(){return this._amy},r}(t.Control);t.TabItem=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._dD0="additem"},r.prototype._render=function(){this._initFromHTML("<div>"+this._Template.replace("{Content}","<div class='PPCross'><\/div>")+"<\/div>"),this.addClass("PPTabItem Add"),this._CaptionNode=n.querySelector(this._DomNode,".PPCaption"),this._bindEvents();var t=this._Enabled;this._Enabled=null,this.setEnabled(t)},r.prototype._bp=function(n,t){if(this._Enabled&&(this._Menu&&(this._Menu.getDroppedDown()?this._Menu.hide():t.Menu=this._Menu),this.Click.fire(this,t),this._Menu)){var i=this._age(t.Position);this._Menu.show(i[1],i[0],!0)}},r.prototype._age=function(t){var o=this._Menu,u=this._DomNode,l=n.calculateOffset(u),f=l.X,e=l.Y,c=null,s=0,h=0,r,i=[];o.setHeight(o.getHeight()),r=o.isVisibleArea(0,0,!0);switch(t){case n.LTRB.Left:i.push(e),i.push(f-r.Width);break;case n.LTRB.Top:i.push(e-r.Height-1),i.push(f);break;case n.LTRB.Right:i.push(e),i.push(f+u.offsetHeight);break;case n.LTRB.Bottom:i.push(e+u.offsetHeight+1),i.push(f);break;case null:i.push(e-r.Height+u.offsetHeight),i.push(f+u.offsetWidth+1)}if(r=o.isVisibleArea(i[0],i[1],!0),!r.VisibleByHeight){switch(t){case n.LTRB.Left:case n.LTRB.Right:case null:s=e+u.offsetHeight-r.Height;break;case n.LTRB.Top:s=e+u.offsetHeight+1;break;case n.LTRB.Bottom:s=e-r.Height-1}c=o.isVisibleArea(s,i[1],!0),c.VisibleByHeight&&(i[0]=s)}if(!r.VisibleByWidth){switch(t){case n.LTRB.Left:h=f+u.offsetWidth;break;case n.LTRB.Right:case null:h=f-r.Width;break;case n.LTRB.Top:case n.LTRB.Bottom:h=f+u.offsetWidth-r.Width}c=o.isVisibleArea(i[0],h,!0),c.VisibleByWidth&&(i[1]=h)}return i},r.prototype.setImageUrl=function(){},r}(t.TabItem);t.TabAddItem=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["TabItemsListOpened"]),this._Position=n.LTRB.Top},r.prototype._initFields=function(i){i=i||{},i.DropPanel||(i.DropPanel={}),i.Button||(i.Button={}),i.DropPanel.Template=n.Templates.DropPanel,i.DropPanel.MinDropDownHeight=45,i.Button.Class="TabsComboBoxButton",this._Button=new n.Ui.Button(i.Button),delete i.Button,t.prototype._initFields.call(this,i)},r.prototype._render=function(){t.prototype._render.call(this),this._Button.addToNode(this._DomNode),this._Button.MouseDown.add(this._aRi,this)},r.prototype._iG=function(n,i){this.TabItemsListOpened.fire(this,i),t.prototype._iG.call(this,n,i),this._Button.setIsPressed(!0)},r.prototype._d3=function(n,i){t.prototype._d3.call(this,n,i),this._Button.setIsPressed(!1)},r.prototype.getButton=function(){return this._Button},r.prototype.setEnabled=function(n){t.prototype.setEnabled.call(this,n),this._Button.setEnabled(n)},r}(t.ComboBox);t.TabsComboBox=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._ItemsClasses.push("PPTabItem"),i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Items=null,this._defineEvents(["ItemSelected","ItemDeselected","ItemMoved","BeforeAddItem","AfterAddItem","AddButton","TabEditing","TabEdited","TabDeleted","TabTextEditing","TabTextEdited","SelectableSelected","TabDragIn","TabDragOut","AddMenuShowing","TabMenuShowing","DroppedAfterGroupSeparator","BeforeShowGroupSeparator"]),this._SelectedIndex=-1,this._Position=n.LTRB.Top,this._TabAnchor=n.AnchorStyles.None,this._DragDropEnabled=!0,this._EnableDragOutside=!1,this._EnableDropFromOutside=!1,this._ImagePath=n.ImagePath,this._Background=null,this._EnableEdit=!1,this._EnableDelete=!1,this._EnableGroupSeparator=!1,this._NewTabCaption=n.resourceManager.getString("tabControlNewTab")||"New Tab",this._Buttons=null,this._SelectOnStartEditing=!0,this._IsHiddenActive=!1,this._MenuAddItems=null,this._ContentAutoFit=!1,this._ToolBarButtonTemplate="",this._AddTabButtonTemplate="",this._UseToolBarSwitch=!1,this._HeaderHeight=26,this._PaddingLeft=0,this._UseInvertedTabLabels=!1,this._IsAddTabButtonVisible=!0,this._TabContentPanel=null,this._aux=30,this._m8=100,this._gu=null,this._sK=22,this._qw=16,this._ScrollingMouseDown=!1,this._acw=null,this._bcd=!1,this._cwp=!1,this._aEi={},this._eb={},this._bce=!1,this._sM=null,this._ii=null,this._aSZ=0,this._lT=null,this._eR=null,this._auy=!1,this._dD1=!1,this._ItemsClasses=[]},r.prototype._initFields=function(i){i=i||{},this._cwq=!i.SelectedIndex,t.prototype._initFields.call(this,i),this._an=this._Position===n.LTRB.Top||this._Position===n.LTRB.Bottom},r.prototype.getItems=function(){return this._Items},r.prototype.getHeaderHeight=function(){return this._HeaderHeight},r.prototype.getPaddingLeft=function(){return this._PaddingLeft},r.prototype.getAddTabButtonTemplate=function(){return this._AddTabButtonTemplate},r.prototype.getToolBarButtonTemplate=function(){return this._ToolBarButtonTemplate},r.prototype.getUseToolBarSwitch=function(){return this._UseToolBarSwitch},r.prototype.getBackground=function(){return this._Background},r.prototype.getButtons=function(){return this._Buttons},r.prototype.getSelectedIndex=function(){return this._SelectedIndex},r.prototype.getDragDropEnabled=function(){return this._DragDropEnabled},r.prototype.getIsAddTabButtonVisible=function(){return this._IsAddTabButtonVisible},r.prototype.getEnableDelete=function(){return this._EnableDelete},r.prototype.getPosition=function(){return this._Position},r.prototype.getUseInvertedTabLabels=function(){return this._UseInvertedTabLabels},r.prototype.getSelectOnStartEditing=function(){return this._SelectOnStartEditing},r.prototype.getIsHiddenActive=function(){return this._IsHiddenActive},r.prototype.getContentAutoFit=function(){return this._ContentAutoFit},r.prototype.getImagePath=function(){return this._ImagePath},r.prototype.getMenuAddItems=function(){return this._MenuAddItems},r.prototype.getEnableGroupSeparator=function(){return this._EnableGroupSeparator},r.prototype.getEnableDragOutside=function(){return this._EnableDragOutside},r.prototype.getEnableDropFromOutside=function(){return this._EnableDropFromOutside},r.prototype.setSelectOnStartEditing=function(n){this._SelectOnStartEditing=n},r.prototype.setIsHiddenActive=function(n){this._IsHiddenActive=n},r.prototype.setContentAutoFit=function(n){this._ContentAutoFit=n},r.prototype.setEnableEdit=function(n){this._EnableEdit=n},r.prototype.setImagePath=function(n){this._ImagePath=n},r.prototype.setMenuAddItems=function(n){this._MenuAddItems=n},r.prototype.setEnableGroupSeparator=function(n){this._EnableGroupSeparator=n},r.prototype.setEnableDragOutside=function(n){this._EnableDragOutside=n},r.prototype.setEnableDropFromOutside=function(n){this._EnableDropFromOutside=n},r.prototype._render=function(){this._initFromHTML("<div class='PPTabControl PPNoSelect'><\/div>"),n.IsIE&&this._DomNode.setAttribute("onselectstart","return PP.disableSelection(event)"),this._TabContentPanel?(this._auy=!0,this._DomNode.style.height=this._HeaderHeight+"px"):this._cwr(),t.prototype._render.apply(this,arguments),this.beginUpdate(),this._cr(),this._Buttons&&this.setButtons(this._Buttons),this.setTabAnchor(this._TabAnchor),this._IsAddTabButtonVisible||this.setIsAddTabButtonVisible(!1),this._ParentNode&&this.addToNode(this._ParentNode),this.endUpdate(),this._cwq?this.setSelectedIndex(0,!1):this._SelectedIndex>-1&&this.setSelectedIndex(this._SelectedIndex,!1),this._Background&&this.setBackground(this._Background),this._UseToolBarSwitch&&this.setUseToolBarSwitch(this._UseToolBarSwitch)},r.prototype._cr=function(){var t=this._Items||[],n,i;for(this._Items=[],n=0,i=t.length;n<i;n++)this.addItem(t[n])},r.prototype._cws=function(n,t){this.setSelectedItem(t.Item.getData().TabItem)},r.prototype._aW=function(){if(t.prototype._aW.apply(this,arguments),this._NewTabCaption=n.resourceManager.getString("tabControlNewTab"),this._UseToolBarSwitch&&this._eR)for(var f=this._eR.getItems(),e=f.length,u=0;u<e;u++)f[u].setContent(f[u].getData().TabItem.getCaption())},r.prototype._aY=function(){this._cwt(),this._cwu(),this.setTabAnchor(this._TabAnchor)},r.prototype._cwt=function(){var t=this._Position,i=this._Id+"_tb"+n.LTRB[t];this._de=n.createElement(this._DomNode,"PPTabControlHeadersPanel"),n.addClass(this._de,n.LTRB[t]),this._UseInvertedTabLabels&&n.addClass(this._de,"Inverted"),this._gu=n.htmlToDOM("<div class='PPTabControlItems'><\/div>"),this._aEi=n.createElement(this._de,"ToolBar"),this._addEvent(this._de,"mouseover",this._cwv),this._addEvent(this._de,"mouseout",this._cww);var r={Id:i+"_cwx",ParentNode:this._aEi,Class:"LeftButton",Data:t,Width:this._sK,Height:this._qw,MouseDown:new n.Delegate(this._bcf,this),IsRTL:this._IsRTL},u={Id:i+"_cwy",ParentNode:this._aEi,Class:"RightButton",Data:t,Width:this._sK,Height:this._qw,MouseDown:new n.Delegate(this._bcg,this),IsRTL:this._IsRTL},f={Id:i+"_cwz",ParentNode:this._aEi,Class:"CenterButton",Width:this._sK,Height:this._qw,ListOpening:new n.Delegate(this._cwA,this),Button:{Width:this._sK,Height:this._qw},DropPanel:{MinDropDownWidth:100,Data:t},IsRTL:this._IsRTL};this._IsRTL?this._de.appendChild(this._gu):this._de.insertBefore(this._gu,this._de.childNodes[0]),this._eb={Left:r,Center:f,Right:u}},r.prototype._cwB=function(){this._eb.Left=new n.Ui.Button(this._eb.Left),this._eb.Center=new n.Ui.TabsComboBox(this._eb.Center),this._cwC(),this._eb.Right=new n.Ui.Button(this._eb.Right),this._bce=!0},r.prototype._cwC=function(){var t=this._eb.Center.getListBox(),u=this._Items||[],f=u.length,i,r;for(t.beginUpdate(),i=0;i<f;i++)r=u[i],t.addItem(new n.Ui.ListItem({Data:r,Content:r.getCaption(),IsVisible:r.getIsVisible()}));t.endUpdate(),this._sM=t,this._bch(this._SelectedIndex),t.ItemSelected.add(this._amz,this)},r.prototype._cwA=function(t,i){i.TabControlCoords=n.calculateOffset(this._DomNode),i.TabControlPosition=this._Position,i.TabControlWidth=this._Position===n.LTRB.Top||this._Position===n.LTRB.Bottom?this._Width:this._auy?this._HeaderHeight:this._Width},r.prototype._cwv=function(t){var u=this,r=n.Ui.Control._DragDrop.Data;this._bcd=!0,this._aS0()&&(r.TabControl&&(r.TabControl._k(document.documentElement,"mousemove",r.TabControl._op),r.TabControl._k(document.documentElement,"mouseup",r.TabControl._ib),r.TabControl._na&&(document.body.removeChild(r.TabControl._na),delete r.TabControl._na),r.TabControl._acx&&(document.body.removeChild(r.TabControl._acx),delete r.TabControl._acx)),this._addEvent(document.documentElement,"mousemove",this._op),this._addEvent(document.documentElement,"mouseup",this._ib),r.AcceptorPanel=t,r.TabControl=u,delete this._aS1,this._bJy(),u.TabDragIn.fire(this,{TabItem:r.TabItem,Item:r.TabItem,TabControl:u}))},r.prototype._cww=function(){if(this._bcd=!1,this._aS0()){this._na&&(document.body.removeChild(this._na),delete this._na);var r=n.Ui.Control._DragDrop;delete r.Data.AcceptorPanel,delete this._aS1}this._aEj()},r.prototype._amz=function(n,t){for(var f=t.ListItem.getData(),u=this._Items,e=u.length,r,i=0;i<e;i++)r=u[i],r===f&&(this.setSelectedIndex(i),this._bch(i),this.scrollToItem(r))},r.prototype._cwD=function(t,i){var r=i&&i.Args&&i.Args.TabItem,u;r&&((r=new n.Ui.TabItem({Caption:i.MenuItem.getContent(),Parent:this,Template:r.getTemplate(),IsRTL:this._IsRTL}),u={Item:r,FromMenu:!0,Cancel:!1},this._bJz(u),u.Cancel)||(this.addItem(r),this._bJA(u),this.setSelectedIndex(this.getItems().length-1),this.scrollToItem(r)))},r.prototype._bcf=function(n,t){this._aS2(n,t,!0)},r.prototype._bcg=function(n,t){this._aS2(n,t,!1)},r.prototype._aS2=function(t,i,r){if(this._Enabled){if(i.Event.type=="pointerdown"){this._ScrollingMouseDown=!0,this._addEvent(document,"pointerup",this._aEk);var u=this;u._u9(r),this._sD=n.setTimeout(function(){u._aEl(r)},500)}i.Event.type=="pointerup"&&(this._ScrollingMouseDown=!1)}},r.prototype._aEk=function(){this._k(document,"pointerup",this._aEk),n.clearTimeout(this._sD),this._ScrollingMouseDown=!1},r.prototype._u9=function(t){if(this._ScrollingMouseDown){var i=this.getTabItemsPanel();t=(n.IsIE||n.IsEdge)&&this.getTabsDirection()?!t:t,t?i.scrollLeft-=this._m8:i.scrollLeft+=this._m8,this._aS3()}},r.prototype._al1=function(t){if(this._DragDropEnabled){var r=this,u=t;this._addEvent(document.documentElement,"mouseup",this._ib),this._bJy(),this._acw=n.setTimeout(function(){n.Ui.Control._DragDrop.Data={TabItem:u,StartTabControl:r,TabControl:r},r._addEvent(document.documentElement,"mousemove",r._op),u._bca=!0},100)}this._atC=n.hasClass(document.body,"PPNoSelect"),n.addClass(document.body,"PPNoSelect")},r.prototype._op=function(n,t){return this._aS0()&&this._cwE(t.Event),!1},r.prototype._ib=function(t,i){var e,r,f;if(this._k(document.documentElement,"mouseup",this._ib),this._atC||(n.removeClass(document.body,"PPNoSelect"),delete this._atC),this._acw!=null&&(n.clearTimeout(this._acw),this._acw=null),e=n.Ui.Control._DragDrop.Data||{},r=e.TabItem,r&&r._bca){if(r._bca=!1,this._k(document.documentElement,"mousemove",this._op),this._acx){var o=n.calculateMouseX(i.Event),s=n.calculateMouseY(i.Event),u=!1;this._bci(!1)&&(u=this._bJB(o,s),u&&this.DroppedAfterGroupSeparator.fire(this,{Item:r,TabItem:r,OldTabControl:this})),u||(f={Item:r,OldParent:r.getParent(),NewIndex:0,OldIndex:this._Items.indexOf(r)},this._cwF(r,o,s),f.NewIndex=this._Items.indexOf(r),this._cwG(f)),n.Ui.Control._DragDrop.Data=null,this._na&&(document.body.removeChild(this._na),delete this._na),document.body.removeChild(this._acx),delete this._acx}n.Ui.Control._DragDrop.Data=null}this._aEj()},r.prototype._g0=function(n){this._Enabled&&this.setSelectedIndex(this._Items.indexOf(n),!0,!1,!0)},r.prototype._cwH=function(t,i){if(this._Enabled){if(i.Menu){i.Position=this._Position,i.Menu.ItemSelected.addOne(this._cwD,this,{TabItem:t}),this.AddMenuShowing.fire(this,{Menu:i.Menu});return}var u=new n.Ui.TabItem({Caption:this._NewTabCaption,Parent:this,IsRTL:this._IsRTL}),r={Item:u,FromMenu:!1,Cancel:!1};(this._bJz(r),r.Cancel)||(this.addItem(u),this._bJA(r),this.setSelectedIndex(this._Items.length-1,!0,!1,!0))}},r.prototype._cwE=function(t){this._na||(this._na=n.htmlToDOM("<div class='PPTabControlInsertIcon'><\/div>"),document.body.insertBefore(this._na,document.body.firstChild)),this._acx||(this._acx=n.htmlToDOM("<div class='PPTabControlMoveIcon'><\/div>"),document.body.insertBefore(this._acx,document.body.firstChild));var e=n.Ui.Control._DragDrop.Data||{},i=e.TabItem,r=n.calculateMouseX(t),u=n.calculateMouseY(t),f=this._acx.style;f.left=r+2+"px",f.top=u+16+"px",i&&i.canDrop()?this._cwI(r,u)?n.show(this._na):n.hide(this._na):n.hide(this._na)},r.prototype._cwI=function(t,i){if(!this._Enabled)return!1;var y=!1,u,r,p=this._Position,nt=p===n.LTRB.Top,ut=p===n.LTRB.Bottom,ft=p===n.LTRB.Left,tt=p===n.LTRB.Right,v=this._gu,w=v.offsetWidth,k=v.offsetHeight,e=v.childNodes||[],o=e.length,s=n.calculateOffset(v),c=this._na,f=c.style,b=!this._IsAddTabButtonVisible,l=!1,et=!1,a=this.getTabsDirection();if(this._bci(!1)&&this._bJB(t,i)){var it=this._sN,h=n.calculateOffset(it),d=a?-5:5,rt=3,g=a?rt:0;switch(p){case n.LTRB.Top:c.className="PPTabControlInsertIcon PPTabControlInsertIconTop",f.left=h.X+d-g+"px",f.top=h.Y+it.offsetHeight+"px";break;case n.LTRB.Bottom:c.className="PPTabControlInsertIcon PPTabControlInsertIconBottom",f.left=h.X+d-g+"px",f.top=h.Y-rt+"px";break;case n.LTRB.Right:c.className="PPTabControlInsertIcon PPTabControlInsertIconRight",f.left=h.X-rt+"px",f.top=h.Y+d-g+"px";break;case n.LTRB.Left:c.className="PPTabControlInsertIcon PPTabControlInsertIconLeft",f.left=h.X+it.offsetHeight+"px",f.top=h.Y+d-g+"px"}return!0}return(ft||tt)&&t>=s.X&&t<=s.X+k&&i>=s.Y&&i<=s.Y+w?(r=Math.min(this._bcj(t,i),o-1),c.className=tt?"PPTabControlInsertIcon PPTabControlInsertIconRight":"PPTabControlInsertIcon PPTabControlInsertIconLeft",r>-1&&(o<=1&&b?(u=n.calculateOffset(v),f.top=u.Y+(a?w:0)-3+"px"):a?(r===o&&(r--,et=!0),u=n.calculateOffset(e[r]),f.top=u.Y+e[r].offsetWidth-3+"px"):(b&&r>=o-1&&(r=o-2,l=!0),u=n.calculateOffset(e[r<o?r:r-1]),f.top=u.Y+(l?e[r].offsetWidth:0)-3+"px"),f.left=(tt?u.X-3:u.X+k)+"px",y=!0),y):(nt||ut)&&t>=s.X&&t<=s.X+w&&i>=s.Y&&i<=s.Y+k?(r=Math.min(this._bcj(t,i),o-1),c.className=nt?"PPTabControlInsertIcon PPTabControlInsertIconTop":"PPTabControlInsertIcon PPTabControlInsertIconBottom",r>-1&&(o<=1&&b?(u=n.calculateOffset(v),f.left=u.X+(a?w:0)-3+"px"):(b&&(r==o?(r--,l=!0):r!=o-1||a||(l=!0)),a?b?r<o?(u=n.calculateOffset(e[r]),f.left=u.X+(l?e[r].offsetWidth:0)-3+"px"):f.left=w-3+"px":(u=n.calculateOffset(e[r]),f.left=u.X-3+e[r].offsetWidth+"px"):r<o?(u=n.calculateOffset(e[l?r-1:r]),f.left=u.X+(l?e[r-1].offsetWidth:0)-3+"px"):(u=n.calculateOffset(e[r-1]),f.left=u.X-3+"px")),f.top=(nt?u.Y+k:u.Y-3)+"px",y=!0),y):y},r.prototype._bcj=function(t,i){for(var o=this._gu,s=o.childNodes.length,f=this.getTabsDirection(),r=0;r<s;r++){var e=o.childNodes[r],u=n.calculateOffset(e),h=e.offsetWidth,c=e.clientWidth;switch(this._Position){case n.LTRB.Left:case n.LTRB.Right:if(i>=u.Y&&i<=u.Y+h)return i-u.Y<u.Y+h-i?f?r+1:r:f?r:r+1;break;case n.LTRB.Top:case n.LTRB.Bottom:if(t>=u.X&&t<=u.X+c)return t-u.X<u.X+c-t?f?r+1:r:f?r:r+1}}return s},r.prototype._cwF=function(t,i,r){if(!this._Enabled||!this._bcd||!t.canDrop())return{Result:!1,Index:null};var e=n.Ui.Control._DragDrop.Data,h,u=this._bcj(i,r),c=t.getDomNode(),l=(this._Items||[]).indexOf(t)===-1,o=this._gu,f=o.childNodes.length,s=this.getTabsDirection();return isNaN(u)&&(u=f-1),u>=f&&!s&&(u=f-1),(u>-1&&u<f||u>-1&&u<=f&&s)&&(l?u>=f&&(u=f-1):(u>=f?u=f-1:(s?c.offsetLeft>o.childNodes[u].offsetLeft:c.offsetLeft<o.childNodes[u].offsetLeft)&&u--,u>=f-1&&(u=f-2))),e.TabControl!==e.StartTabControl?(h=e.StartTabControl.getSelectedItem()!==t,e.StartTabControl.removeItem(t,!1),e.TabControl.insertItem(t,Math.max(0,u)),h&&(t.setIsPressed(!1),e.TabControl.setSelectedIndex(u))):u=this.setItemPosition(t,u),{Result:!0,Index:u}},r.prototype._cwJ=function(n){n.Click.remove(this._g0,this),n.MouseDown.remove(this._al1,this),n.ItemChanged.remove(this._bJC,this),n.DblClick.remove(this._yC,this),n.Edited.remove(this._atL,this),n.Editing.remove(this._atK,this),n.Deleting.remove(this._bJD,this),n.MenuClick.remove(this._bJE,this),n.TextEditing.remove(this._bJF,this),n.TextEdited.remove(this._bJG,this)},r.prototype._bJB=function(t,i){if(!this._sN||!n.isVisible(this._sN))return!1;var u=this.getTabsDirection(),r=n.calculateOffset(this._sN);switch(this._Position){case n.LTRB.Top:case n.LTRB.Bottom:return u?r.X>t:r.X<t;case n.LTRB.Right:case n.LTRB.Left:return u?r.Y>i:r.Y<i}},r.prototype._bJC=function(t,i){var r=i.Property,u=i.Value,e=t,h=this._sM,o=h&&h.getItems()||[],c,s,f;switch(r){case"Position":this.setItemPosition(t,u);break;case"Caption":case"IsVisible":case"Enabled":for(r==="Caption"?(r="Content",this._UseToolBarSwitch&&(c=this.getToolBarButtonByTabItem(e),c.setContent(u)),this.updateSize()):r==="IsVisible"&&e===this.getSelectedItem()&&n.show(e.getContentDomNode()),f=o.length;f--&&o[f].getData()!==e;);f>-1&&o[f]["set"+r](u);break;case"Content":this._ContentAutoFit&&u instanceof n.Ui.Control&&(s=this._TabContentPanel.style,u.setSize(parseInt(s.width),parseInt(s.height)));break;case"Width":this.updateSize()}},r.prototype._yC=function(n){this._SelectOnStartEditing&&n.selectText()},r.prototype._atK=function(n,t){t.Cancel=!this._Enabled||!this._EnableEdit&&!t.Forced,t.Cancel||(t.TabIndex=this._Items.indexOf(n),t.Item=n,this.TabEditing.fire(this,t))},r.prototype._atL=function(n,t){t.Item=n,this.TabEdited.fire(this,t)},r.prototype._bJD=function(n,t){t.Cancel=!n.getEnabled()||!this._Enabled||!this._EnableDelete,t.Cancel||(t.TabIndex=this._Items.indexOf(n),t.TabItem=n,t.Item=n,this.TabDeleted.fire(this,t),t.Break||this.removeItem(n))},r.prototype._bJE=function(n,t){var i=t;i.TabItem=n,i.Item=n,i.Menu=n.getMenu(),this.TabMenuShowing.fire(this,i)},r.prototype._bJF=function(n,t){t.Item=n,this.TabTextEditing.fire(this,t)},r.prototype._bJG=function(n,t){t.Item=n,this.TabTextEdited.fire(this,t)},r.prototype._aEl=function(t){n.clearTimeout(this._sD),this._u9(t);var i=this;this._sD=n.setTimeout(function(){i._aEl(t)},100)},r.prototype._cwr=function(){this._TabContentPanel=n.htmlToDOM("<div class='PPTabContent'><\/div>"),this._DomNode.appendChild(this._TabContentPanel)},r.prototype._aS3=function(){if(this._bce){var t=this._gu,i=t.childNodes,u=t.clientWidth,r=this.getTabsDirection(),o=r?i[i.length-1]:i[0],s=this._aS4(o),f=r?i[0]:i[i.length-1],h=this._aS4(f),e=n.IsFF&&r?t.scrollWidth-u+t.scrollLeft:(n.IsIE||n.IsEdge)&&r?t.scrollWidth-u-t.scrollLeft:t.scrollLeft;this._eb.Left.setEnabled(s<e),this._eb.Right.setEnabled(h+f.offsetWidth>e+u)}},r.prototype._aS4=function(n){var t=0;if(this.getTabsDirection())while(n.nextSibling)n=n.nextSibling,t+=n.offsetWidth;else while(n.previousSibling)n=n.previousSibling,t+=n.offsetWidth;return t},r.prototype._aS0=function(){var t=n.Ui.Control._DragDrop;return t&&t.Data&&t.Data.TabItem&&t.Data.TabItem.isLive()&&!t.Data.TabItem.getIsEditing()},r.prototype._bck=function(){var v=this.getTabItemsPanel(),i=v.style,y=v.childNodes,p=y.length,h=0,c,f,l,e=this._Position,w=e===n.LTRB.Top?this._PaddingLeft:0,r=this._de,t=r.style,u=this._aEi,a,b=this._g(this._Height),o=r.offsetWidth,s=r.offsetHeight;u.style.visibility="hidden",t.left=t.right=t.top="",this._auy&&(this._Position===n.LTRB.Left||this._Position===n.LTRB.Right)&&(t.width=this._Width+"px");switch(e){case n.LTRB.Left:case n.LTRB.Right:t.top=(o-s)/2+"px",e===n.LTRB.Left?t.left=-(o-s)/2+"px":t.right=-(o-s)/2+"px";break;case n.LTRB.Bottom:t.left="0px",this._auy||(t.top=b-s+"px")}for(c=p;c--;)h+=y[c].offsetWidth;f=o-(r?n.Ui.getBordersWidth(r):0),l=h>0&&h>=f-w-(this._aSZ||0),l&&!this._bce&&this._cwB(),this._cwK(u,l),a=u.offsetWidth,e===n.LTRB.Top?(this._IsRTL?(i.marginLeft="",i.marginRight=this._PaddingLeft+"px"):(i.marginLeft=this._PaddingLeft+"px",i.marginRight=""),i.width=this._g(f-this._aSZ-a-this._PaddingLeft)+"px"):i.width=this._g(f-this._aSZ-a)+"px",u.style.visibility="",u.style.marginTop=Math.max((this._HeaderHeight-this._qw)/2-1,0)+"px",this._lT&&this._Buttons.length&&(this._lT.style.marginTop=Math.max((this._HeaderHeight-this._lT.offsetHeight)/2-1,0)+"px"),this._aS3()},r.prototype._bJz=function(n){this.BeforeAddItem.fire(this,n)},r.prototype._bJA=function(n){this.AfterAddItem.fire(this,n)},r.prototype._cwG=function(n){this.ItemMoved.fire(this,n),this._cwL()},r.prototype._cwL=function(){for(var t=this._Items||[],n=t.length;n--&&!t[n].getIsPressed(););n>-1&&(this._SelectedIndex=n)},r.prototype._cwK=function(n,t){t?this._lT&&this._lT.parentNode===this._de?this._de.insertBefore(n,this._lT):this._de.appendChild(n):n.parentNode===this._de&&this._de.removeChild(n)},r.prototype._bJH=function(){if(this._TabContentPanel.childNodes.length)while(this._TabContentPanel.firstChild)n.hide(this._TabContentPanel.firstChild),this._TabContentPanel.removeChild(this._TabContentPanel.firstChild)},r.prototype._bJy=function(){var t,f,s;if(this._bci()){var e=this.getTabsDirection(),o=this._gu,i,r,u=o.childNodes,h=u.length;for(this._sN||(this._sN=document.createElement("div"),n.addClass(this._sN,"PPGroupSeparator")),this._aEj(),r=h;r--;)if(!n.hasClass(u[r],"PPHide")){i=u[r];break}if(!i){this._aEj();return}s="left",t=i.offsetLeft+(e?0:i.offsetWidth),f=o.offsetWidth,e?t-=5:t+=5,t>f&&(t=f),this._sN.style[s]=t+"px",this._de.appendChild(this._sN)}else this._aEj()},r.prototype._aEj=function(){this._sN&&this._sN.parentNode&&this._sN.parentNode.removeChild(this._sN)},r.prototype._bci=function(t){var r,i,u;if(!this._EnableGroupSeparator)return!1;if(r={Cancel:!1},t===!1&&n.isDefined(this._aS1)&&(r.Cancel=this._aS1),t=n.isDefined(t)?t:!0,this._aS0()){if(i=n.Ui.Control._DragDrop.Data,!i.TabItem.canDrop()||this!==i.StartTabControl)return!1;t&&(u={Item:i.TabItem,TabItem:i.TabItem,OldTabControl:i.StartTabControl},this.BeforeShowGroupSeparator.fire(this,u),this._aS1=r.Cancel)}return!r.Cancel},r.prototype._bch=function(n){var u=this._Items[n],i=this._sM,r=i&&i.getItems()||[],f=r.length,t;if(i)for(t=0;t<f;t++)if(r[t].getData()===u){i.setSelectedIndex(t,!1),i.setFocusedIndex(t);break}},r.prototype._cwu=function(){var t={Parent:this,Menu:this._MenuAddItems,IsRTL:this._IsRTL,Enabled:this._Enabled};this._AddTabButtonTemplate&&(t.Template=this._AddTabButtonTemplate),this._ii=new n.Ui.TabAddItem(t),this._ii.Click.add(this._cwH,this),this._gu.appendChild(this._ii.getDomNode()),this._IsAddTabButtonVisible||this.setIsAddTabButtonVisible(!1)},r.prototype._cwM=function(t){this._aEm&&n.clearTimeout(this._aEm),this._aEm=n.setTimeout(this._cwN,200,{Item:t},this)},r.prototype._cwN=function(t){n.clearTimeout(this._aEm),this._Items.indexOf(t.Item)>-1&&this.scrollToItem(t.Item)},r.prototype.addToNode=function(){t.prototype.addToNode.apply(this,arguments),this.scrollToItem(this.getActiveItem()),this.updateSize()},r.prototype.setIsRTL=function(i){if(i!==this._IsRTL&&(this._an&&(t.prototype.setIsRTL.call(this,i),this._gu&&(this._gu.dir=i?"rtl":"ltr")),this._gu)){for(var u=this._lT,o=this._Items,s,f,e,h=o.length,r=0;r<h;r++)e=o[r],e.setIsRTL(i),f=e.getContent(),f instanceof n.Ui.Control&&f.setIsRTL(i);if(this._UseToolBarSwitch&&this._eR&&this._eR.setIsRTL(i),this.setTabAnchor(this._TabAnchor),u)for(s=this._Buttons,r=u.childNodes.length;r--;)u.appendChild(u.childNodes[r]),s[r].setIsRTL(i);this._bck(),this._sM instanceof n.Ui.ListBox?this._sM.setIsRTL(i):this._eb&&this._eb.Center&&(this._eb.Center.IsRTL=i)}},r.prototype.setTabAnchor=function(n){this._TabAnchor=n;var t=this.getTabsDirection();this._gu&&(this._de.dir=t?"rtl":"ltr",this._gu.dir=t?"rtl":"ltr")},r.prototype.getTabsDirection=function(){var t=this._TabAnchor===n.AnchorStyles.Top,i=this._TabAnchor===n.AnchorStyles.Right,r=this._TabAnchor===n.AnchorStyles.None;return this._an?t||i||r&&this._IsRTL:!t&&!i&&!r},r.prototype.setItemPosition=function(t,i){if(typeof i!="undefined"&&typeof i!="number")throw new n.ArgumentException(this,"incorrect type of index");var o=this._Items,u=o.indexOf(t),f=this._sM,h=f&&f.getItems()||[],s,c=this.getActiveItem()===t,e=t.getDomNode(),r=this._gu;i=Math.max(0,Math.min(i,o.length-1)),i<r.childNodes.length?u<i?r.insertBefore(e,r.childNodes[i+1]):r.insertBefore(e,r.childNodes[i]):!this._IsAddTabButtonVisible||this.getTabsDirection()?r.appendChild(e):this._ii?r.insertBefore(e,this._ii._DomNode):r.appendChild(e),u===-1?this.insertItem(t,Math.max(0,i)):(o.splice(i,0,o.splice(u,1)[0]),c?this._SelectedIndex=i:i<this._SelectedIndex&&u>this._SelectedIndex?this._SelectedIndex++:i>this._SelectedIndex&&u<this._SelectedIndex&&this._SelectedIndex--,f&&(s=h[u],f.removeItem(s,!1),f.insertItem(s,i),f.setSelectedIndex(this._SelectedIndex,!1))),this.updateSize()},r.prototype.scrollToItem=function(t){if(this._gu&&t){var i=this._gu,a=i.childNodes,u=i.clientWidth,s=this.getTabsDirection(),l=t.getDomNode(),r=this._aS4(l),h=l.offsetWidth,f=i.scrollWidth,c=n.IsFF&&s,e=c?f-u+i.scrollLeft:(n.IsIE||n.IsEdge)&&s?f-u-i.scrollLeft:i.scrollLeft;if(h>u)i.scrollLeft=r;else{var o=20,v=e>r,y=e>r+h&&!n.IsEdge||e+u<r+h,w=l===a[0],p=l===a[a.length-(this._IsAddTabButtonVisible?2:1)];v&&y?i.scrollLeft=w?0:p?s?c?u-f:n.IsIE?e:0:f-u:c?i.scrollLeft-(e-r+o):(n.IsIE||n.IsEdge)&&s?f-u-r+o:r-o:(v?i.scrollLeft=c?i.scrollLeft-(e-r+o):(n.IsIE||n.IsEdge)&&s?f-u-r+o:r-o:y&&(i.scrollLeft+=(n.IsIE||n.IsEdge)&&s?-(h-(e+u-r)+o):r+h-e-u+o),p&&(i.scrollLeft=s&&!n.IsIE&&!n.IsEdge?c?u-f:0:f))}this._aS3()}},r.prototype.setHeaderHeight=function(n){this._HeaderHeight=n,this._de&&(this._gu.style.height=this._de.style.height=n+"px",this.updateSize())},r.prototype.setPaddingLeft=function(n){this._PaddingLeft=n,this._bck()},r.prototype.setUseToolBarSwitch=function(t){var h,f,e;t=!!t,this._UseToolBarSwitch=t;var o=this._Items,c=o.length,u,r,i,l=null,s=this.getTabsDirection();if(t){for(this.addClass("ToolBarSwitch"),this._eR||(this._eR=new n.Ui.ToolBar({IsRTL:s,StateChanged:new n.Delegate(this._cws,this)})),this._gu&&!this._cwp&&(!s&&this._ii&&(l=this._ii.getDomNode()),this._eR.addToNode(this._gu,l)),this._eR.beginUpdate(),i=0;i<c;i++)u=o[i],h={GroupName:"TabItems",Content:u.getCaption(),Enabled:u.getEnabled(),IsPressed:i===this._SelectedIndex,Template:null,Data:{TabItem:u}},this._ToolBarButtonTemplate&&(h.Template=this._ToolBarButtonTemplate),this._eR.addItem(new n.Ui.ToolBarButton(h)),r=u.getDomNode(),r.parentNode&&r.parentNode.removeChild(r);this._eR.endUpdate(),this._eR.show(),this._ii&&this._ii.hide()}else{for(this.removeClass("ToolBarSwitch"),this._eR&&(this._eR.hide(),this._eR.removeItems()),i=0;i<c;i++)u=o[i],f=this._gu,r=u.getDomNode(),e=this._ii.getDomNode(),s?e.nextSibling?f.insertBefore(r,e.nextSibling):f.appendChild(r):f.insertBefore(r,e);this._IsAddTabButtonVisible&&this._ii&&this._ii.show()}},r.prototype.setItems=function(n){this.clear(),this._Items=n,this._cr()},r.prototype.setBackground=function(t){var r=this._de.style,f="",e=!1,o="backgroundColor",u,i;t?t instanceof n.Color?(u=t,f=u.toDecimalString(!0),e=!0):n.isString(t)&&(i=t,i.indexOf("#")===0&&(i.length===7||i.length===9)||/^rgba\((\d{1,3}),(\s+|)(\d{1,3}),(\s+|)(\d{1,3}),(\s+|)([\d\.]{1,})\)$/ig.test(i)||/^rgb\((\d{1,3}),(\s+|)(\d{1,3}),(\s+|)(\d{1,3})\)$/ig.test(i)?(u=n.Color.getColor(i),f=u.toDecimalString(!0),e=!0):(r.backgroundImage="",r.backgroundImage="url("+t+")")):(r.backgroundColor="",r.backgroundImage="",this._Background=null),this._Background=u,e&&(r.backgroundImage="",r[o]=f)},r.prototype.setSelectedItem=function(t,i,r,u){if(t&&t instanceof n.Ui.TabItem){for(var e=this._Items,f=e.length;f--&&e[f]!==t;);f>-1&&this.setSelectedIndex(f,i,r,u)}},r.prototype.getActiveItem=function(){return this.getSelectedItem()},r.prototype.getSelectedItem=function(){return this._SelectedIndex>-1&&this._SelectedIndex<this._Items.length?this._Items[this._SelectedIndex]:null},r.prototype.setSelectedIndex=function(t,i,r,u){var s,o;if(t===-1)this.clearSelection();else if(s=this._Items,o=s[t],o&&o.getIsVisible()&&o.getEnabled&&!o.getIsPressed()||r){this._bJH(),i=i!==!1;for(var p=s.length,h,c,a,f,l,v=parseInt(this._TabContentPanel.style.width),y=parseInt(this._TabContentPanel.style.height),e=0;e<p;e++)if(f=s[e],e===t){if(i&&this.ItemDeselected.fire(this,{Index:this._SelectedIndex,Item:f}),this._UseToolBarSwitch&&this._eR){for(h=this._eR.getItems(),a=h.length,c=0;c<a;c++)h[c].setIsPressed(!1,!1,!1);h[e].setIsPressed(!0,!1,!1)}f.setIsPressed(!0),this._SelectedIndex=t,this._TabContentPanel.appendChild(f._ContentDomNode),n.show(this._TabContentPanel.firstChild),f._ContentDomNode.style.width=v+"px",f._ContentDomNode.style.height=y+"px",this._ContentAutoFit&&(l=f.getContent(),l instanceof n.Ui.Control&&l.setSize(v,y)),u?this._cwM(f):this.scrollToItem(f),i&&this.ItemSelected.fire(this,{Index:this._SelectedIndex,Item:f})}else f.setIsPressed(!1);this._bch(t)}},r.prototype.setDragDropEnabled=function(n){n!=this._DragDropEnabled&&(this._DragDropEnabled=n==!0)},r.prototype.getItemsList=function(){return this._sM},r.prototype.setWidth=function(){t.prototype.setWidth.apply(this,arguments),this.updateSize()},r.prototype.setHeight=function(){t.prototype.setHeight.apply(this,arguments),this.updateSize()},r.prototype.setEnabled=function(i){if(i!==this._Enabled){t.prototype.setEnabled.call(this,i);for(var o=this._Items||[],h=o.length,r=this._eb,s=this._Buttons||[],c=s.length,f,e,u=0;u<h;u++)f=o[u],f instanceof n.Ui.TabItem&&f.setEnabled(i);for(r.Left instanceof n.Ui.Control?r.Left.setEnabled(i):r.Left&&(r.Left.Enabled=i),r.Center instanceof n.Ui.Control?r.Center.setEnabled(i):r.Center&&(r.Center.Enabled=i),r.Right instanceof n.Ui.Control?r.Right.setEnabled(i):r.Right&&(r.Right.Enabled=i),this._ii&&this._ii.setEnabled(i),u=0;u<c;u++)e=s[u],e instanceof n.Ui.Control&&e.setEnabled(i);this._UseToolBarSwitch&&this._eR&&this._eR.setEnabled(i),i&&this._aS3()}},r.prototype.getContentPanel=function(){return this._TabContentPanel},r.prototype.getHeader=function(){return this._de||this._aY(),this._de},r.prototype.setIsAddTabButtonVisible=function(n){this._IsAddTabButtonVisible=n,this._ii&&(n?this._ii.show():this._ii.hide())},r.prototype.getToolBarButtonByTabItem=function(n){var i,t,r;if(this._UseToolBarSwitch&&this._eR)for(i=this._eR.getItems(),t=0,r=i.length;t<r;t++)if(i[t].getData().TabItem===n)return i[t];return null},r.prototype.addItem=function(n){this.insertItem(n,undefined)},r.prototype.insertItem=function(t,i){var r=t,f,l;if(!t)throw new n.ArgumentNullException(this);t instanceof n.Ui.TabItem||(f=t,n.isDefined(f.Enabled)||(f.Enabled=this._Enabled),r=new n.Ui.TabItem(f)),r.setParent(this),r.setIsRTL(this._IsRTL),r.Click.addOne(this._g0,this),r.MouseDown.add(this._al1,this),r.ItemChanged.add(this._bJC,this),r.DblClick.add(this._yC,this),r.Edited.add(this._atL,this),r.Editing.add(this._atK,this),r.Deleting.add(this._bJD,this),r.MenuClick.add(this._bJE,this),r.TextEditing.add(this._bJF,this),r.TextEdited.add(this._bJG,this);var o=this.getTabItemsPanel(),a=this._ii.getDomNode(),h=n.querySelector(o,".Buttons"),e=this._Items,s=n.isNumber(i)&&i<e.length,u=this._sM,c=u?new n.Ui.ListItem({Parent:u,Data:r,Content:r.getCaption(),IsVisible:r.getIsVisible()}):null;this._EnableDelete&&n.show(r.getDeleteNode()),s?n.Array.insert(e,r,i):e.push(r),this._UseToolBarSwitch?this._eR&&(l={GroupName:"TabItems",Content:r.getCaption(),Enabled:r.getEnabled(),Data:{TabItem:t},Template:this._ToolBarButtonTemplate},this._eR.insertItem(new n.Ui.ToolBarButton(l),i)):s&&n.isNumber(i)&&i>=0?r.addToNode(o,e[i+1].getDomNode()):r.addToNode(o,h?h.nextSibling:a),u&&(s?u.insertItem(c,i):u.addItem(c)),this._BeginUpdate||(this._Items.length==1?this.setSelectedIndex(0,!1):n.hide(r.getContentDomNode())),this.updateSize()},r.prototype.addButton=function(n,t){this.insertButton(n,undefined,t)},r.prototype.insertButton=function(t,i,r){var u=t;if(u){u instanceof n.Ui.Button||(u=new n.Ui.Button(u));var e=this._Buttons||[],f=this._lT,s=this.getHeader(),o;e.indexOf(u)>=0||(i>=0&&i<e.length&&(o=e[i]),o?n.Array.insert(e,u,i):e.push(u),u.setEnabled(this._Enabled&&u.getEnabled()),u.setIsRTL(this._IsRTL),u.setParent(this),f||(f=n.htmlToDOM("<div><\/div>"),n.addClass(f,"PPTabButtons"),s.appendChild(f)),o?u.addToNode(f,o.getDomNode()):this._IsRTL&&f.firstChild?u.addToNode(f,f.firstChild):u.addToNode(f),r!==!1&&this.AddButton.fire(this,{Button:u}),this.updateSize(),this._Buttons=e,this._lT=f)}},r.prototype.removeItem=function(n,t){var i=this._Items.indexOf(n);i>-1&&this.removeItemByIndex(i,t)},r.prototype.removeItemByIndex=function(n,t){var h;if(this.isLive()&&n>-1&&n<this._Items.length){var i=this._Items[n],o,u=this._sM,s=u&&u.getItems()||[],f=null,c=s.length,r,e;for(i.setIsPressed(!1),r=0;r<c;r++)if(e=s[r],e.getData()===i){e.setData(null),u.ItemSelected.suspend(),u.removeItemAt(r),u.ItemSelected.resume();break}if(this._UseToolBarSwitch&&this._eR&&this._eR.removeItemByIndex(n,t),t!==!1?i.dispose():(h=i.getIsVisible(),this._cwJ(i),i.removeFromDOM(),i.setIsVisible(h)),this._Items.splice(n,1),o=this._Items.length,this._SelectedIndex===n){for(r=0;r<o;r++)if(i=this._Items[r],i.getEnabled()&&i.getIsVisible()){f=r;break}f!==null?this.setSelectedIndex(f,!1,!0):this._SelectedIndex=-1}else this._SelectedIndex>n&&this.setSelectedIndex(this._SelectedIndex-1,!1,!0);this.updateSize()}},r.prototype.updateSize=function(){var r,u,t,i,f,e,o,h;if(!this._BeginUpdate&&this.isLive()){if(r=this._DomNode,u=this._TabContentPanel.style,this._Buttons&&(this._aSZ=this._lT.offsetWidth+1),!this._auy){if(this._de){u.top=u.left="",f=this.getWidth(),e=this.getHeight(),n.isNumber(f)||(f=r.offsetWidth),n.isNumber(e)||(e=r.offsetHeight);switch(this._Position){case n.LTRB.Top:case n.LTRB.Bottom:t=e-this._HeaderHeight,i=f,this._de.style.width=Math.max(0,i)+"px",this._Position===n.LTRB.Top&&(u.top=this._HeaderHeight+"px");break;case n.LTRB.Left:case n.LTRB.Right:t=e,i=f-this._HeaderHeight,this._de.style.width=Math.max(0,t)+"px",this._Position===n.LTRB.Left&&(u.left=this._HeaderHeight+"px")}}i<0&&(i=0,r.style.width=this._HeaderHeight+"px"),t<0&&(t=0,r.style.height=this._HeaderHeight+"px"),u.width=i+"px",u.height=t+"px"}for(this._de&&(this._gu.style.height=this._de.style.height=this._HeaderHeight+"px",this._bck()),this._auy&&(this._Position===n.LTRB.Left||this._Position===n.LTRB.Right)&&(r.style.height=this._Width+"px",r.style.width=this._HeaderHeight+"px"),o=0,h=this._Items.length;o<h;o++){var c=this._Items[o],s=c.getContent(),l=c.getContentDomNode();l.style.width=i+"px",l.style.height=t+"px",s instanceof n.Ui.Control&&s.isLive()&&(this._ContentAutoFit?s.setSize(i,t):s.updateSize())}}},r.prototype.clear=function(n){while(this._Items.length>0)this.removeItemByIndex(0,n)},r.prototype.clearSelection=function(){var i=this._sM,r=this.getSelectedItem(),t,n;if(r&&r.setIsPressed(!1),this._UseToolBarSwitch&&this._eR)for(t=this._eR.getItems(),n=0;n<t.length;n++)t[n].setIsPressed(!1,!1,!1);this._SelectedIndex=-1,this._bJH(),i&&i.clearSelection()},r.prototype.setEnableDelete=function(t){if(this._EnableDelete===!t){var r=this._Items,i=r.length;if(this._EnableDelete=!!t,this._EnableDelete)while(i--)n.show(r[i].getDeleteNode());else while(i--)n.hide(r[i].getDeleteNode());this.updateSize()}},r.prototype.setIsVisible=function(n){t.prototype.setIsVisible.call(this,n),n&&this.updateSize()},r.prototype.hideContent=function(){n.hide(this._TabContentPanel)},r.prototype.showContent=function(){n.show(this._TabContentPanel)},r.prototype.setPosition=function(t){this._de&&(n.removeClass(this._de,n.LTRB[this._Position]),n.addClass(this._de,t)),this._Position=t,this._an=this._Position===n.LTRB.Top||this._Position===n.LTRB.Bottom,this.updateSize()},r.prototype.getTabItemsPanel=function(){return this._gu||this._aY(),this._gu},r.prototype.getXItem=function(){return this._ii},r.prototype.beginUpdate=function(){this._BeginUpdate?this._BeginUpdate++:this._BeginUpdate=1},r.prototype.endUpdate=function(){this._BeginUpdate&&this._BeginUpdate--,this._BeginUpdate||this.updateSize()},r.prototype.setUseInvertedTabLabels=function(t){t?n.addClass(this._de,"Inverted"):n.removeClass(this._de,"Inverted")},r.prototype.setButtons=function(t){var r,i;for(t=t.slice()||[];r=this._Buttons.pop();)r instanceof n.Ui.Control&&r.dispose();for(i=0;i<t.length;i++)this.addButton(t[i])},r.prototype.getVisibleItems=function(){for(var i=this.getItems(),u=i.length,r=[],t,n=0;n<u;n++)t=i[n],t.getIsVisible()&&r.push(t);return r},r.prototype.dispose=function(){this.isLive()&&(this._eb.Left instanceof n.Ui.Control?this._eb.Left.dispose():delete this._eb.Left,this._eb.Center instanceof n.Ui.Control?this._eb.Center.dispose():delete this._eb.Center,this._eb.Right instanceof n.Ui.Control?this._eb.Right.dispose():delete this._eb.Right,this._eR instanceof n.Ui.ToolBar&&(this._eR.dispose(),delete this._eR),this._Buttons&&(n.Array.isArray(this._Buttons)&&this._abY(this._Buttons),this._aEm&&n.clearTimeout(this._aEm),this._ii&&this._ii.dispose(),this._sM&&this._sM.dispose()),t.prototype.dispose.call(this))},r}(t.Control);t.TabControl=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(n){var t=function(n){function t(t){return n.call(this,t)||this}return i(t,n),t.prototype._bJI=function(){if(this._gX){var t=this._IsLargeControl?32:16,n=this._ImageUrl?"":t+"px";this._gX.style.width=n,this._gX.style.height=n}},t.prototype._e=function(){n.prototype._e.call(this),this._IsLargeControl=!1,this._UseWrapping=!0},t.prototype._render=function(){n.prototype._render.call(this),this.addClass("PPRibbonButton")},t.prototype._lH=function(){n.prototype._lH.call(this),this._bJI()},t.prototype._fk=function(t,i){n.prototype._fk.call(this,t,i),this._bJI(),this.updateSize()},t.prototype.getIsLargeControl=function(){return this._IsLargeControl},t.prototype.setIsLargeControl=function(n){this._IsLargeControl=n,this._ImageList&&this._lH()},t}(n.Button);n.RibbonButton=t})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this,i;return t._bJJ=21,t._cwO=21,i=t._IsPressed,t._IsPressed&&(t._IsPressed=null),t.setIsPressed(i),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._defineEvents(["DefaultAction"]),this._Orientation=n.Orientation.Vertical,this._MenuArrowPosition=n.AnchorStyles.Bottom,this._UseWrapping=!0},u.prototype._initFields=function(t){t=t||{},n.isDefined(t.IsHorizontal)&&(t.Orientation=t.IsHorizontal?n.Orientation.Horizontal:n.Orientation.Vertical,delete t.IsHorizontal),t.Arrow instanceof n.Ui.Arrow||(t.Arrow=n.extend(t.Arrow||{},{Fill:"#666666"},!0),(t.Orientation&&t.Orientation==n.Orientation.Horizontal||this._Orientation==n.Orientation.Horizontal)&&(t.Arrow=n.extend(t.Arrow,{Width:7,Height:3},!0))),r.prototype._initFields.call(this,t)},u.prototype._render=function(){var r,u,i,f;this._initFromHTML("<div class='PPSplitButton'><\/div>"),r={IsToggleButton:this._IsToggleButton,RowIndex:this._RowIndex,ColumnIndex:this._ColumnIndex,ImageList:this._ImageList,ImageUrl:this._ImageUrl,ParentNode:this._DomNode,Class:"ImageButton",MouseDown:new n.Delegate(this._cwP,this),Click:new n.Delegate(this._cwQ,this)},this._ImageButton=new n.Ui.Button(r),delete this._IsToggleButton,delete this._RowIndex,delete this._ColumnIndex,delete this._ImageList,delete this._ImageUrl,u={UseWrapping:this._UseWrapping,MenuArrowPosition:this._MenuArrowPosition,Arrow:this._Arrow,MenuDropPosition:this._MenuDropPosition,Content:this._Content,ParentNode:this._DomNode,Class:"ContentButton",Click:new n.Delegate(this._cwR,this)},this._ContentButton=new n.Ui.Button(u),this.setMenu(this._Menu||new t.Menu),i=this._DomNode,f=this._Enabled,this._IsRTL&&i&&i.dir!="rtl"&&this.setIsRTL(!0),this._Enabled=null,this.setEnabled(f),this._IsVisible||this.setIsVisible(this._IsVisible),this.setResourceKey(this._ResourceKey),this.addClass(this._ReleaseClass),this._ParentNode&&this.addToNode(this._ParentNode),this.setOrientation(this._Orientation)},u.prototype._bp=function(n,t){if(this.isLive()&&this._Enabled)return this.Click.fire(n,t)},u.prototype._bk=function(n,t){if(this._Enabled&&this.isLive())return this.MouseDown.fire(this,t)},u.prototype._dQ=function(n,t){if(this._Enabled&&this.isLive())return this.MouseUp.fire(this,t)},u.prototype._cG=function(n,t){if(this._Enabled&&this.isLive())return r.prototype._cG.call(this,n,t)},u.prototype._b0=function(t,i){n.reallyOut(this._DomNode,i.Event)&&this.isLive()&&this._Enabled&&this.MouseOut.fire(t,i)},u.prototype._aEo=function(t,i){if(this._Orientation===n.Orientation.Horizontal&&!n.hasClass(this._DomNode,"PPHide")&&this.getCssStyle(this._DomNode,"display")!=="none"){var r=this._age();i.X=r.X,i.Y=r.Y}},u.prototype._age=function(){var t={X:0,Y:0},o=this._ContentButton.getMenu(),r=o.isVisibleArea(0,0,!0),i=n.calculateOffset(this._DomNode),u=this._ContentButton.getMenuDropPosition(),f,s,e;return t.Y=u==n.AnchorStyles.Right||u==n.AnchorStyles.Left?i.Y:u==n.AnchorStyles.Top?i.Y-r.Height-2:i.Y+this._DomNode.offsetHeight+1,t.X=this._IsRTL?u==n.AnchorStyles.Right?i.X-r.Width-2:u==n.AnchorStyles.Left?i.X+this._DomNode.offsetWidth+2:i.X+this._DomNode.offsetWidth-r.Width:u==n.AnchorStyles.Right?i.X+this._DomNode.offsetWidth+2:u==n.AnchorStyles.Left?i.X-r.Width-2:i.X,r=o.isVisibleArea(t.Y,t.X,!0),f=null,r.VisibleByHeight||(s=0,s=i.Y-r.Height-1,s>-1&&(f=o.isVisibleArea(s,t.X,!0),f.VisibleByHeight&&(t.Y=s))),r.VisibleByWidth||(this._IsRTL?(e=i.X,f=o.isVisibleArea(t.Y,e,!0),f.VisibleByWidth&&(t.X=e)):(e=i.X+this._DomNode.offsetWidth-r.Width,f=o.isVisibleArea(t.Y,e,!0),f.VisibleByWidth&&(t.X=e))),t},u.prototype._bcl=function(t,i){n.reallyOver(this._DomNode,i.Args.Event)&&this.setIsHovered(!0);var r=this._ContentButton.getMenu();r&&r.Closed.remove(this._bcl,this)},u.prototype._cwP=function(t,i){var r=this._ContentButton.getMenu();r&&r.getDroppedDown()&&(r.Closed.add(this._bcl,this,i),n.setTimeout(function(n){n.contentButtonMenu.Closed.remove(this._bcl,this)},50,{contentButtonMenu:r},this))},u.prototype._cwQ=function(t,i){this.hideToolTip(),this._ImageButton.getIsToggleButton()&&this.setIsPressed(this._ImageButton.getIsPressed()),this._cwS(t,i),n.reallyOver(this._DomNode,i.Event)&&this.setIsHovered(!0)},u.prototype._cwS=function(n,t){this.DefaultAction.fire(this,t)},u.prototype._cwR=function(t,i){this.hideToolTip(),this._ContentButton.getMenu().getDroppedDown()||(this._ContentButton.setIsPressed(this._ContentButton.getIsPressed()),n.reallyOver(this._DomNode,i.Event)&&this.setIsHovered(!0))},u.prototype._kT=function(){this.setIsHovered(!1)},u.prototype.getImageButton=function(){return this._ImageButton},u.prototype.getContentButton=function(){return this._ContentButton},u.prototype.getIsHorizontal=function(){return this._Orientation===n.Orientation.Horizontal},u.prototype.getOrientation=function(){return this._Orientation},u.prototype.getMenu=function(){return this._ContentButton.getMenu()},u.prototype.setMenu=function(n){this._ContentButton.setMenu(n);var t=this.getMenu();t.Opening.add(this._aEo,this),t.Closed.add(this._kT,this)},u.prototype.getImageList=function(){return this._ImageButton.getImageList()},u.prototype.setImageList=function(n){return this._ImageButton.setImageList(n)},u.prototype.getImageUrl=function(){return this._ImageButton.getImageUrl()},u.prototype.setImageUrl=function(n){return this._ImageButton.setImageUrl(n)},u.prototype.setEnabled=function(t){var i=arguments[1];this._Enabled===t&&t===!0&&!i&&this._DomNode&&(i=this._DomNode.getAttribute("enabled")!=="enabled"),(this._Enabled!==t||i)&&(r.prototype.setEnabled.call(this,t),this._Enabled=t,n.Ui.setEnblTo(t,this._DomNode),t?this.removeClass(this._DisableClass):(this.setIsHovered(!1),this.addClass(this._DisableClass))),this._ImageButton.setEnabled(t),this._ContentButton.setEnabled(t)},u.prototype.setIsRTL=function(n){r.prototype.setIsRTL.call(this,n),this._ImageButton.setIsRTL(n),this._ContentButton.setIsRTL(n)},u.prototype.setContent=function(t){this._Content=t,this._Orientation===n.Orientation.Horizontal?this._ImageButton.setContent(t):this._ContentButton.setContent(t)},u.prototype.setIsPressed=function(n){if(this._IsPressed!==n&&this.getIsToggleButton()){this._IsPressed=n,this._ImageButton.setIsPressed(n);var t=this._ContentButton.getIsToggleButton();this._ContentButton.setIsToggleButton(!0),this._ContentButton.setIsPressed(n),this._ContentButton.setIsToggleButton(t)}},u.prototype.setIsHorizontal=function(t){this.setOrientation(t?n.Orientation.Horizontal:n.Orientation.Vertical)},u.prototype.setOrientation=function(t){this._Orientation=t,this._Orientation===n.Orientation.Horizontal?(this.removeClass("Vertical"),this.addClass("Horizontal"),this._ImageButton.setContent(this._Content),this._ImageButton.setUseWrapping(this._UseWrapping),this._ImageButton.setImagePosition(n.AnchorStyles.Left),this._ImageButton.setMenuArrowPosition(n.AnchorStyles.Right),this._ContentButton.setUseWrapping(this._UseWrapping),this._ContentButton.setContent(""),this._ContentButton.setImagePosition(n.AnchorStyles.Left),this._ContentButton.setMenuArrowPosition(n.AnchorStyles.Top),this._ImageButton.setHeight(this._ContentButton.getHeight())):(this.removeClass("Horizontal"),this.addClass("Vertical"),this._ContentButton.setContent(this._Content),this._ContentButton.setUseWrapping(this._UseWrapping),this._ContentButton.setImagePosition(this._ImagePosition),this._ContentButton.setMenuArrowPosition(this._MenuArrowPosition),this._ImageButton.setUseWrapping(this._UseWrapping),this._ImageButton.setContent(""),this._ImageButton.setImagePosition(this._ImagePosition),this._ImageButton.setMenuArrowPosition(this._MenuArrowPosition))},u.prototype.getRowIndex=function(){return this._ImageButton.getRowIndex()},u.prototype.getColumnIndex=function(){return this._ImageButton.getColumnIndex()},u.prototype.setRowIndex=function(n){return this._ImageButton.setRowIndex(n)},u.prototype.setColumnIndex=function(n){return this._ImageButton.setColumnIndex(n)},u.prototype.getIsToggleButton=function(){return this._ImageButton.getIsToggleButton()},u.prototype.setIsToggleButton=function(n){this._ImageButton.setIsToggleButton(n)},u.prototype.getUseWrapping=function(){return this._Orientation===n.Orientation.Horizontal?this._ImageButton.getUseWrapping():this._ContentButton.getUseWrapping()},u.prototype.setUseWrapping=function(t){return this._Orientation===n.Orientation.Horizontal?this._ImageButton.setUseWrapping(t):this._ContentButton.setUseWrapping(t),this},u.prototype.getMenuDropPosition=function(){return this._ContentButton.getMenuDropPosition()},u.prototype.setMenuDropPosition=function(n){this._ContentButton.setMenuDropPosition(n)},u.prototype.getIsPressed=function(){return this._ImageButton.getIsPressed()&&this._ContentButton.getIsPressed()},u.prototype.setIsHovered=function(n){var t=this.getMenu();t&&t.getDroppedDown()||r.prototype.setIsHovered.call(this,n)},u.prototype.setWidth=function(t,i){r.prototype.setWidth.call(this,t,i),this._Orientation===n.Orientation.Vertical?(this._ImageButton.setWidth(t),this._ContentButton.setWidth(t)):(this._ImageButton.setWidth(this._g(t)-this._bJJ),this._ContentButton.setWidth(this._bJJ))},u.prototype.setHeight=function(t,i){r.prototype.setHeight.call(this,t,i),this._Orientation===n.Orientation.Vertical?(this._ImageButton.setHeight(t),this._ContentButton.setHeight(this._cwO)):(this._ImageButton.setHeight(t),this._ContentButton.setHeight(t))},u.prototype.updateSize=function(){},u.prototype.getSettings=function(){var n=r.prototype.getSettings.call(this);return delete n.ImageButton,delete n.ContentButton,n},u}(t.Button);t.SplitButton=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(t){var i=r.call(this,t)||this;return i._render(),n.resourceManager.ResourcesLoaded.add(new n.Delegate(i._jV,i)),i}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._defineEvents(["Clipped","Unclipped"]),this._Caption="",this._LaunchButton=null,this._Parent=null,this._ImageList=null,this._ImagePath=n.ImagePath,this._MenuButtonPicture=null,this._acy=null,this._cwT=null,this._dD2=null,this._aEp=null,this._aEq=null,this._agS=!1,this._fo=new n.List,this._InternalElementsMap={}},u.prototype._initFields=function(t){t=t||{},t.LaunchButton&&(t.LaunchButton.Content||(t.LaunchButton.Content=""),this._LaunchButton=new n.Ui.Button(t.LaunchButton),this._LaunchButton.addClass("Launch"),delete t.LaunchButton),n.isDefined(t.Clipping)&&(this._agS=t.Clipped,delete t.Clipping),!t.ImageList||t.ImageList instanceof n.ImageList||(this._ImageList=new n.ImageList(t.ImageList),delete t.ImageList),r.prototype._initFields.call(this,t)},u.prototype._render=function(){var t,i;this._initFromHTML("<div class='PPRibbonPanel'><div class='PPRibbonPanelTop'><\/div><div class='PPRibbonPanelBottom'><\/div><\/div>"),t=this._DomNode.getElementsByTagName("div"),this._j2=t[0],this._amA=t[1],this._LaunchButton&&this._LaunchButton.addToNode(this._amA),this._amA.appendChild(n.htmlToDOM("<div class='Caption'>"+this._Caption+"<\/div>")),this._amA.querySelector(".Caption").appendChild(n.htmlToDOM("<div class='Shadow'>"+this._Caption+"<\/div>")),i=this._Elements,this._fo=new n.List,i&&this._cwU(i),this._bindEvents(),r.prototype._render.call(this)},u.prototype._cwV=function(t){var i,r;(t=t||{},t.PPType)&&(i=undefined,n.isDefined(t.IsLargeControl)&&(i=t.IsLargeControl),r=n.create(t),this.addElement(r,i))},u.prototype._cwU=function(t){for(var i,r=0;r<t.length;r++)i=t[r],i.Control?this.addElement(i.Control,i.IsLargeControl):i instanceof n.Ui.Control?this.addControl(i):this._cwV(i)},Object.defineProperty(u.prototype,"_Elements",{get:function(){return this._fo?this._fo.getItems():[]},set:function(t){var r,i;for(this._fo=new n.List,r=t,i=0;i<r.length;i++)this._fo.add(r[i])},enumerable:!0,configurable:!0}),u.prototype._bJK=function(n){return n.getImageUrl&&n.getImageUrl()?{ImageUrl:n.getImageUrl()}:n instanceof t.SplitButton?this._bJK(n.getImageButton()):n.getImageList&&n.getRowIndex&&n.getColumnIndex&&n.getImageList()?{RowIndex:n.getRowIndex(),ColumnIndex:n.getColumnIndex(),ImageList:n.getImageList()}:{}},u.prototype._jV=function(){this._agS&&this._acy.getContent()==""&&(this._acy.setContent(this.getCaption()),this._aEp=this._acy.getMenu().getDomNode().offsetWidth+10)},u.prototype._cwW=function(t,i){t.removeChild(t.lastChild),t.appendChild(n.htmlToDOM("<div class='Caption'>"+i+"<\/div>")),t.lastChild.appendChild(n.htmlToDOM("<div class='Shadow'>"+i+"<\/div>"))},u.prototype.getImageList=function(){return this._ImageList},u.prototype.getLaunchButton=function(){return this._LaunchButton},u.prototype.getCaption=function(){return this._Caption},u.prototype.getMenuButtonPicture=function(){return this._MenuButtonPicture},u.prototype.getImagePath=function(){return this._ImagePath},u.prototype.setMenuButtonPicture=function(n){this._MenuButtonPicture=n},u.prototype.setImagePath=function(n){this._ImagePath=n},u.prototype.setImageList=function(n){this._ImageList=n},Object.defineProperty(u.prototype,"Elements",{get:function(){return this._fo},enumerable:!0,configurable:!0}),u.prototype.getControls=function(){return this._fo.getItems()||[]},u.prototype.setCaption=function(n){n!=this._Caption&&(this._Caption=n,this._cwW(this._amA,n))},u.prototype.setIsRTL=function(n){r.prototype.setIsRTL.call(this,n);for(var t=0;t<this._fo.getCount();t++)this._fo.getItem(t).setIsRTL(this._IsRTL);this._LaunchButton&&this._LaunchButton.setIsRTL(this._IsRTL)},u.prototype.setEnabled=function(n){r.prototype.setEnabled.call(this,n),this._LaunchButton&&this._LaunchButton.setEnabled(n)},u.prototype.setElementsEnabled=function(n){for(var i=this._fo.getItems(),t=0,r=i.length;t<r;t++)i[t].setEnabled(n);this._agS&&this.getMenuButton().setEnabled(n)},u.prototype.setShowToolTip=function(n,t){var u,i,f;if(r.prototype.setShowToolTip.call(this,n),t)for(u=this._fo.getItems(),i=0,f=u.length;i<f;i++)u[i].setShowToolTip(this._ShowToolTip)},u.prototype.setContent=function(n){for(var t=0;t<this._fo.getCount();t++)this._fo.getItem(t).dispose();this._bW(n,this._j2)},u.prototype.setIsVisible=function(t){var i=this.getIsVisible();r.prototype.setIsVisible.call(this,t),this._DomNode.nextSibling&&(t?n.show(this._DomNode.nextSibling):n.hide(this._DomNode.nextSibling))},u.prototype.getMenuButton=function(){var t=this._acy,o,c,r,u,e,f,h;if(t||(o=n.extend({Class:"RibbonPanelClipButton",IsLargeControl:!0,MenuArrowPosition:n.AnchorStyles.Bottom},this._MenuButtonSettings,!0,!0),t=new n.Ui.RibbonButton(o)),c=null,!(t.getImageUrl()||t.getImageList()))if(this._MenuButtonPicture)t.setImageUrl(this._MenuButtonPicture);else for(r=!1,u=0;u<this._fo.getCount();u++){var s=this._fo.getItem(u),l=this._InternalElementsMap[s.getId()],i=this._bJK(s);!r&&l.IsLargeControl&&(i.ImageUrl?(t.setImageUrl(i.ImageUrl),r=!0):i.ImageList&&n.isDefined(i.RowIndex)&&n.isDefined(i.ColumnIndex)&&(t.setRowIndex(i.RowIndex),t.setColumnIndex(i.ColumnIndex),t.setImageList(i.ImageList),r=!0))}for(t.getImageUrl()||t.getImageList()||t.setImageUrl((this._ImagePath||n.ImagePath)+"ribbon_panel_noimage.png"),e=!1,f=0,h=this._fo.getCount();f<h;f++)if(this._Elements[f].getEnabled()){e=!0;break}return t.setEnabled(e),this._acy=t},u.prototype.clipContent=function(){var t,i,u;this._agS||(this._aEp=this._j2.offsetWidth+10,this._aEq=this._DomNode.offsetHeight,t=this.getMenuButton(),t.setContent(this.getCaption()),i=new n.Ui.DropPanel({Height:this._aEq,MaxWidth:800,EnableResize:!1,Class:"PPRibbonPanel",CloseOnDocumentMouseDown:!0,Content:[this._j2,this._amA]}),t.setMenu(i),t.addToNode(this._DomNode),this._Enabled||(u=this._Enabled,this._Enabled=null,r.prototype.setEnabled.call(this,u)),this._agS=!0,this.Clipped.fire(this,{MenuButton:t}))},u.prototype.unClipContent=function(){if(this._agS){if(this._acy.getMenu().hide(),this._acy.removeFromDOM(),this._DomNode.appendChild(this._j2),this._DomNode.appendChild(this._amA),!this._Enabled){var n=this._Enabled;this._Enabled=null,r.prototype.setEnabled.call(this,n)}this._agS=!1,this.Unclipped.fire(this,{})}},u.prototype.getUnClippedSize=function(){return this._aEp||(this._aEp=this._j2.offsetWidth+10),this._aEq||(this._aEq=this._DomNode.offsetHeight),{Width:this._aEp,Height:this._aEq}},u.prototype.isClipped=function(){return this._agS},u.prototype.hide=function(){this.setIsVisible(!1)},u.prototype.show=function(){this.setIsVisible(!0)},u.prototype.addControl=function(n,t){var i=!0;n.getIsLargeControl&&(i=n.getIsLargeControl()),this.addElement(n,i,t)},u.prototype.addElement=function(t,i,r){var u,f,e;!n.isDefined(i)&&t.getIsLargeControl&&(i=t.getIsLargeControl()),t instanceof n.Ui.Control&&(u=this._j2,this._ImageList&&t instanceof n.Ui.RibbonButton&&!t.getImageList()&&t.setImageList(this._ImageList),i?(r!=undefined?t.addToNode(u,u.childNodes[r]):t.addToNode(u),this._auz=null):(this._auz||(this._auz=n.htmlToDOM("<div class='PPRibbonList'><\/div>"),f=n.htmlToDOM("<div class='PPRibbonListContainer'><\/div>"),f.appendChild(this._auz),u.appendChild(f)),e=n.htmlToDOM("<div class='PPSmallControlContainer'><\/div>"),this._auz.appendChild(e),t.addToNode(e),this._auz.childNodes.length>2&&(this._auz=null)),t.addClass("PPRibbonControl"),t.setIsRTL(this._IsRTL),t.setEnabled(t.getEnabled()),r!=undefined?n.Array.insert(this._Elements,t,r):this._fo.add(t),this._InternalElementsMap[t.getId()]={Control:t,IsLargeControl:i},n.isVisible(this._j2)&&this.updateAlign())},u.prototype.updateAlign=function(){for(var t=n.querySelectorAll(this._j2,".PPRibbonList"),r,o,i=0;t&&t.length&&i<t.length;i++){var u=t[i],f=0,e=n.querySelectorAll(u,".PPSmallControlContainer");for(r=0;r<e.length;r++)o=e[r],n.isVisible(o.childNodes[0])&&f++;f==1?n.addClass(u,"PPRibbonListTop"):n.removeClass(u,"PPRibbonListTop")}},u.prototype.updateSize=function(){for(var s=this._fo.getCount(),o=0,e=0,u,t,f,i,r=0;r<s;r++)u=this._fo.getItem(r).getDomNode(),o+=u.offsetWidth,t=this._g(n.getStyle(u,"marginLeft")),isNaN(t)||(e+=t),t=this._g(n.getStyle(u,"marginRight")),isNaN(t)||(e+=t);f=0,i=this._g(n.getStyle(this._j2,"paddingLeft")),isNaN(i)||(f+=i),i=this._g(n.getStyle(this._j2,"paddingRight")),isNaN(i)||(f+=i),this._j2.style.textAlign=o+e+f<this._DomNode.offsetWidth?"center":""},u.prototype.dispose=function(){delete this._ImageList,delete this._Parent,r.prototype.dispose.call(this)},u.prototype.getSettings=function(){var t=["_Parent","_Elements","_cwT","_LaunchButton"],n=r.prototype.getSettings.apply(this,[!0,!1,t]);return delete n.Id,n.Elements=this._fo.getItems(),n.Parent=this._Parent,n},u}(t.Control);t.RibbonPanel=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["Added","Removed","VisibilityChanged"]),this._ImageList=null,this._Caption="",this._CapitalizeCaption=!0,this._fo=new n.List},r.prototype._initFields=function(n){n&&n.Panels&&(this._bJL=n.Panels),delete n.Panels,t.prototype._initFields.call(this,n)},r.prototype._render=function(){this._initFromHTML("<div class='PPRibbonCategoryHeader'><div class='PPRibbonCategoryHeaderInner'><\/div><\/div>"),this.addClass("Released"),this._HeaderContentDomNode=n.htmlToDOM("<span class='PPRibbonCategoryHeaderCaption'>"+this._Caption+"<\/span>"),n.querySelector(this._DomNode,".PPRibbonCategoryHeaderInner").appendChild(this._HeaderContentDomNode),this._ContentDomNode=n.htmlToDOM("<div class='PPRibbonCategoryContent'><\/div>"),this._ContentItemsWrap=n.htmlToDOM("<div class='PPRibbonCategoryItemsWrap'><\/div>"),this._ContentDomNode.appendChild(this._ContentItemsWrap),this._HeaderCaption=n.querySelector(this._DomNode,".PPRibbonCategoryHeaderCaption"),this.setCapitalizeCaption(this._CapitalizeCaption),this._f5(),this._bindEvents(),this.setEnabled(this._Enabled),this._IsVisible||this.setIsVisible(this._IsVisible),this.setResourceKey(this._ResourceKey),this.setIsRTL(this._IsRTL)},r.prototype._f5=function(){var u=this._bJL||[],r,t,i;for(this._fo=new n.List,r=0;r<u.length;r++)t=u[r],t instanceof n.Ui.RibbonPanel?(t.getParent()||t.setParent(this),this.addPanel(t)):(i=u[r],i.Parent||(i.Parent=this),this._ImageList&&!i.ImageList&&(i.ImageList=this._ImageList),t=i.PPType?n.create(i):new n.Ui.RibbonPanel(i),this.addPanel(t));this._bJL=undefined},Object.defineProperty(r.prototype,"_Panels",{get:function(){return this._fo.getItems()},set:function(n){for(var t=0;t<n.length;t++)this._fo.add(n[t])},enumerable:!0,configurable:!0}),r.prototype._bp=function(n,i){t.prototype._bp.call(this,n,i)},r.prototype._hu=function(n,i){t.prototype._hu.call(this,n,i),this.isLive()&&!this._Enabled&&this.DblClick.fire(this,i)},r.prototype._cG=function(n,i){t.prototype._cG.call(this,n,i)},r.prototype._b0=function(n,i){t.prototype._b0.call(this,n,i)},r.prototype._bk=function(n,i){t.prototype._bk.call(this,n,i)},r.prototype._aS5=function(){var n=this._Parent&&this._Parent.getDomNode();return n&&n.contains(this.getDomNode())?!0:!1},r.prototype.hide=function(){this.getIsVisible()&&(this.setIsVisible(!1),this.VisibilityChanged.fire(this,{}))},r.prototype.show=function(){this.getIsVisible()||(this.setIsVisible(!0),this.VisibilityChanged.fire(this,{}))},r.prototype.setParent=function(n){var i=this._Parent;i!==n&&this._aS5()&&this.Removed.fire(this),t.prototype.setParent.call(this,n),this._aS5()&&this.Added.fire(this)},r.prototype.addToNode=function(n,i,r){t.prototype.addToNode.call(this,n,i,r),this._aS5()&&this.Added.fire(this)},r.prototype.removeFromDOM=function(){var n=this._aS5();t.prototype.removeFromDOM.call(this),n&&this.Removed.fire(this)},r.prototype.getContentDomNode=function(){return this._ContentDomNode},r.prototype.getImageList=function(){return this._ImageList},r.prototype.setImageList=function(n){var r,i,t;for(this._ImageList=n,r=this.getPanels(),i=0;i<r.length;i++)t=r[i],t.getImagePath&&t.setImagePath&&!t.getImagePath()&&t.setImagePath(this._ImagePath)},r.prototype.getImagePath=function(){return this._ImagePath},r.prototype.setImagePath=function(n){this._ImagePath=n},Object.defineProperty(r.prototype,"List",{get:function(){return this._fo},enumerable:!0,configurable:!0}),r.prototype.getPanels=function(){return this._Panels||[]},r.prototype.setCaption=function(n){n!=this._Caption&&(this._Caption=n,this._HeaderContentDomNode.innerHTML=this._Caption,this._DomNode.className=this._DomNode.className)},r.prototype.getCaption=function(){return this._Caption},r.prototype.setIsRTL=function(n){var r,i;for(t.prototype.setIsRTL.call(this,n),r=this.getPanels(),i=0;i<r.length;i++)r[i].setIsRTL(this._IsRTL)},r.prototype.setEnabled=function(i){t.prototype.setEnabled.call(this,i);var r;i?this._bJM&&(this._bJM=!1,r=this._alC(),this._ContentDomNode.removeChild(r),n.removeClass(this._ContentDomNode,"Disabled")):(this._bJM=!0,r=this._alC(),this._ContentDomNode.appendChild(r),n.addClass(this._ContentDomNode,"Disabled")),arguments.length>1&&this.setPanelsEnabled(arguments[1])},r.prototype.setPanelsEnabled=function(n){for(var i=this.getPanels(),t=0;t<i.length;t++)i[t].setEnabled(n)},r.prototype.setElementsEnabled=function(n){for(var i=this.getPanels(),t=0;t<i.length;t++)i[t].setElementsEnabled(n)},r.prototype.setShowToolTip=function(n,i){var u,r;if(t.prototype.setShowToolTip.call(this,n),u=this.getPanels(),i&&this._Panels)for(r=0;r<u.length;r++)u[r].setShowToolTip(this._ShowToolTip,i)},r.prototype.addPanel=function(t,i){var r,u;t.setIsRTL(this._IsRTL),r=-1,i&&i instanceof n.Ui.RibbonPanel&&(r=this._Panels.indexOf(i)),u=n.htmlToDOM("<div class='PPRibbonSeparator'><\/div>"),t.getIsVisible()||n.hide(u),r>=0?(this._fo.insert(t,r),t.addToNode(this._ContentItemsWrap,i.getDomNode()),this._ContentItemsWrap.insertBefore(u,i.getDomNode())):(this._fo.add(t),t.addToNode(this._ContentItemsWrap),this._ContentItemsWrap.appendChild(u)),t.getParent()||t.setParent(this),this._ImageList&&t.getImageList&&t.setImageList&&!t.getImageList()&&t.setImageList(this._ImageList),this._ImagePath&&t.getImagePath&&t.setImagePath&&!t.getImagePath()&&t.setImagePath(this._ImagePath),this.updateSize()},r.prototype.setWidth=function(n,i){var r=this.getWidth();this._amB=n>r?"increase":"decrease",t.prototype.setWidth.call(this,n,i)},r.prototype.updateSize=function(){var s=this._ContentItemsWrap,r=s.offsetWidth,e=this._ContentDomNode.offsetWidth,u=this.getPanels(),i,h,t,f,c,o;if(h=u.length,this._amB&&this._amB==="decrease"||!this._amB&&r>=e&&e)for(i=h-1;i>=0;i--)t=u[i],f=t.getControls(),f&&(f.length>1||f[0]&&!(f[0]instanceof n.Ui.Button))&&(r=s.offsetWidth,!t.isClipped()&&r>=e&&t.clipContent());else for(c=!1,i=0;i<h;i++)if(t=u[i],t.isClipped()){var l=t.getUnClippedSize(),a=l.Width,v=t.getDomNode().offsetWidth,y=Math.max(a-v,0);r=s.offsetWidth,y+r<e&&!c?t.unClipContent():c=!0}for(o=0;o<u.length;o++)u[o].updateSize();this._amB=null},r.prototype.updateAlign=function(){for(var n=this.getPanels(),t=0;n&&n.length&&t<n.length;t++)n[t].updateAlign()},r.prototype.getSettings=function(){var i=["_Parent","_Panels","_Items",],n=t.prototype.getSettings.call(this,!0,null,i);return n.Panels=this.getPanels(),n.Parent=this._Parent,n},r.prototype.getCapitalizeCaption=function(){return this._CapitalizeCaption},r.prototype.setCapitalizeCaption=function(t){this._CapitalizeCaption=t,this._HeaderCaption&&(this._CapitalizeCaption?n.addClass(this._HeaderCaption,"PPRibbonCategoryHeaderCaption_UppperCase"):n.removeClass(this._HeaderCaption,"PPRibbonCategoryHeaderCaption_UppperCase"))},r.prototype.dispose=function(){delete this._ImageList,delete this._Parent,t.prototype.dispose.call(this)},r}(t.Control);t.RibbonCategory=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._UseControlCoords=!0},r.prototype._render=function(){this._initFromHTML("<div class='PPGridPanelContainer'><table cellspacing='0' cellpadding='0' class='PPGridPanel'><tbody><\/tbody><\/table><\/div>"),this._Table=this._DomNode.firstChild,this._Width&&(this._Table.style.width=n.isString(this._Width)&&(this._Width+"").indexOf("%")>0||this._Width=="auto"?"100%":this._Width+"px"),this._Height&&(this._Table.style.height=n.isString(this._Height)&&(this._Height+"").indexOf("%")>0||this._Height=="auto"?"100%":this._Height+"px"),this._cr(),t.prototype._render.apply(this,arguments),this._ParentNode&&this.addToNode(this._ParentNode)},r.prototype._cr=function(){var i=this._Items,t;if(this._Items=[],n.Array.isArray(i))for(t=0;t<i.length;t++)i[t]&&(this._UseControlCoords?this.add(i[t]):this.add(i[t],t,0))},r.prototype._cwX=function(n,t){for(var i=this._Table,r;!i.rows[n];)i.insertRow(i.rows.length);for(r=i.rows[n];!r.cells[t];)r.insertCell(r.cells.length)},r.prototype.getTable=function(){return this._Table},r.prototype.getRowsCount=function(){return this._Table.rows.length},r.prototype.clear=function(){var f,i,u,e,r;for(t.prototype.clear.apply(this,arguments),f=this.getRowsCount(),i=f-1;i>-1;i--){for(u=this._Table.rows[i],e=u.cells.length,r=e-1;r>-1;r--)u.deleteCell(r);this._Table.deleteRow(i)}},r.prototype.setRowHeight=function(t,i){var r,f,u,e;if(!n.isNumber(t)||!n.isNumber(i))throw new Error("Argument Exception");if(r=this._Table.rows,f=0,t>-1&&t<r.length){for(u=0;u<r.length;u++)e=r[u],u!=t&&(f+=e.offsetHeight);this.getHeight()>0&&f+i>this.getHeight()&&this.setHeight(f+i),r[t].style.height=i+"px"}},r.prototype.setColumnWidth=function(t,i){var o,f,e,r,u;if(!n.isNumber(t)||!n.isNumber(i))throw new Error("Argument Exception");if(this._Table.rows.length==0)throw new Error("There are no rows in panel");if(t>=0)for(o=this._Table.rows,f=0,e=0;e<o.length;e++)if(r=o[e],t<r.cells.length){for(u=0;u<r.cells.length;u++)u!=t&&(f+=r.cells[u].offsetWidth);this.getWidth()>0&&f+i>this.getWidth()&&this.setWidth(f+i),r.cells[t].style.width=i+"px";break}},r.prototype.setRowVisibility=function(t,i){var u,r;if(!n.isNumber(t)||!n.isBoolean(i))throw new Error("Argument Exception");if(t>-1&&t<this._Table.rows.length){for(u=0;u<this._Items.length;u++)r=this._yt(this._Items[u]),r&&r.getTop()==t&&(i?r.show():r.hide());i?n.show(this._Table.rows[t]):n.hide(this._Table.rows[t])}},r.prototype.add=function(t,i,r){if(!t||!(t instanceof n.Ui.Control)&&!t.PPType)throw new Error("ArgumentException");var u;u=t.PPType?n.create(t):t,i>-1?u.setLeft(i):i=u.getLeft(),r>-1?u.setTop(r):r=u.getTop(),this._Items.push(u),this._cwX(r,i),u.addToNode(this._Table.rows[r].cells[i])},r.prototype.getItemFromTable=function(n,t){for(var u=[],i,r=0;r<this._Items.length;r++)i=this._yt(this._Items[r]),i&&i.getTop()===n&&i.getLeft()===t&&u.push(i);return u[0]},r.prototype.removeRow=function(n,t){for(var r,i=0;i<this._Items.length;i++)r=this._yt(this._Items[i]),r.getTop()==n&&this.removeAt(i--,t);this._Table.rows[n]&&this._Table.deleteRow(n)},r.prototype.setItems=function(t){if(!n.Array.isArray(t)&&n.isDefined(t))throw new Error("ArgumentException");this.clear(),this._Items=t,this._cr()},r}(t.Container);t.GridPanel=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t.setEnableExpand(!1),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._ResourceKey="confirmDialog",this._Buttons=n.Ui.MessageButtons.YesNo,this._Type=n.Ui.MessageType.Question},u.prototype._initFields=function(i){i&&i.Caption&&(this._ResourceKey=""),i&&n.isDefined(i.ShowCancelButton)&&(this._Buttons=t.MessageButtons.YesNoCancel,delete i.ShowCancelButton),r.prototype._initFields.call(this,i)},u.prototype._render=function(){r.prototype._render.call(this),this.setEnableResize(!1)},u}(t.Message);t.ConfirmDialog=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._TextSelectable=!0,this._aS6=4,this._aS7=4,this._Width=200,this._Height=120},r.prototype._initFields=function(i){i&&n.isDefined(i.ReadOnly)&&!n.isDefined(i.EnableEdit)&&(i.EnableEdit=!i.ReadOnly),t.prototype._initFields.call(this,i)},r.prototype._render=function(){this._ContentNode=document.createElement("textArea"),this._ContentNode.className="PPContentNode PPSelect",this._o=this._ContentNode,this._initFromHTML('<div class="PPTextArea"><\/div>'),this._ScrollBox=new n.Ui.ScrollBox({ParentNode:this._DomNode,Width:this._g(this._Width)-this._aS6,Height:this._g(this._Height)-this._aS7,Content:this._o}),this._Cover=n.htmlToDOM("<div><\/div>"),n.addClass(this._Cover,"PPCover"),n.hide(this._Cover),this._DomNode.appendChild(this._Cover),this.setEnableEdit(this._EnableEdit),this.setTextSelectable(this._TextSelectable);var t=this._Enabled,r=this._TabIndex,i=this._IsRTL;this._IsRTL||(this._IsRTL=null),this.setIsRTL(i),this._Enabled||(this._Enabled=null),this.setEnabled(t),this._IsVisible||this.setIsVisible(this._IsVisible),this.setResourceKey(this._ResourceKey),this._Opacity!=1&&this.setOpacity(this._Opacity),this._Rotate!=0&&n.Ui.rotateNode(this._DomNode,this._Rotate),this.addClass(this._ReleaseClass),this._ParentNode&&this.addToNode(this._ParentNode),this.setTabIndex(this._TabIndex)},r.prototype._bindEvents=function(){t.prototype._bindEvents.apply(this,arguments),this._addEvent(this._ContentNode,"touchstart",this._a9O),this._addEvent(this._ContentNode,"touchend",this._cwY),this._addEvent(this._ContentNode,"touchmove",this._cwZ)},r.prototype._unBindEvents=function(){t.prototype._unBindEvents.apply(this,arguments),this._d7(this._ContentNode)},r.prototype._on=function(i,r){return this._a9k(),r.Event.keyCode!==n.Key.Enter?t.prototype._on.apply(this,arguments):void 0},r.prototype._yp=function(i,r){var u=r.Event,e=u.keyCode?u.keyCode:u.which,s,h;if(e!==n.Key.Enter||u.which===0||u.ctrlKey)return h=t.prototype._yp.apply(this,arguments),this.updateSize(),h;var f={OldValue:this.getValue()+"",OldContent:this.getContent(),Cancel:!1},o=this._eB(),c=f.OldValue.substring(0,o.Start),l=f.OldValue.substring(o.End);if(f.NewValue=c+"\n"+l,f.NewContent=n.String.escapeHTML(f.NewValue),s=this._yr(e),!s)return!1;this._qk(f),f.Cancel?(u.preventDefault(),u.stopPropagation()):(this._sq(u),this.updateSize())},r.prototype._agi=function(){t.prototype._agi.apply(this,arguments),this.updateSize()},r.prototype._atw=function(t,i){(this._EnableEdit||this._TextSelectable)&&(this._dD3=!0,i.Event.target==this._o&&(this._bV(this._o,{pointermove:this._aSE,pointerup:this._sp,dragend:this._sp}),n.setCapture(this._o,["pointermove","pointerup","dragend"]),this._dz=n.calculateOffset(this._DomNode),this._dz.W=this.getWidth(),this._dz.H=this.getHeight()))},r.prototype._aSE=function(t,i){var r=n.calculateMouseX(i.Event),u=n.calculateMouseY(i.Event);u<this._dz.Y?this._ScrollBox.setVerticalScrollPosition(this._ScrollBox.getVerticalScrollPosition()-(this._dz.Y-u)):u>this._dz.Y+this._dz.H&&this._ScrollBox.setVerticalScrollPosition(this._ScrollBox.getVerticalScrollPosition()+(u-this._dz.Y-this._dz.H)),r<this._dz.X?this._ScrollBox.setHorizontalScrollPosition(this._ScrollBox.getHorizontalScrollPosition()-(this._dz.X-r)):r>this._dz.X+this._dz.W&&this._ScrollBox.setHorizontalScrollPosition(this._ScrollBox.getHorizontalScrollPosition()+(r-this._dz.X-this._dz.W))},r.prototype._sp=function(){return n.releaseCapture(this._o),this._k(this._o,"pointermove",this._aSE),this._k(this._o,"pointerup",this._sp),this._k(this._o,"dragend",this._sp),!0},r.prototype._cw0=function(t){if(t.Self.isLive()){var i=t.Self._ScrollBox;n.IsIE?(i._k(i._ScrollContentDomNode,"scroll",i._aRy),i._dD4=!0,i.updateSize(),n.setTimeout(function(){i._ScrollContentDomNode&&i._addEvent(i._ScrollContentDomNode,"scroll",i._aRy)},0,{Self:this})):i.updateSize()}},r.prototype._a9O=function(t,i){this._aS8=n.calculateMouseCoords(i.Event),this.getReadOnly()||i.Event.stopPropagation()},r.prototype._cwZ=function(t,i){var u=n.calculateMouseCoords(i.Event),r;this._ScrollBox.getVerticalScroll().getIsVisible()&&this._aS8&&(r=u.Y-this._aS8.Y,this._ScrollBox.getVerticalScroll().getValue()===0?r>0&&i.Event.stopPropagation():this._ScrollBox.getVerticalScroll().getValue()===100&&r<0&&i.Event.stopPropagation()),this._aS8=u,this.getReadOnly()||i.Event.stopPropagation()},r.prototype._cwY=function(n,t){delete this._aS8,this.getReadOnly()||t.Event.stopPropagation()},r.prototype._aCY=function(){t.prototype._aCY.apply(this,arguments),this.updateSize()},r.prototype._bcm=function(){this._Enabled&&(this._EnableEdit||this._TextSelectable)?(n.removeClass(this._ContentNode,"PPNoSelect"),n.addClass(this._ContentNode,"PPSelect")):(n.removeClass(this._ContentNode,"PPSelect"),n.addClass(this._ContentNode,"PPNoSelect"))},r.prototype.getTextSelectable=function(){return this._TextSelectable},r.prototype.getContentNode=function(){return this._ContentNode},r.prototype.setWidth=function(n,i){t.prototype.setWidth.apply(this,arguments),this._ScrollBox.setWidth(this._g(this._Width)-this._aS6,i),this.updateSize()},r.prototype.setHeight=function(n,i){t.prototype.setHeight.apply(this,arguments),this._ScrollBox.setHeight(this._g(this._Height)-this._aS7,i),this.updateSize()},r.prototype.setIsRTL=function(n){t.prototype.setIsRTL.apply(this,arguments),this._ScrollBox.setIsRTL(!!n)},r.prototype.setFocus=function(){var n=this._ScrollBox.getVScroll(),t=this._ScrollBox.getHScroll(),i=n.getValue(),r=t.getValue();this._Enabled&&(this._ContentNode.focus(),this._ContentNode.selectionEnd||this._cw1||(this._ContentNode.selectionStart=this._f0(),this._cw1=!0)),n.setValue(i),t.setValue(r)},r.prototype.scrollTo=function(n,t){this._ScrollBox.scrollTo(n,t)},r.prototype.updateSize=function(){document.documentElement.contains(this._DomNode)&&(this._aS6=n.Ui.getBordersWidth(this._DomNode),this._aS7=n.Ui.getBordersHeight(this._DomNode),this._ScrollBox.setSize(this.getWidth()-this._aS6,this.getHeight()-this._aS7));var i=this._ScrollBox.getScrollContentDomNode(),r=this._ScrollBox.getVerticalScrollPosition(),t=this._ScrollBox.getScrollHeight()-this._ScrollBox.getHeight(),u=r/t;this._ContentNode.style.height="",t=Math.max(this._ContentNode.offsetHeight,this._ContentNode.scrollHeight),this._ContentNode.value&&this._ContentNode.scrollHeight&&(this._ContentNode.style.height=t+"px"),i.scrollTop=u*t,this._cw0({Self:this})},r.prototype.addToNode=function(){t.prototype.addToNode.apply(this,arguments),this.updateSize()},r.prototype.setTabIndex=function(n){if(n===this._TabIndex)return this;var t=this._ScrollBox.getDomNode();t&&t.removeAttribute("tabIndex"),this._DomNode.removeAttribute("tabIndex"),this._ContentNode.tabIndex=n,this._TabIndex=n},r.prototype.setEnabled=function(i){t.prototype.setEnabled.apply(this,arguments),this._ScrollBox.setEnabled(i),i?n.hide(this._Cover):n.show(this._Cover),this._bcm()},r.prototype.setEnableEdit=function(){t.prototype.setEnableEdit.apply(this,arguments),this._bcm()},r.prototype.getIsBinded=function(){var n=this._cQ,t=this._Parent;if(n)while(n&&t)n=t.getIsBinded(),t=t.getParent();return n},r.prototype.setReadOnly=function(n){this.setEnableEdit(!n)},r.prototype.getReadOnly=function(){return!this.getEnableEdit()},r.prototype.setTextSelectable=function(n){this._TextSelectable=!!n,this._bcm()},r.prototype.getSettings=function(){var n=t.prototype.getSettings.apply(this,arguments);return delete n.LeftContent,delete n.RightContent,delete n.IsPassword,delete n.Ellipsis,n},r.prototype.setLeftContent=function(){throw new n.NotSupportedException(this,"property don't supported in TextArea");},r.prototype.setRightContent=function(){throw new n.NotSupportedException(this,"property don't supported in TextArea");},r.prototype.setIsPassword=function(){throw new n.NotSupportedException(this,"property don't supported in TextArea");},r.prototype.setEllipsis=function(){throw new n.NotSupportedException(this,"property don't supported in TextArea");},r.prototype.getScrollBox=function(){return this._ScrollBox},r}(t.TextBox);t.TextArea=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.createBCMenuItem=function(t){return new n.Ui.ToolBarButton({ImageUrl:t?t+"bc-right.png":"bc-right.png",IsFlat:!0,IsToggleButton:!0,Class:"PPBCNeedFlip"})},r.createBCDelItem=function(t){return new n.Ui.ToolBarButton({ImageUrl:t?t+"bc-close.png":"bc-close.png",IsFlat:!0})},r.createBCMenuItemContainer=function(){return n.createElement(null,"PPBreadcrumb_Item","li")},r.prototype._e=function(){t.prototype._e.call(this),this._MenuButton=null,this._FilterButton=null,this._SortButton=null,this._defineEvents(["ContentClick","MenuClick","FilterClick","SortChanged"]),this._IsFilterOn=!1,this._IsMouseOver=!1,this._ImagePath=n.ImagePath,this._OrderType=n.SortDirection.None,this._sO=null},r.prototype._render=function(){var t='<li class="PPBreadcrumb_Item"><div class="leftCorner"><div class="rightCorner"><div class="PPBreadcrumb_ItemBody"><div class="PPBreadcrumb_ItemContent"><\/div><div class="PPBreadcrumb_Filter"><\/div><div class="PPBreadcrumb_Sorting"><\/div><div class="PPBreadcrumb_MenuBtn"><\/div><\/div><\/div><\/div><\/li>';this._initFromHTML(t),this._sO||(this._sO=new n.Ui.ToolBarButton({Content:this._Content,IsFlat:!0,Click:new n.Delegate(this._g0,this)})),this._sO.addToNode(n.querySelector(this._DomNode,".PPBreadcrumb_ItemContent")),this._FilterButton||(this._FilterButton=new n.Ui.ToolBarButton({ImageUrl:this._ImagePath+"bc-filter.png",IsFlat:!0,IsToggleButton:!0,Click:new n.Delegate(this._aS9,this)})),this._FilterButton.addToNode(n.querySelector(this._DomNode,".PPBreadcrumb_Filter")),this._SortButton||(this._SortButton=new n.Ui.ToolBarButton({ImageUrl:this._ImagePath+"bc-desc.png",IsFlat:!0,IsToggleButton:!0,Click:new n.Delegate(this._aTa,this)})),this._SortButton.addToNode(n.querySelector(this._DomNode,".PPBreadcrumb_Sorting")),this._MenuButton||(this._MenuButton=n.Ui.BreadcrumbItem.createBCMenuItem(this._ImagePath),this._MenuButton.Click.add(this._qx,this)),this._MenuButton.addToNode(n.querySelector(this._DomNode,".PPBreadcrumb_MenuBtn"))},r.prototype._bp=function(t,i){this._ToolTip&&(this._bs&&n.clearTimeout(this._bs),this._ToolTip.hide()),this.Click.fire(this,i)},r.prototype._g0=function(n,t){this.ContentClick.fire(this,t)},r.prototype._aS9=function(n){this.setIsFilterOn(n.getIsChecked())},r.prototype._aTa=function(){var r=n.SortDirection.None;switch(this._OrderType){case n.SortDirection.None:r=n.SortDirection.Desc;break;case n.SortDirection.Desc:r=n.SortDirection.Asc}this.setOrderType(r)},r.prototype._qx=function(n,t){this.MenuClick.fire(this,t)},r.prototype.getIsFilterOn=function(){return this._IsFilterOn},r.prototype.setIsFilterOn=function(n){var t=this._IsFilterOn;this._IsFilterOn=n,this._FilterButton&&this._FilterButton.setIsChecked(this._IsFilterOn,!1),this.FilterClick.fire(this,{NewValue:this._IsFilterOn,OldValue:t})},r.prototype.getContentWidth=function(){return this._sO.getWidth()},r.prototype.setIsChecked=function(n,t){this._sO.setIsChecked(n,t)},r.prototype.getIsChecked=function(){return this._sO.getIsChecked()},r.prototype.getOrderType=function(){return this._OrderType},r.prototype.setOrderType=function(t){var i=this._OrderType;if(this._OrderType=t,this._SortButton)switch(this._OrderType){case n.SortDirection.Asc:this._SortButton.setIsChecked(!0,!1),this._SortButton.setImageUrl(this._ImagePath+"bc-asc.png");break;case n.SortDirection.Desc:this._SortButton.setIsChecked(!0,!1),this._SortButton.setImageUrl(this._ImagePath+"bc-desc.png");break;default:this._SortButton.setIsChecked(!1,!1),this._SortButton.setImageUrl(this._ImagePath+"bc-desc.png")}this.SortChanged.fire(this,{NewValue:this._OrderType,OldValue:i})},r.prototype.getDownButton=function(){return this._MenuButton},r.prototype.setEnabled=function(n){t.prototype.setEnabled.call(this,n),this._MenuButton&&this._MenuButton.setEnabled(n),this._FilterButton&&this._FilterButton.setEnabled(n),this._SortButton&&this._SortButton.setEnabled(n),this._sO&&this._sO.setEnabled(n)},r.prototype.setIsRTL=function(n){t.prototype.setIsRTL.call(this,n),this._MenuButton&&this._MenuButton.setIsRTL(n),this._FilterButton&&this._FilterButton.setIsRTL(n),this._SortButton&&this._SortButton.setIsRTL(n),this._sO&&this._sO.setIsRTL(n)},r.prototype.setContent=function(n){t.prototype.setContent.call(this,n),this._sO&&this._sO.setContent(this._Content)},r}(t.Control);t.BreadcrumbItem=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var e,r,u,f;(function(n){n[n.add=0]="add",n[n.change=1]="change",n[n.filter=2]="filter",n[n.clear=4]="clear",n[n.clearAll=5]="clearAll"})(e=t.BreadcrumbItemMenuFlags||(t.BreadcrumbItemMenuFlags={})),r=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype._cw2=function(){this.Changing.suspend(),this.Changed.suspend()},r.prototype._cw3=function(){this.Changing.resume(),this.Changed.resume()},r.prototype.insertBefore=function(n,t){var i=this.indexOf(t);if(i===-1)throw new Error("Incorrect index");this.insert(n,i)},r.prototype.findById=function(n){if(this._Items)for(var t=0;t<this._Items.length;t++)if(this._Items[t].getId()===n)return this._Items[t];return null},r.prototype.findByContent=function(n){if(this._Items)for(var t=0;t<this._Items.length;t++)if(this._Items[t].getContent()===n)return this._Items[t];return null},r.prototype.insert=function(t,i){var r=this._Items?this._Items.length:0,u,f;if(i<0&&(i=r+i),i<0||i>r)throw new Error("Incorrect index");else r===i?(this._Items||(this._Items=[]),this._Items.push(t)):i===0?this._Items.unshift(t):(u=this._Items.slice(0,i),u.push(t),f=this._Items.slice(i,r),this._Items=u.concat(f));return this.Changed.fire(this,{Index:i,Operation:n.ListOperation.Set,Item:t}),i},r}(n.List),t.BCList=r,u=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype.clear=function(i){this._cw2(),t.prototype.clear.call(this,i),this._cw3(),this.Changed.fire(this,{Operation:n.ListOperation.Remove,Item:null,Index:-1})},r.prototype.removeAt=function(n,i){var r=this._Items[n];return r&&r.removeFromDOM(),t.prototype.removeAt.call(this,n,i)},r.prototype.dispose=function(){this.isLive()&&(this.clear(!0),t.prototype.dispose.call(this))},r}(r),t.BreadcrumbItemsList=u,f=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype.remove=function(i,r){var f=i,u;return n.isNumber(i)&&(f=this.getItem(i)),u=t.prototype.remove.call(this,i,r),u&&f.removeFromDOM(),u},r.prototype.setItem=function(n,i){var r=this.getItem(i);r&&r.removeFromDOM(),t.prototype.setItem.call(this,n,i)},r}(u),t.BreadcrumbSelectedItemsList=f})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._render(),t._IsRTL&&t.setIsRTL(!0),t._Enabled||t.setEnabled(!1),t.setWidth(t._Width),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._Items=null,this._SelectedItems=null,this._StartMenuButton=!0,this._ImagePath=n.ImagePath,this._defineEvents(["AddItem","RemoveItem","BeforeAddItem","BeforeRemoveItem","ItemClick","SelectedItemsChanged","ItemFilterClick","ItemSortClick"]),this._ScrollLeft=0,this._DeleteButton=null,this._g3=null,this._qy=null,this._aTb=!1,this._f6=null,this._gv=null,this._agT=null,this._bcn=null},u.prototype._render=function(){this._initFromHTML('<div class="PPBreadcrumb_main"><div class="PPBreadcrumb_ScrollLeftBtn"><\/div><div class="PPBreadcrumb_DeleteBtn"><\/div><div class="PPBreadcrumb_Content"><ul><\/ul><\/div><div class="PPBreadcrumb_ScrollRightBtn"><\/div><div class="PPBreadcrumb_HistoryBtn"><\/div><\/div>'),this._ItemMenu=new n.Ui.Menu({ParentNode:document.body,Opened:new n.Delegate(this._aEo,this),Closed:new n.Delegate(this._kT,this),ItemSelected:new n.Delegate(this._e4,this)}),this._ItemMenuSort=null,this._ItemMenuFilter=null,this._ActiveItem=null,this._HistoryMenu=new n.Ui.Menu({ParentNode:document.body}),this._HistoryMenu.ItemSelected.add(this._bco,this),this._HistoryMenu.Opened.add(this._cw4,this),this._HistoryMenu.Closed.add(this._bcp,this),this._bj=null,this._FocusedItem=null,this._Items=this._aEr(this._Items,"PP.Ui.BreadcrumbItemsList"),this._SelectedItems=this._aEr(this._SelectedItems,"PP.Ui.BreadcrumbSelectedItemsList"),this._Items.Changed.add(this._aTc,this),this._SelectedItems.Changing.add(this._cw5,this),this._SelectedItems.Changed.add(this._cw6,this),this._aEs=t.BreadcrumbItem.createBCMenuItemContainer(),this._f6||(this._f6=t.BreadcrumbItem.createBCMenuItem(this._ImagePath),this._f6.Click.add(this._qx,this)),this._qz=t.BreadcrumbItem.createBCMenuItemContainer(),this._f6.addToNode(this._qz),this._DeleteButton||(this._DeleteButton=t.BreadcrumbItem.createBCDelItem(this._ImagePath),this._DeleteButton.Click.add(this._agU,this)),this._aTd=t.BreadcrumbItem.createBCMenuItemContainer(),this._DeleteButton.addToNode(this._aTd),this._g3||(this._g3=new n.Ui.ToolBarButton({ImageUrl:this._ImagePath+"bc-scrollLeft.png",IsFlat:!0,Click:new n.Delegate(this._cw7,this)})),this._g3.addToNode(n.querySelector(this._DomNode,".PPBreadcrumb_ScrollLeftBtn")),this._qy||(this._qy=new n.Ui.ToolBarButton({ImageUrl:this._ImagePath+"bc-scrollRight.png",IsFlat:!0,Click:new n.Delegate(this._cw8,this)})),this._qy.addToNode(n.querySelector(this._DomNode,".PPBreadcrumb_ScrollRightBtn")),this._gv||(this._gv=new n.Ui.ToolBarButton({ImageUrl:this._ImagePath+"bc-down.png",IsFlat:!0,Click:new n.Delegate(this._aTe,this)})),this._agT=n.querySelector(this._DomNode,".PPBreadcrumb_HistoryBtn"),this._gv.addToNode(this._agT),this._nb=n.querySelector(this._DomNode,".PPBreadcrumb_Content"),this._e5=n.querySelector(this._DomNode,".PPBreadcrumb_Content ul"),this._ParentNode&&this.addToNode(this._ParentNode),this._lS()},u.prototype._lS=function(){var n,t,i;if(this._e5){for(t=this._Items.getCount(),n=0;n<t;n++)i=this._Items.getItem(n).getDomNode(),i.parentNode&&i.parentNode.removeChild(i);while(this._e5.hasChildNodes())this._e5.removeChild(this._e5.lastChild);for(this._e5.appendChild(this._aEs),this._e5.appendChild(this._aTd),this._e5.appendChild(this._qz),t=this._SelectedItems.getCount(),n=0;n<t;n++)this._SelectedItems.getItem(n).addToNode(this._e5);this._dc()}},u.prototype._aEr=function(i,r){var e,o,f,u;if(!i)return n.create({PPType:r});if(!(i instanceof n.Ui.BCList)){for(e=i,o=n.create({PPType:r}),f=0;f<e.length;f++)e[f].ImagePath||(e[f].ImagePath=this._ImagePath),u=new t.BreadcrumbItem(e[f]),u.Click.addOne(this._bJN,this),u.ContentClick.addOne(this._g0,this),u.MouseDown.addOne(this._al1,this),u.MenuClick.addOne(this._qx,this),u.FilterClick.addOne(this._aS9,this),u.SortChanged.addOne(this._aTa,this),o.add(u);return o}},u.prototype._dc=function(){var i,n,t,u,r,f;if(this._DomNode&&this._e5){n=0;do{for(i=n,n=this._aTf(this._qz)+this._aTf(this._aTd)+this._aTf(this._aEs),u=this._SelectedItems.getCount(),t=0;t<u;t++)n+=this._aTf(this._SelectedItems.getItem(t).getDomNode());this._e5.style.width=this._g(Math.ceil(n))+1+"px"}while(i!=n);for(r=this._e5.childNodes,f=r.length,n=0,t=0;t<f;t++)n+=r[t].offsetWidth;i=this._DomNode.offsetWidth-(this._agT.offsetWidth+1)-2*this._g3.getWidth(),this._nb.style.width=this._g(i)+"px",i<n?(this._g3.show(),this._qy.show(),this._g3.setEnabled(this._ScrollLeft>1),this._qy.setEnabled(this._ScrollLeft<=1),this._aTb=!0):(this._g3.hide(),this._qy.hide(),this._aTb=!1,this._ScrollLeft=0,this._e5.style.left="0px")}},u.prototype._aTf=function(n){var t=0;if(n.getBoundingClientRect)try{t=n.getBoundingClientRect().width}catch(i){t=n.offsetWidth}else t=n.offsetWidth;return t},u.prototype._aTg=function(n){var o,e;if(this._e5&&(o=this._SelectedItems.indexOf(n),o!==-1)){for(var f=this._e5.childNodes,h=f.length,s=(this._IsRTL?1:-1)*parseInt(this._e5.style.left),r=0,i,u=null,t=0;t<h;t++){if(i=r+f[t].offsetWidth,f[t]===n.getDomNode()){u=r;break}r=i}if(u!==null)if(u-s<0)this._e5.style.left=(this._IsRTL?u:-1*u)+"px",this._ScrollLeft=o;else if(e=this._aTb?this._DomNode.offsetWidth-(this._agT.offsetWidth+1)-2*this._g3.getWidth():this._DomNode.offsetWidth-(this._agT.offsetWidth+1),i=u+n.getDomNode().offsetWidth,i-s>e)for(this._e5.style.left=(this._IsRTL?i-e:-1*(i-e))+"px",r=0,t=0;t<h;t++){if(i=r+f[t].offsetWidth,i-s>=0){this._ScrollLeft=t;break}r=i}}},u.prototype._qA=function(){for(var e,r=this._e5.childNodes,f=(this._IsRTL?1:-1)*parseInt(this._e5.style.left),t=0,i,n=0,u=r.length;n<u;n++){if(i=t+r[n].offsetWidth,i-f>=0){this._e5.style.left=(this._IsRTL?t:-1*t)+"px",this._ScrollLeft=n;break}t=i}this._g3.setEnabled(this._ScrollLeft>1),this._qy.setEnabled(!0)},u.prototype._cw9=function(){for(var e,r=this._e5.childNodes,u=r.length,o=(this._IsRTL?1:-1)*parseInt(this._e5.style.left),f=this._DomNode.offsetWidth-(this._agT.offsetWidth+1)-2*this._g3.getWidth(),i=0,t,n=0;n<u;n++){if(t=i+r[n].offsetWidth,e=n==u-1,t-o>f){this._e5.style.left=(this._IsRTL?t-f:-1*(t-f))+"px";break}i=t}for(i=0,n=0;n<u;n++){if(t=i+r[n].offsetWidth,t-o>=0){this._ScrollLeft=n;break}i=t}this._qy.setEnabled(!e),this._g3.setEnabled(!0)},u.prototype._al1=function(t){if(this._Enabled)return this._agV(),this._auA=null,this._aEt=null,this._k(this._DomNode,"mousedown",this._bk),n.clearTimeout(this._acw),this._amC=t,this._acw=n.setTimeout(function(){this._addEvent(document,"mousemove",this._op)},100,undefined,this),this._addEvent(document,"mouseup",this._ib),!1},u.prototype._op=function(t,i){var h=this._amC,r=h.getDomNode(),o=n.calculateMouseX(i.Event),c=n.calculateMouseY(i.Event),u=n.querySelector(r,".leftCorner"),s=n.calculateOffset(r),l,a,f,e,v;return(this._auA===null||this._aEt===null)&&(this._auA=o,this._aEt=c,r.style.width=u.offsetWidth+"px",this._aEu=s,this.addClass("Move"),this._bJO(!0)),l=o-this._auA,u.style.left=r.offsetLeft+l+(this._aEu.X-s.X)+"px",a=n.calculateOffset(u),f=a.X-s.X,this.getIsRTL()&&(f*=-1),e=this._cxa(h,f),e.Item&&(v=Math.abs(f),v>e.Item.getDomNode().offsetWidth/2?(this._aEu=n.calculateOffset(u),this._cxb(h,f),s=n.calculateOffset(r),this._auA=o,this._aEt=c):Math.abs(l)>50&&!e.Visible&&(this._aEu=n.calculateOffset(u),this._aTg(e.Item),this._auA=o,this._aEt=c)),!1},u.prototype._ib=function(){var r,u;return this.removeClass("Move"),this._k(document,"mousemove",this._op),this._k(document,"mouseup",this._ib),this._addEvent(this._DomNode,"mousedown",this._bk),this._acw!=null&&(n.clearTimeout(this._acw),this._acw=null),r=this._amC.getDomNode(),r.style.width="",u=n.querySelector(r,".leftCorner"),u.style.left="",u.style.top="",this._amD(),this._bJO(!1),delete this._amC,this._auA||this._aEt?!1:void 0},u.prototype._bp=function(n,t){r.prototype._bp.call(this,n,t),this.setFocus()},u.prototype._agU=function(){this._qB(this._DeleteButton),this._agV(),this._SelectedItems.clear(!1)},u.prototype._cw7=function(){this._qA(),this._qB(null)},u.prototype._cw8=function(){this._cw9(),this._qB(null)},u.prototype._aTe=function(t){var r,h,u,e,f,o,c,s;if(this._qB(this._gv),this._bj){for(this._HistoryMenu.clearItems(),r=0,h=this._bj.length;r<h;r++){for(u=this._bj[r],e=[],f=0;f<u.length;f++)o=this._Items.getItem(u[f]),o&&e.push(o.getContent());c=new n.Ui.MenuItem({Parent:this._HistoryMenu,Content:e.join("->"),Data:u}),this._HistoryMenu.addItem(c)}s=n.calculateOffset(this._DomNode),this._HistoryMenu.setData(t),this._HistoryMenu.show(s.X,s.Y+24),this._HistoryMenu.setWidth(this._DomNode.offsetWidth+"px")}},u.prototype._bJN=function(n){this._qB(n)},u.prototype._g0=function(n){this.ItemClick.fire(n,{Item:n})},u.prototype._aS9=function(n){this.ItemFilterClick.fire(this,{Item:n})},u.prototype._aTa=function(n){this.ItemSortClick.fire(this,{Item:n})},u.prototype._aTc=function(t,i){var r=i.Item,u=this._SelectedItems.indexOf(r);i.Operation===n.ListOperation.Add?(r.Click.addOne(this._bJN,this),r.ContentClick.addOne(this._g0,this),r.MouseDown.addOne(this._al1,this),r.MenuClick.addOne(this._qx,this),r.FilterClick.addOne(this._aS9,this),r.SortChanged.addOne(this._aTa,this)):(i.Operation===n.ListOperation.Remove||i.Operation===n.ListOperation.Set)&&u!==-1&&(this._SelectedItems.Changed.suspend(),this._SelectedItems.remove(r),this._SelectedItems.Changed.resume(),this._bJP(u))},u.prototype._cw5=function(t,i){var r={Cancel:!1,Item:i.Item};switch(i.Operation){case n.ListOperation.Add:this.BeforeAddItem.fire(this,r);break;case n.ListOperation.Remove:this.BeforeRemoveItem.fire(this,r)}i.Cancel=r.Cancel},u.prototype._cw6=function(t,i){var r=i.Item;switch(i.Operation){case n.ListOperation.Add:this._e5&&r.addToNode(this._e5),this._dc(),this._aTg(r),this.AddItem.fire(this,{Item:i.Item});break;case n.ListOperation.Remove:r&&(this._Items.Changed.suspend(),!r.isLive()&&this._Items.indexOf(r)>-1&&this._Items.remove(r),r.isLive()&&this._dc(),this._Items.Changed.resume(),this.RemoveItem.fire(this,{Item:i.Item}));break;case n.ListOperation.Set:this._lS(),this._dc()}this.SelectedItemsChanged.fire(this,{})},u.prototype._cxc=function(n,t){var i=t.MenuItem.getData();i.Item.setOrderType(i.OrderType)},u.prototype._qx=function(i,r){var h,o,e,f,u,c,s,l,a,v;if(this._ItemMenu.clearItems(),this._ItemMenuSort&&(delete this._ItemMenuSort,this._ItemMenuSort=null),this._ItemMenuFilter&&(delete this._ItemMenuFilter,this._ItemMenuFilter=null),h=this._SelectedItems.indexOf(i),c=this._Items.getCount(),h===-1&&(s=this.getCustomTopMenuItems(),s&&s.length>0))for(f=0;f<s.length;f++)this._ItemMenu.addItem(s[f]);for(l=!1,f=0;f<c;f++)e=this._Items.getItem(f),o=this._SelectedItems.indexOf(e),(o===-1||o>h)&&(l||(u=new n.Ui.MenuHeader({Parent:this._ItemMenu,ResourceKey:"BreadcrumbMenuItemAdd"}),this._ItemMenu.addItem(u),l=!0),u=new n.Ui.MenuItem({Parent:this._ItemMenu,Content:e._Content,Data:{Action:t.BreadcrumbItemMenuFlags.add,Sender:i,Item:e}}),this._ItemMenu.addItem(u));if(h!==-1){for(this._ActiveItem=i,this._ItemMenuSort=new n.Ui.Menu({ItemSelected:new n.Delegate(this._cxc,this)}),this._ItemMenuFilter=new n.Ui.Menu,u=new n.Ui.MenuHeader({Parent:this._ItemMenu,ResourceKey:"BreadcrumbMenuItemReplace"}),this._ItemMenu.addItem(u),f=0;f<c;f++)e=this._Items.getItem(f),e!==i&&(u=new n.Ui.MenuItem({Parent:this._ItemMenu,Content:e._Content,Data:{Action:t.BreadcrumbItemMenuFlags.change,Sender:i,Item:e}}),this._ItemMenu.addItem(u));u=new n.Ui.MenuItem({Parent:this._ItemMenuSort,Checked:i.getOrderType()===n.SortDirection.None,GroupName:"OrderType",Id:"SortNone",Data:{Item:i,OrderType:n.SortDirection.None},ResourceKey:"bcNoSort"}),this._ItemMenuSort.addItem(u),u=new n.Ui.MenuItem({Parent:this._ItemMenuSort,Checked:i.getOrderType()===n.SortDirection.Asc,GroupName:"OrderType",Id:"SortAsc",Data:{Item:i,OrderType:n.SortDirection.Asc},ResourceKey:"BreadcrumbMenuItemIncrease"}),this._ItemMenuSort.addItem(u),u=new n.Ui.MenuItem({Parent:this._ItemMenuSort,Checked:i.getOrderType()===n.SortDirection.Desc,GroupName:"OrderType",Id:"SortDesc",Data:{Item:i,OrderType:n.SortDirection.Desc},ResourceKey:"BreadcrumbMenuItemDecrease"}),this._ItemMenuSort.addItem(u),this._ItemMenu.getItems().length>0&&this._ItemMenu.addItem(new n.Ui.Separator({Parent:this._ItemMenu})),u=new n.Ui.MenuItem({Parent:this._ItemMenu,ResourceKey:"BreadcrumbMenuItemSort",Menu:this._ItemMenuSort}),this._ItemMenu.addItem(u),u=new n.Ui.MenuItem({Parent:this._ItemMenu,ResourceKey:"BreadcrumbMenuItemFilter",Checked:i.getIsFilterOn(),Data:{Action:t.BreadcrumbItemMenuFlags.filter,Item:i}}),this._ItemMenu.addItem(u),this._ItemMenu.addItem(new n.Ui.Separator({Parent:this._ItemMenu})),u=new n.Ui.MenuItem({Parent:this._ItemMenu,ResourceKey:"BreadcrumbMenuItemClear",Data:{Action:t.BreadcrumbItemMenuFlags.clear,Sender:i,Item:null}}),this._ItemMenu.addItem(u),u=new n.Ui.MenuItem({Parent:this._ItemMenu,ResourceKey:"BreadcrumbMenuItemClearAll",Data:{Action:t.BreadcrumbItemMenuFlags.clearAll,Sender:i,Item:null}}),this._ItemMenu.addItem(u)}else this._ActiveItem=null;this._ItemMenu.setData(i),a=r.Event.clientX,v=r.Event.clientY,i===this._f6?(this._qB(this._f6),o=this._age(this._f6)):o=this._age(i.getDownButton()),this._ItemMenu.show(o.X,o.Y)},u.prototype._age=function(t){var r=t.getDomNode(),i=n.calculateOffset(r);return this._IsRTL?i:{X:i.X,Y:i.Y+r.offsetHeight+1}},u.prototype._e4=function(n,i){var u,f,r;if(i.MenuItem&&(u=i.MenuItem.getData(),u))switch(u.Action){case t.BreadcrumbItemMenuFlags.add:for(this._agV(),f=this._SelectedItems.getCount()-1,r=this._SelectedItems.indexOf(u.Sender);f>=0&&f<this._SelectedItems.getCount()&&f>r;)this._SelectedItems.remove(f,!1),f--;this._SelectedItems.add(u.Item),this._amD();break;case t.BreadcrumbItemMenuFlags.change:this._agV(),r=this._SelectedItems.indexOf(u.Item),r!==-1&&this._SelectedItems.remove(r,!1),r=this._SelectedItems.indexOf(u.Sender),r!==-1&&(this._SelectedItems.remove(r,!1),this._SelectedItems.insert(u.Item,r)),this._amD();break;case t.BreadcrumbItemMenuFlags.clear:this._agV(),r=this._SelectedItems.indexOf(u.Sender),r!==-1&&this._SelectedItems.remove(r,!1),this._amD();break;case t.BreadcrumbItemMenuFlags.clearAll:this._agU(u.Sender,i);break;case t.BreadcrumbItemMenuFlags.filter:u.Item.setIsFilterOn(i.MenuItem.getChecked())}},u.prototype._bco=function(n,t){var r=t.MenuItem.getData(),i,u;for(this._agV(),this._SelectedItems.clear(!1),i=0;i<r.length;i++)u=this._Items.getItem(r[i]),this._SelectedItems.add(u);this._amD()},u.prototype._aEo=function(){var i=this._ItemMenu.getData(),r,u=null;i===this._f6?r=this._f6:(r=i.getDownButton(),u=i),r.setIsChecked(!0),u&&u.addClass("Selected")},u.prototype._kT=function(){var i=this._ItemMenu.getData(),r;i===this._f6?r=this._f6:(r=i.getDownButton(),i.removeClass("Selected")),r.setIsChecked(!1)},u.prototype._cw4=function(){this._bcn=n.setTimeout(function(){n.clearTimeout(this._bcn),this._bcn=null,this._gv.setIsChecked(!0)},80,undefined,this)},u.prototype._bcp=function(){this._gv.setIsChecked(!1)},u.prototype._hv=function(n,t){var o;r.prototype._hv.call(this,n,t);var e=t.Event,u=this._ItemMenu.getDroppedDown()||this._HistoryMenu.getDroppedDown(),f=!1,s=e.keyCode?e.keyCode:e.which,i;if(i=this._FocusedItem===this._f6?-1:this._FocusedItem===this._DeleteButton?-2:this._FocusedItem===this._gv?-3:this._SelectedItems.indexOf(this._FocusedItem),o=i,this._FocusedItem)switch(s){case 37:this.getIsRTL()?i++:i--,u&&(this._ItemMenu.hide(),this._HistoryMenu.hide());break;case 39:this.getIsRTL()?i--:i++,u&&(this._ItemMenu.hide(),this._HistoryMenu.hide());break;case 40:u=!0;break;case 32:f=!0;break;case 27:this._ItemMenu.hide(),this._HistoryMenu.hide(),u=!1}else i=this._SelectedItems.getCount()>0?0:-1;this._qB(null),this._StartMenuButton||i!=-1||(i=o>i?-2:0),i<-3?i=this._SelectedItems.getCount()>0?this._SelectedItems.getCount()-1:this._StartMenuButton?-1:-2:i>=this._SelectedItems.getCount()&&(i=-3),i>=0&&i<this._SelectedItems.getCount()?(this._qB(this._SelectedItems.getItem(i),!0),(u||f)&&this._qx(this._FocusedItem,{})):i===-1?(this._qB(this._f6,!0),(u||f)&&this._qx(this._f6,{})):i===-2?(this._qB(this._DeleteButton,!0),f&&this._agU(this._DeleteButton,{})):i===-3&&(this._qB(this._gv,!0),(u||f)&&this._aTe(this._gv,{}))},u.prototype._auB=function(n){var i=-1,r,t;if(this._bj)for(r=n.join("->"),t=0;t<this._bj.length;t++)if(this._bj[t].join("->")===r){i=t;break}return i},u.prototype._agV=function(){var i=[],t,n,r=this._SelectedItems.getCount();if(r!==0){for(t=0;t<r;t++)if(n=this._Items.indexOf(this._SelectedItems.getItem(t)),n!==-1)i.push(n);else throw new Error("Incorrect content of SelectedItems");if(this._bj)while((n=this._auB(i))!==-1)this._bj.splice(n,1);else this._bj=[];for(this._bj.push(i);this._bj.length>50;)this._bj.splice(0,1)}},u.prototype._amD=function(){var i=[],t,n,r=this._SelectedItems.getCount();if(r!==0&&this._bj){for(t=0;t<r;t++)if(n=this._Items.indexOf(this._SelectedItems.getItem(t)),n!==-1)i.push(n);else throw new Error("Incorrect content of SelectedItems");while((n=this._auB(i))!==-1)this._bj.splice(n,1)}},u.prototype._bJP=function(n){var i,t,r;if(this._bj)for(t=0;t<this._bj.length;t++)for(i=this._bj[t];(r=i.indexOf(n))!==-1;)i.splice(0,1)},u.prototype._cxa=function(n,t){var r=this._SelectedItems.indexOf(n),u=t<0?r-1:r+1,i,l;if(r===-1||u<0||u>=this._SelectedItems.getCount())return{Item:null,Visible:!1};var s=this._SelectedItems.getItem(u),f=this._e5.childNodes,h=(this._IsRTL?1:-1)*parseInt(this._e5.style.left),a=this._aTb?this._DomNode.offsetWidth-(this._agT.offsetWidth+1)-2*this._g3.getWidth():this._DomNode.offsetWidth-(this._agT.offsetWidth+1),e=0,o,c=!1;for(i=0,l=f.length;i<l;i++){if(o=e+f[i].offsetWidth,f[i]===s.getDomNode()){c=e-h>=0&&o-h<=a;break}e=o}return{Item:s,Visible:c}},u.prototype._cxb=function(n,t){var i=this._SelectedItems.indexOf(n),r=t<0?i-1:i+1,u;i===-1||r<0||r>=this._SelectedItems.getCount()||(u=this._SelectedItems.getItem(i),this._SelectedItems.setItem(this._SelectedItems.getItem(r),i),this._SelectedItems.setItem(u,r),this._lS(),this._aTg(n))},u.prototype._bJO=function(n){n=!n;var t;if(this._Enabled&&n||!n){if(n){if(this._aTh){for(t=0;t<this._SelectedItems.getCount();t++)if(this._SelectedItems.getItem(t)!=this._aTh[t]){this.SelectedItemsChanged.fire(this,{});break}this._aTh=null}}else for(this._aTh=[],t=0;t<this._SelectedItems.getCount();t++)this._aTh.push(this._SelectedItems.getItem(t));this._g3&&this._g3.setEnabled(n),this._qy&&this._qy.setEnabled(n),this._f6&&this._f6.setEnabled(n),this._gv&&this._gv.setEnabled(n),this._DeleteButton&&this._DeleteButton.setEnabled(n),this._qz&&(n?(this._qz.setAttribute("enabled","enabled"),this._qz.removeAttribute("disabled")):(this._qz.setAttribute("disabled","disabled"),this._qz.removeAttribute("enabled")))}},u.prototype._qB=function(n,t){t=t===!0;var i=!1;(this._FocusedItem!==n||t)&&(this._FocusedItem&&(this._FocusedItem===this._DeleteButton?this._DeleteButton.setIsChecked(!1):this._FocusedItem===this._f6?this._f6.setIsChecked(!1):this._FocusedItem===this._gv?this._gv.setIsChecked(!1):(this._FocusedItem.removeClass("Focused"),this._FocusedItem.removeClass("Selected"),i=!0)),this._FocusedItem=n,t&&this._FocusedItem&&(this._FocusedItem===this._DeleteButton?this._DeleteButton.setIsChecked(!0):this._FocusedItem===this._f6?(this._f6.setIsChecked(!0),this._e5.style.left="0px",this._ScrollLeft=0):this._FocusedItem===this._gv?this._gv.setIsChecked(!0):(this._FocusedItem.addClass("Focused"),i=!0)),i&&this._aTg(this._FocusedItem))},u.prototype.getItems=function(){return this._Items},u.prototype.getSelectedItems=function(){return this._SelectedItems},u.prototype.getCustomTopMenuItems=function(){return this._CustomMenuItems},u.prototype.getDeleteButton=function(){return this._DeleteButton},u.prototype.getStartMenuButton=function(){return this._StartMenuButton},u.prototype.setCustomTopMenuItems=function(n){this._CustomMenuItems=n},u.prototype.setStartMenuButton=function(n){this._StartMenuButton!==n&&(this._StartMenuButton=n,this._StartMenuButton?this._f6.show():(this._f6.hide(),this._FocusedItem===this._f6&&(this._SelectedItems.getCount()>0?this._qB(this._SelectedItems.getItem(0)):this._qB(this._DeleteButton))),this._dc())},u.prototype.setEnabled=function(n){r.prototype.setEnabled.call(this,n),this._g3&&this._g3.setEnabled(n),this._qy&&this._qy.setEnabled(n),this._f6&&this._f6.setEnabled(n),this._gv&&this._gv.setEnabled(n),this._DeleteButton&&this._DeleteButton.setEnabled(n),this._qz&&(n?(this._qz.setAttribute("enabled","enabled"),this._qz.removeAttribute("disabled")):(this._qz.setAttribute("disabled","disabled"),this._qz.removeAttribute("enabled")));for(var t=0,i=this._SelectedItems.getCount();t<i;t++)this._SelectedItems.getItem(t).setEnabled(n)},u.prototype.setWidth=function(n,t){r.prototype.setWidth.call(this,n,t),this._dc()},u.prototype.setIsRTL=function(n){r.prototype.setIsRTL.call(this,n),this._ItemMenu.setIsRTL(n),this._HistoryMenu.setIsRTL(n);for(var t=0,i=this._SelectedItems.getCount();t<i;t++)this._SelectedItems.getItem(t).setIsRTL(n);this._g3.setImageUrl(this._ImagePath+(this._IsRTL?"bc-scrollRight.png":"bc-scrollLeft.png")),this._qy.setImageUrl(this._ImagePath+(this._IsRTL?"bc-scrollLeft.png":"bc-scrollRight.png"))},u.prototype.addToNode=function(n,t,i){r.prototype.addToNode.call(this,n,t,i),this._dc()},u.prototype.updateSize=function(){this._dc()},u.prototype.getDeleteButtonContainer=function(){return this._aTd},u.prototype.getContentDomNode=function(){return this._nb},u.prototype.getSettings=function(n,t,i,u){return i=i||[],i.push("_DeleteButton"),i.push("_ScrollLeft"),r.prototype.getSettings.call(this,n,t,i,u)},u.prototype.dispose=function(){this.SelectedItemsChanged&&this.SelectedItemsChanged.clear(!0),this._SelectedItems&&this._SelectedItems.clear(!0),r.prototype.dispose.call(this)},u}(t.Control);t.Breadcrumb=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(n){var t=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t.prototype._e=function(){n.prototype._e.call(this),this._CSSName="PPIconListItem"},t}(n.ListItem);n.IconListItem=t})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){n.MimeType={XLSX:{Extension:".xlsx",Mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},XLS:{Extension:".xls",Mime:"application/vnd.ms-excel"},DOC:{Extension:".doc",Mime:"application/msword"},DOCX:{Extension:".docx",Mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},PDF:{Extension:".pdf",Mime:"application/pdf"},JPG:{Extension:".jpg",Mime:"image/jpeg"},GIF:{Extension:".gif",Mime:"image/gif"},PNG:{Extension:".png",Mime:"image/png"},SVG:{Extension:".svg",Mime:"image/svg+xml"},ICO:{Extension:".ico",Mime:"image/vnd.microsoft.icon,image/x-icon"},BMP:{Extension:".bmp",Mime:"image/bmp"},JSON:{Extension:".json",Mime:"application/json"},ZIP:{Extension:".zip",Mime:"application/zip"},GZIP:{Extension:".gzip",Mime:"application/x-gzip"}}}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Width=240,this._ButtonWidth=26,this._ButtonHeight=21,this._AutoExpandable=!1,this._MaxInputsCount=3,this._PostUrl="",this._InputName="fileInput",this._defineEvents(["FileInputChanged","ValueChanged","FileUploaded","ActionFailed"]),this._FileButton=null,this._IsWatermark=!1,this._WatermarkText="",this._FileName="",this._dD5=null,this._df=[],this._Accept=[],n.resourceManager.ResourcesLoaded.add(this._aW,this)},r.prototype._render=function(){this._initFromHTML("<div class='PPFileUpload'><form name='uploadForm' method='post' action='' id='uploadForm' enctype='multipart/form-data'><\/form><\/div>"),this._UploadForm=this._DomNode.firstChild,this._aTi(),t.prototype._render.apply(this,arguments),this._ParentNode&&this.addToNode(this._ParentNode)},r.prototype._aTi=function(){var o=this.getId(),f=this._df.length,r=n.htmlToDOM("<div class='PPFileInputContainer'><table cellpadding='0' cellspacing='0'><tbody><tr><td class='PPFileTextBoxContainer'><\/td><td class='PPFileButtonContainer'><\/td><\/tr><\/tbody><\/table><\/div>"),c=n.querySelector(r,".PPFileTextBoxContainer"),l=n.querySelector(r,".PPFileButtonContainer"),s=new n.Ui.TextBox({Id:"{0}_fileTextBox_{1}".replace("{0}",o).replace("{1}",f),EnableEdit:!1,IsWatermark:this.getIsWatermark(),WatermarkText:this.getWatermarkText(),ParentNode:c}),u=n.create(n.extend(this._FileButton||{},{Id:"{0}_fileButton_{1}".replace("{0}",o).replace("{1}",f),Width:this._ButtonWidth,Height:this._ButtonHeight,PPType:"PP.Ui.Button"})),t=n.htmlToDOM("<input name='"+(this._InputName+"_"+f)+"' type='file' />"),h,e,i;u.getContent()||u.getResourceKey()||u.setResourceKey("dotDotDot"),u.addToNode(l),t.id="{0}_fileInput_{1}".replace("{0}",o).replace("{1}",f),n.IsIE?(h=n.createElement(r,"PPFileInputWrapper"),h.appendChild(t)):r.appendChild(t),n.addClass(t,"PPFileInput"),e={fileTextBox:s,fileButton:u,fileInput:t},s.setData(e),u.setData(e),this._addEvent(t,"change",this._bJQ),this._df.push(e),this._UploadForm.appendChild(r),this._df.length>1&&(r.style.marginTop="7px"),this.setWidth(this._Width),n.isTouch?this._addEvent(t,"touchstart",this._aTj):n.IsChrome||n.IsFF?(i=n.htmlToDOM("<input name='"+(this._InputName+"_"+f)+"' type='button' />"),n.addClass(i,"PPFileInputFake"),i.input=t.id,this._addEvent(i,"click",this._aTk),this._addEvent(i,"mousemove",this._aTl),this._addEvent(i,"mouseover",this._aTm),this._addEvent(i,"mouseout",this._aTn),e.fileInputFake=i,r.appendChild(i)):(this._addEvent(t,"mousemove",this._aTl),this._addEvent(t,"mouseover",this._aTm),this._addEvent(t,"mouseout",this._aTn),this._addEvent(t,"click",this._aTj)),this.setAccept(this._Accept)},r.prototype._aTk=function(n,t){var i=t.Event,r=i?i.target.input:undefined;document.getElementById(r).click()},r.prototype._aTj=function(t,i){i.Event.target.disabled&&this.ActionFailed.fire(this,{Message:n.resourceManager.getString("Content","FileUploadNotSupported")})},r.prototype._aTn=function(t,i){var r=this._aTo(i.Element),u,f;r&&r.fileButton&&(u=r.fileButton,f=u.getDomNode(),(n.reallyOut(f,i.Event)||!n.isDownOn(f,i.Event))&&u.setIsHovered(!1))},r.prototype._aTm=function(t,i){var r=this._aTo(i.Element),u,f;r&&r.fileButton&&(u=r.fileButton,f=u.getDomNode(),n.isDownOn(f,i.Event)&&u.setIsHovered(!0))},r.prototype._aTl=function(t,i){var u=this._aTo(i.Element),r,f;u&&u.fileButton&&(r=u.fileButton,f=r.getDomNode(),n.isDownOn(f,i.Event)?r.setIsHovered(!0):r.setIsHovered(!1))},r.prototype._aTo=function(t){for(var r=this._df.length,i=0;i<r;i++)if((n.IsChrome||n.IsFF)&&this._df[i].fileInputFake===t||this._df[i].fileInput===t)return this._df[i];return null},r.prototype._bJQ=function(t,i){var s=this._aTo(i.Element),f=s.fileInput,h,c,u,r,l;if(n.IsIE&&n.IEVer<10){var e=f.value+"",a=e.substr(Math.max(0,e.lastIndexOf("."))||Infinity),o=this._Accept;if(o&&n.Array.isArray(o)&&(h=o.filter(function(t){if(n.isObject(t)&&t.Extension===a)return!0}),!h.length)){this.ActionFailed.fire(this,{Message:n.resourceManager.getString("Content","incorrectFileType")+": "+e});return}}else for(c=new RegExp(f.accept.replace("*","[^\\/,]+").replace("+","\\+").replace(",","|")),u=f.files,r=0,l=u.length;r<l;r++)if(u[r].type&&!c.test(u[r].type)){this.ActionFailed.fire(this,{Message:n.resourceManager.getString("Content","incorrectFileType")+": "+u[r].name});return}this._aEv(s),this.FileInputChanged.fire(this,{FileInput:i.Element}),this.ValueChanged.fire(this,{FileInput:i.Element})},r.prototype._aEv=function(n){var i,t,u,r;if(n.fileInput.value?(i=n.fileInput.value.split("\\"),t="",t=i.length>0?i[i.length-1]:n.fileInput.value,this._FileName=this._Value=t,n.fileTextBox.setContent(t)):(this._FileName=this._Value="",n.fileTextBox.setContent("")),this._AutoExpandable&&this._df.length<this._MaxInputsCount){for(u=this._df.length,r=0;r<this._df.length;r++)this._df[r].fileInput.value!==""&&u--;u==0&&this._aTi()}},r.prototype._aW=function(n,i){t.prototype._aW.call(this,n,i),this.setWidth(this._Width)},r.prototype._cxd=function(t,i){var o=i.Event,r=o.target||o.srcElement,u=r.FileUpload,f="",e="";try{if(r.contentWindow.document.location.href=="about:blank"){u._UploadForm.action=r.Url,u._UploadForm.target="uploadIframe",n.setTimeout(function(){var t;n.IsIE?(t=u._UploadForm.parentNode,document.body.appendChild(u._UploadForm),u._UploadForm.submit(),t.appendChild(u._UploadForm)):u._UploadForm.submit()},0);return}}catch(s){f=s}r.contentWindow&&r.contentWindow.document&&(r.contentWindow.document.body?(f=r.contentWindow.document.body.innerHTML,e=r.contentWindow.document.body.innerText||r.contentWindow.document.body.textContent):r.contentWindow.document.firstChild&&(f=r.contentWindow.document.firstChild,e=r.contentWindow.document.firstChild.innerText||r.contentWindow.document.firstChild.textContent)),u.FileUploaded.fire(u,{Message:f,Text:e}),n.setTimeout(u._cxe,0,{Self:u})},r.prototype._sP=function(n,t){this.FileUploaded.fire(this,{Message:n.getXHR().responseXML,Text:t.ResponseText})},r.prototype._cxf=function(n,t){this.FileUploaded.remove(t.Args.Callback),this.FileUploaded.remove(this._cxf,this)},r.prototype._cxe=function(n){document.body.removeChild(n.Self._UploadIframe)},r.prototype._cxg=function(n){var t,i;if(n.files)return n.files.length>0?n.files[0]:null;t=n.value;try{return i=new ActiveXObject("Scripting.FileSystemObject"),i.getFile(t)}catch(r){return null}},r.prototype._cxh=function(n){this._UploadIframe=document.createElement("IFRAME"),this._UploadIframe.width="0",this._UploadIframe.height="0",this._UploadIframe.style.display="none",this._UploadIframe.src="about:blank",this._UploadIframe.id="uploadIframe",this._UploadIframe.name="uploadIframe",this._UploadIframe.FileUpload=this,this._UploadIframe.Url=n,this._addEvent(this._UploadIframe,"load",this._cxd),document.body.appendChild(this._UploadIframe),this._UploadIframe.contentWindow.name="uploadIframe"},r.prototype._bJR=function(t,i){var f,r,e,o,s,u;i||(f=this._UploadForm),r=new FormData(f),e=this._df.length,e===0&&this._aTi(),o=this._df[this._df.length-1].fileInput,i&&r.append(o.name,i),s=n.getCurrentCulture().CultureName,u=new n.Ajax({Url:t||this._PostUrl,Type:n.Ajax.Type.POST,Fail:new n.Delegate(this._sP,this),Success:new n.Delegate(this._sP,this)}),u.setRequestHeader("Accept-Language",s),u.send(r)},r.prototype._dD6=function(n){n.Self._dD7.click()},r.prototype.getAutoExpandable=function(){return this._AutoExpandable},r.prototype.getMaxInputsCount=function(){return this._MaxInputsCount},r.prototype.getPostUrl=function(){return this._PostUrl},r.prototype.getFileName=function(){return this._FileName},r.prototype.getAccept=function(){return this._Accept},r.prototype.getIsWatermark=function(){return this._IsWatermark},r.prototype.getWatermarkText=function(){return this._WatermarkText},r.prototype.setAutoExpandable=function(n){this._AutoExpandable=n},r.prototype.setMaxInputsCount=function(n){this._MaxInputsCount=n},r.prototype.setPostUrl=function(n){this._PostUrl=n},r.prototype.setWidth=function(i){i=i?i:"auto",t.prototype.setWidth.apply(this,arguments);for(var u=0;u<this._df.length;u++)this._df[u].fileTextBox.getDomNode().parentNode.style.width=i=="auto"?i:this._g(i)-this._ButtonWidth+"px",n.IsFF&&(i=="auto"?this._df[u].fileInput.setAttribute("size","100%"):this._df[u].fileInput.setAttribute("size",this._g(i)))},r.prototype.addToNode=function(){t.prototype.addToNode.apply(this,arguments),this.setWidth(this._Width)},r.prototype.send=function(t){t=t||this._PostUrl,n.IsIE&&n.IEVer<10?this._cxh(t):this._bJR(t)},r.prototype.sendFile=function(n){this._bJR(null,n)},r.prototype.getFiles=function(){for(var i=[],t,n=0,r=this._df.length;n<r;n++)t=this._cxg(this._df[n].fileInput),t&&i.push(t);return i},r.prototype.setEnabled=function(i){var e,f,r,u;for(t.prototype.setEnabled.apply(this,arguments),e=this._df.length,f=0;f<e;f++)r=this._df[f],r.fileTextBox.setEnabled(this._Enabled),r.fileButton.setEnabled(this._Enabled),u=n.querySelector(r.fileInput.parentNode,".PPFileInputFake"),i?(n.show(r.fileInput),u&&this._addEvent(u,"click",this._aTk)):(n.hide(r.fileInput),u&&this._k(u,"click",this._aTk))},r.prototype.setFileName=function(n){var u=this._df?this._df.length-1:0,r=this._df?this._df[u]:0,i,t;r&&n!=this._FileName&&(i=n.split("\\"),t="",t=i.length>0?i[i.length-1]:r.fileInput.value,this._FileName=t,r.fileTextBox.setContent(t),this._AutoExpandable&&this._df.length<this._MaxInputsCount&&this._aTi())},r.prototype.setAccept=function(t){var r,f,i,u;for(this._Accept=t,r=this._df,f=this._df.length,i=0;i<f;i++)r[i].fileInput&&(r[i].fileInput.accept="");for(u=[],this._Accept.map(function(t){n.isString(t)?u.push(t):n.isObject(t)&&t.Mime&&u.push(t.Mime)}),i=0;i<f;i++)r[i].fileInput&&(r[i].fileInput.accept=u.join(","))},r.prototype.setIsWatermark=function(t){var i,r;if(n.isBoolean(t)&&(this._IsWatermark=t,i=this._df,i&&i.length>0))for(r=0;r<i.length;r++)i[r].fileTextBox.setIsWatermark(t)},r.prototype.setWatermarkText=function(t){var i,r;if(n.isString(t)&&(this._WatermarkText=t,i=this._df,i&&i.length>0))for(r=0;r<i.length;r++)i[r].fileTextBox.setWatermarkText(t)},r.prototype.clearInputs=function(){for(var n=0;n<this._df.length;n++)this.clearInput(n)},r.prototype.clearInput=function(t){if(!this._df[t])return!1;var i=this._df[t],r=i.fileInput.parentNode,u=i.fileInput.name,f=i.fileInput.id;return r.removeChild(i.fileInput),i.fileInput=n.htmlToDOM("<input id='"+f+"' name='"+u+"' class='PPFileInput' type='file' />"),r.appendChild(i.fileInput),this._addEvent(i.fileInput,"change",this._bJQ),this._FileName==i.fileTextBox.getContent()&&(this._FileName=this._Value=""),i.fileTextBox.setContent(""),n.isTouch?this._addEvent(i.fileInput,"touchstart",this._aTj):n.IsChrome||n.IsFF?(i.fileInputFake=n.htmlToDOM("<input name='"+u+"' class='PPFileInputFake' type='button' />"),i.fileInputFake.input=f,this._addEvent(i.fileInputFake,"click",this._aTk),this._addEvent(i.fileInputFake,"mousemove",this._aTl),this._addEvent(i.fileInputFake,"mouseover",this._aTm),this._addEvent(i.fileInputFake,"mouseout",this._aTn),r.appendChild(i.fileInputFake)):(this._addEvent(i.fileInput,"mousemove",this._aTl),this._addEvent(i.fileInput,"mouseover",this._aTm),this._addEvent(i.fileInput,"mouseout",this._aTn),this._addEvent(i.fileInput,"click",this._aTj)),!0},r.prototype.dispose=function(){if(this.isLive()){n.resourceManager.ResourcesLoaded.remove(this._aW,this);for(var r=this._df.length,i=0;i<r;i++)this._d7(this._df[i].fileInput),this._df[i].fileButton.dispose(),this._df[i].fileTextBox.dispose();t.prototype.dispose.apply(this,arguments)}},r}(t.Control);t.FileUpload=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var u,r,f;(function(n){n[n.None=0]="None",n[n.Current=1]="Current",n[n.New=2]="New",n[n.Popup=3]="Popup"})(u=t.TextEditorHyperlinkTarget||(t.TextEditorHyperlinkTarget={})),r=function(n){function t(t){return n.call(this,t)||this}return i(t,n),Object.defineProperty(t.prototype,"PropertyName",{get:function(){return this._PropertyName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Value",{get:function(){return this._Value},enumerable:!0,configurable:!0}),t}(t.PropertyChangedEventArgs),t.ValuePropertyChangedEventArgs=r,f=function(t){function f(n){var i=t.call(this,n)||this,r;return i._render(),i._TextAreaHeight&&(r=i._TextAreaHeight,i._TextAreaHeight=null,i.setTextAreaHeight(r)),i.setReadOnly(i._ReadOnly),i}return i(f,t),f.prototype._e=function(){t.prototype._e.call(this),this._ImagePath=n.ImagePath,this._TextAreaStyle="",this._TextAreaHeight=0,this._EnableResize=!0,this._ReadOnly=!1,this._defineEvents(["PropertyChanged","SelectionChanged","TextChanged","Blur","TextDblClick"]),this._bcq=null,this._auC=null,this._Range=null,this._j3=!0,this._dD8=null,this._bJS=!0,this._sQ=!0},f.prototype._render=function(){this._initFromHTML("<div class='PPTextEditor'><\/div>"),this._FontBox=new n.Ui.FontBox({ParentNode:this._DomNode,ImagePath:this._ImagePath,IsJustifyVisible:!1,IsSizeExtend:!1,PropertyChanged:new n.Delegate(this._aL,this),MouseDown:new n.Delegate(function(){return!1},this)}),this._TextArea=new n.Ui.RichTextArea({Parent:this,ParentNode:this._DomNode,Value:this._Value,Enabled:this._Enabled,IsRTL:this._IsRTL,Width:this._Width==0?400:this._Width,DblClick:new n.Delegate(this._bJT,this),Blur:new n.Delegate(this._oo,this),KeyUp:new n.Delegate(this._agW,this)}),this._TextArea.addClass("PPTextEditor_TextArea"),this._EditorNode=this._TextArea.getContentNode(),this._addEvent(this._EditorNode,"pointerdown",this._agX),this._addEvent(this._EditorNode,"click",this._cxi),this._addEvent(this._EditorNode,"drop",this._cxj),this._addEvent(this._EditorNode,"focus",this._cxk),this._addEvent(this._DomNode,"keydown",this._cxl),this._ResizerCorner=n.htmlToDOM("<div class='PPTextEditor_ResizerCorner'><\/div>"),this._EnableResize&&(this._TextArea.getDomNode().appendChild(this._ResizerCorner),this._addEvent(this._ResizerCorner,"mousedown",this._amE)),t.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode),this._Content&&this._TextArea.setContent(this._Content),this._Width?this.setWidth(this._Width):n.addClass(this._FontBox.getDomNode().lastChild,"OneLine"),n.isTouch&&this._addEvent(document,"selectionchange",this._cxm)},f.prototype._oo=function(){return this.Blur.fire(this,{})},f.prototype._cxk=function(){document.activeElement===this._EditorNode&&this._bJS&&(this._cxn(),this._j4(),this._bJS=!1)},f.prototype._agW=function(){this._j4(),this._cg()},f.prototype._cxi=function(n,t){this._EditorNode.contentEditable=="false"?this._EditorNode.contentEditable="true":t.Event.ctrlKey==!0&&(this._EditorNode.contentEditable="false")},f.prototype._agX=function(t,i){this._Enabled&&(this._k(this._EditorNode,"pointerdown",this._agX),i.Event.pointerType===n.Ui.PointerEventType.Mouse&&i.Event.button===0&&(this._addEvent(this._EditorNode,"pointermove",this._bJU),this._addEvent(this._EditorNode,"pointerup",this._amF),this._addEvent(this._EditorNode,"pointerout",this._cxo)),n.setCapture(this._EditorNode,["pointermove","pointerup","dragend"]),this._addEvent(document,"pointerout",this._vn),this._addEvent(document,"pointerup",this._vn))},f.prototype._cxm=function(){this._j4(),this._cg()},f.prototype._cxo=function(n,t){this._j4(),this._TextArea.MouseOut.fire(this,t)},f.prototype._bJU=function(){this._aEw&&n.clearTimeout(this._aEw),this._aEw=n.setTimeout(this._cg,10,null,this)},f.prototype._amF=function(){this._Enabled&&(this._j4(),this._cg(),this._k(this._EditorNode,"pointermove",this._bJU),this._k(this._EditorNode,"pointerup",this._amF),this._addEvent(this._EditorNode,"pointerdown",this._agX),this._k(document,"mouseout",this._vn))},f.prototype._vn=function(t,i){this._j4(),(n.reallyOut(document,i.Event)||i.Event.type=="mouseup")&&(this._j4(),this._k(document,"pointerout",this._vn),this._k(document,"pointerup",this._vn))},f.prototype._cg=function(){var n=this.getBackgroundColor();this.SelectionChanged.fire(this,{IsBold:this.getIsBold(),IsUnderline:this.getIsUnderline(),IsItalic:this.getIsItalic(),FontSize:this.getFontSize(),FontFamily:this.getFontFamily(),FontColor:this.getFontColor(),FontBgColor:n,BackgroundColor:n,Alignment:this.getAlignment()}),this.updateControls()},f.prototype._cxj=function(n,t){var i=this._eB();i!=this._Range&&this.TextChanged.fire(this,t)},f.prototype._cxl=function(n,t){this._ReadOnly||t.Event.keyCode!=18&&t.Event.keyCode!=17&&t.Event.keyCode!=16&&this.TextChanged.fire(this,t)},f.prototype._amE=function(t,i){if(this._Enabled){var r=this._TextArea.getDomNode();this._vo=n.calculateOffset(r.firstChild),this._amG=[this._vo.X+r.offsetWidth-n.calculateMouseX(i.Event),this._vo.Y+r.offsetHeight-n.calculateMouseY(i.Event)],n.setCapture(this._ResizerCorner),this._k(this._ResizerCorner,"mousedown",this._amE),this._amH=n.htmlToDOM("<div class='PPTextEditor_ResizerBack' style='height: "+document.documentElement.clientHeight+"px; width: "+document.documentElement.clientWidth+"px;'><\/div>"),document.body.appendChild(this._amH),this._bV(document,{mousemove:this._bJV,mouseup:this._bJW})}},f.prototype._bJV=function(t,i){var e=[n.calculateMouseX(i.Event),n.calculateMouseY(i.Event)],u=e[1]-this._vo.Y+this._amG[1],r,f=this._TextArea.getScrollBox(),o=this._TextArea.getDomNode().style;r=this.getIsRTL()?-e[0]+this._vo.X+this._amG[0]:e[0]-this._vo.X+this._amG[0],u>this._ResizerCorner.offsetHeight*2&&(this._TextAreaHeight=u,o.height=u+"px",f.setHeight(u-2),f.updateScrollsVisibility()),r>this._ResizerCorner.offsetWidth*2&&(o.width=r+"px",f.setWidth(r-2),f.updateScrollsVisibility())},f.prototype._bJW=function(){n.releaseCapture(this._ResizerCorner),this._k(document,"mousemove",this._bJV),this._k(document,"mouseup",this._bJW),document.body.removeChild(this._amH),delete this._amH,this._addEvent(this._ResizerCorner,"mousedown",this._amE)},f.prototype._aL=function(t,i){this._TextArea.setFocus(),this._sQ=!1;switch(i.PropertyName){case n.Ui.FontBox.PropertyName.FontFamily:this.setFontFamily(i.Font.getFontFamily());break;case n.Ui.FontBox.PropertyName.Size:var r=t.getFontSizeComboBox().getSelectedItem();r&&this.setFontSize(r.getValue());break;case n.Ui.FontBox.PropertyName.Alignment:this.setAlignment(i.Alignment);break;case n.Ui.FontBox.PropertyName.IsBold:this.setIsBold(i.Font.getIsBold());break;case n.Ui.FontBox.PropertyName.IsItalic:this.setIsItalic(i.Font.getIsItalic());break;case n.Ui.FontBox.PropertyName.IsUnderline:this.setIsUnderline(i.Font.getIsUnderline());break;case n.Ui.FontBox.PropertyName.Color:this.setFontColor(i.Font.getColor())}this._sQ=!0},f.prototype._bJT=function(){this.TextDblClick.fire(this)},f.prototype._eB=function(){var t,o,i,r,e=null,u,f;if(window.getSelection){if(e=window.getSelection(),!e||e.rangeCount==0)return null;t=e.getRangeAt(0),i=t.startContainer,r=t.endContainer,o=t.commonAncestorContainer,i.nodeName=="#text"&&(i=i.parentNode),r.nodeName=="#text"&&(r=r.parentNode),i==r&&(o=i),e={root:o,start:i,end:r,range:t}}else if(document.selection){if(t=document.selection.createRange(),!t.duplicate)return null;u=t.duplicate(),f=t.duplicate(),u.collapse(!0),f.moveToElementText(u.parentElement()),f.setEndPoint("EndToStart",u),i=u.parentElement(),u=t.duplicate(),f=t.duplicate(),f.collapse(!1),u.moveToElementText(f.parentElement()),u.setEndPoint("StartToEnd",f),r=f.parentElement(),o=t.parentElement(),i==r&&(o=i),e={root:o,start:i,end:r,range:t}}return n.IsFF&&this._auC&&(!t.collapsed||this._auC.range.startOffset!=t.startOffset||this._auC.range.startContainer!=t.startContainer)&&(this._bcq=null,this._auC=null),e},f.prototype._j4=function(){var n=window.getSelection?window.getSelection():document.selection;n.isCollapsed?(this._j3=!0,n.getRangeAt&&n.rangeCount&&(this._Range=n.getRangeAt(0))):(this._Range=window.getSelection?n.getRangeAt(0):n.createRange(),this._j3=!1)},f.prototype._gw=function(){var t;window.getSelection?(t=window.getSelection(),this._j3?(t.removeAllRanges(),t.addRange(this._Range)):this._Range&&(t.removeAllRanges(),t.addRange(this._Range),n.isFunction(document.body.onselectstart)&&n.IsIE&&(this._hx=document.body.onselectstart,document.body.onselectstart=null),n.isFunction(this._hx)&&(document.body.onselectstart=this._hx,this._hx=null))):this._Range&&(n.isFunction(document.body.onselectstart)&&n.IsIE&&(this._hx=document.body.onselectstart,document.body.onselectstart=null),this._Range.select(),n.isFunction(this._hx)&&(document.body.onselectstart=this._hx,this._hx=null))},f.prototype._agY=function(){try{document.execCommand("styleWithCSS",!1,!0)}catch(n){try{document.execCommand("useCSS",!1,!0)}catch(n){try{document.execCommand("styleWithCSS",!1,!0)}catch(n){}}}},f.prototype._bJX=function(n){for(var t,i=0;i<n.childNodes.length;i++)this._bJX(n.childNodes[i]);if(n.nodeName=="EM")n.outerHTML="<span style='font-style: italic;'>"+n.innerHTML+"<\/span>";else if(n.nodeName=="FONT"){if(t="",n.size!="")switch(n.size){case"1":t=" font-size: x-small;";break;case"2":t=" font-size: small;";break;case"3":t=" font-size: medium;";break;case"4":t=" font-size: large;";break;case"5":t=" font-size: x-large;";break;case"6":t=" font-size: xx-large;";break;case"7":return}t+=n.face==""?"":" font-family: "+n.face+";",t+=n.color==""?"":" color: "+n.color+";",n.outerHTML="<span style='"+t+"'>"+n.innerHTML+"<\/span>"}else n.nodeName=="STRONG"?n.outerHTML="<span style='font-weight: bold;'>"+n.innerHTML+"<\/span>":n.nodeName=="U"&&(n.outerHTML="<span style='text-decoration: underline;'>"+n.innerHTML+"<\/span>");return n},f.prototype._bcr=function(n,t,i,r){for(var e=n,u="",f;n;){while(n.nodeName=="B"||n.nodeName=="I"||n.nodeName=="U"||n.nodeName=="STRONG")n=n.parentNode;if(r?(f=this._bJY(n)?window.getComputedStyle(n,null):null,u=f?f[i]:""):u=n.style?n.style.getPropertyValue(t):"",u&&i=="fontFamily"&&u.indexOf("Thread-")>-1&&(u=""),u){u=="transparent"&&(u=""),e=n;break}if(n.nodeName!="DIV")n=n.parentNode;else break}return{value:u,parentNode:e}},f.prototype._bJZ=function(n,t,i,r,u,f,e,o,s){for(var c="",a,l,h=0;h<o.length;h++){if(f||n!==this._EditorNode&&o[h]!==n||(f=!0),!e&&o[h]===t){e=!0,c=u;break}if(f&&!e&&(o[h].nodeName!="DIV"||o[h].nodeName!="P"))if(s?(a=this._bJY(o[h])?window.getComputedStyle(o[h],null):null,c=a?a[r]:""):c=o[h].style?o[h].style.getPropertyValue(i):"",c=="transparent"&&(c=""),c!=u)if(c){e=!0,c="";break}else if(o[h].children.length)l=this._bJZ(n,t,i,r,u,f,e,o[h].querySelectorAll("p, font, span")),h+=l.i,c=l.value,e=l.end;else{e=!0,c="";break}else o[h].children.length&&(h+=o[h].querySelectorAll("p, font, span").length);if(e)break}return{i:h,value:c,end:e}},f.prototype._auD=function(t){var i=this.getTextArea().getContentNode();i.firstChild&&i.firstChild.nodeType===1&&(this._bJ0={style:t,val:i.firstChild&&i.firstChild[t]?n.getStyle(i.firstChild,t):null})},f.prototype._auE=function(n){var r=this.getTextArea().getContentNode(),t=this._bJ0,u,i;r.firstChild&&r.firstChild.nodeType===1&&t&&(u=document.getSelection(),i=r.firstChild,i.innerText!=u.toString()?i.style[t.style]==""&&t.val!=""&&t.val!=null&&(i.style[t.style]=t.val):i.style[t.style]=n),delete this._bJ0},f.prototype._cxp=function(n,t,i){var e,o,s,h,a,v;i=i?i:!1;var f=this._eB(),u=f?f.start:"",r=f?f.end:"",c="",l="";if(f){for(u==this._EditorNode&&f.range.startOffset==0&&u.firstChild?e=u.firstChild:u.nodeType===1&&f.range.startOffset>0&&u.children.length>=f.range.startOffset&&(e=u.children[f.range.startOffset-1]);e&&e.lastChild;)e=e.lastChild;for(e&&e.nodeType==3&&(u=e),r==this._EditorNode&&f.range.endOffset==this._EditorNode.children.length&&r.lastChild?o=r.lastChild:r.nodeType===1&&f.range.endOffset>0&&r.children.length>=f.range.endOffset&&(o=r.children[f.range.endOffset-1]);o&&o.lastChild;)o=o.lastChild;if(o&&o.nodeType==3&&(r=o),s=u.style?u.style.getPropertyValue(n):"",h=r.style?r.style.getPropertyValue(n):"",s==""&&(a=this._bcr(u,n,t,i),s=a.value,u=a.parentNode),h==""?(v=this._bcr(r,n,t,i),h=v.value,r=v.parentNode):h||(h=s,l=r.nodeName),s&&h&&s==h&&u!==r){var y="p, div, font, span",w=l?l+","+y:y,b=this._EditorNode.querySelectorAll(w),p=this._bJZ(u,r,n,t,s,!1,!1,b,i);c=p.value?p.value:c}else u===r&&(c=s)}return c},f.prototype._bJY=function(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"},f.prototype._cxn=function(){if(window.getSelection){var n,t;document.createRange?(n=document.createRange(),n.selectNodeContents(this._EditorNode),n.collapse(!1),t=window.getSelection(),t.removeAllRanges(),t.addRange(n)):(n=document.body.createTextRange(),n.moveToElementText(this._EditorNode),n.collapseToEnd(),n.select())}},f.prototype.getReadOnly=function(){return this._ReadOnly},f.prototype.getTextArea=function(){return this._TextArea},f.prototype.getEnableResize=function(){return this._EnableResize},f.prototype.getFontBox=function(){return this._FontBox},f.prototype.getTextAreaHeight=function(){return this._TextAreaHeight},f.prototype.addToNode=function(){t.prototype.addToNode.apply(this,arguments),this._TextArea.updateSize()},f.prototype.setEnableResize=function(t){n.isBoolean(t)&&t!=this._EnableResize&&(this._EnableResize=t,this._EnableResize?(this._TextArea.getDomNode().appendChild(this._ResizerCorner),this._addEvent(this._ResizerCorner,"mousedown",this._amE)):(this._TextArea.getDomNode().removeChild(this._ResizerCorner),this._k(this._ResizerCorner,"mousedown",this._amE)))},f.prototype.blur=function(){this._TextArea.blur()},f.prototype.getValue=function(){return this.getText()},f.prototype.getText=function(){return this._TextArea.getValue()},f.prototype.getContent=function(){return this._TextArea.getContent()},f.prototype.setValue=function(n){this.setText(n)},f.prototype.setText=function(t){var r=n.isVisible(this._DomNode),i;r&&(i={Alignment:this.getAlignment(),FontFamily:this.getFontFamily(),FontSize:this.getFontSize(),Bold:this.getIsBold(),Italic:this.getIsItalic(),Underline:this.getIsUnderline(),FontColor:this.getFontColor()}),this._TextArea.setValue(t),r&&(this._sQ=!1,this.setAlignment(i.Alignment),this.setFontFamily(i.FontFamily),this.setFontSize(i.FontSize),this.setFontColor(i.FontColor),this.setIsBold(i.Bold),this.setIsItalic(i.Italic),this.setIsUnderline(i.Underline),this._sQ=!0)},f.prototype.setContent=function(n){this._TextArea.setContent(n)},f.prototype.setReadOnly=function(n){n=!!n,this._ReadOnly=n,this._FontBox&&this.getEnabled()&&this._FontBox.setEnabled(!n),this._TextArea&&this._TextArea.setReadOnly(n)},f.prototype.getAlignment=function(){var t=document.getSelection();if(t.focusNode){if(document.queryCommandState("JustifyLeft"))return n.HorizontalAlignment.Left;if(document.queryCommandState("JustifyCenter"))return n.HorizontalAlignment.Center;if(document.queryCommandState("JustifyRight"))return n.HorizontalAlignment.Right;if(document.queryCommandState("JustifyFull"))return n.HorizontalAlignment.Justify}return this._IsRTL?n.HorizontalAlignment.Right:n.HorizontalAlignment.Left},f.prototype.setAlignment=function(t){if(this._Enabled&&(this._TextArea.setFocus(),this._j3||this._gw(),this.getAlignment()!=t)){var i="";t==n.HorizontalAlignment.Left?i="JustifyLeft":t==n.HorizontalAlignment.Center?i="JustifyCenter":t==n.HorizontalAlignment.Right?i="JustifyRight":t==n.HorizontalAlignment.Justify&&(i="JustifyFull"),this._agY(),document.execCommand(i,!1,!1),this._j4(),this.PropertyChanged.fire(this,new r({PropertyName:n.Ui.FontBox.PropertyName.Alignment,Value:t})),this._sQ&&this.updateControls(),this._TextArea.setFocus(),this._j3||this._gw()}},f.prototype.getIsBold=function(){return document.queryCommandState("Bold")},f.prototype.setIsBold=function(t){this._Enabled&&(this._j3||this._gw(),this.getIsBold()!=t)&&(this._agY(),this._auD("font-weight"),document.execCommand("Bold",!1,t),this._auE(t?"bold":"normal"),this._j4(),this.PropertyChanged.fire(this,new r({PropertyName:n.Ui.FontBox.PropertyName.IsBold,Value:t})),this._sQ&&this.updateControls(),this._TextArea.setFocus(),this._TextArea.updateSize(),this._j3||this._gw())},f.prototype.getIsUnderline=function(){return document.queryCommandState("Underline")},f.prototype.setIsUnderline=function(t){this._Enabled&&(this._j3||this._gw(),this.getIsUnderline()!=t)&&(this._agY(),n.IsIE&&document.execCommand("ForeColor",!1,this._FontBox.getFont().getColor().toString()),this._auD("text-decoration"),document.execCommand("Underline",!1,t),this._auE(t?"underline":"none"),n.IsFF&&document.execCommand("ForeColor",!1,this._FontBox.getFont().getColor().toString()),this._j4(),this.PropertyChanged.fire(this,new r({PropertyName:n.Ui.FontBox.PropertyName.IsUnderline,Value:t})),this._sQ&&this.updateControls(),this._TextArea.setFocus(),this._TextArea.updateSize(),this._j3||this._gw())},f.prototype.getIsItalic=function(){return document.queryCommandState("Italic")},f.prototype.setIsItalic=function(t){this._Enabled&&(this._j3||this._gw(),this.getIsItalic()!=t)&&(this._agY(),this._auD("font-style"),document.execCommand("Italic",!1,t),this._auE(t?"italic":"normal"),this._j4(),this.PropertyChanged.fire(this,new r({PropertyName:n.Ui.FontBox.PropertyName.IsItalic,Value:t})),this._sQ&&this.updateControls(),this._TextArea.setFocus(),this._TextArea.updateSize(),this._j3||this._gw())},f.prototype.getFontSize=function(){var t=window.getSelection(),n="10";if(t.focusNode){n=(document.queryCommandValue("FontSize")||10).toString();switch(n){case"1":n="8";break;case"2":n="10";break;case"3":n="12";break;case"4":n="14";break;case"5":n="18";break;case"6":n="24";break;case"7":n="36"}}return parseInt(n)},f.prototype.setFontSize=function(t){if(t&&this._Enabled&&(this._j3||this._gw(),this.getFontSize()!=t)){var i=1;switch(this._g(t)){case 8:i=1;break;case 10:i=2;break;case 12:i=3;break;case 14:i=4;break;case 18:i=5;break;case 24:i=6;break;case 36:i=7;break;default:return}this._agY(),this._auD("font-size"),document.execCommand("FontSize",!1,i),this._auE(i),this._j4(),this.PropertyChanged.fire(this,new r({PropertyName:n.Ui.FontBox.PropertyName.Size,Value:t})),this._sQ&&this.updateControls(),this._TextArea.setFocus(),this._TextArea.updateSize(),this._j3||this._gw()}},f.prototype.getFontFamily=function(){var r=this._eB(),n=r&&r.start;if(n==this._EditorNode&&n.firstChild)while(n.firstChild)n=n.firstChild;var t=this._bcr(n,"font-family","fontFamily",!0).value||"Arial",u=window.getSelection(),i=u.focusNode?document.queryCommandValue("FontName"):"";return i&&i.indexOf("Thread-")===-1&&(t=i),t=t.replace(/'/g,"").replace(/"/g,"")},f.prototype.setFontFamily=function(t){this._Enabled&&(this._j3||this._gw(),this.getFontFamily()!=t)&&(this._agY(),this._auD("font-family"),document.execCommand("FontName",!1,t),this._auE(t),this._j4(),this.PropertyChanged.fire(this,new r({PropertyName:n.Ui.FontBox.PropertyName.FontFamily,Value:t})),this._sQ&&this.updateControls(),this._TextArea.setFocus(),this._j3||this._gw())},f.prototype.getFontColor=function(){var r=window.getSelection(),t,i;return r.focusNode&&(t=document.queryCommandValue("ForeColor"),(n.IsIE||n.isNumber(t))&&(i=this._g(t),i=(i&255)<<16|i&65280|(i&16711680)>>>16,t=i.toString(16),t="#000000".slice(0,7-t.length)+t)),r.focusNode&&t||(t="rgb(0, 0, 0)"),n.Color.getColor(t).toString()},f.prototype.setFontColor=function(t){this._Enabled&&(this._j3||this._gw(),this.getFontColor()!=t)&&(this._agY(),this._auD("color"),document.execCommand("ForeColor",!1,t.toString()),this._auE(t),this.getIsUnderline()&&n.IsIE&&(document.execCommand("Underline",!1,!1),document.execCommand("Underline",!1,!0)),this._j4(),this.PropertyChanged.fire(this,new r({PropertyName:n.Ui.FontBox.PropertyName.Color,Value:t})),this._sQ&&this.updateControls(),this._TextArea.setFocus(),this._j3||this._gw())},f.prototype.getBackgroundColor=function(){var t=this._cxp("background-color","backgroundColor",!1);return t=t||"rgb(255, 255, 255)",n.Color.getColor(t).toString()},f.prototype.setBackgroundColor=function(t){if(this._Enabled&&(this._gw(),this.getBackgroundColor()!=t)){if(this._agY(),n.IsFF){var i=this._eB();i&&i.range&&i.range.collapsed?(this._bcq=t,this._auC=i):(this._bcq=null,this._auC=null)}document.execCommand(n.IsFF?"HiliteColor":"BackColor",!1,t.toString()),this.PropertyChanged.fire(this,new r({PropertyName:n.Ui.FontBox.PropertyName.BackgroundColor,Value:t})),this._sQ&&this.updateControls()}},f.prototype.setTextAreaHeight=function(t){n.isNumber(t)&&t!=this._TextAreaHeight&&(this._TextAreaHeight=t,this._TextArea.setHeight(t))},f.prototype.insertHyperlink=function(n,t){var i,r;t=t||u.None,i=this._j3?n:n+"_Time",document.execCommand("CreateLink",!1,i);switch(t){case u.New:this._EditorNode.innerHTML=this._EditorNode.innerHTML.replace('href="'+i+'"','target=PP.Blank href="'+n+'"');break;case u.Current:this._EditorNode.innerHTML=this._EditorNode.innerHTML.replace('href="'+i+'"','href="'+n+'"');break;case u.Popup:r="onclick=\"window.open('"+n+"', 'popup', 'menubar=no,toolbar=no,location=no,directories=no'); return false\" ",this._EditorNode.innerHTML=this._EditorNode.innerHTML.replace('href="'+i+'"',r+' href="'+n+'"')}},f.prototype.removeHyperlink=function(){if(this._Range&&!this._Range.collapsed)document.execCommand("Unlink",null,null);else{var n=this._EditorNode.getElementsByTagName("a")[0];n&&(this._EditorNode.innerHTML=this._EditorNode.innerHTML.replace(n.outerHTML,n.innerText))}},f.prototype.getHyperlinkUrl=function(){var r,e;if(this._Range&&!this._Range.collapsed){var u=this._Range.startContainer,f=this._Range.endContainer,t="";if(f instanceof HTMLLinkElement&&f.parentNode&&(t=f.parentNode.href),u instanceof HTMLLinkElement&&u.parentNode&&(t=u.parentNode.href),!t)for(var o=this._Range.cloneContents(),i=o.childNodes,s=i.length,n=0;n<s;n++){if(i[n].nodeName=="A")return i[n].href;if(r=i[n],r.getElementsByTagName&&r.getElementsByTagName("a")[0])return r.getElementsByTagName("a")[0].href}return t||""}return e=this._EditorNode.getElementsByTagName("a"),e.length?e[0].href:""},f.prototype.getSettings=function(){var n=t.prototype.getSettings.call(this);return delete n.FontBox,delete n.TextArea,n},f.prototype.setIsRTL=function(n){t.prototype.setIsRTL.call(this,n),this._FontBox.setIsRTL(n)},f.prototype.setEnabled=function(n){t.prototype.setEnabled.call(this,n),this._FontBox.setEnabled(n),this._TextArea.setEnabled(n),this.setReadOnly(this._ReadOnly),this.PropertyChanged.fire(this,new r({PropertyName:"Enabled",Value:n})),n?this._addEvent(this._ResizerCorner,"mousedown",this._amE):this._k(this._ResizerCorner,"mousedown",this._amE)},f.prototype.setWidth=function(i,r){if(t.prototype.setWidth.apply(this,arguments),this._FontBox){var f=this._FontBox.getDomNode(),u=f.lastChild,e=f.firstChild;u.offsetTop!=e.offsetTop+e.offsetHeight?n.addClass(u,"OneLine"):n.removeClass(u,"OneLine")}this._TextArea.setWidth(i,r)},f.prototype.setHeight=function(n,i){t.prototype.setHeight.apply(this,arguments),this._TextArea.setHeight(n,i)},f.prototype.updateControls=function(){var i=this._FontBox.getFont(),f,t,e,u,r;if(i.setFontFamily(this.getFontFamily()),i.setColor(this.getFontColor()),i.setIsBold(this.getIsBold()),i.setIsItalic(this.getIsItalic()),i.setIsUnderline(this.getIsUnderline()),this._FontBox.setFont(i),f=this.getAlignment(),this._FontBox.setAlignment(f),t=this.getFontSize()+"",e=this._FontBox.getFontSizeComboBox().getListBox(),t.indexOf("px")>-1)t=Math.round(parseInt(t)/n.getDPI()*72)+"";else for(u=e.getItems(),r=0;r<u.length;r++)if(t==u[r].getData()){t=u[r].getValue();break}this._FontBox.getFontSizeComboBox().setValue(t,!1)},f.prototype.insertNode=function(t){var r,i,u=t?t.outerHTML||t.innerHTML||t.textContent||t.nodeValue:undefined,f,e;u&&(document.activeElement==this._TextArea.getContentNode()?document.getSelection?(this._gw(),r=document.getSelection(),i=r.getRangeAt(0),i.deleteContents(),n.IsIE||n.IsFF||r.collapse(this._TextArea.getContentNode())):(r=document.selection,i=r.createRange(),i.pasteHTML(u)):this.setContent(u),i)&&(i.pasteHTML||(n.IsIE&&n.IEVer>=9&&(f=document.createElement("span"),f.innerHTML=u,t=f.firstChild),i.deleteContents(),i.insertNode(t),i.selectNode(t),i.collapse(!1)),window.getSelection&&(e=window.getSelection(),e.removeAllRanges(),e.addRange(i)))},f.prototype.focus=function(){if(n.isVisible(this.getDomNode()))if(window.getSelection&&!n.IsFF){var t=window.getSelection(),i=document.createRange();i.selectNodeContents(this._TextArea.getContentNode()),t.removeAllRanges(),n.isFunction(document.body.onselectstart)&&n.IsIE&&(this._hx=document.body.onselectstart,document.body.onselectstart=null),t.addRange(i),t.anchorNode&&t.collapseToEnd(),n.isFunction(this._hx)&&(document.body.onselectstart=this._hx,this._hx=null)}else this._TextArea.setFocus()},f.prototype.setFocus=function(){n.isVisible(this.getDomNode())&&(t.prototype.setFocus.call(this),this.focus())},f.prototype.selectAll=function(){this._TextArea.selectAll(),this._j4()},f.prototype.getFormattedText=function(){var t=this.getContent(),i;return n.IsIE?(i=n.htmlToDOM("<div>"+t+"<\/div>"),t=this._bJX(i).innerHTML):t},f}(t.Control),t.TextEditor=f})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._cxq(),t._atr(),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._Title="",this._IsHeaderControlVisible=!0,this._IsCollapsed=!0,this._IsRendered=!1,this._defineEvents(["Toggled","Toggling","Collapsing","Expanding","EnableChanged","Disposing","VisibleChanging"])},u.prototype._initFields=function(n){this._cxr(n),r.prototype._initFields.call(this,n)},u.prototype._cxr=function(t){t=t||{},n.isDefined(t.HeaderControl)||t.CheckBox||(t.HeaderControl={PPType:"PP.Ui.CheckBox"}),t.CheckBox&&(t instanceof n.Ui.CheckBox||(t.CheckBox.PPType="PP.Ui.CheckBox"),t.HeaderControl=t.CheckBox,delete t.CheckBox);var i=t.HeaderControl;!i||i instanceof n.Ui.Control||i.PPType&&(this._HeaderControl=n.create(i),delete t.HeaderControl)},u.prototype._bindEvents=function(){this._cQ||(this._HeaderControl instanceof n.Ui.Control&&this._HeaderControl.MouseDown.add(this._bcs,this),r.prototype._bindEvents.call(this))},u.prototype._bcs=function(){this._bJ1=!0},u.prototype._cxs=function(){var n=document.createElement("div"),t=document.createElement("div"),i=document.createElement("div");return n.className="BottomBorder",t.className="BottomBorder__Gradient",i.className="BottomBorder__Body",n.appendChild(t),n.appendChild(i),n},u.prototype._cxq=function(){var i,u;this._initFromHTML("<div class='PPNavItm Collapsed'><\/div>"),this._TitleLabel=new n.Ui.Label({Class:"TitleLabel",Content:this._Title}),this._LabelArrow=new n.Ui.Label({Top:0,Left:3}),this._Arrow=new n.Ui.Arrow({ParentNode:this._LabelArrow.getDomNode(),Width:8,Height:5,Direction:n.LTRB.Bottom,Stroke:"#575757",FillType:n.Ui.ArrowFillType.Stroke});var t=new n.Ui.Label({Top:0,Left:0,Class:"ControlContainer"}),f=new n.Ui.Label({Top:0,Left:1,Class:"TitleContainer",Content:this._TitleLabel,IsRTL:this._IsRTL}),e=new n.Ui.Label({Top:0,Left:2,Class:"RightControlContainer"});this._mT=new n.Ui.GridPanel({ParentNode:this._DomNode,Class:"Bar",MouseDown:new n.Delegate(this._cxt,this),MouseOver:new n.Delegate(this._cxu,this),MouseOut:new n.Delegate(this._cxv,this),Items:[t,f,e,this._LabelArrow]}),n.addClass(t.getParentNode(),"PPNavItmControlTd"),n.addClass(f.getParentNode(),"PPNavItmTitleTd"),n.addClass(this._LabelArrow.getDomNode(),"PPNavItmTitleArrow"),this._mT.getDomNode().appendChild(this._cxs()),this._bJ2=t.getDomNode(),this._bJ3=e.getDomNode(),i=this._HeaderControl,i&&(this._HeaderControl=null,this.setHeaderControl(i)),u=this._RightHeaderControl,u&&(this._RightHeaderControl=null,this.setRightHeaderControl(u)),this._IsHeaderControlVisible||this.setIsHeaderControlVisible(this._IsHeaderControlVisible),this._aEx=document.createElement("div"),n.addClass(this._aEx,"PPNavItemView"),this._DomNode.appendChild(this._aEx),this._ScrollBox=new n.Ui.ScrollBox({ParentNode:this._aEx,Class:"PPNavItemScrollBox"}),this._ContentDomNode=document.createElement("div"),this._nb=this._ContentDomNode,n.addClass(this._ContentDomNode,"PPNavItemContent"),this._ScrollBox.setContent(this._ContentDomNode),this._bW(this._Content,this._ContentDomNode,"Content",!0),r.prototype._render.call(this)},u.prototype._render=function(){},u.prototype._cxt=function(){this._Enabled&&!this._bJ1&&(this._IsCollapsed?this.expand():this.collapse()),delete this._bJ1},u.prototype._cxu=function(){this._Enabled&&this._mT.addClass(this._HoverClass)},u.prototype._cxv=function(){this._mT.removeClass(this._HoverClass)},u.prototype._bJ4=function(){this._Arrow.setDirection(this._IsCollapsed?n.LTRB.Bottom:n.LTRB.Top),this._Arrow.setStroke(this._IsCollapsed?"#7f7f7f":"#2d8fca")},u.prototype._bJ5=function(){var n=parseInt(this._ScrollBox.getCssStyle(null,"margin-top")),t=parseInt(this._ScrollBox.getCssStyle(null,"margin-bottom"));return n=!n||isNaN(n)?0:n,t=!t||isNaN(t)?0:t,n+t},u.prototype._bJ6=function(){var n=parseInt(this._ScrollBox.getCssStyle(null,"margin-left")),t=parseInt(this._ScrollBox.getCssStyle(null,"margin-right"));return n=!n||isNaN(n)?0:n,t=!t||isNaN(t)?0:t,n+t},u.prototype._bJ7=function(){var n,t;this._aTp&&(n=this.getParent(),n&&n.isAnimation()||(t=this._aTp==="expand",delete this._aTp,this.Toggled.fire(this,{IsExpanded:t})))},u.prototype._aEy=function(n){return(n=n||this._HeaderControl,n instanceof t.Control)?n:null},u.prototype.getTitle=function(){return this._Title},u.prototype.getScrollBox=function(){return this._ScrollBox},u.prototype.getIsHeaderControlVisible=function(){return this._IsHeaderControlVisible},u.prototype.getHeaderPanel=function(){return this._mT},u.prototype.getHeaderControl=function(){return this._HeaderControl},u.prototype.getRightHeaderControl=function(){return this._RightHeaderControl},u.prototype.getIsCollapsed=function(){return this._IsCollapsed},u.prototype.getIsRendered=function(){return this._IsRendered},u.prototype.getParent=function(){return this._Parent},u.prototype.getContentDomNode=function(){return this._ContentDomNode},u.prototype.setContent=function(n){if(this._bEG=-1,this._bW(n,this._ContentDomNode),this._IsRendered&&this.updateSize(),!this._IsCollapsed){this._ScrollBox.show();var t=this.getWidth();this._Width=null,this.setWidth(t)}},u.prototype.setTitle=function(n){this._Title!=n&&(this._Title=n,this._TitleLabel&&this._TitleLabel.setContent(n))},u.prototype.setCaption=function(n){this.setTitle(n)},u.prototype.getCaption=function(){return this.getTitle()},u.prototype.getContentSize=function(){return this._fE&&this._fE.Width!==0&&this._fE.Height!==0||(this._fE={Height:this._ContentDomNode.offsetHeight,Width:this._ContentDomNode.offsetWidth}),this._fE},u.prototype.setHeight=function(n){var r,t,i,u;n=this._g(n),this._Height!==n&&(r={OldValue:this._Height,NewValue:n,WidthChanged:!1,HeightChanged:!0},this._Height=n,this._aEx.style.height=n+"px",t=this.getParent(),t&&t.isAnimation()||(i=this._ScrollBox,u=this._bJ5(),i.setHeight(this._g(n)-u),i.updateSize(),this._IsRendered&&this.updateSize()),this.SizeChanged.fire(this,r))},u.prototype.setWidth=function(t){var r,i,u;t=this._g(t),this._Width!==t&&(r={OldValue:this._Width,NewValue:t,WidthChanged:!0,HeightChanged:!1},this._Width=t,this._aEx.style.width=t+"px",i=this._TitleLabel.getDomNode(),i.offsetWidth<i.scrollWidth?this._TitleLabel.setToolTip(n.String.escapeHTML(this._Title)):this._TitleLabel.setToolTip(null),u=this._bJ6(),this._ScrollBox.setWidth(this._g(t)-u),this._ScrollBox.updateSize(),this._IsRendered&&this.updateSize(),this.SizeChanged.fire(this,r))},u.prototype.updateSize=function(){var t=this._Content,i=this.getParent(),r,u;i&&i.getContentAutoFit()&&t&&t instanceof n.Ui.Control&&(r=this._bJ5(),u=this._bJ6(),t.setWidth(this._g(this._Width)-parseInt(t.getCssStyle(null,"border-left-width"))-parseInt(t.getCssStyle(null,"border-right-width"))-u),t.setHeight(this._g(this._Height)-parseInt(t.getCssStyle(null,"border-top-width"))-parseInt(t.getCssStyle(null,"border-bottom-width"))-r))},u.prototype.showScrolls=function(){this._ScrollBox.showScrolls(),this._ScrollBox.updateSize()},u.prototype.hideScrolls=function(){this._ScrollBox.hideScrolls()},u.prototype.getHeightOfCDomNode=function(){return this._ScrollBox.getHeight()},u.prototype.setIsHeaderControlVisible=function(n){this._IsHeaderControlVisible=n;var t=this._aEy();t&&(this._IsHeaderControlVisible?t.show():t.hide())},u.prototype.setHeaderControl=function(t){var i,r;this._HeaderControl!==t&&(i=this._aEy(),i&&(i.dispose(),this._HeaderControl=null),this._HeaderControl=t,i=this._aEy(),this._HeaderControl?(this._bW(this._HeaderControl,this._bJ2,"HeaderControl",!0),r=this._HeaderControl,i&&(r=i.getDomNode(),i.MouseDown.add(this._bcs,this)),n.addClass(r,"PPHeaderControl")):n.removeChildren(this._bJ2))},u.prototype.setRightHeaderControl=function(t){var i,r;this._RightHeaderControl!==t&&(i=this._RightHeaderControl,i&&(i.dispose(),this._RightHeaderControl=null),this._RightHeaderControl=t,i=this._RightHeaderControl,this._RightHeaderControl?(this._bW(this._RightHeaderControl,this._bJ3,"RightHeaderControl",!0),r=this._RightHeaderControl,i&&(r=i.getDomNode(),i.MouseDown.add(this._bcs,this)),n.addClass(r,"PPHeaderControl")):n.removeChildren(this._bJ3))},u.prototype.setEnabled=function(t){var u=this._Enabled!=t,i;r.prototype.setEnabled.call(this,t),this._Content instanceof n.Ui.Control&&this._Content.setEnabled(t),i=this._aEy(),i&&i.setEnabled(t),this._mT.setEnabled(t),this._ScrollBox&&this._ScrollBox.setEnabled(t),u&&this.EnableChanged.fire(this)},u.prototype.getLeft=function(){return 0},u.prototype.setTop=function(n){this._Top=n},u.prototype.expand=function(t){var i,r;if(this._IsCollapsed){if(i={IsExpanding:!0,Cancel:!1},this._IsRendered||(this._IsRendered=!0,this._render()),this._ScrollBox.show(),this.Toggling.fire(this,i),i.Cancel)return;this._aTp="expand",this._IsCollapsed=!1,this._bJ4(),this._mT.addClass("BarExpanded"),n.removeClass(this._DomNode,"Collapsed"),this.Expanding.fire(this,{UseAnimation:t}),this._Width>0&&(r=this._Width,this._Width=null,this.setWidth(r))}this._bJ7()},u.prototype.collapse=function(t){if(!this._IsCollapsed){var i={IsExpanding:!1,Cancel:!1};if(this.Toggling.fire(this,i),i.Cancel)return;this._aTp="collapse",this._IsCollapsed=!0,this._bJ4(),this._mT.removeClass("BarExpanded"),n.addClass(this._DomNode,"Collapsed"),this.Collapsing.fire(this,{UseAnimation:t})}this._bJ7()},u.prototype.getHeader=function(){return this._mT},u.prototype.addHeaderClass=function(n){this._mT&&this._mT.addClass(n)},u.prototype.updateScrolls=function(){this._ScrollBox&&this._ScrollBox.updateSize()},u.prototype.setIsRTL=function(n){var i,t;r.prototype.setIsRTL.call(this,n),this._ScrollBox.setIsRTL(n),this._mT.setIsRTL(n),i=this._aEy(),i&&i.setIsRTL(n),t=this._Content,t&&t.setIsRTL&&t.setIsRTL(n)},u.prototype.getSettings=function(){var n=r.prototype.getSettings.call(this);return delete n.Animation,delete n.IsCollapsed,delete n.ScrollBox,delete n.IsRendered,n},u.prototype.show=function(){var t={Cancel:!1};this.VisibleChanging.fire(this,t),t.Cancel||(n.show(this._DomNode),this._IsVisible=!0,this.VisibleChanged.fire(this),this._IsCollapsed||this._ScrollBox.show())},u.prototype.hide=function(){var t={Cancel:!1};this.VisibleChanging.fire(this,t),t.Cancel||(n.hide(this._DomNode),this._IsVisible=!1,this._ScrollBox.hide(),this.VisibleChanged.fire(this))},u.prototype.dispose=function(){delete this._Parent,r.prototype.dispose.apply(this,arguments)},u}(t.Control);t.NavigationItem=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["Collapsed","Expanded"]),this._Animation=new n.Ui.AnimationSettings,this._ContentAutoFit=!1,this._MinAreaHeight=200,this._MaxAreaHeight=420,this._ShowBorders=!1,this._IsAlwaysExpanded=!0,this._Template=n.Templates.Radius2,this._amI=0,this._vp=0,this._ExpandedAreaHeight=100,this._dD9=!1},r.prototype._initFields=function(i){i=i||{};var r=i.Animation;r instanceof n.Ui.AnimationSettings||(n.isObject(r)?i.Animation=new n.Ui.AnimationSettings(!!r.UseAnimation,r.AnimationTime):this._Animation=n.isBoolean(i.Animation)?new n.Ui.AnimationSettings(r):new n.Ui.AnimationSettings(!0)),t.prototype._initFields.call(this,i)},r.prototype._unBindEvents=function(){t.prototype._unBindEvents.apply(this,arguments),this._k(this._iM,"scroll",this._bct),this._k(document,"mouseup",this._bcu)},r.prototype._bcv=function(){return this._ShowBorders?2:0},r.prototype._cxw=function(n,t){if(this.isLive()){var i=t.Args.toExpand,r=t.Args.toCollapse;t.IsEnd?(this._AnimationP&&(this._AnimationP.dispose(),delete this._AnimationP),r&&r.isLive()&&(r.setHeight(0),r.collapse()),i&&i.isLive()&&(i.setHeight(this._ExpandedAreaHeight),i.expand()),this._bJ8(null,!1)):(i&&i.isLive()&&t.Value!==this._ExpandedAreaHeight&&i.setHeight(t.Value),r&&r.isLive()&&n.getEnd()-t.Value>0&&r.setHeight(n.getEnd()-t.Value))}},r.prototype._cxx=function(n,t){var i=t.Args;t.IsEnd?(i.scrollTop=n.getEnd(),this._AnimationS.dispose(),delete this._AnimationS):i.scrollTop=t.Value},r.prototype._bJ8=function(t,i){i&&t?(this._ic||(this._ic=n.htmlToDOM("<div class='ControlCover'><\/div>")),t.getContentDomNode().appendChild(this._ic)):this._ic.parentNode&&this._ic.parentNode.removeChild(this._ic)},r.prototype._cxy=function(t,i,r,u,f,e){if(e=e==undefined?!0:e,r){this._bJ8(i,!0);var o=this._Animation.AnimationTime;this._AnimationP=new n.Ui.Animation({Duration:o,Start:0,End:this._ExpandedAreaHeight}),this._AnimationP.animate(new n.Delegate(this._cxw,this,{toCollapse:t,toExpand:i})),u&&this._iM.scrollTop!==f?(this._AnimationS=new n.Ui.Animation({Duration:o,Start:this._iM.scrollTop,End:f}),this._AnimationS.animate(new n.Delegate(this._cxx,this,this._iM))):(this._iM.scrollTop=f,n.clearTimeout(this._cxz),this._cxz=n.setTimeout(this._cxA,0,{scrollTop:f},this))}else this._iM.scrollTop=f,t&&(t.setHeight(0),t.collapse()),i&&(i.setHeight(this._ExpandedAreaHeight),i.expand())},r.prototype._cxA=function(n){this._iM&&(this._iM.scrollTop=n.scrollTop)},r.prototype._render=function(){var e="<div class='Layout'><div><\/div><\/div><div class='Footer'><\/div>",u,i,r,f;if(this._ShowBorders?(u=this._Template,u=u.replace("{Content}",e),this._initFromHTML("<div class='PPNavigationBar'>"+u+"<\/div>")):this._initFromHTML("<div class='PPNavigationBar'>"+e+"<\/div>"),this._iM=n.querySelector(this._DomNode,".Layout"),this._aTq=this._iM.firstChild,this._vq=n.querySelector(this._DomNode,".Footer"),this._vq.dir=this._IsRTL?"rtl":"ltr",this._bJ9=new n.Ui.Label({ParentNode:this._vq,ResourceKey:"nbPanelsColon"}),this._agR=new n.Ui.Arrow({ArrowType:n.Ui.ArrowType.TriangleDouble,Direction:n.LTRB.Right,IsRTL:this._IsRTL,Fill:"#999999",Height:8,Width:7}),this._PanelsMenu=new n.Ui.Menu,this._PanelsMenu.ItemSelected.add(this._e4,this),this._PanelsButton=new n.Ui.Button({ParentNode:this._vq,Class:"NoReleaseBorder",Menu:this._PanelsMenu,MenuDropPosition:null,Width:22,Height:16,IsRTL:this._IsRTL,Arrow:this._agR}),this.beginUpdate(),i=this._Items||[],!n.Array.isArray(i))throw new n.ArgumentException(this);for(this._Items=[],r=0;r<i.length;r++)f=i[r],f instanceof n.Ui.NavigationItem?f.setIsRTL(this._IsRTL):f.IsRTL=this._IsRTL,this.addItem(i[r]);t.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode),this._DomNode.dir=this._IsRTL?"rtl":"ltr",this.endUpdate(),this._IsAlwaysExpanded&&this._aEz()},r.prototype._bKa=function(){var r=this._Items||[],t=r[0],i,n;return(t&&t.isLive()&&(i=t.getHeader()),n=i?i.getHeight():29,!n||isNaN(n))?29:n},r.prototype._bcw=function(t,i,r){var tt=this._amI,l=this._Items,e=this._bKa(),f,o,a,c,s;if(!e||!l||l.length==0){n.hide(this._vq);return}var v=Math.floor(tt/e),y=0,d=0;if(this._f7==null||v>=this._Items.length)this._aTq.style.height=this._Items.length*e+this._MinAreaHeight+"px",n.hide(this._vq),this._auF=this._Items[0];else{for(var p=!0,w=[],b=[],h=0,u=0,g=l.length;u<g;u++)f=l[u],f.getIsVisible()?(h++,p?(w.push(f),f.setTop((u+1)*e)):(b.push(f),f.setTop((u+1)*e+this._ExpandedAreaHeight)),p&&!f.getIsCollapsed()&&(p=!1)):f.setTop(0);for(this._aTq.style.height=h*e+this._MinAreaHeight+"px",o=[],u=b.length-1;h>v&&u>=0;u--)d++,h--,o.push(b[u]);for(a=[],u=0;h>v&&u<w.length;u++)u==0&&d>0&&o.push("-"),y++,h--,a.push(w[u]);for(this._auF=this._Items[y],a.reverse(),o=o.concat(a),c=this._PanelsMenu,c.clearItems(),u=o.length-1;u>=0;u--)if(s=o[u],s==="-")c.addItem(new n.Ui.Separator);else{var k=s.getHeaderControl(),nt=null,it=s.getEnabled();s.getIsHeaderControlVisible()&&k&&k.getChecked&&(nt=k.getChecked()),c.addItem({Content:s.getTitle(),Data:s,Checked:nt,Enabled:it})}c.getItems().length?n.show(this._vq):n.hide(this._vq)}n.isDefined(t)||(t=this._Animation.UseAnimation),n.isDefined(i)||(i=this._Animation.UseAnimation),this._cxy(this._aEA,this._f7,t,i,y*e,r),delete this._aEA},r.prototype._e4=function(n,t){t.MenuItem.getData().expand()},r.prototype._cxB=function(n,t){this._f7==n&&(this.stopAnimation(),this._aEA=this._f7,this._f7=null,this._bcw(t.UseAnimation,t.UseAnimation),this._eD())},r.prototype._bKb=function(n,t){this._f7!==n&&(this.stopAnimation(),this._aEA=this._f7,this._f7=null,this._aEA&&this._aEA.collapse(),this._f7=n,this._eD(),this._bcw(t.UseAnimation,t.UseAnimation))},r.prototype._bk=function(i,r){var f;t.prototype._bk.apply(this,arguments);var e=r.Event,u=e.target||e.srcElement,o=!n.IsIE&&!n.IsFF,s=u.nodeName.toUpperCase()==="INPUT"&&u.type&&u.type.toUpperCase()==="TEXT";u&&o&&s&&(f=this._iM,this._bKc={LayoutDomNode:{Top:f.scrollTop,Left:f.scrollLeft}},this._addEvent(f,"scroll",this._bct),this._addEvent(document,"mouseup",this._bcu))},r.prototype._bct=function(){this.stopAnimation();var i=this._bKc,r=this._iM;r.scrollTop=i.LayoutDomNode.Top,r.scrollLeft=i.LayoutDomNode.Left},r.prototype._bcu=function(){this._bKc=null,this._k(this._iM,"scroll",this._bct),this._k(document,"mouseup",this._bcu)},r.prototype._eD=function(){var t,r,u,f;if(this._iM&&!(this._BeginUpdate>0)){this._vp=this.getHeight()-2*this._bcv();var i=this._bKa(),e=i,o=Math.min(this._MaxAreaHeight,this._vp-e),s=0;if(this._f7){for(t=this._f7.getContentSize().Height,t<this._MinAreaHeight&&(t=this._MinAreaHeight),t>o&&(t=o),this._amI=this._vp-t,r=Math.floor(this._amI/i),this._ExpandedAreaHeight=this._vp-r*i,u=0,f=0;f<this._Items.length;f++)this._Items[f].getIsVisible()&&u++;r<u?(n.show(this._vq),s=this._vq.offsetHeight,this._vp-=s,this._amI=this._vp-t,r=Math.floor(this._amI/i),r<2?(this._amI=e,this._ExpandedAreaHeight=this._vp-e-1):this._ExpandedAreaHeight=this._vp-r*i-1):this._ExpandedAreaHeight=this._vp-i*u-1}else this._amI=this._vp,this._ExpandedAreaHeight=0;this._iM.style.height=this._g(this._vp)+"px"}},r.prototype._qC=function(n,t){t.IsExpanded?this.Expanded.fire(this,{Item:n}):this.Collapsed.fire(this,{Item:n})},r.prototype._bcx=function(n,t){!t.IsExpanding&&this._IsAlwaysExpanded&&n==this._f7&&(t.Cancel=!0)},r.prototype._cxC=function(n){this.removeItem(n,!1)},r.prototype._cxD=function(n){if(this._BeginUpdate==0&&this._PanelsMenu)for(var r=this._PanelsMenu.getItems(),i=0;i<r.length;i++)if(r[i].getData()==n){r[i].setEnabled(n.getEnabled());break}},r.prototype._cxE=function(n){this.updateSize(),n!==this._f7||n.getIsVisible()||(this._f7=null,n.collapse(!1),n.setHeight(0)),this._IsAlwaysExpanded&&!this._BeginUpdate&&this._aEz()},r.prototype._aEz=function(){if(!this.getActiveItem())for(var n=0,t=this._Items.length;n<t;n++)if(this._Items[n].getIsVisible())return this._Items[n].expand(),this._Items[n];return null},r.prototype.getIsAlwaysExpanded=function(){return this._IsAlwaysExpanded},r.prototype.getMinAreaHeight=function(){return this._MinAreaHeight},r.prototype.getMaxAreaHeight=function(){return this._MaxAreaHeight},r.prototype.getContentAutoFit=function(){return this._ContentAutoFit},r.prototype.getExpandedAreaHeight=function(){return this._ExpandedAreaHeight},r.prototype.getItems=function(){return this._Items},r.prototype.setItems=function(n){this._Items=n},r.prototype.setMinAreaHeight=function(n){this._MinAreaHeight=n},r.prototype.setMaxAreaHeight=function(n){this._MaxAreaHeight=n},r.prototype.setContentAutoFit=function(n){this._ContentAutoFit=n},r.prototype.setIsRTL=function(n){if(this._IsRTL!==n){t.prototype.setIsRTL.call(this,n);for(var i=0;i<this._Items.length;i++)this._Items[i].setIsRTL(this._IsRTL);this._PanelsButton&&this._PanelsButton.setIsRTL(n),this._vq&&(this._vq.dir=this._IsRTL?"rtl":"ltr"),this._agR&&this._agR.setIsRTL(n)}},r.prototype.setEnabled=function(i){this._Enabled!==i&&(t.prototype.setEnabled.call(this,i),i?this._qD&&(this._DomNode.style.position=this._qD.oldPosa,this._DomNode.removeChild(this._qD),delete this._qD):(this._qD=n.htmlToDOM("<div class='Disable'><\/div>"),this._qD.oldPosa=this._DomNode.style.position,this._qD.style.width=this._Width+"px",this._qD.style.height=this._Height+"px",this._DomNode.style.position="relative",this._DomNode.appendChild(this._qD)),this._bJ9&&this._bJ9.setEnabled(i),this._PanelsButton&&this._PanelsButton.setEnabled(i))},r.prototype.setHeight=function(n,i){var r=n===this._Height;r&&i==undefined&&(i=!0),t.prototype.setHeight.apply(this,arguments),r&&i!=undefined||(this.stopAnimation(),this.updateSize())},r.prototype.setWidth=function(n,i){n===this._Width&&i==undefined&&(i=!0),t.prototype.setWidth.apply(this,arguments);for(var u=this._Items.length,f=this._g(this._Width)-2*this._bcv(),r=0;r<u;r++)this._Items[r].setWidth(f);this._qD&&(this._qD.style.width=this._g(this._Width)+"px")},r.prototype.isAnimation=function(){return this._AnimationP!=undefined},r.prototype.stopAnimation=function(){this._AnimationS&&(this._AnimationS.stopToEnd(),delete this._AnimationS),this._AnimationP&&(this._AnimationP.stopToEnd(),delete this._AnimationP)},r.prototype.addToNode=function(){t.prototype.addToNode.apply(this,arguments),this.updateSize()},r.prototype.beginUpdate=function(){this._BeginUpdate?this._BeginUpdate++:this._BeginUpdate=1},r.prototype.endUpdate=function(){!this._BeginUpdate||this._BeginUpdate<=1?(this._BeginUpdate=0,this.updateSize(),!this.getActiveItem()&&this._IsAlwaysExpanded&&this._aEz()):this._BeginUpdate--},r.prototype.isUpdating=function(){return this._BeginUpdate>0},r.prototype.setIsAlwaysExpanded=function(t){n.isBoolean(t)&&t!=this._IsAlwaysExpanded&&(this._IsAlwaysExpanded=t,this._IsAlwaysExpanded&&!this._f7&&this._aEz())},r.prototype.addItem=function(n){this.insertItem(n,-1)},r.prototype.insertItem=function(t,i){if(!t)throw new Error("ArgumentNullException");t instanceof n.Ui.NavigationItem||(t=new n.Ui.NavigationItem(t));var u,r;r=t,!n.isDefined(i)||i===null||i<0||i>=this._Items.length?this._Items.push(r):n.isNumber(i)&&(i<0&&(i=0),u=this._Items[i],n.Array.insertBefore(this._Items,t,u)),u?r.addToNode(this._iM,this._iM.childNodes[i]):r.addToNode(this._iM,this._aTq),r.getIsCollapsed()||(this._f7=t),r.Collapsing.addOne(this._cxB,this),r.Expanding.addOne(this._bKb,this),r.Toggling.addOne(this._bcx,this),r.Toggled.addOne(this._qC,this),r.Disposing.addOne(this._cxC,this),r.VisibleChanged.addOne(this._cxE,this),r.EnableChanged.addOne(this._cxD,this),r.setWidth(this.getWidth()-2*this._bcv()),r.setParent(this),r.setIsRTL(this._IsRTL),this._BeginUpdate||(this.stopAnimation(),this._IsAlwaysExpanded&&!this._f7&&r.getEnabled()&&r.expand(!1),this.updateSize())},r.prototype.moveItem=function(t,i){if(!t)throw new n.ArgumentNullException(this);t instanceof n.Ui.NavigationItem||(t=new n.Ui.NavigationItem(t));var r=undefined;n.isDefined(i)&&(r=this._Items.indexOf(i),r<0&&(r=0)),n.Array.removeItem(this._Items,t),n.Array.insertBefore(this._Items,t,i),n.isDefined(r)?t.addToNode(this._iM,this._iM.childNodes[r]):t.addToNode(this._iM,this._aTq),this._BeginUpdate||(this.stopAnimation(),this._IsAlwaysExpanded&&!this._f7&&t.getEnabled()&&t.expand(!1),this.updateSize())},r.prototype.removeItem=function(n,t){var i=this._Items.indexOf(n);n===this._auF&&(this._auF=null),this._f7==n&&(this._f7=null),this.removeAt(i,t)},r.prototype.removeAt=function(n,t){if(n>-1&&n<this._Items.length){var i=this._Items[n];t!==!1?i.dispose():(i.getIsCollapsed()||i.collapse(!1),i.removeFromDOM()),this._Items.splice(n,1),i===this._f7&&(this._f7===this._auF&&(this._auF=null),this._f7=null,this._IsAlwaysExpanded&&this._aEz()),this.updateSize()}},r.prototype.getItemById=function(n){for(var t=0;t<this._Items.length;t++)if(n===this._Items[t].getId())return this._Items[t];return null},r.prototype.getItem=function(n){return this._Items[n]},r.prototype.getLayoutItems=function(){return this._Items},r.prototype.updateSize=function(){this._BeginUpdate==0&&(this._eD(),this._qD&&(this._qD.style.width=this._g(this._Width)+"px",this._qD.style.height=this._g(this._Height)+"px"),this.stopAnimation(),this._bcw(!1,!1,!1),this._f7&&this._f7.showScrolls())},r.prototype.getActiveItem=function(){return this._f7},r.prototype.getItemByPoint=function(n,t){for(var r=this._Items,i=0,u=r.length;i<u-1;i++)if(r[i].getTop()<=t&&t<=r[i+1].getTop())return r[i];return null},r.prototype.getSettings=function(){var n=t.prototype.getSettings.call(this);return delete n.ExpandedAreaHeight,n},r}(t.Control);t.NavigationBar=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(i){var r=t.call(this,i)||this;return r._ViewType!=n.Ui.NavigationItem&&(r._IsRendered=!0,r._render()),r}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._TabIndex=0,this._GroupName||(this._GroupName=""),this._defineEvents(["PropertyChanged"])},r.prototype._initFields=function(i){i=i||{};var r=n.isDefined(i.ViewType);r&&(this._ViewType=i.ViewType,delete i.ViewType),t.prototype._initFields.call(this,i),r&&(i.ViewType=this._ViewType)},r.prototype._render=function(){if(this._ViewType===n.Ui.NavigationItem)t.prototype._render.apply(this,arguments),this._bcy=document.createElement("div"),this._bcy.className="PPMasterPanel",this._ContentDomNode.appendChild(this._bcy);else{this._initFromHTML("<div class='PPMasterPanel'><\/div>");var i=this._DomNode;this._IsRTL&&i&&i.dir!="rtl"&&this.setIsRTL(!0),this.setEnabled(this._Enabled),this._IsVisible||this.setIsVisible(this._IsVisible),this.setResourceKey(this._ResourceKey),this._Opacity!=1&&this.setOpacity(this._Opacity),this._Rotate!=0&&n.Ui.rotateNode(i,this._Rotate),this.addClass(this._ReleaseClass),this._ParentNode&&this.addToNode(this._ParentNode)}this._IsRendered=!0},r.prototype._dEa=function(){var n=document.createElement("div");return n.className="PPCtrlSeparator",this.getContentDomNode().appendChild(n),n},r.prototype._bindEvents=function(){this._ViewType===n.Ui.NavigationItem&&(t.prototype._bindEvents.apply(this,arguments),this.Toggled.add(this._qC,this),this.Toggling.add(this._bcx,this)),this.PropertyChanged.addOne(this._cxF,this)},r.prototype._unBindEvents=function(){this._ViewType===n.Ui.NavigationItem&&t.prototype._unBindEvents.apply(this,arguments)},r.prototype._cxF=function(n,t){this._IsRendered||this.refresh(t)},r.prototype._bcx=function(n,t){if(t.IsExpanding&&this._IsVisible){if(this._bcz)for(var i,r=!1;this._qE.length;)i=this._qE.shift(),(i.length||!r)&&(r=!i.length,this._w.apply(this,i));delete this._bcz,delete this._qE}},r.prototype._qC=function(n,t){t.IsExpanded&&this._IsVisible&&this.updateSize()},r.prototype._w=function(){},r.prototype.getViewType=function(){return this._ViewType},r.prototype.getGroupName=function(){return this._GroupName},r.prototype.setGroupName=function(n){this._GroupName=n},r.prototype.updateSize=function(){},r.prototype.refresh=function(){this._IsRendered&&!this._IsCollapsed?(this._w.apply(this,arguments),delete this._bcz,delete this._qE):(this._bcz=!0,this._qE=this._qE||[],this._qE.push(arguments))},r.prototype.setHeight=function(n,i){t.prototype.setHeight.apply(this,arguments),!i&&this._IsRendered&&this.updateSize()},r.prototype.isVisible=function(){return this._ViewType===n.Ui.NavigationItem?!this.getIsCollapsed():t.prototype.getIsVisible.apply(this,arguments)},r.prototype.getContentDomNode=function(){return this._IsRendered||this._render(),this._ViewType===n.Ui.NavigationItem?this._bcy:this._DomNode},r.prototype.setContent=function(n){this._bW(n,this.getContentDomNode())},r}(t.NavigationItem);t.MasterPanel=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._cy=t._IsSelfNavBar?[].concat(t._Control.getItems()):[],t._HeaderClasses=[],t._ActiveGroupPanel={},t._ActiveGroupName="",t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._ViewType=n.Ui.NavigationBar,this._Panels=[],this._IsVisible=!0,this._defineEvents(["ControlChanged"]),this._auG=-1},u.prototype._initFields=function(n){this._IsSelfNavBar=!(n&&n.Control instanceof this._ViewType),r.prototype._initFields.call(this,n)},u.prototype._agZ=function(t,i){if(n.isDefined(i)&&i!==null){t=n.Array.isArray(t)?t:t.split(",");for(var r=0;r<t.length;r++)if(t[r]===i)return!0}return!1},u.prototype._aEB=function(n){var t=this._ActiveGroupPanel[this._ActiveGroupName];t&&t.isLive()&&this._cy.indexOf(t)>-1&&t.getEnabled()?t.expand(!1):n&&n.isLive()&&this._cy.indexOf(n)>-1&&n.getEnabled()?n.expand(!1):this.expandFirstItem(!1,this._ActiveGroupName)},u.prototype._bKd=function(n,t){n.getIsVisible()||(t.Cancel=!this._IsVisible)},u.prototype.getActiveGroupName=function(){return this._ActiveGroupName},u.prototype.setIsVisible=function(t){n.isBoolean(t)&&(t=t?n.Ui.Visibility.Visible:n.Ui.Visibility.Collapsed);switch(t){case n.Ui.Visibility.Collapsed:this.hide();break;case n.Ui.Visibility.Visible:this.show()}},u.prototype.setParent=function(n){this._Parent=n,delete this._Control.__OwnerProxy},u.prototype.refresh=function(t){for(var r,i=0;i<this._cy.length;i++)r=this._cy[i],r instanceof n.Ui.MasterPanel&&r.refresh(t)},u.prototype.hide=function(){var n,t;for(this.beginUpdate(),n=0;n<this._cy.length;n++)t=this._cy[n],t.hide(),t.VisibleChanging.addOne(this._bKd,this);r.prototype.setIsVisible.call(this,!1),this._ActiveGroupName="",this.endUpdate()},u.prototype.show=function(){this.beginUpdate(),r.prototype.setIsVisible.call(this,!0);for(var n=0;n<this._cy.length;n++)this._cy[n].show(),this._cy[n].VisibleChanging.remove(this._bKd,this);this.getControl().getActiveItem()||this._aEB(),this.endUpdate()},u.prototype.showGroup=function(n,i){var u,o,f,e;for(this.beginUpdate(),r.prototype.setIsVisible.call(this,!0),u=this.getControl().getActiveItem(),o=u&&u instanceof t.MasterPanel?u.getGroupName():null,f=0;f<this._cy.length;f++)e=this._cy[f],this._agZ(n,e.getGroupName())?e.show():u!==e||this._agZ(n,o)||(this._ActiveGroupPanel[n]=u);!0!==i&&(this._ActiveGroupName=n.toString(),u&&this._agZ(n,o)||this._aEB()),this.endUpdate()},u.prototype.hideGroup=function(n){var t,i;for(this.beginUpdate(),t=0;t<this._cy.length;t++)i=this._cy[t],this._agZ(n,i.getGroupName())&&i.hide();this.endUpdate()},u.prototype.showOnlyGroup=function(t,i){var e,u,s;t=n.Array.isArray(t)?t.toString():[t].toString();var h=this._Control,o=i?h.getItemById(i):null,f=o||h.getActiveItem()||null;for(r.prototype.setIsVisible.call(this,!0),this.beginUpdate(),e=0;e<this._cy.length;e++)u=this._cy[e],s=u.getGroupName(),this._agZ(t,s)?u.getIsVisible()||u.show():(f===u&&(this._ActiveGroupPanel[s]=f,f=null),u.hide());this._ActiveGroupName=t,this._aEB(f),this.endUpdate(),o&&o.expand(!1)},u.prototype.addMaster=function(n){var t,i,u,r,f;if(n.getControl()!==this.getControl()){for(t=n.getControl(),i=this.getControl(),t.beginUpdate(),i.beginUpdate(),u=[].concat(t.getItems()),r=0;r<u.length;r++)f=u[r],t.removeItem(f,!1),i.addItem(f);n.setParent(this),i.endUpdate(),n.getControl().dispose(),n._Control=this._Control}},u.prototype.removeMaster=function(t){var i,r,f,u,e;for(t._Control=new n.Ui.NavigationBar,i=t.getControl(),r=this.getControl(),i.beginUpdate(),r.beginUpdate(),f=t.getItems(),u=0;u<f.length;u++)e=f[u],r.removeItem(e,!1),i.addItem(e);i.endUpdate(),r.endUpdate()},u.prototype.getItem=function(t){var r=this._cy,i,f,u;if(n.isNumber(t))return r[t];for(i=0,f=r.length;i<f;i++)if(u=r[i],u instanceof t)return u;return null},u.prototype.addNavItem=function(n){var i,t;if(this._cy.push(n),i=this.getControl(),this._auG>-1?this._auG++:this._auG=i.getItems().length+1,i.insertItem(n,this._auG-1),this._auG>1)for(t=0;t<this._HeaderClasses.length;t++)n.addHeaderClass(this._HeaderClasses[t])},u.prototype.addMasterPanel=function(t,i){if(i){n.Array.insertBefore(this._cy,t,i);var r=this._Control.getItems().indexOf(i);this._Control.insertItem(t,r),this._auG++}else this.addNavItem(t)},u.prototype.removeMasterPanel=function(t){if(t.getViewType()!==n.Ui.NavigationItem)throw new n.ArgumentException(this);n.Array.removeItem(this._cy,t),this._Control.removeItem(t,!1)},u.prototype.removePanelsByGroup=function(t,i){var r,u;if(!t||!n.isString(t))throw new n.ArgumentException(this);if(r=this.getControl(),r.isLive()){for(r.beginUpdate(),u=0;u<this._cy.length;u++)this._cy[u].getGroupName()==t&&r.removeItem(this._cy[u],i);r.endUpdate()}},u.prototype.moveTo=function(t,i){i=i>0?i+1:i;var r=this._cy,f=r.indexOf(t)+i,u=r[f];n.Array.removeItem(r,t),n.Array.insertBefore(r,t,u),this._Control.moveItem(t,u)},u.prototype.addClassToTitles=function(n){for(var i=this._cy.length,t=1;t<i;t++)this._cy[t].addHeaderClass(n);this._HeaderClasses.push(n)},u.prototype.clearItems=function(n){var t=this.getControl(),i;if(t.isLive()){for(t.beginUpdate(),i=0;i<this._cy.length;i++)t.removeItem(this._cy[i],n);t.endUpdate()}this._cy=[],this._ActiveGroupName="",this._ActiveGroupPanel={}},u.prototype.getItems=function(){return this._cy},u.prototype.expandFirstItem=function(t,i){var r,e,f,o,u;if(!this._IsVisible)return!1;if(r=this._Control.getActiveItem(),e=r&&r instanceof n.Ui.MasterPanel?r.getGroupName():null,!r||i&&!this._agZ(i,e))for(f=0,o=this._cy.length;f<o;f++)if(u=this._cy[f],u.getIsVisible()&&u.getEnabled()){if(i&&!this._agZ(i,u.getGroupName()))continue;return u.expand(!1),!0}return!1},u.prototype.refreshGroup=function(n){for(var i,t=0;t<this._cy.length;t++)i=this._cy[t],this._agZ(n,i.getGroupName())&&i.refresh()},u.prototype.beginUpdate=function(){this._Control.beginUpdate()},u.prototype.endUpdate=function(){this._Control.endUpdate()},u.prototype.getActivePanel=function(){return this._Control.getActiveItem()},u.prototype.dispose=function(){this.isLive()&&(this._Parent&&this._Parent instanceof n.Ui.Master&&(this._Parent.removeMaster(this),delete this._Parent),this._IsSelfNavBar||(this.clearItems(),delete this._cy,delete this._Control,delete this._HeaderClasses,delete this._ActiveGroupPanel,delete this._Panels),r.prototype.dispose.apply(this,arguments))},u}(t.ProxyControl);t.Master=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(n){var t=function(n){function t(t){return n.call(this,t)||this}return i(t,n),t.prototype._e=function(){n.prototype._e.call(this),this._defineEvents(["Hovered"])},t.prototype._render=function(){this._initFromHTML("<div><\/div>"),this.addClass("PPLongListItem"),this._DomNode&&this._Content&&this._bW(this._Content,this._DomNode,"Content",!0),n.prototype._render.call(this)},t.prototype.getDataContext=function(){return this._DataContext},t.prototype.setDataContext=function(){this._DataContext},t.prototype.setIsHovered=function(t){n.prototype.setIsHovered.call(this,t),this._IsHovered=t,this.Hovered.fire(this,{})},t.prototype.getIsHovered=function(){return this._IsHovered},t.prototype.addToNode=function(t,i,r){this._DomNode||this._render(),n.prototype.addToNode.call(this,t,i,r)},t}(n.Control);n.LongListItem=t})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["ItemCreating","ItemClick"]),this._GroupsHeight=21,this._ItemsHeight=21,this._GroupsTemplate=null,this._ItemsTemplate=null,this._Groups=[],this._MultiSelect=!1,this._AutoSizeItems=!1,this._BeginUpdate=0,this._LoadedNodes={},this._FirstVisible=-1,this._LastVisible=-1,this._SumItemsHeight=0,this._e3=!1,this._HoveredNodes=[],this._aTr=!1,this._bKf=!1,this._aEC=0,this._acz={count:0,summHeight:0,height:0}},r.prototype._render=function(){var i,r;this._initFromHTML("<div><\/div>"),this.addClass("PPLongListBox"),i=this._DomNode,this._ItemsNode=document.createElement("div"),this._ItemsNode.className="PPItems",i.appendChild(this._ItemsNode),r=this.calcItemsContainerHeight(),this._VScroll=new n.Ui.ScrollBar({Height:r,Orientation:n.Orientation.Vertical,MoveScroll:new n.Delegate(this._cxG,this),ParentNode:i}),this._Cover=document.createElement("div"),this._Cover.className="PPCover",t.prototype._render.call(this),this._AutoSizeItems||this._gx(),this._ParentNode&&this.addToNode(this._ParentNode),this._AutoSizeItems&&this._gx(),this._e3=!0},r.prototype._bindEvents=function(){t.prototype._bindEvents.call(this),this._addEvent(this._ItemsNode,"wheel",this._a1)},r.prototype._unBindEvents=function(){t.prototype._unBindEvents.call(this),this._k(this._ItemsNode,"mousewheel",this._a1),this._k(this._ItemsNode,"DOMMouseScroll",this._a1)},r.prototype._a1=function(n,t){var i=t.Event,e=i.deltaY*-1||i.detail*-1||i.wheelDelta,u=this.getByItemScrollStep(),r=u+u*1e-6,f;return r=e>0?r:-r,f=this._VScroll.getValue()-r,this._VScroll.setValue(f),i.preventDefault(),i.stopPropagation(),this._cxH(),!1},r.prototype._cxG=function(){this._AutoSizeItems||(this._aEC=(this._SumItemsHeight-this._ac)*this._VScroll.getValue()/100),this._bcA()},r.prototype._bp=function(t,i){if(!n.hasClass(i.Event.target,"PPItems")&&i.Event.target!=this._DomNode){for(var u=n.calculateMouseCoords(i.Event),r=document.elementFromPoint(u.X,u.Y),f=null;r.parentNode;){if(n.hasClass(r,"PPLongListItem")){f=n.Ui.getCtrlById(r.id);break}r=r.parentNode}this.ItemClick.fire(this,{Item:f,Event:i.Event})}},r.prototype._cxI=function(t){t.getIsHovered()?this._HoveredNodes.push(t):n.Array.removeItem(this._HoveredNodes,t)},r.prototype._aC6=function(n,t){n.getDomNode()&&t.HeightChanged&&this._gx()},r.prototype._cxH=function(){for(var e=n.Ui.DropPanel.OpenedPanels,u,r=0,o=e.length;r<o;r++)if(u=e[r],u instanceof n.Ui.ToolTip){var t=u.getDomNode().getBoundingClientRect(),i=this.getDomNode().getBoundingClientRect(),f=!1,s=!1;f=this.getIsRTL()?t.right>i.left&&t.right<i.right:t.left>i.left&&t.left<i.right,s=t.top>i.top&&t.top<i.bottom,f&&s&&u.hide()}},r.prototype._gx=function(){var f;if(this._BeginUpdate)this._bKf=!0;else{for(f in this._LoadedNodes)this._LoadedNodes[f].dispose();this._LoadedNodes={},this._FirstVisible=0,this._LastVisible=0,this._AllItems=[],this._SumItemsHeight=0,this._aTr=!1,this._aEC=0,this._acz.summHeight=0,this._acz.count=0,this._acz.height=0;var t=this._Groups,e=this._ac,n=void 0;if(t){for(n=0;n<t.length;n++)t[n].HideText||(this._AllItems.push(t[n]),t[n].IsGroup=!0),this._AllItems=this._AllItems.concat(t[n].Items);var i=this._AllItems,r=0,u=-1;for(n=0;n<i.length;n++)if(this._aTs(n),u++,this._LastVisible=u,r+=this._LoadedNodes[n].getHeight(),r>e)break;if(!this._AutoSizeItems){for(n=u+1;n<i.length;n++)r+=this._g(i[n].Height)||(i[n].IsGroup?this._GroupsHeight:this._ItemsHeight);this._SumItemsHeight=r}}this.updateSize()}},r.prototype._bcB=function(t){var u=t.IsGroup?!0:!1,f=u?this._GroupsTemplate:this._ItemsTemplate,e=n.isFunction(f)?f(t):f,i={Content:e,DataContext:t,Class:u?"PPGroupLongListItem":"",Height:t.Height||(u?this._GroupsHeight:this._ItemsHeight),Hovered:new n.Delegate(this._cxI,this),SizeChanged:new n.Delegate(this._aC6,this)},r={Cancel:!1,DataContext:t,Settings:i};return(this.getAutoSizeItems()&&delete i.Height,this.ItemCreating.fire(this,r),r.Cancel)?null:(i!==r.Settings&&n.extend(i,r.Settings,!0,!0),i.Parent=this,new n.Ui.LongListItem(i))},r.prototype._aTs=function(t,i){var r=this._LoadedNodes,e=!1,u,f;(r[t]||(r[t]=this._bcB(this._AllItems[t]),this._AutoSizeItems&&(e=!0)),r[t])&&(u=r[t].getDomNode(),u&&u.parentNode===this._ItemsNode||(n.isDefined(i)&&r[i]?r[t].addToNode(this._ItemsNode,r[i].getDomNode()):r[t].addToNode(this._ItemsNode)),r[t].setIsVisible(!0),e&&(f=r[t].getHeight(),f>0&&(this._acz.count++,this._acz.summHeight+=f,this._acz.height=this._acz.summHeight/this._acz.count)))},r.prototype._bKg=function(){var u=!1,n=this._ac,e=0,i=0,f=this._AllItems,o=f.length,t,r;if(this._AutoSizeItems)i=this._acz.height*o,i>n&&(u=!0);else{for(t=0;t<o;t++)if(e+=this._g(f[t].Height)||(f[t].IsGroup?this._GroupsHeight:this._ItemsHeight),e>n){u=!0;break}i=this._SumItemsHeight}r=this._DomNode,u?(this._VScroll.show(),this._ItemsNode.style.width=this._g(this._Width)-this._VScroll.getWidth()-parseInt(this.getCssStyle(r,this._IsRTL?"paddingRight":"paddingLeft"))+"px",this._VScroll.setHeight(n),this._VScroll.setDraggerSize((n-2*this._VScroll.getWidth())*n/i),this._VScroll.updateSize()):(this._VScroll.hide(),this._ItemsNode.style.width=this._g(this._Width)-parseInt(this.getCssStyle(r,"paddingLeft"))-parseInt(this.getCssStyle(r,"paddingRight"))+"px")},r.prototype._bKh=function(n,t){var r,u,i;for(n=n||this._FirstVisible,t=t||this._LastVisible,r=this._LoadedNodes,u=0,i=n;i<=t;i++)if(r[i])u+=r[i].getHeight();else throw"Loaded nodes error longListBox";return u},r.prototype._bcA=function(){var h,p,c,w,l,s;if(this._e3&&this._AllItems.length){for(var e=this._ac,b=this.getAutoSizeItems(),a=this._aEC,f=this._AllItems,r=f.length,i=0,t=-1,u=0,v=0,o=0,y=this._HoveredNodes,n=0;n<y.length;n++)y[n].setIsHovered(!1);if(this._HoveredNodes=[],b){if(t=Math.floor(this._VScroll.getValue()*r/100),t>=r&&(t=r-1),t<=this._FirstVisible){for(h=0,i=0,n=t;n<this._FirstVisible&&i<=e;n++)h=n,f[n]&&(this._aTs(n,this._FirstVisible),i+=this._LoadedNodes[n].getHeight());if(i>=e)for(p=this._LastVisible,this._LastVisible=h,n=this._LastVisible+1;n<=p;n++)this._LoadedNodes[n]&&this._LoadedNodes[n].removeFromDOM();else for(c=this._LoadedNodes[this._LastVisible].getHeight(),w=this._bKh(t,this._LastVisible),n=this._LastVisible;i>=c&&n>h&&e<w-c;n--)this._LoadedNodes[n].removeFromDOM(),c+=this._LoadedNodes[n-1].getHeight(),this._LastVisible=n-1}else if(t>this._FirstVisible&&t<=this._LastVisible){for(n=this._FirstVisible;n<t;n++)this._LoadedNodes[n].removeFromDOM();if(l=e-this._bKh(t,this._LastVisible),l>0)for(o=0,n=this._LastVisible+1;o<l&&n<r;n++)this._aTs(n),o+=this._LoadedNodes[n].getHeight(),this._LastVisible=n}else{for(n=this._FirstVisible;n<=this._LastVisible;n++)this._LoadedNodes[n].removeFromDOM();for(o=0,n=t;o<=e&&n<r;n++)this._aTs(n),o+=this._LoadedNodes[n].getHeight(),this._LastVisible=n}this._FirstVisible=t<r?t:r-1}else{for(n=0;n<r;n++)if(v=a-i,i+=this._g(f[n].Height)||(f[n].IsGroup?this._GroupsHeight:this._ItemsHeight),i>a){t=n;break}for(i=0,n=t;n<r;n++)if(u++,i+=this._g(f[n].Height)||(f[n].IsGroup?this._GroupsHeight:this._ItemsHeight),i>e+Math.max(this._GroupsHeight,this._ItemsHeight))break;if(t<this._FirstVisible&&t+u-1<this._FirstVisible||t>this._LastVisible&&t+u-1>this._LastVisible)for(n=this._FirstVisible;n<=this._LastVisible;n++)this._LoadedNodes[n].removeFromDOM();else{for(n=this._FirstVisible;n<t;n++)this._LoadedNodes[n].removeFromDOM();for(n=t+u;n<=this._LastVisible;n++)this._LoadedNodes[n].removeFromDOM()}for(this._FirstVisible=t,this._LastVisible=t+u-1,u=0,n=this._FirstVisible;n<this._LastVisible+1;n++)this._LoadedNodes[n]||(this._LoadedNodes[n]=this._bcB(f[n])),s=this._LoadedNodes[n],s.getDomNode()&&s.getDomNode().parentNode===this._ItemsNode||s.addToNode(this._ItemsNode,this._ItemsNode.childNodes[u]),s.setIsVisible(!0),u++;this._ItemsNode.scrollTop=v}}},r.prototype.getGroupsHeight=function(){return this._GroupsHeight},r.prototype.getItemsHeight=function(){return this._ItemsHeight},r.prototype.getGroupsTemplate=function(){return this._GroupsTemplate},r.prototype.getItemsTemplate=function(){return this._ItemsTemplate},r.prototype.getGroups=function(){return this._Groups},r.prototype.getMultiSelect=function(){return this._MultiSelect},r.prototype.getAutoSizeItems=function(){return this._AutoSizeItems},r.prototype.calcItemsContainerHeight=function(){return this._ac=this._g(this._Height),innerHeight-=parseInt(this.getCssStyle(this._DomNode,"paddingTop")),innerHeight-=parseInt(this.getCssStyle(this._DomNode,"paddingBottom")),innerHeight-=parseInt(this.getCssStyle(this._DomNode,"borderTopWidth")),innerHeight-=parseInt(this.getCssStyle(this._DomNode,"borderBottomWidth")),this._ac},r.prototype.getScrollBar=function(){return this._VScroll},r.prototype.setItemsTemplate=function(n){n!==this._ItemsTemplate&&(this._ItemsTemplate=n,this._gx())},r.prototype.setGroupsTemplate=function(n){n!==this._GroupsTemplate&&(this._GroupsTemplate=n,this._gx())},r.prototype.setItemsHeight=function(n){n!==this._ItemsHeight&&(this._ItemsHeight=n,this._gx())},r.prototype.setGroupsHeight=function(n){n!==this._GroupsHeight&&(this._GroupsHeight=n,this._gx())},r.prototype.setGroups=function(n){n!==this._Groups&&(this._Groups=n,this._gx())},r.prototype.setAutoSizeItems=function(n){this._AutoSizeItems!==n&&(this._AutoSizeItems=n,this._gx())},r.prototype.setWidth=function(){t.prototype.setWidth.apply(this,arguments),this._ItemsNode.style.width=this._VScroll.getIsVisible()?this._g(this._Width)-this._VScroll.getWidth()-parseInt(this.getCssStyle(this._DomNode,this._IsRTL?"paddingRight":"paddingLeft"))+"px":this._g(this._Width)-parseInt(this.getCssStyle(this._DomNode,"paddingLeft"))-parseInt(this.getCssStyle(this._DomNode,"paddingRight"))+"px"},r.prototype.setHeight=function(){t.prototype.setHeight.apply(this,arguments),this._ItemsNode.style.height=this.calcItemsContainerHeight()+"px",this._bcA(),this._bKg()},r.prototype.setEnabled=function(n){t.prototype.setEnabled.call(this,n),this._VScroll.setEnabled(n),n?this._Cover.parentNode===this._DomNode&&this._DomNode.removeChild(this._Cover):this._DomNode.appendChild(this._Cover)},r.prototype.beginUpdate=function(){this._BeginUpdate?this._BeginUpdate++:this._BeginUpdate=1},r.prototype.endUpdate=function(){!this._BeginUpdate||this._BeginUpdate<=1?(this._BeginUpdate=0,this._bKf?this._gx():this.updateSize()):this._BeginUpdate--},r.prototype.updateSize=function(){this._BeginUpdate||(t.prototype.updateSize.call(this),this._ItemsNode.style.height=this.calcItemsContainerHeight()+"px",this._bcA(),this._bKg())},r.prototype.getVisibleItems=function(){for(var t=[],n=this._FirstVisible;n<this._LastVisible+1;n++)t.push(this._LoadedNodes[n]);return t},r.prototype.getItems=function(){var n=[],t;for(t in this._LoadedNodes)n.push(this._LoadedNodes[t]);return n},r.prototype.setChildProps=function(n){for(var r=this._AllItems,i,t=0;t<r.length;t++)i=this._LoadedNodes[t],i||(i=this._bcB(r[t]),this._LoadedNodes[t]=i),i.setSettings(n)},r.prototype.addGroups=function(t){var i,f,r,u;if(t=n.toArray(t),t&&t.length){for(this._Groups=this._Groups.concat(t),this._aTr=!1,f=this._AllItems.length,i=0;i<t.length;i++)t[i].HideText||(this._AllItems.push(t[i]),t[i].IsGroup=!0),this._AllItems=this._AllItems.concat(t[i].Items);for(r=this._AllItems,u=0,i=f;i<r.length;i++)u+=this._g(r[i].Height)||(r[i].IsGroup?this._GroupsHeight:this._ItemsHeight);this._SumItemsHeight+=u,this.getAutoSizeItems()||this._VScroll.setValue(this._aEC/(this._SumItemsHeight-this._ac)*100,!1),this.updateSize()}},r.prototype.isAllLoaded=function(){var t,n;if(this._aTr)return!0;for(t=this._AllItems,n=0;n<t.length;n++)if(!this._LoadedNodes[n])return!1;return this._aTr=!0,!0},r.prototype.getByItemScrollStep=function(){var t=this._AllItems,n=t.length;return n===0?0:100/n},r.prototype.dispose=function(){for(var n in this._LoadedNodes)this._LoadedNodes[n].dispose();t.prototype.dispose.call(this)},r}(t.Control);t.LongListBox=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i.setArray(n.Array),i._IsValid=!0,i._Content&&i.setContent(i._Content),i}return i(r,t),r.prototype._aTt=function(n,t){return n-t},r.prototype._bKi=function(n){for(var t=0;t<n.length;t++)typeof n[t+1]!="undefined"&&n[t]===n[t+1]&&(n.splice(t,1),t--)},r.prototype._bKj=function(t){var r="",i,u;if(t&&n.Array.isArray(t)&&t.length>0)for(t.sort(this._aTt),this._bKi(t),r=t[0].toString(),i=1;i<t.length;){for(u=!1;t[i]-t[i-1]==1;)u=!0,i++;u?r+="-"+t[i-1].toString():(r+=", "+t[i].toString(),i++)}return r},r.prototype._aSo=function(n){var t=!1;return(typeof n=="string"||n.length==1)&&(t="0123456789".indexOf(n)>=0),t},r.prototype._eQ=function(n){var o,e,t,f,i,u;for(n+="",o=n.split(","),e=0;e<o.length;e++)if(o[e])if(t=o[e].trim(),t.indexOf("-")>-1){if((f=t.split("-"),f.length!=2||!f[0]||!f[1])||(i=f[0].trim(),u=f[1].trim(),i.indexOf(" ")>-1||u.indexOf(" ")>-1)||(i=parseInt(i),u=parseInt(u),isNaN(i)||isNaN(u)||i>u||i>r.MAXNUMVALUE||u>r.MAXNUMVALUE))return!1}else if((t=t.trim(),t.indexOf(" ")>-1)||(t=parseInt(t),isNaN(t)||t>r.MAXNUMVALUE))return!1;return!0},r.prototype._on=function(n,i){var u=t.prototype._on.call(this,n,i),r=i.Event,f=r.keyCode?r.keyCode:r.which;return f==32&&r.ctrlKey&&r.preventDefault(),u},r.prototype._yp=function(t,i){var r=i.Event,s=r.keyCode?r.keyCode:r.which,e=this.getContent(),o={OldValue:e,NewValue:null,Cancel:!1},h=this._eB(),f=!0;switch(s){case 9:case 8:case 13:f=!1;break;default:if(r.charCode===0||r.which===0||r.ctrlKey){f=!1;break}var c=e.substring(0,h.Start),l=e.substring(h.End),u=n.String.fromCharCode(s);o.NewValue=c+u+l,this._aSo(u)||u==","||u=="-"||u==" "||(f=!1,r.preventDefault(),r.stopPropagation())}return f&&(this._qk(o),o.Cancel?(r.preventDefault(),r.stopPropagation()):this._sq(r)),!0},r.prototype._eM=function(){t.prototype._eM.apply(this,arguments),this._IsValid=this._eQ(this.getValue()),this._IsValid?this.applyValidCSS():this.applyNotValidCSS()},r.prototype._gY=function(n){if(this.isLive()){var i=this._IsValid;i&&(this._Array=this.parse(this._o.value),t.prototype._gY.call(this,n)),this._o.value=this._bKj(this.getArray()),this.applyValidCSS()}},r.prototype.getArray=function(){return this._Array},r.prototype.getIsValid=function(){return this._IsValid},r.prototype.parse=function(n){for(var t=[],e=n.split(","),u,f,r,o,s,i=0;i<e.length;i++)if(e[i])if(u=e[i].trim(),u.indexOf("-")>-1){if(f=u.split("-"),f.length==2&&(r=parseInt(f[0].trim()),o=parseInt(f[1].trim()),!isNaN(r)&&!isNaN(o)))while(r<=o)t.push(r),r++}else s=parseInt(u),isNaN(s)||t.push(s);return t.sort(this._aTt),this._bKi(t),t},r.prototype.setArray=function(t){n.Array.isArray(t)&&(this._Array=t.slice(0),this._o.value=this._bKj(this._Array),this.applyValidCSS())},r}(t.TextBox);r.MAXNUMVALUE=2147483647,t.NumberOrderEdit=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Borders={},this._Backgrounds={}},r.prototype._nc=function(n,t,i){return{Name:n+t,Value:i}},r.prototype._aTu=function(n){return this._nc.bind(this,n)},r.prototype._bKk=function(n,t,i){this._bKl(n,this._Borders,t,i)},r.prototype._bKm=function(n,t,i){this._bKl(n,this._Backgrounds,t,i)},r.prototype._cxJ=function(n){var t=n.split(".");return t.splice(t.length-2,1),t.join(".")},r.prototype._bKl=function(n,t,i,r){if(n&&t){var u;u=r?this._cxJ(i):i,t[u]=t[u]||n.clone()}},r.prototype._bKn=function(t){var i=t.getBorder(),r=t.getBackground(),u=t.getFont();i||(i=new n.Border,i.setWidth(1),i.setEnabled(!1),t.setBorder(i)),r||(r=new n.SolidColorBrush({Color:"#FFFFFF"}),r.setEnabled(!1),t.setBackground(r)),u||t.setFont(new n.Font)},r.prototype.setBorderSetting=function(t,i,r,u){var f=t.getBorder(),e;this._bKk(f,u+".Border",!1),e=this._Borders[u+".Border"];switch(i){case"BorderEnabled":[f,e].forEach(function(n){return n.setEnabled(r)}),r?f.setWidth(e.getWidth()):(e.setWidth(f.getWidth()),f.setWidth(0));break;case"BorderType":[f,e].forEach(function(t){return t.setStyle(n.Border.convertStyleFromBorderComboFormat(r))});break;case"BorderColor":[f,e].forEach(function(t){return t.setColor(r instanceof n.Color?r.clone():r)});break;case"BorderWidth":[f,e].forEach(function(n){return n.setWidth(r)}),f.getEnabled()?f.setWidth(r):f.setWidth(0)}},r.prototype.setBackgroundSetting=function(t,i,r,u){var f=t.getBackground(),e,o;f||f===null||(f=new n.SolidColorBrush,t.setBackground(f),f.setEnabled(!1)),this._bKm(f,u+".Background",!1),e=this._Backgrounds[u+".Background"],o=e.getOpacity();switch(i){case"BackgroundColor":[e,f].forEach(function(t){t.setColor(r instanceof n.Color?r.clone():r),t.setOpacity(o)});break;case"BackgroundEnabled":[e,f].forEach(function(n){return n.setEnabled(r)}),r?f.setOpacity(e.getOpacity()):f.setOpacity(0);break;case"BackgroundOpacity":[e,f].forEach(function(n){return n.setOpacity(r)})}},r.prototype.setFontSetting=function(n,t,i){var r=n.getFont();switch(t){case"FontFamily":r.setFontFamily(i);break;case"FontColor":r.setColor(i);break;case"FontSize":r.setSize(i);break;case"FontIsBold":r.setIsBold(i);break;case"FontIsItalic":r.setIsItalic(i);break;case"FontIsUnderline":r.setIsUnderline(i)}},r.prototype.setStyleSetting=function(n,t,i,r){this._bKn(n),this.setFontSetting(n,t,i),this.setBorderSetting(n,t,i,r),this.setBackgroundSetting(n,t,i,r)},r.prototype.getStyleSettings=function(n,t){var i=[],r=this._aTu(n);return t&&(this._bKn(t),i=i.concat(this.getFontSettings(n,t.getFont())),i=i.concat(this.getBackgroundSettings(n,t.getBackground())),i=i.concat(this.getBorderSettings(n,t.getBorder()))),i},r.prototype.getBorderSettings=function(t,i){var f=[],u=this._aTu(t),r;return this._bKk(i,t+"Border",!1),r=this._Borders[t+"Border"],f.push(u("BorderEnabled",r.getEnabled()),u("BorderColor",r.getColor().toString()),u("BorderType",n.Border.convertStyleToBorderComboFormat(r.getStyle())),u("BorderWidth",r&&r.getWidth()||i.getWidth())),f},r.prototype.getBackgroundSettings=function(t,i){var f=[],r=this._aTu(t),u,e;return i?(this._bKm(i,t+"Background",!1),u=this._Backgrounds[t+"Background"],e=u.getOpacity(),u.getEnabled()&&f.push(r("BackgroundColor",(u.getColor()||i.getColor()).toString()),r("BackgroundOpacity",n.isDefined(e)?e:i.getOpacity()),r("BackgroundEnabled",!0))):f.push(r("BackgroundEnabled",!1)),f},r.prototype.getFontSettings=function(n,t){var r=[],i=this._aTu(n);return t&&r.push(i("FontFamily",t.getFontFamily()),i("FontColor",t.getColor()),i("FontSize",t.getSize()),i("FontIsBold",t.getIsBold()),i("FontIsItalic",t.getIsItalic()),i("FontIsUnderline",t.getIsUnderline())),r},r}(n.Object);t.VisualizerStateMaster=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var i=function(){function t(){}return t.getSerieProperty=function(i,r,u){if(i&&u&&r){var f=i.defaultSerie;return f&&t.isSerieInheritOption(r,u)?n.getProperty(f,u):n.getProperty(r,u)}},t.getSerieDataLabelsProperty=function(t,i,r){if(t&&r&&i){var u=n.getProperty(t,"plotOptions.series.dataLabels");return u&&n.Ui.InheritanceManager.isDataLabelsInheritOption(i.dataLabels,r)?n.getProperty(u,r):n.getProperty(i.dataLabels,r)}},t.getSerieMarkerProperty=function(i,r,u){if(i&&u&&r){var f=i.defaultSerie,e=r.marker||{},o=(f||{}).marker||{};return f&&t.isMarkerInheritOptions(e,u)?n.getProperty(o,u):n.getProperty(e,u)}},t.getPointDataLabelsProperty=function(t,i,r,u){if(t&&u&&r)return n.Ui.InheritanceManager.isDataLabelsInheritOption(r.dataLabels,u)?n.Ui.InheritanceManager.getSerieDataLabelsProperty(t,i,u):n.getProperty(r.dataLabels,u)},t.getSerieMaskProperty=function(t){return n.getProperty(n.Ui.SerieInheritanceMap,t)},t.getDataLabelsMaskProperty=function(t){return n.getProperty(n.Ui.SerieDataLabelsInheritanceMap,t)},t.getMarkerMaskProperty=function(t){return t.indexOf(".")>-1&&(t=t.split(".").pop()),n.getProperty(n.Ui.SerieMarkerInheritanceMap,t)},t.setPlotOptionsProperty=function(t,i,r){if(t&&i){var u=n.getProperty(t,"plotOptions.series.dataLabels");u=u||{},n.setProperty(r,u,i),n.Ui.InheritanceManager.includeDataLabelsProperties([i],t,1)}},t.setSerieDataLabelsProperty=function(t,i,r,u){i&&t&&(!t||t.dataLabels)&&(n.isDefined(u)||(u=!0),n.setProperty(r,t.dataLabels,i),u&&(t.dataLabels.inheritanceMask=n.Ui.InheritanceManager.excludeMask(+t.dataLabels.inheritanceMask,n.Ui.InheritanceManager.getDataLabelsMaskProperty(i)),n.Ui.InheritanceManager.includePointsDataLabelsProperties(t,[i])))},t.setPointDataLabelsProperty=function(t,i,r,u){i&&t&&(t.dataLabels||(t.dataLabels={},t.dataLabels.inheritanceMask=n.Ui.ChartSerieInheritanceDataLabelsOptions.All),n.isDefined(u)||(u=!0),n.setProperty(r,t.dataLabels,i),u&&(t.dataLabels.inheritanceMask=n.Ui.InheritanceManager.excludeMask(+t.dataLabels.inheritanceMask,n.Ui.InheritanceManager.getDataLabelsMaskProperty(i))))},t.setSerieProperty=function(t,i,r,u){if(i&&t&&(n.isDefined(u)||(u=!0),n.setProperty(r,t,i),u)){var f=n.Ui.InheritanceManager.getSerieMaskProperty(i);n.isNumber(f)&&(t.inheritanceMask=n.Ui.InheritanceManager.excludeMask(+t.inheritanceMask,f).toString())}},t.setMarkerProperty=function(t,i,r,u){if(i&&t&&(n.isDefined(u)||(u=!0),t.marker||(t.marker={}),i.indexOf(".")>-1&&(i=i.split(".").pop()),n.setProperty(r,t.marker,i),u)){var f=n.Ui.InheritanceManager.getMarkerMaskProperty(i);n.isNumber(f)&&(t.marker.inheritanceMask=n.Ui.InheritanceManager.excludeMask(+t.marker.inheritanceMask,f).toString())}},t.isSerieInheritOption=function(t,i){return Boolean(n.Ui.InheritanceManager.checkMask(+t.inheritanceMask,n.Ui.InheritanceManager.getSerieMaskProperty(i)))},t.isMarkerInheritOptions=function(t,i){return Boolean(n.Ui.InheritanceManager.checkMask(+t.inheritanceMask,n.Ui.InheritanceManager.getMarkerMaskProperty(i)))},t.isDataLabelsInheritOption=function(t,i){if(!t)return!0;var r=n.isDefined(t.inheritanceMask)?t.inheritanceMask:n.Ui.ChartSerieInheritanceDataLabelsOptions.All;return Boolean(n.Ui.InheritanceManager.checkMask(+r,n.Ui.InheritanceManager.getDataLabelsMaskProperty(i)))},t.excludeMask=function(n,t){return n&~t},t.mergeMask=function(n,t){return n|t},t.checkMask=function(n,t){return n&t},t.includeSeriesProperties=function(t,i){var u,e,r,f;for(t=n.toArray(t),u=i.series||[],e=n.Ui.InheritanceManager.getMaskFromProps(t,n.Ui.InheritanceManager.getSerieMaskProperty),r=0;r<u.length;r++)f=u[r],f.inheritanceMask=n.Ui.InheritanceManager.mergeMask(+f.inheritanceMask,e)+""},t.includeMarkersProperties=function(t,i){var f,e,u,r;for(t=n.toArray(t).slice(),f=i.series||[],e=n.Ui.InheritanceManager.getMaskFromProps(t,n.Ui.InheritanceManager.getMarkerMaskProperty),u=0;u<f.length;u++)r=f[u],r.marker=r.marker||{},r.marker.inheritanceMask=n.Ui.InheritanceManager.mergeMask(+r.marker.inheritanceMask,e).toString()},t.excludeMarkersProperties=function(t,i){for(var u=i.series||[],r=0;r<u.length;r++)n.Ui.InheritanceManager.excludeMarkerProperties(t,u[r])},t.excludeSeriesProperties=function(t,i){for(var u=i.series||[],r=0;r<u.length;r++)n.Ui.InheritanceManager.excludeSerieProperties(t,u[r])},t.excludeMarkerProperties=function(t,i){t=n.toArray(t);var r=n.Ui.InheritanceManager.getMaskFromProps(t,n.Ui.InheritanceManager.getMarkerMaskProperty);i.marker&&(i.marker.inheritanceMask=n.Ui.InheritanceManager.excludeMask(+i.marker.inheritanceMask,r).toString())},t.excludeSerieProperties=function(t,i){t=n.toArray(t);var r=n.Ui.InheritanceManager.getMaskFromProps(t,n.Ui.InheritanceManager.getSerieMaskProperty);i.inheritanceMask=n.Ui.InheritanceManager.excludeMask(+i.inheritanceMask,r)+""},t.includeDataLabelsProperties=function(t,i,r){var e,o,f,u;for(t=n.toArray(t),r=r||0,e=i.series||[],o=n.Ui.InheritanceManager.getMaskFromProps(t,n.Ui.InheritanceManager.getDataLabelsMaskProperty),f=0;f<e.length;f++)u=e[f],r===1&&u&&u.dataLabels&&(u.dataLabels.inheritanceMask=n.Ui.InheritanceManager.mergeMask(+u.dataLabels.inheritanceMask,o)),r>=0&&n.Ui.InheritanceManager.includePointsDataLabelsProperties(u,t)},t.includePointsDataLabelsProperties=function(t,i){var f,u,r,e;if(t)for(i=n.toArray(i),f=n.Ui.InheritanceManager.getMaskFromProps(i,n.Ui.InheritanceManager.getDataLabelsMaskProperty),u=0;u<t.data.length;u++)r=t.data[u],r&&r.dataLabels&&(e=r.dataLabels.inheritanceMask||n.Ui.ChartSerieInheritanceDataLabelsOptions.All,r.dataLabels.inheritanceMask=n.Ui.InheritanceManager.mergeMask(+e,f))},t.getMaskFromProps=function(t,i){return t=t||[],t.reduce(function(t,r){var u=i(r);return n.Ui.InheritanceManager.mergeMask(t,u)},0)},t}();t.InheritanceManager=i,t.SerieDataLabelsNoteLineInheritanceMap={type:t.ChartSerieInheritanceDataLabelsOptions.Type,style:t.ChartSerieInheritanceDataLabelsOptions.NotePen,width:t.ChartSerieInheritanceDataLabelsOptions.NotePen,color:t.ChartSerieInheritanceDataLabelsOptions.NotePen,capType:t.ChartSerieInheritanceDataLabelsOptions.Cap,capWidth:t.ChartSerieInheritanceDataLabelsOptions.CapLength},t.SerieDataLabelsCustomPositionInheritanceMap={hotspotHorAlign:t.ChartSerieInheritanceDataLabelsOptions.HorzHotspotAlignment,hotspotVertAlign:t.ChartSerieInheritanceDataLabelsOptions.VertHotspotAlignment,hotspotPositionOffsetX:t.ChartSerieInheritanceDataLabelsOptions.HotspotOffset,hotspotPositionOffsetY:t.ChartSerieInheritanceDataLabelsOptions.HotspotOffset,hotspotPositionCoef:t.ChartSerieInheritanceDataLabelsOptions.HotspotOffset},t.SerieBackgroundColorGradientInheritanceMap={angle:t.ChartSerieInheritanceOptions.BackgroundGradientAngle,opacity:t.ChartSerieInheritanceOptions.BackgroundColorTransparent},t.SerieBackgroundColorInheritanceMap={linearGradient:t.SerieBackgroundColorGradientInheritanceMap,stops:[[0,t.ChartSerieInheritanceOptions.BackgroundColorStart],[0,t.ChartSerieInheritanceOptions.BackgroundColorEnd]]},t.SerieBackgroundInheritanceMap={color:t.SerieBackgroundColorInheritanceMap,type:t.ChartSerieInheritanceOptions.Background,transparent:t.ChartSerieInheritanceOptions.BackgroundColorTransparent},t.SerieMarkerInheritanceMap={enabled:t.ChartMarkerInheritanceOptions.Display,lineWidth:t.ChartMarkerInheritanceOptions.BorderWidth,lineColor:t.ChartMarkerInheritanceOptions.BorderColor,lineDashStyle:t.ChartMarkerInheritanceOptions.BorderStyle,fillColor:t.ChartMarkerInheritanceOptions.BackgroundColor,symbol:t.ChartMarkerInheritanceOptions.Symbol,shadow:t.ChartMarkerInheritanceOptions.Shadow,fillTransparent:t.ChartMarkerInheritanceOptions.BackgroundColorTransparent,radius:t.ChartMarkerInheritanceOptions.Size},t.SerieDataLabelsInheritanceMap={noteLine:t.SerieDataLabelsNoteLineInheritanceMap,customPosition:t.SerieDataLabelsCustomPositionInheritanceMap,backgroundColor:t.ChartSerieInheritanceDataLabelsOptions.Background,borderStyle:t.ChartSerieInheritanceDataLabelsOptions.Pen,borderColor:t.ChartSerieInheritanceDataLabelsOptions,style:t.ChartSerieInheritanceDataLabelsOptions.Font,color:t.ChartSerieInheritanceDataLabelsOptions.FontColor,enabled:t.ChartSerieInheritanceDataLabelsOptions.Visible,formatter:t.ChartSerieInheritanceDataLabelsOptions.Text,dataFormat:t.ChartSerieInheritanceDataLabelsOptions.CustomFormat,position:t.ChartSerieInheritanceDataLabelsOptions.Position},t.SerieInheritanceMap={displayMarkers:t.ChartSerieInheritanceOptions.DisplayMarkers,background:t.SerieBackgroundInheritanceMap,marker:t.SerieMarkerInheritanceMap,dataLabels:t.SerieDataLabelsInheritanceMap,borderPenEnabled:t.ChartSerieInheritanceOptions.BorderPen,linePenEnabled:t.ChartSerieInheritanceOptions.LinePen,borderWidth:t.ChartSerieInheritanceOptions.BorderPen,lineWidth:t.ChartSerieInheritanceOptions.LinePen,step:t.ChartSerieInheritanceOptions.StepLineType,shadow:t.ChartSerieInheritanceOptions.DisplayShadow,type:t.ChartSerieInheritanceOptions.Type,lineColor:t.ChartSerieInheritanceOptions.LineColor,borderColor:t.ChartSerieInheritanceOptions.BorderColor,showInLegend:t.ChartSerieInheritanceOptions.DisplayInLegend,yAxis:t.ChartSerieInheritanceOptions.DisplayAtSecondaryAxis,userSplineSmoothing:t.ChartSerieInheritanceOptions.UseSplineSmoothing}})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._amL=undefined,this._amM=undefined,this._amN=undefined,this._amO=undefined,this._e6=undefined,this._bt=undefined,this._lU=n.Orientation.Horizontal,this._aTv=10,this._sK=90,this._qw=90,this._MinButtonWidth=10,this._MinButtonHeight=10,this._ArrowSettings={Width:10,Height:18,FillType:n.Ui.ArrowFillType.Stroke,Stroke:"#8e8e8e"}},r.prototype._initFields=function(i){t.prototype._initFields.call(this,i),this._lU!=n.Orientation.Horizontal||this._MinWidth||(this._MinWidth=this._sK*3,this._MinHeight=this._Height),this._lU!=n.Orientation.Vertical||this._MinHeight||(this._MinWidth=this._Width,this._MinHeight=this._qw*3)},r.prototype._render=function(){this._initFromHTML('<div class="ScrollBoxArrow"><\/div>'),this._e6=n.htmlToDOM('<div class="ScrollBoxArrow__ContentScroller"><\/div>'),this._bt=n.htmlToDOM('<div class="ScrollBoxArrow__ContentNode"><\/div>'),this._e6.style.height=this._Height+"px",this._e6.appendChild(this._bt),this._DomNode.appendChild(this._e6),this._qm(),this._ParentNode&&this._ParentNode.appendChild(this._DomNode),this._bindEvents()},r.prototype._bindEvents=function(){this._bV(this._DomNode,{mousewheel:this._a1,DOMMouseScroll:this._a1})},r.prototype._a1=function(t,i){var u=i.Event.wheelDelta,r;this._lU==n.Orientation.Horizontal&&(r=u>0?n.LTRB.Left:n.LTRB.Right),this._lU==n.Orientation.Vertical&&(r=u>0?n.LTRB.Top:n.LTRB.Bottom),this._bKo(r)},r.prototype._qm=function(){this._DomNode&&(this._amL=this._aTw(n.LTRB.Left),this._amM=this._aTw(n.LTRB.Top),this._amN=this._aTw(n.LTRB.Right),this._amO=this._aTw(n.LTRB.Bottom),this.setPaddingsEnabled(!0))},r.prototype._aTw=function(t){var e="ScrollBoxArrow__Button_"+n.LTRB[t],r=!1,u,i,f;return this._alN(t)&&(r=!0),this._cxO(t)&&(r=!0),u=n.extend({Direction:t},this._ArrowSettings),i={ParentNode:this._DomNode,Class:e,IsVisible:r,MenuArrowPosition:n.AnchorStyles[n.LTRB[t]],Arrow:u,Click:new n.Delegate(this._cxP,this,{Direction:t})},delete this._ArrowSettings.Direction,this._alN(t)?i.Width=this._sK/2:i.Height=this._qw/2,f=new n.Ui.Button(i)},r.prototype._alN=function(t){return this._lU===n.Orientation.Horizontal&&(t===n.LTRB.Left||t===n.LTRB.Right)?!0:!1},r.prototype._cxO=function(t){return this._lU===n.Orientation.Vertical&&(t===n.LTRB.Top||t===n.LTRB.Bottom)?!0:!1},r.prototype._cxP=function(n,t){this._bKo(t.Args.Direction)},r.prototype._bKo=function(t){var i=this._e6.scrollWidth/this._aTv;switch(t){case n.LTRB.Left:this._e6.scrollLeft=this._e6.scrollLeft-i;break;case n.LTRB.Top:this._e6.scrollTop=this._e6.scrollTop-i;break;case n.LTRB.Right:this._e6.scrollLeft=this._e6.scrollLeft+i;break;case n.LTRB.Bottom:this._e6.scrollTop=this._e6.scrollTop+i}this._amP()},r.prototype._amP=function(){var n,t,i,r;this._amL.setIsVisible(this._e6.scrollLeft!=0),this._amM.setIsVisible(this._e6.scrollTop!=0),n=parseFloat(this.getCssStyle(this._e6,"width")||0),t=Math.max(this._e6.scrollWidth-n,0),this._amN.setIsVisible(this._e6.scrollLeft<t),i=parseFloat(this.getCssStyle(this._e6,"height")||0),r=Math.max(this._e6.scrollHeight-i,0),this._amO.setIsVisible(this._e6.scrollTop<r)},r.prototype.setWidth=function(n){if(this._Width!==n){var t=this._g(n);if(this._MinWidth>t)return;this._Width=t,this._DomNode.style.width=t+"px",this._e6.style.width=t+"px",this.updateSize()}},r.prototype.setHeight=function(n){if(this._Height!==n){var t=this._g(n);if(this._MinHeight>t)return;this._Height=t,this._DomNode.style.height=t+"px",this._e6.style.height=t+"px",this.updateSize()}},r.prototype.setContent=function(n){this._bW(n,this._bt,"Content",!0),this._Content=n,this.updateSize()},r.prototype.setEnabled=function(i){t.prototype.setEnabled.call(this,i),this._amL.setEnabled(i),this._amM.setEnabled(i),this._amN.setEnabled(i),this._amO.setEnabled(i),this._Content instanceof n.Ui.Control&&this._Content.setEnabled(i)},r.prototype.setButtonsWidth=function(n){this._sK!==n&&(this._sK=this._g(n),this._amL.setWidth(this._sK),this._amN.setWidth(this._sK),this.updateSize())},r.prototype.setButtonsHeight=function(n){this._qw!==n&&(this._qw=this._g(n),this._amM.setHeight(this._qw),this._amO.setHeight(this._qw),this.updateSize())},r.prototype.setPaddingsEnabled=function(t){t===!0?(this._lU==n.Orientation.Horizontal&&(this._e6.style.padding="0 "+this._sK+"px"),this._lU==n.Orientation.Vertical&&(this._e6.style.padding=this._qw+"px 0")):this._e6.style.padding="0"},r.prototype.hideButtons=function(){this._amL.hide(),this._amM.hide(),this._amN.hide(),this._amO.hide(),this.setPaddingsEnabled(!1)},r.prototype.showButtons=function(){this.setPaddingsEnabled(!0),this._lU===n.Orientation.Horizontal&&(this._amL.show(),this._amM.hide(),this._amN.show(),this._amO.hide()),this._lU===n.Orientation.Vertical&&(this._amL.hide(),this._amM.show(),this._amN.hide(),this._amO.show()),this._amP()},r.prototype.updateSize=function(){this._lU===n.Orientation.Horizontal&&(this._bt.offsetWidth<this._Width?this.hideButtons():this.showButtons()),this._lU===n.Orientation.Vertical&&(this._bt.offsetHeight<this._Height?this.hideButtons():this.showButtons())},r.prototype.scrollHorizontally=function(t){this._lU===n.Orientation.Horizontal&&(this._e6.scrollLeft=this._g(t),this._amP())},r.prototype.scrollTop=function(t){this._lU===n.Orientation.Vertical&&(this._e6.scrollTop=this._g(t),this._amP())},r.prototype.setOrintation=function(n){this._lU!==n&&(this._lU=n,this.updateSize())},r}(t.Control);t.ScrollBoxArrow=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._ImagePath=n.ImagePath},r.prototype._render=function(){this._initFromHTML("<div class='PPTextAlignmentSettings'><div class='PPTextAlignmentSettings_Container'><\/div><div class='PPTextAlignmentSettings_Container'><\/div><\/div>"),this._ImageList=new n.ImageList({Source:this._ImagePath+"ta_icons.png",IconHeight:16,IconWidth:16}),this._VerticalToolbar=new n.Ui.GroupButtons({ParentNode:this._DomNode.firstChild,ImageList:this._ImageList,Class:"TextSettingsToolbar"}),this._HorizontalToolbar=new n.Ui.GroupButtons({ParentNode:this._DomNode.lastChild,ImageList:this._ImageList,Class:"TextSettingsToolbar"});var t=new n.Delegate(this._cxQ,this);this._VerticalAlignmentTopButton=new n.Ui.GroupButtonsItem({RowIndex:1,ColumnIndex:0,ResourceKey:"textVerticalAlignTop",GroupName:"verticalAlignmentGroup",StateChanged:t}),this._VerticalAlignmentCenterButton=new n.Ui.GroupButtonsItem({RowIndex:1,ColumnIndex:1,ResourceKey:"textVerticalAlignCenter",GroupName:"verticalAlignmentGroup",StateChanged:t}),this._VerticalAlignmentBottomButton=new n.Ui.GroupButtonsItem({RowIndex:1,ColumnIndex:2,ResourceKey:"textVerticalAlignBottom",GroupName:"verticalAlignmentGroup",StateChanged:t}),this._VerticalToolbar.addItem(this._VerticalAlignmentTopButton),this._VerticalToolbar.addItem(this._VerticalAlignmentCenterButton),this._VerticalToolbar.addItem(this._VerticalAlignmentBottomButton),t=new n.Delegate(this._cxR,this),this._HorizontalAlignmentLeftButton=new n.Ui.GroupButtonsItem({RowIndex:0,ColumnIndex:2,ResourceKey:"fontBoxAlignLeft",GroupName:"alignmentGroup",StateChanged:t}),this._HorizontalAlignmentCenterButton=new n.Ui.GroupButtonsItem({RowIndex:0,ColumnIndex:1,ResourceKey:"fontBoxAlignCenter",GroupName:"alignmentGroup",StateChanged:t}),this._HorizontalAlignmentRightButton=new n.Ui.GroupButtonsItem({RowIndex:0,ColumnIndex:0,ResourceKey:"fontBoxAlignRight",GroupName:"alignmentGroup",StateChanged:t}),this._HorizontalToolbar.addItem(this._HorizontalAlignmentLeftButton),this._HorizontalToolbar.addItem(this._HorizontalAlignmentCenterButton),this._HorizontalToolbar.addItem(this._HorizontalAlignmentRightButton)},r.prototype._cxQ=function(t){var u=n.VerticalAlignment.None;t==this._VerticalAlignmentTopButton&&(u=n.VerticalAlignment.Top),t==this._VerticalAlignmentCenterButton&&(u=n.VerticalAlignment.Center),t==this._VerticalAlignmentBottomButton&&(u=n.VerticalAlignment.Bottom),this._VerticalAlignment=u,this._bR(r.PropertyName.VerticalAlignment)},r.prototype._cxR=function(t){var u=n.HorizontalAlignment.None;t==this._HorizontalAlignmentLeftButton&&(u=n.HorizontalAlignment.Left),t==this._HorizontalAlignmentCenterButton&&(u=n.HorizontalAlignment.Center),t==this._HorizontalAlignmentRightButton&&(u=n.HorizontalAlignment.Right),this._HorizontalAlignment=u,this._bR(r.PropertyName.HorizontalAlignment)},r.prototype._bR=function(n){this.PropertyChanged.fire(this,{PropertyName:n,HorizontalAlignment:this._HorizontalAlignment,VerticalAlignment:this._VerticalAlignment})},r.prototype.setVerticalAlignment=function(t){t&&(this._VerticalAlignment=t,this._VerticalAlignmentTopButton.setIsChecked(this._VerticalAlignment==n.VerticalAlignment.Top,!1),this._VerticalAlignmentCenterButton.setIsChecked(this._VerticalAlignment==n.VerticalAlignment.Center,!1),this._VerticalAlignmentBottomButton.setIsChecked(this._VerticalAlignment==n.VerticalAlignment.Bottom,!1))},r.prototype.setHorizontalAlignment=function(t){t&&(this._HorizontalAlignment=t,this._HorizontalAlignmentLeftButton.setIsChecked(this._HorizontalAlignment==n.HorizontalAlignment.Left,!1),this._HorizontalAlignmentCenterButton.setIsChecked(this._HorizontalAlignment==n.HorizontalAlignment.Center,!1),this._HorizontalAlignmentRightButton.setIsChecked(this._HorizontalAlignment==n.HorizontalAlignment.Right,!1))},r}(t.Control);r.PropertyName={VerticalAlignment:"VerticalAlignment",HorizontalAlignment:"HorizontalAlignment"},t.TextAlignment=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(n){var t=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t.prototype._render=function(){n.prototype._render.call(this),this.addClass("PPPrimaryButton")},t}(n.Button);n.PrimaryButton=t})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(n){var t=function(n){function t(t){return n.call(this,t)||this}return i(t,n),t.prototype._e=function(){n.prototype._e.call(this)},t.prototype.getIsLargeControl=function(){return this._IsLargeControl},t.prototype.setIsLargeControl=function(n){this._IsLargeControl=n,this._ImageList&&this._lH()},t}(n.SplitButton);n.RibbonSplitButton=t})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(i){var r=t.call(this,i)||this;return r._bKp=function(t){this._IsComplete=t,this.StateToggled.fire(this,new n.EventArgs)},r._cxS=function(n){this._IsRequired=n},r._dEc=function(n){this._WereSettingsChanged=n},r}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._StepSettings={},this._WereSettingsChanged=!1,this._IsRequired=!1,this._IsPending=!1,this._IsComplete=!1,this._Controls=[],this._auH=!1,this._ForceRedraw=!1,this._defineEvents(["StateToggled"])},r.prototype.getIsComplete=function(){return this._IsComplete},r.prototype.getIsRequired=function(){return this._IsRequired},r.prototype.getWereSettingsChanged=function(){return this._WereSettingsChanged},r.prototype.getForceRedraw=function(){return this._ForceRedraw},r.prototype.setForceRedraw=function(n){this._ForceRedraw=n},r.prototype.setStepSettings=function(n){this._StepSettings=n},r.prototype.setIsRTL=function(){var r,i;for(t.prototype.setIsRTL.apply(this,arguments),r=this._Controls.length,i=0;i<r;i++)this._Controls[i].setIsRTL(this._IsRTL)},r.prototype.setEnabled=function(){var u=this._Enabled,r,i;if(t.prototype.setEnabled.apply(this,arguments),u!==this._Enabled)for(r=this._Controls.length,i=0;i<r;i++)this._Controls[i].setEnabled(this._Enabled)},r.prototype.getPendingState=function(){return this._IsPending},r.prototype.getName=function(){return n.resourceManager.getString(this.getResourceKey(),"Content")||this._Content},r.prototype.setPendingState=function(t){this._IsPending=t,this._IsPending?n.show(this._PendingScreenNode):n.hide(this._PendingScreenNode)},r.prototype.accomplish=function(){},r.prototype.rollback=function(){},r.prototype.show=function(){t.prototype.show.call(this),this._WereSettingsChanged=!1,this._auH=!0},r.prototype.hide=function(){t.prototype.hide.apply(this,arguments),this._auH=!1},r.prototype.isActive=function(){return this._auH},r}(t.Control);t.WizardStep=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){return r.call(this,n)||this}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._WizardSettings={},this._ButtonsHeight=21,this._ButtonsWidth=80,this._DoneButtonResourceKey="wFinal",this._MinWidth=100,this._MinHeight=100,this._MaxHeight=1e3,this._MaxWidth=1e3,this._ShowSteps=!1,this._Steps=[],this._CurrentStepIndex=0,this._defineEvents(["CompleteButtonClicked","CancelButtonClicked"]),this._cxT=30},u.prototype._render=function(){var t,i,u;if(r.prototype._render.apply(this,arguments),t=n.htmlToDOM("<table cellpadding='0' cellspacing='0' class='PPWizard'><tbody><tr><td class='PPWizardSteps'><\/td><td class='PPWizardContent'><\/td><\/tr><tr><td colspan='2' class='PPWizardButtons'><\/td><\/tr><\/tbody><\/table>"),this._WindowContentDomNode.appendChild(t),this._WizardStepsDomNode=t.rows[0].cells[0],this._WizardContentDomNode=t.rows[0].cells[1],this._WizardButtonsDomNode=t.rows[1].cells[0],this._ShowSteps||(this._WizardStepsDomNode.style.display="none"),this._StepsListBox=new n.Ui.ListBox({ParentNode:this._WizardStepsDomNode,Width:170,Height:this._sR(),ItemSelected:new n.Delegate(this._cxU,this),ItemClick:new n.Delegate(this._cxV,this)}),this._BottomLine=new n.Ui.LineLabel({ParentNode:this._WizardButtonsDomNode,Width:"100%",IsVisible:this._ShowSteps}),this._PreviousButton=new n.Ui.Button({Height:this._ButtonsHeight,Width:this._ButtonsWidth,ResourceKey:"wPrevious",ParentNode:this._WizardButtonsDomNode,Click:new n.Delegate(this._bcC,this)}),this._NextButton=new n.Ui.Button({Height:this._ButtonsHeight,Width:this._ButtonsWidth,ResourceKey:"wNext",ParentNode:this._WizardButtonsDomNode,Click:new n.Delegate(this._auI,this)}),this._DoneButton=new n.Ui.Button({Height:this._ButtonsHeight,Width:this._ButtonsWidth,ResourceKey:this._DoneButtonResourceKey,ParentNode:this._WizardButtonsDomNode,Click:new n.Delegate(this._aTx,this)}),this._CancelButton=new n.Ui.Button({Height:this._ButtonsHeight,Width:this._ButtonsWidth,ResourceKey:"wCancel",ParentNode:this._WizardButtonsDomNode,Click:new n.Delegate(this._auJ,this)}),this.setEnableResize(!1),i=this._Steps,this._Steps=[],!i.length)throw new n.ArgumentNullException(this,"Steps property is not defined.");for(u=0;u<i.length;u++)this.addStep(i[u])},u.prototype._ag0=function(){var t=4,n=0;return this._ShowSteps&&(n=this._StepsListBox.getWidth()+t),this.getContentWidth()-n},u.prototype._sR=function(){return this.getContentHeight()-this._cxT},u.prototype._dP=function(){var i,t,n,u;for(r.prototype._dP.call(this),i=this._ag0(),t=this._sR(),n=0,u=this._Steps.length;n<u;n++)this._Steps[n].setHeight(t),this._Steps[n].setWidth(i);this._StepsListBox.setHeight(t)},u.prototype._amQ=function(){for(var u=this._Steps[this._CurrentStepIndex-1],i=this._Steps[this._CurrentStepIndex],f=this._Steps[this._CurrentStepIndex+1],e=u?!0:!1,o=(i.getIsComplete()||!i.getIsRequired())&&(f?!0:!1),r=1,t,n=this._CurrentStepIndex;n<this._Steps.length;n++)t=this._Steps[n],r&=t.getIsComplete()||!t.getIsRequired();this._PreviousButton.setEnabled(e&&this._Enabled),this._NextButton.setEnabled(o&&this._Enabled),this._DoneButton.setEnabled(r&&this._Enabled),this._StepsListBox.setSelectedIndex(this._CurrentStepIndex),this._StepsListBox.setFocusedIndex(this._CurrentStepIndex)},u.prototype._bcD=function(n){var i,t,u,r;if(n!==this._CurrentStepIndex){if(i=this._CurrentStepIndex<n,t=this._Steps[this._CurrentStepIndex],i?t.accomplish():t.rollback(),t.hide(),u=i&&t.getWereSettingsChanged(),this._CurrentStepIndex=n,t=this._Steps[this._CurrentStepIndex],u)for(r=this._CurrentStepIndex+1;r<this._Steps.length;r++)this._Steps[r].setForceRedraw(!0);t.setIsVisible(!0),t.show(),this._bKq(),i&&t.setForceRedraw(!1),this._amQ()}},u.prototype._bKq=function(){for(var f=this._StepsListBox.getItems(),r="PPCompleted",i,u,t=0;t<f.length;t++){if(i=f[t],i.getEnabled()===!1)break;u=n.hasClass(i.getDomNode(),r),u&&t>=this._CurrentStepIndex?i.removeClass(r):!u&&t<this._CurrentStepIndex&&i.addClass(r)}this._StepsListBox.getItems()[this._CurrentStepIndex].setEnabled(!0)},u.prototype._cxU=function(n){this._bcD(n.getSelectedIndex())},u.prototype._cxV=function(n,t){t.Item.setIsHovered(!0)},u.prototype._bcC=function(){this._bcD(this._CurrentStepIndex-1)},u.prototype._auI=function(){this._bcD(this._CurrentStepIndex+1)},u.prototype._aTx=function(n,t){this.CompleteButtonClicked.fire(this,t),t.IsCancelClose||this.close()},u.prototype._auJ=function(n,t){this.CancelButtonClicked.fire(this,t),this.close()},u.prototype._bcE=function(n){var i=this._Steps.indexOf(n);i===this._CurrentStepIndex&&this._amQ()},u.prototype.getSteps=function(){return this._Steps},u.prototype.addStep=function(n){n.addToNode(this._WizardContentDomNode),n.setIsVisible(!1),n.setStepSettings(this._WizardSettings),n.setHeight(this._sR()),n.setWidth(this._ag0()),n.StateToggled.add(this._bcE,this),this._Steps.push(n);var i=n.getName()||"Untitled step";this._StepsListBox.addItem(new t.ListItem({Content:i,Data:n,Enabled:!1}))},u.prototype.removeStep=function(t,i){var r=this._Steps.indexOf(t);r!==-1&&(t.removeFromDOM(),t.setStepSettings(null),t.removeAllEvents(this),n.rmvFrmArr(this._Steps,t),i!==!1&&t.dispose(),this._StepsListBox.removeItemAt(r,i))},u.prototype.setIsRTL=function(){var i,t;for(r.prototype.setIsRTL.apply(this,arguments),this._PreviousButton&&this._PreviousButton.setIsRTL(this._IsRTL),this._NextButton&&this._NextButton.setIsRTL(this._IsRTL),this._DoneButton&&this._DoneButton.setIsRTL(this._IsRTL),this._CancelButton&&this._CancelButton.setIsRTL(this._IsRTL),this._StepsListBox&&this._StepsListBox.setIsRTL(this._IsRTL),this._BottomLine&&this._BottomLine.setIsRTL(this._IsRTL),i=this._Steps.length,t=0;t<i;t++)this._Steps[t].setIsRTL(this._IsRTL)},u.prototype.setWidth=function(n,t){r.prototype.setWidth.call(this,n,t),this._Steps[this._CurrentStepIndex]&&this._Steps[this._CurrentStepIndex].setWidth(this._ag0())},u.prototype.setHeight=function(n,t){r.prototype.setHeight.call(this,n,t),this._Steps[this._CurrentStepIndex]&&this._Steps[this._CurrentStepIndex].setHeight(this._sR()),this._StepsListBox.setHeight(n)},u.prototype.show=function(n,t,i){var u=this._Steps[this._CurrentStepIndex];this._CurrentStepIndex>=0&&u.hide(),this._CurrentStepIndex=0,u=this._Steps[0],u.setSettings(this._Settings),u.setIsVisible(!0),u.show(),this._bKq(),this._amQ(),r.prototype.showDialog.call(this,n,t,i),this._StepsListBox.setHeight(this._sR())},u.prototype.getWizardSettings=function(){return this._WizardSettings},u}(t.Window);t.Wizard=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._bcF(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["PositionChanging","ValueChanging","ValueChanged"]),this._Template=n.Templates.Button,this._Width=25,this._Height=15,this._Orientation=n.Orientation.Horizontal,this._IsStatic=!1},r.prototype._initFields=function(n){t.prototype._initFields.call(this,n);var i=this._MinValue,r=this._MaxValue;i!=null&&r!=null&&(this._MinValue=Math.min(i,r),this._MaxValue=Math.max(i,r)),this._Value!=null&&(this._MinValue!=null&&(this._Value=Math.max(this._MinValue,this._Value)),this._MaxValue!=null&&(this._Value=Math.min(this._MaxValue,this._Value)))},r.prototype._render=function(){t.prototype._render.call(this),this.addClass("PPSliderItem")},r.prototype._bIX=function(t){n.getCaptureNode()||this._IsStatic||(n.setCapture(this._DomNode),this._a9t(),this._aTy=this.getPosition(),this._bcG=n.calculateMouseCoords(t.Event),this.setIsPressed(!0),this._addEvent(document.body,"mousemove",this._aTz),this._addEvent(document.body,"mouseup",this._bKr),this._dEd=!1,this._ToolTip&&this._ShowToolTip&&(this._bKs&&n.clearTimeout(this._bKs),this._bJ=n.calculateMouseCoords(t.Event),this._ToolTip&&this._ShowToolTip&&(this._bKs=n.setTimeout(this._aQY,0,{},this)),this.MouseOver.remove(this._bq,this),this.MouseOut.remove(this._fZ,this)))},r.prototype._bKt=function(){return this._bcG},r.prototype._cG=function(){t.prototype._cG.apply(this,arguments)},r.prototype._b0=function(){t.prototype._b0.apply(this,arguments)},r.prototype._aTz=function(t,i){var o=n.calculateMouseCoords(i.Event),u,r,f,s,e,h;this._Orientation===n.Orientation.Horizontal?(u=o.X-this._bcG.X,r=0):(u=0,r=o.Y-this._bcG.Y),f={X:this._aTy.X+u,Y:this._aTy.Y+r},this._bcH||(this._bcH=!0,i.DoDragDrop=!1,i.MovingNode=null,this.DragStart.fire(this,i)),this.setPosition(f),this._ToolTip&&this._ShowToolTip&&this._ToolTip.getIsVisible()&&(f=this.getPosition(),u=f.X-this._aTy.X,r=f.Y-this._aTy.Y,s=Math.max(Math.round(this._bKu+u),0),h=document.body.scrollTop||document.documentElement.scrollTop,e=this._aTA+r-h>=0?Math.max(Math.round(this._aTA+r),0):Math.max(Math.round(this._bKv+r),0),this._ToolTip.show(s,e))},r.prototype._bKr=function(t,i){if(this._a9u(),this._k(document.body,"mousemove",this._aTz),this._k(document.body,"mouseup",this._bKr),this._bcH&&(delete this._bcH,this.DragEnd.fire(this,i)),n.releaseCapture(this._DomNode),this._ToolTip&&this._ShowToolTip&&(this.MouseOver.add(this._bq,this),this.MouseOut.add(this._fZ,this),this._ToolTip.getIsVisible())){var r=n.calculateMouseCoords(i.Event),u=n.calculateOffset(this._DomNode);(r.X<u.X||r.Y<u.Y||r.X>u.X+this._g(this._Width)||r.Y>u.Y+this._g(this._Height))&&this.hideToolTip()}},r.prototype._aQY=function(){var i,r,e,u,o;if(this.isLive()&&(i=this,n.isMouse&&i._k(i._DomNode,"mousemove",i._atq),n.isTouch&&i._k(i._DomNode,"touchmove",i._atq),r=i._bJ,r)&&(i._bJ=null,i._Enabled&&n.isVisible(i._DomNode))){r=n.calculateOffset(i._DomNode),i._ToolTip.show(r.X,r.Y);var s=i._ToolTip.getWidth(),h=i._ToolTip.getHeight(),c=this._g(i._Width),f=this._g(i._Height);i._bKu=r.X+c*.5-s*.5,i._aTA=r.Y+f*.5-h-16,i._bKv=r.Y+f*.5+16,e=Math.max(Math.round(i._bKu),0),o=document.body.scrollTop||document.documentElement.scrollTop,u=i._aTA-o>=0?Math.max(Math.round(i._aTA),0):Math.max(Math.round(i._bKv),0),i._ToolTip.show(e,u)}},r.prototype._a9t=function(){var t=document.body;this._bEc("selectstart",t,this._alT)||(this._addEvent(t,"selectstart",this._alT),this._aC1=!0),n.hasClass(t,"PPNoSelect")||(n.addClass(t,"PPNoSelect"),this._aC2=!0)},r.prototype._a9u=function(){var t=document.body;this._aC1&&(this._k(t,"selectstart",this._alT),delete this._aC1),this._aC2&&(n.removeClass(t,"PPNoSelect"),delete this._aC2)},r.prototype._alT=function(t,i){n.disableSelection(i.Event)},r.prototype._bcF=function(){(this._MinValue!==undefined||this._MaxValue!==undefined)&&this._MaxValue==this._MinValue&&this.setIsStatic(!0)},r.prototype._bcI=function(n,t){return isNaN(n)&&isNaN(t)||isNaN(n)&&!isNaN(t)||!isNaN(n)&&isNaN(t)?!0:n===t?!0:!1},r.prototype._bk=function(n,i){var r=t.prototype._bk.call(this,n,i);return this._bIX(i),r},r.prototype._bp=function(n,i){return t.prototype._bp.call(this,n,i),!1},r.prototype.getValue=function(){return this._Value},r.prototype.getMinValue=function(){return this._MinValue},r.prototype.getMaxValue=function(){return this._MaxValue},r.prototype.getIsStatic=function(){return this._IsStatic},r.prototype.getOrientation=function(){return this._Orientation},r.prototype.setOrientation=function(n){this._Orientation=n},r.prototype.setMinValue=function(n){n!==this._MinValue&&(this._MinValue=n,this._MaxValue!=null&&this._MinValue!=null&&(this._MinValue=Math.min(this._MinValue,this._MaxValue)),this._MinValue!=null&&this.getValue()<this._MinValue&&this.setValue(this._MinValue)),this._bcF()},r.prototype.setMaxValue=function(n){n!==this._MaxValue&&(this._MaxValue=n,this._MaxValue!=null&&this._MinValue!=null&&(this._MaxValue=Math.max(this._MinValue,this._MaxValue)),this._MaxValue!=null&&this.getValue()>this._MaxValue&&this.setValue(this._MaxValue)),this._bcF()},r.prototype.setIsStatic=function(n){this.removeClass("PPStatic"),this._IsStatic=n,this._IsStatic&&this.addClass("PPStatic")},r.prototype.setPosition=function(t){var i=this.getPosition(),r;this._bcI(t.X,i.X)&&this._bcI(t.Y,i.Y)||(r={OldValue:i,NewValue:t,Cancel:!1},this.PositionChanging.fire(this,r),r.Cancel||(this.setLeft(Math.round(t.X-this._g(this._Width)/2)),this.setTop(Math.round(t.Y-this._g(this._Height)/2)),n.fireEvent&&this.PositionChanged.fire(this)))},r.prototype.getPosition=function(){return{X:(parseInt(this._DomNode.style.left,10)||0)+this._g(this._Width)/2,Y:(parseInt(this._DomNode.style.top,10)||0)+this._g(this._Height)/2}},r.prototype.setValue=function(n){if(this._MinValue!=null&&(n=Math.max(this._MinValue,n)),this._MaxValue!=null&&(n=Math.min(this._MaxValue,n)),!this._bcI(n,this._Value)){var t=this._Value,i={OldValue:t,NewValue:n,Cancel:!1};this.ValueChanging.fire(this,i),i.Cancel||(this._Value=n,this.ValueChanged.fire(this,{OldValue:t,NewValue:n}))}},r}(t.Button);t.SliderItem=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._MaxItemsCount>=0&&i.setMaxItemsCount(i._MaxItemsCount),i._MinItemsCount>=0&&i.setMinItemsCount(i._MinItemsCount),i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Items=[],this._Ticks=[],this._Step=0,this._Template="<div class='PPAxis'><\/div><div class='PPTicks'><\/div><div class='PPLabels'><\/div><div class='PPItems'><\/div>",this._AxisTemplate="<div class='PPSliderAxis'><div class='PPSlots'><\/div><\/div>",this._TickTemplate="<div class='PPSliderTick'><div class='PPSliderTickContent'><\/div><\/div>",this._Orientation=n.Orientation.Horizontal,this._TicksPosition=n.LTRB.Bottom,this._TicksSpacing=5,this._DefaultItemType="SliderItem",this._DefaultTickType="Label",this._Width=200,this._Height=15,this._PaddingTop=7.5,this._PaddingLeft=15.5,this._PaddingBetween=12.5,this._AxisWeight=9,this._SlotsWeight=7,this._TicksWeight=0,this._TicksLength=0,this._CanCross=!0,this._AttachToTicks=!1,this._MaxItemsCount=-1,this._MinItemsCount=0,this._MoveOnClick=!1,this._CreateOnClick=!1,this._ShowLabels=!0,this._MinValue=0,this._MaxValue=1,this._ShowItemsToolTip=!1,this._ItemToolTipFormat="{0:#,##0.0}",this._defineEvents(["ActiveItemChanged","ItemValueChanged","ItemValueChanging","ItemClick"]),this._dY=0,this._sS=[],this._bcJ=0,this._bcK=0},r.prototype._initFields=function(i){if(i||(i={}),!n.isDefined(i.TicksPosition)){var r=i.Orientation||this._Orientation;switch(r){case n.Orientation.Horizontal:i.TicksPosition=n.LTRB.Bottom;break;case n.Orientation.Vertical:i.TicksPosition=n.LTRB.Right}}n.isString(i.Orientation)&&(i.Orientation=n.Orientation[i.Orientation]),t.prototype._initFields.call(this,i)},r.prototype._render=function(){this._initFromHTML("<div class='PPSlider'>"+this._Template+"<\/div>"),this._aEF=n.querySelector(this._DomNode,".PPAxis"),this._dEe=n.querySelector(this._DomNode,".PPItemsSlots"),this._dEf=n.querySelector(this._DomNode,".PPTicksSlots"),this._bT=n.querySelector(this._DomNode,".PPTicks"),this._bKw=n.querySelector(this._DomNode,".PPLabels"),this._yT=n.querySelector(this._DomNode,".PPItems"),this._aEF.appendChild(n.htmlToDOM(this._AxisTemplate)),n.addClass(this._aEF.firstChild,"PPSliderAxis"),this._yU=n.querySelector(this._DomNode,".PPSlots"),this.beginUpdate();var i=this._Items;this._Items=[],this.setItems(i),this.setTicks(this._Ticks),this.addClass(this._Orientation===n.Orientation.Horizontal?"Horizontal":"Vertical"),this.addClass("PPNoSelect"),this._CanCross||(this._amR=this.getSortedItems()),t.prototype._render.apply(this,arguments),this._ParentNode&&this.addToNode(this._ParentNode),this.endUpdate()},r.prototype._bp=function(t,i){var r,e;if(this._Enabled||i.Item){var o=n.calculateOffset(this._DomNode),s=n.calculateMouseCoords(i.Event),u={X:s.X-o.X,Y:s.Y-o.Y},f=this._bKx(),h=this._bcL();u.X<f.X||u.X>f.X+h.Width||u.Y<f.Y||u.Y>f.Y+h.Height||i.Item||(r=this._bKy(u),this._CreateOnClick?(r=this._ag1(e,r),this.addItem({Value:r})):this._MoveOnClick&&this._Items.length===1&&(e=this._Items[0],r=this._ag1(e,r),e.setValue(r)))}},r.prototype._bcM=function(n){this.ItemClick.fire(this,{Item:n})},r.prototype._yC=function(n){this._Enabled&&this._CreateOnClick&&this.removeItem(n)},r.prototype._bcN=function(t,i){for(var r=0,u=this._Items.length;r<u;r++)if(n.hasClass(this._Items[r].getDomNode(),"Selected"))return i.Break=!0,!1;this._m0(t,i)},r.prototype._ag2=function(){var t={X:0,Y:0},i={X:0,Y:0},u=this._sS[0],f=this._sS.length>1?this._sS[this._sS.length-1]:null,r;switch(this._Orientation){case n.Orientation.Horizontal:r=Math.max(this._PaddingLeft,this._bcJ/2),t.X=r,i.X=this._g(this._Width)-r;switch(this._TicksPosition){case n.LTRB.Top:t.Y=this._g(this._Height)-this._PaddingTop;break;case n.LTRB.Bottom:t.Y=this._PaddingTop;break;case n.LTRB.Right:case n.LTRB.Left:t.Y=this._PaddingTop,t.X=t.X+(u?u.getWidth():0),i.X=i.X-(f?f.getWidth():0)}i.Y=t.Y;break;case n.Orientation.Vertical:r=Math.max(this._PaddingTop,this._bcK/2),t.Y=r,i.Y=this._g(this._Height)-r;switch(this._TicksPosition){case n.LTRB.Left:t.X=this._g(this._Width)-this._PaddingLeft;break;case n.LTRB.Right:t.X=this._PaddingLeft;break;case n.LTRB.Top:case n.LTRB.Bottom:t.X=this._PaddingLeft,t.Y=t.Y+(f?f.getHeight():0),i.Y=i.Y-(u?u.getHeight():0)}i.X=t.X}return{Begin:t,End:i}},r.prototype._cxW=function(){var t={X:0,Y:0},i={X:0,Y:0},r;switch(this._Orientation){case n.Orientation.Horizontal:r=Math.max(this._PaddingLeft,this._bcJ/2),t.X=r,i.X=this._g(this._Width)-r;switch(this._TicksPosition){case n.LTRB.Top:t.Y=this._g(this._Height)-this._PaddingTop-this._PaddingBetween,i.Y=t.Y;break;case n.LTRB.Bottom:t.Y=this._PaddingTop+this._PaddingBetween,i.Y=t.Y;break;case n.LTRB.Left:case n.LTRB.Right:t.X=0,i.X=this._g(this._Width),t.Y=this._PaddingTop,i.Y=t.Y}break;case n.Orientation.Vertical:r=Math.max(this._PaddingTop,this._bcK/2),t.Y=r,i.Y=this._g(this._Height)-r;switch(this._TicksPosition){case n.LTRB.Left:t.X=this._g(this._Width)-this._PaddingLeft-this._PaddingBetween,i.X=t.X;break;case n.LTRB.Right:t.X=this._PaddingLeft+this._PaddingBetween,i.X=t.X;break;case n.LTRB.Top:case n.LTRB.Bottom:t.Y=0,i.Y=this._g(this._Height),t.X=this._PaddingLeft,i.X=t.X}}return{Begin:t,End:i}},r.prototype._bKy=function(t,i){i=i||this._ag2();var u=i.End.X-i.Begin.X+i.End.Y-i.Begin.Y,r=t.X-i.Begin.X+t.Y-i.Begin.Y;return(this._IsRTL&&this._Orientation===n.Orientation.Horizontal||this._Orientation===n.Orientation.Vertical)&&(r=u-r),r/u*(this._MaxValue-this._MinValue)+this._MinValue},r.prototype._ag3=function(t,i){return i=i||this._ag2(),t=this._MaxValue>this._MinValue?(t-this._MinValue)/(this._MaxValue-this._MinValue):.5,t=Math.max(Math.min(t,1),0),(this._IsRTL&&this._Orientation===n.Orientation.Horizontal||this._Orientation===n.Orientation.Vertical)&&(t=1-t),{X:i.Begin.X+t*(i.End.X-i.Begin.X),Y:i.Begin.Y+t*(i.End.Y-i.Begin.Y)}},r.prototype._amS=function(t){var i=this._Ticks[t],u=n.isObject(i),f=i instanceof n.Ui.Control,r;return r=u&&!f&&i.Value!==undefined?i.Value:typeof i=="number"?i:t/Math.max(1,this._Ticks.length-1)*(this._MaxValue-this._MinValue)+this._MinValue,Math.min(Math.max(r,this._MinValue),this._MaxValue)},r.prototype._cxX=function(t){var i=this._Ticks[t],r=n.isObject(i),u=i instanceof n.Ui.Control;return r&&!u&&i.Content!==undefined?i.Content:i},r.prototype._bcL=function(t){t=t||this._ag2();var i=t.End.X-t.Begin.X+2,r=t.End.Y-t.Begin.Y+2;switch(this._Orientation){case n.Orientation.Horizontal:r=this._AxisWeight;break;case n.Orientation.Vertical:i=this._AxisWeight}return{Width:i,Height:r}},r.prototype._bKx=function(t){t=t||this._ag2();var i={X:t.Begin.X-1,Y:t.Begin.Y-1};switch(this._Orientation){case n.Orientation.Horizontal:i.Y-=this._AxisWeight/2-1;break;case n.Orientation.Vertical:i.X-=this._AxisWeight/2-1}return i},r.prototype._cxY=function(){if(this._yU){var t=n.createElement(this._yU,"PPSlot");n.createElement(t,"PPSliderAxisSlotContent")}},r.prototype._cxZ=function(){this._yU&&this._yU.removeChild(this._yU.childNodes[this._yU.childNodes.length-1])},r.prototype._nd=function(){var i,t,n,r,u;if(!(this._dY>0)){for(i=this._ag2(),t=0;t<this._Items.length;t++)n=this._Items[t],n.setOrientation(this._Orientation),r=n.getValue(),u=this._ag3(r,i),n.PositionChanged.suspend(),n.PositionChanging.suspend(),n.setPosition(u),n.PositionChanging.resume(),n.PositionChanged.resume();this._CanCross||(this._amR=this.getSortedItems()),this._auK()}},r.prototype._bKz=function(){var o,i,r;if(!(this._dY>0)){var s=this._cxW(),l=this._ag2(),f={Width:this._TicksWeight,Height:this._TicksLength},u,h,e,c,t;for(this._Orientation===n.Orientation.Vertical&&(f.Width=this._TicksLength,f.Height=this._TicksWeight),u=0,h=this._Ticks.length;u<h;u++)c=this._amS(u),t=this._ag3(c,l),e=this._bT.childNodes[u],o=e.style,o.left=t.X-f.Width/2+"px",o.top=t.Y-f.Height/2+"px",o.width=f.Width+"px",o.height=f.Height+"px";if(this._ShowLabels&&this._Ticks.length){for(u=this._sS.length-1;u>=0;u--)e=this._sS[u],e.isLive()&&(e.setContent(),e.dispose());this._sS=[],i=new n.Rect({Left:this._PaddingLeft,Top:this._PaddingTop,Width:this._g(this._Width)-2*this._PaddingLeft,Height:this._g(this._Height)-2*this._PaddingTop}),t=this._ag3(this._amS(0),s),this._aTB(i,0,t),t=this._ag3(this._amS(this._Ticks.length-1),s),this._aTB(i,this._Ticks.length-1,t);switch(this._Orientation){case n.Orientation.Horizontal:if([n.LTRB.Left,n.LTRB.Right].indexOf(this._TicksPosition)>-1)break;for(r=1;r<this._Ticks.length-1;r++)t=this._ag3(this._amS(r),s),t.X>=i.getLeft()&&t.X<=i.getLeft()+i.getWidth()&&this._aTB(i,r,t);break;case n.Orientation.Vertical:if([n.LTRB.Top,n.LTRB.Bottom].indexOf(this._TicksPosition)>-1)break;for(r=1;r<this._Ticks.length-1;r++)t=this._ag3(this._amS(r),s),t.Y>=i.getTop()&&t.Y<=i.getTop()+i.getHeight()&&this._aTB(i,r,t)}i.dispose()}}},r.prototype._aTB=function(t,i,r){var y=this._cxX(i),u=n.create({Class:"PPSliderTick",ParentNode:this._bKw,Enabled:this._Enabled,IsRTL:this._IsRTL,PPType:this._DefaultTickType}),s,e,h,c,o,l,f,a,v;this._sS.push(u),u.setContent(y);switch(this._Orientation){case n.Orientation.Horizontal:if(s=u.getWidth(),e=Math.max(0,Math.min(this.getWidth()-s,r.X-s/2)),h=e+s,a=this._IsRTL?i===this._Ticks.length-1:i===0,v=this._IsRTL?i===0:i===this._Ticks.length-1,e<t.getLeft()&&!a||h>t.getLeft()+t.getWidth()&&!v){u.setContent(null),u.dispose();return}u.setLeft(e),Math.abs(e-t.getLeft())<Math.abs(h-t.getLeft()-t.getWidth())?(f=h+this._TicksSpacing-t.getLeft(),f>0&&(t.setLeft(t.getLeft()+f),t.setWidth(t.getWidth()-f))):(f=t.getLeft()+t.getWidth()-e+this._TicksSpacing,f>0&&t.setWidth(t.getWidth()-f));switch(this._TicksPosition){case n.LTRB.Top:u.setTop(r.Y-u.getHeight());break;case n.LTRB.Bottom:u.setTop(r.Y);break;case n.LTRB.Right:case n.LTRB.Left:u.setTop(Math.max(r.Y-u.getHeight()/2,0))}break;case n.Orientation.Vertical:if(c=u.getHeight(),o=Math.max(0,Math.min(this.getHeight()-c,r.Y-c/2)),l=o+c,l>t.getTop()+t.getHeight()&&i>0||o<t.getTop()&&i<this._Ticks.length-1){u.setContent(null),u.dispose();return}u.setTop(o),Math.abs(o-t.getTop())<Math.abs(l-t.getTop()-t.getHeight())?(f=l+this._TicksSpacing-t.getTop(),f>0&&(t.setTop(t.getTop()+f),t.setHeight(t.getHeight()-f))):(f=t.getTop()+t.getHeight()-o+this._TicksSpacing,f>0&&t.setHeight(t.getHeight()-f));switch(this._TicksPosition){case n.LTRB.Left:u.setLeft(r.X-u.getWidth());break;case n.LTRB.Right:u.setLeft(r.X);break;case n.LTRB.Top:case n.LTRB.Bottom:u.setLeft(Math.max(r.X-u.getWidth()/2,0))}}},r.prototype._cx0=function(){if(this._aEF||this._aEF.firstChild){var r=this._aEF.firstChild,n=r.style,t=this._bKx(),i=this._bcL();n.width=i.Width+"px",n.height=i.Height+"px",n.left=t.X+"px",n.top=t.Y+"px"}},r.prototype._auK=function(){var o,s,t,h,c;if(this._yU&&!(this._dY>0)){while(this._yU.childNodes.length<this._Items.length+1)this._cxY();while(this._yU.childNodes.length>this._Items.length+1)this._cxZ();var u=this._ag2(),f=this._yU.childNodes,l=this.getSortedItems(),i=[],e=0,r;for(i.push(0),o=0,h=l.length;o<h;o++)i.push(l[o].getValue());i.push(1);switch(this._Orientation){case n.Orientation.Horizontal:e=Math.ceil(Math.abs(u.Begin.X-u.End.X));break;case n.Orientation.Vertical:e=Math.ceil(Math.abs(u.Begin.Y-u.End.Y))}for(s=0,t=0,h=i.length-1;t<h;t++){c=t<i.length-2?Math.round(i[t+1]*e):e;switch(this._Orientation){case n.Orientation.Horizontal:r=f[t].style,r.width=this._g(c-s)+"px",r.height=this._SlotsWeight+"px",f[t].className="PPSlot PPSliderAxisSlot_"+t;break;case n.Orientation.Vertical:r=f[i.length-2-t].style,r.width=this._SlotsWeight+"px",r.height=this._g(c-s)+"px",f[i.length-2-t].className="PPSlot PPSliderAxisSlot_"+t}s=c}}},r.prototype._ag1=function(n,t){return this._cx1(t==null?n.getValue():t,this.getBounds(n))},r.prototype._cx1=function(n,t){var r,u;if(this._AttachToTicks&&this._MaxValue>this._MinValue&&this._Ticks.length>0){for(var i=0,o=this._Ticks.length,s,f,h=null,e=null,i=0;i<o;i++)if(h=f,s=this._amS(i),f=Math.abs(n-s),f>h){e=i-1;break}n=this._amS(e===null?o-1:e)}return this._Step>0&&(r=Math.floor((n-t.Begin)/this._Step)*this._Step+t.Begin,u=Math.ceil((n-t.Begin)/this._Step)*this._Step+t.Begin,r=Math.max(r,t.Begin),u=Math.min(u,t.End),n=Math.abs(n-r)<Math.abs(n-u)?r:u),n=Math.max(t.Begin,Math.min(t.End,n))},r.prototype._cx2=function(n,t){var i=this._ag2(),f=this.getBounds(n),e={X:Math.max(i.Begin.X,Math.min(i.End.X,t.NewValue.X)),Y:Math.max(i.Begin.Y,Math.min(i.End.Y,t.NewValue.Y))},r=this._bKy(e,i),u;r=Math.min(f.End,Math.max(f.Begin,r)),n.setValue(r),r=n.getValue(),u=this._ag3(r),(u.X!==t.NewValue.X||u.Y!==t.NewValue.Y)&&(t.Cancel=!0,n.setPosition(u)),this.setActiveItem(n),this._auK()},r.prototype._bcO=function(n){this._amC=n},r.prototype._bcP=function(n){var i,r;delete this._amC,i=n.getValue(),(this._AttachToTicks||this._Step>0)&&(i=this._ag1(n,null)),i!==n.getValue()?(this._bKA=!0,n.setValue(i)):(r=this._bKB(n),this.ItemValueChanged.fire(this,r)),this.setActiveItem(n),this._auK()},r.prototype._bKB=function(n){return{Item:n,Value:n.getValue(),TickIndex:this.getItemTickIndex(n)}},r.prototype._bcQ=function(t){var u,f,r;this._bKA||(u=this._ag3(t.getValue()),t.PositionChanged.suspend(),t.PositionChanging.suspend(),t.setPosition(u),t.PositionChanging.resume(),t.PositionChanged.resume(),this._ShowItemsToolTip&&(f=t===this._amC?this._ag1(t,t.getValue()):t.getValue(),t.setToolTip(n.String.format(this._ItemToolTipFormat,f)),t.MouseOut.remove(this._fZ,t))),this._bKA=!1,r=this._bKB(t),t===this._amC?this.ItemValueChanging.fire(this,r):this.ItemValueChanged.fire(this,r)},r.prototype._yV=function(t){var i=t,r,f,u;if(!(t instanceof n.Ui.SliderItem)){if(r=t,n.isDefined(t)||(r={}),!n.isDefined(r.Value)&&(r.Value=this._MinValue,this._ActiveItem))for(f=this.getSortedItems(),u=0;u<f.length;u++)if(f[u]===this._ActiveItem){if(u+1<f.length){r.Value=(f[u+1].getValue()+this._ActiveItem.getValue())/2;break}if(u>0){r.Value=(f[u-1].getValue()+this._ActiveItem.getValue())/2;break}r.Value=this._MaxValue}r.PPType||(r.PPType=this._DefaultItemType),i=n.create(t)}return this._ShowItemsToolTip&&i.setToolTip(n.String.format(this._ItemToolTipFormat,i.getValue())),i.setEnabled(this._Enabled),i.setIsRTL(this._IsRTL),i.setOrientation(this._Orientation),i.addToNode(this._yT),i.PositionChanging.add(this._cx2,this),i.DragStart.add(this._bcO,this),i.DragEnd.add(this._bcP,this),i.ValueChanged.add(this._bcQ,this),i.Click.add(this._bcM,this),i.DblClick.add(this._yC,this),i},r.prototype._cx3=function(n,t){return n.getValue()-t.getValue()},r.prototype._bKC=function(){this._bKz(),this._nd()},r.prototype.getMinValue=function(){return this._MinValue},r.prototype.getMaxValue=function(){return this._MaxValue},r.prototype.getAttachToTicks=function(){return this._AttachToTicks},r.prototype.getOrientation=function(){return this._Orientation},r.prototype.getCanCross=function(){return this._CanCross},r.prototype.getItems=function(){return this._Items},r.prototype.getTicks=function(){return this._Ticks},r.prototype.getTicksSpacing=function(){return this._TicksSpacing},r.prototype.getMaxItemsCount=function(){return this._MaxItemsCount},r.prototype.getMinItemsCount=function(){return this._MinItemsCount},r.prototype.getActiveItem=function(){return this._ActiveItem},r.prototype.getMoveOnClick=function(){return this._MoveOnClick},r.prototype.getCreateOnClick=function(){return this._CreateOnClick},r.prototype.getShowItemsToolTip=function(){return this._ShowItemsToolTip},r.prototype.getItemToolTipFormat=function(){return this._ItemToolTipFormat},r.prototype.getStep=function(){return this._Step},r.prototype.setMoveOnClick=function(n){this._MoveOnClick=n},r.prototype.setCreateOnClick=function(n){this._CreateOnClick=n},r.prototype.setShowItemsToolTip=function(n){this._ShowItemsToolTip=n},r.prototype.setItemToolTipFormat=function(n){this._ItemToolTipFormat=n},r.prototype.setStep=function(n){this._Step=n},r.prototype.getBounds=function(n){var i=this._MinValue,r=this._MaxValue,t,u;if(!this._CanCross)for(t=0,u=this._amR.length;t<u;t++)this._amR[t]===n&&(t>0&&(i=this._amR[t-1].getValue()),t<this._amR.length-1&&(r=this._amR[t+1].getValue()));return{Begin:Math.ceil(i*1e6)/1e6,End:Math.floor(r*1e6)/1e6}},r.prototype.setMinValue=function(t){if(t<=this._MaxValue)this._MinValue=t,this._nd();else throw new n.OutOfRangeException(this,"MinValue must be less then MaxValue");},r.prototype.setMaxValue=function(t){if(t>=this._MinValue)this._MaxValue=t,this._nd();else throw new n.OutOfRangeException(this,"MaxValue must be more this MinValue");},r.prototype.setEnabled=function(n){t.prototype.setEnabled.apply(this,arguments);for(var i=0,r=this._Items.length;i<r;i++)this._Items[i].setEnabled(n);for(i=0,r=this._sS.length;i<r;i++)this._sS[i].setEnabled(n)},r.prototype.setIsRTL=function(i){t.prototype.setIsRTL.apply(this,arguments),this._TicksPosition===n.LTRB.Left?this._TicksPosition=n.LTRB.Right:this._TicksPosition===n.LTRB.Right&&(this._TicksPosition=n.LTRB.Left);for(var r=0,u=this._Items.length;r<u;r++)this._Items[r].setIsRTL(i);for(r=0,u=this._sS.length;r<u;r++)this._sS[r].setIsRTL(i);this.update()},r.prototype.setLastActiveItem=function(){var n=this._Items.length?this._Items[this._Items.length-1]:null;this.setActiveItem(n)},r.prototype.setActiveItem=function(t){this._ActiveItem!==t&&(this._ActiveItem&&this._ActiveItem.removeClass("Current"),this._ActiveItem=t,this._ActiveItem==null&&(this._ActiveItem=this._Items.length?this._Items[this._Items.length-1]:null),this._ActiveItem&&(this._ActiveItem.addClass("Current"),n.isInDOM(this._ActiveItem.getDomNode())||this._ActiveItem.addToNode(this._yT)),this.ActiveItemChanged.fire(this,{}))},r.prototype.setAttachToTicks=function(n){this._AttachToTicks=n,this._nd()},r.prototype.setOrientation=function(t){var i,r,u;this._Orientation!==t&&(this.beginUpdate(),i={},i[n.Orientation.Horizontal]="Horizontal",i[n.Orientation.Vertical]="Vertical",this.removeClass(i[this._Orientation]),this._Orientation=t,this.addClass(i[t]),r=this._Height,u=this._Width,this._Height=null,this._Width=null,this._Orientation==n.Orientation.Vertical?this.setHeight(u):this.setWidth(r),this.endUpdate())},r.prototype.setWidth=function(i){var u=this._PaddingLeft*2;this._Ticks.length&&this._ShowLabels&&this._Orientation==n.Orientation.Vertical&&(u+=this._PaddingBetween*2),i=Math.max(u,this._g(i)),t.prototype.setWidth.apply(this,arguments),this.update()},r.prototype.setHeight=function(i){var u=this._PaddingTop*2;this._Ticks.length&&this._ShowLabels&&this._Orientation==n.Orientation.Horizontal&&(u+=this._PaddingBetween*2),i=Math.max(u,this._g(i)),t.prototype.setHeight.apply(this,arguments),this.update()},r.prototype.setCanCross=function(n){this._CanCross=n,this._amR=this.getSortedItems()},r.prototype.setItems=function(n){var i,t;for(n=n||[],this.beginUpdate(),this.removeItems(),i=Math.min(n.length,this._MaxItemsCount>=0?this._MaxItemsCount:n.length),t=0;t<i;t++)this.addItem(n[t]);while(this._Items.length<this._MinItemsCount)this.addItem({});this.endUpdate()},r.prototype.removeItems=function(){for(var i=Math.min(this._Items.length||0,Math.max(0,this._MinItemsCount)||0),r,t=i;t<this._Items.length;t++)this._Items[t].dispose();for(r=this._Items.length,r||n.removeChildren(this._yT);this._Items.length!=i;)this._Items.splice(-1);this._ActiveItem=undefined,this.setActiveItem(null),this._nd()},r.prototype.addItem=function(n){var i=0,r=0,t;(this._MaxItemsCount<0||this._Items.length<this._MaxItemsCount)&&(t=this._yV(n),i=Math.max(i,t.getWidth()),r=Math.max(r,t.getHeight()),this._Items.push(t),this.setActiveItem(t),this._nd()),this._bcJ=i,this._bcK=r},r.prototype.getItem=function(n){return this._Items[n]},r.prototype.getItemById=function(n){for(var t=0;t<this._Items.length;t++)if(this._Items[t].getId()===n)return this._Items[t];return null},r.prototype.removeItemByIndex=function(n){if(!(this._Items.length<=this._MinItemsCount)&&!(n<0)&&!(n>=this._Items.length)){var t=this._Items[n];t===this._ActiveItem&&this.setActiveItem(null),this._yT.removeChild(t.getDomNode()),t.dispose(),this._Items.splice(n,1),this._nd()}},r.prototype.removeItem=function(n){this.removeItemByIndex(this._Items.indexOf(n))},r.prototype.setDraggable=function(n){n?this.MouseDown.add(this._bcN,this):this.MouseDown.contains(this._bcN,this)&&this.MouseDown.remove(this._bcN,this)},r.prototype.setTicks=function(n){this.beginUpdate(),this.removeTicks();for(var t=0;t<n.length;t++)this.addTick(n[t]);this.endUpdate()},r.prototype.removeTicks=function(){this._Ticks=[],n.removeChildren(this._bT),n.removeChildren(this._bKw),this.update()},r.prototype.addTick=function(t){var i=n.htmlToDOM(this._TickTemplate);this._bT.appendChild(i),this._Ticks.push(t),this.update()},r.prototype.getTick=function(n){return this._Ticks[n]},r.prototype.removeTickByIndex=function(t){!n.isNumber(t)||t<0||t>=this._Ticks.length||(this._Ticks.splice(t,1),this._bKC())},r.prototype.setTicksSpacing=function(n){this._TicksSpacing!==n&&(this._TicksSpacing=n,this._bKC())},r.prototype.update=function(){this._dY>0||(this._bKz(),this._nd(),this._cx0())},r.prototype.beginUpdate=function(){this._dY++},r.prototype.endUpdate=function(){this._dY--,this._dY<0&&(this._dY=0),this.update()},r.prototype.addToNode=function(){t.prototype.addToNode.apply(this,arguments),this.update()},r.prototype.getSortedItems=function(n){return this._Items.sort(n||this._cx3)},r.prototype.updateSize=function(){this._Orientation==n.Orientation.Vertical?this.setHeight(this._Height):this.setWidth(this._Width)},r.prototype.getItemTickIndex=function(n){if(this._MaxValue>this._MinValue&&this._Ticks.length>1){var t=(n.getValue()-this._MinValue)/(this._MaxValue-this._MinValue);return Math.round((this._Ticks.length-1)*t)}return 0},r.prototype.setItemTickIndex=function(n,t){var i=t/(this._Ticks.length-1);i=Math.min(Math.max(i,this._MinValue),this._MaxValue),n.setValue(i)},r.prototype.fillAxis=function(t){t&&(this._PPSliderAxisNode||(this._PPSliderAxisNode=n.querySelector(this._DomNode,".PPSliderAxis")),t.applyToNode(this._PPSliderAxisNode))},r.prototype.setMaxItemsCount=function(t){if(this._MinItemsCount>=0&&t>=this._MinItemsCount||this._MinItemsCount<0||t==-1)this._MaxItemsCount=t;else throw new n.ArgumentException(this,"Incorrect MaxItemsCount value");while(this._Items.length>this._MaxItemsCount){var i=this._Items.length-1;this._Items[i]instanceof n.Ui.SliderItem?this.removeItemByIndex(this._Items.length-1):this._Items.splice(-1)}},r.prototype.setMinItemsCount=function(t){if(this._MaxItemsCount>=0&&t<=this._MaxItemsCount||this._MaxItemsCount<0||t==-1)this._MinItemsCount=t;else throw new n.ArgumentException(this,"Incorrect _MinItemsCount value");},r.prototype.getSettings=function(){var i=t.prototype.getSettings.apply(this,arguments);return this._Orientation==n.Orientation.Horizontal?delete i.Height:delete i.Width,i.LastActiveItem&&delete i.LastActiveItem,i},r}(t.Control);t.Slider=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var u,r;(function(n){n[n.Top=0]="Top",n[n.Bottom=1]="Bottom",n[n.Left=2]="Left",n[n.Right=3]="Right"})(u=t.SpoilerPosition||(t.SpoilerPosition={})),r=function(t){function r(n){var i=t.call(this,n)||this;return i.setIsAbsolutePositioning(!1),i._IsExpanded===!1&&i._acB(!1),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._EnableResize=!0,this._Position=n.Ui.SpoilerPosition.Left,this._DefaultContentMargin=10,this._DefaultResizerSize=3,this._MinPanelSize=50,this._MaxPanelSize=250,this._CollapsedSize=40,this._Title="",this._IsExpanded=!0,this._ImagePath=n.ImagePath,this._bcR=null,this._bKD=0,this._bKE=0,this._defineEvents(["Resizing","Resized","Collapsed","Expanded"])},r.prototype._bindEvents=function(){t.prototype._bindEvents.apply(this,arguments),this._addEvent(this._ResizerContainer,"mousedown",this._jh),this._addEvent(document,"mouseup",this._vr),this._addEvent(this._ResizerContainer,"mousemove",this._vs)},r.prototype._unBindEvents=function(){t.prototype._unBindEvents.apply(this,arguments),this._k(this._ResizerContainer,"mousedown",this._jh),this._k(document,"mouseup",this._vr),this._k(this._ResizerContainer,"mousemove",this._vs)},r.prototype._render=function(){var i=this._ParentNode,r=this._EnableResize;delete this._ParentNode,this._ResizerContainer=n.htmlToDOM('<div class="PPSpoilerResizerContainer"><div class="PPSpoilerResizer"><\/div><\/div>',!1,!1),this._TitleButtonsContainer=n.htmlToDOM('<div class="PPSpoilerTitleButtonsContainer"><\/div>',!1,!1),this._ExpandButton=this._cx4(this._TitleButtonsContainer),t.prototype._render.apply(this,arguments),this.addClass("PPSpoiler"),i&&(this._ParentNode=i,this.addToNode(i)),this.setSize(this.getWidth(),this.getHeight()),this.setEnableResize(r&&this.getEnabled())},r.prototype._cx4=function(t){if(!this._ExpandButton){var i={Content:this.getTitle(),ImageUrl:this._ImagePath+"spoiler-double-arrow-down.png",ImagePosition:n.AnchorStyles.Left,ParentNode:t||null,Class:"PPSpoilerExpandButton NoReleaseBorder"};this._ExpandButton=new n.Ui.Button(i),this._ExpandButton.Click.add(this._cx5,this)}return this._ExpandButton},r.prototype._cx5=function(){this.setIsExpanded(!0)},r.prototype._jh=function(t,i){if(this._EnableResize&&i.Event.which===1&&this._Enabled){this._fB=!0,n.setCapture(this._ResizerContainer);var u=this._ResizerContainer.getBoundingClientRect().left+1,f=this._ResizerContainer.getBoundingClientRect().top+1,r=this._amT();this._acC=r=="Vertical"?u:f,this._iN=n.createElement(document.body,"PPSpoilerPhantomResizer"),this._iN.style.top=f+"px",this._iN.style.left=u+"px",this._iN.style.width=r=="Vertical"?"1px":this._Width+"px",this._iN.style.height=r=="Vertical"?this._Height+"px":"1px",document.body.style.cursor=r=="Vertical"?"e-resize":"n-resize",this.Resizing.fire(this,{startPosition:this._acC})}},r.prototype._vs=function(n,t){if(!this._fB||!this._Enabled)return!1;if(this._iN){var i=this._amT();i==="Vertical"?this._iN.style.left=t.Event.clientX+"px":this._iN.style.top=t.Event.clientY+"px"}},r.prototype._vr=function(){var e,o;if(!this._fB||!this._Enabled)return!1;var s=this.getIsRTL(),u=n.Ui.SpoilerPosition,f=this.getPosition();this._fB=!1;var h=this._amT(),c=h==="Vertical"?parseFloat(this._iN.style.left)-this._acC:parseFloat(this._iN.style.top)-this._acC,r=parseInt(c+"",10);if((f===u.Right&&!s||f===u.Left&&s||f===u.Bottom)&&(r=-r),this._iN.parentNode.removeChild(this._iN),this._iN=null,document.body.style.cursor="",n.releaseCapture(this._ResizerContainer),h==="Vertical"){if(e=this.getWidth()+r,e<=this.getMinPanelSize()){this.setIsExpanded(!1);return}this.setWidth(e)}else{if(o=this.getHeight()+r,o<=this.getMinPanelSize()){this.setIsExpanded(!1);return}this.setHeight(o)}this.Resized.fire(this,{delta:r})},r.prototype._amT=function(){var t=n.Ui.SpoilerPosition,i=this.getPosition();return i===t.Right||i===t.Left?"Vertical":"Horizontal"},r.prototype._aEG=function(){var f=n.Ui.SpoilerPosition,e=this.getIsRTL(),r=this.getDomNode(),t,i,u;r.parentNode&&(r===this._ResizerContainer.parentNode&&r.removeChild(this._ResizerContainer),t=this._CntDomNode.style,u=this._Position,u===f.Left&&!e||u===f.Right&&e?(this._bcS(),t.height="",t.top="0px",t.left="0px",t.right="",t.bottom="",r.appendChild(this._ResizerContainer),i=this._ResizerContainer.style,i.right="0px",i.left=""):u===f.Right&&!e||u===f.Left&&e?(this._bcS(),t.height="",t.top="0px",t.right="0px",t.left="",t.bottom="",e?r.appendChild(this._ResizerContainer):r.insertBefore(this._ResizerContainer,this._CntDomNode),i=this._ResizerContainer.style,i.left="0px",i.right=""):u===f.Top?(this._bcT(),t.width="",t.top="0px",t.left="0px",t.right="",t.bottom="",r.appendChild(this._ResizerContainer),i=this._ResizerContainer.style,i.bottom="0px"):u===f.Bottom&&(this._bcT(),t.width="",t.bottom="0px",t.left="0px",t.right="",t.top="",r.insertBefore(this._ResizerContainer,this._CntDomNode),i=this._ResizerContainer.style,i.top="0px"))},r.prototype._bcS=function(){var n=this._CntDomNode.style,t=this._amT(),i=t==="Vertical"?Math.max(this.getDefaultContentMargin(),this.getDefaultResizerSize()):0;return n.width=this.getWidth()-i+"px",this},r.prototype._bcT=function(){var n=this._CntDomNode.style,t=this._amT(),i=t==="Horizontal"?Math.max(this.getDefaultContentMargin(),this.getDefaultResizerSize()):0;return n.height=this.getHeight()-i+"px",this},r.prototype._qF=function(t){var i=this.getDomNode();t?(n.removeClass(i,"PPNoSelect"),i.removeAttribute("onselectstart")):(n.addClass(i,"PPNoSelect"),i.setAttribute("onselectstart","return false;"))},r.prototype._amU=function(){this._cx6&&this.setEnableResize(!0),this._bcR&&(this.setContent(this._bcR),this.setWidth(this._bKD),this.setHeight(this._bKE),this.Expanded.fire(this,{}))},r.prototype._acB=function(t){t=n.isDefined(t)?t:!0,this._bKD=this.getWidth(),this._bKE=this.getHeight(),this._bcR=this.getContent(),this._cx6=this.getEnableResize(),this.clear(!1);switch(this.getPosition()){case n.Ui.SpoilerPosition.Left:case n.Ui.SpoilerPosition.Right:this.setWidth(this._CollapsedSize,!0);break;case n.Ui.SpoilerPosition.Top:case n.Ui.SpoilerPosition.Bottom:this.setHeight(this._CollapsedSize,!0)}this.setContent(this._TitleButtonsContainer),this.setEnableResize(!1),t&&this.Collapsed.fire(this,{})},r.prototype.getPosition=function(){return this._Position},r.prototype.getEnableResize=function(){return this._EnableResize},r.prototype.getTitle=function(){return this._Title},r.prototype.getIsExpanded=function(){return this._IsExpanded},r.prototype.getMinPanelSize=function(){return this._MinPanelSize},r.prototype.getMaxPanelSize=function(){return this._MaxPanelSize},r.prototype.getDefaultContentMargin=function(){return this._DefaultContentMargin},r.prototype.getDefaultResizerSize=function(){return this._DefaultResizerSize},r.prototype.setDefaultContentMargin=function(n){this._DefaultContentMargin=n},r.prototype.setDefaultResizerSize=function(n){this._DefaultResizerSize=n},r.prototype.addToNode=function(){t.prototype.addToNode.apply(this,arguments),this.setPosition(this._Position)},r.prototype.setPosition=function(t){var u;this._Position=t;var f=n.Ui.SpoilerPosition,r="",i=[];switch(this._Position){case f.Left:r="Left",i=["Right","Top","Bottom"],this._ExpandButton.setImagePosition(n.AnchorStyles.Right);break;case f.Right:r="Right",i=["Left","Top","Bottom"],this._ExpandButton.setImagePosition(n.AnchorStyles.Left);break;case f.Top:r="Top",i=["Right","Left","Bottom"],this._ExpandButton.setImagePosition(n.AnchorStyles.Left);break;case f.Bottom:r="Bottom",i=["Right","Top","Left"],this._ExpandButton.setImagePosition(n.AnchorStyles.Left)}for(u=i.length-1;u>=0;u--)this.removeClass(i[u]),this._ExpandButton.removeClass(i[u]);this.addClass(r),this._ExpandButton.addClass(r),this._aEG()},r.prototype.setWidth=function(n){this._IsExpanded&&this._amT()==="Vertical"&&(n<this.getMinPanelSize()&&(n=this.getMinPanelSize()),n>this.getMaxPanelSize()&&(n=this.getMaxPanelSize())),t.prototype.setWidth.apply(this,arguments),this._bcS()},r.prototype.setHeight=function(n){this._IsExpanded&&this._amT()==="Horizontal"&&(n<this.getMinPanelSize()&&(n=this.getMinPanelSize()),n>this.getMaxPanelSize()&&(n=this.getMaxPanelSize())),t.prototype.setHeight.apply(this,arguments),this._bcT()},r.prototype.setEnableResize=function(n){this._EnableResize=n,this._ResizerContainer&&(this._ResizerContainer.style.cursor=this._EnableResize?"":"default")},r.prototype.setTitle=function(n){this._Title=n,this._ExpandButton&&this._ExpandButton.setContent(n)},r.prototype.setIsExpanded=function(n){n!==this._IsExpanded&&(this._IsExpanded=n,n===!0?this._amU():this._acB())},r.prototype.setIsRTL=function(){t.prototype.setIsRTL.apply(this,arguments),this._aEG()},r.prototype.setEnabled=function(n){t.prototype.setEnabled.apply(this,arguments),this._ExpandButton&&this._ExpandButton.setEnabled(n),this.getIsExpanded()&&this.setEnableResize(this.getEnabled())},r.prototype.setMinPanelSize=function(t){if(t>this._MaxPanelSize)throw new n.ArgumentException(this,"MinPanelSize can't be bigger than MaxPanelSize");this._MinPanelSize=t},r.prototype.setMaxPanelSize=function(t){if(t<this._MinPanelSize)throw new n.ArgumentException(this,"MaxPanelSize can't be smaller than MinPanelSize");this._MaxPanelSize=t},r}(n.Ui.Panel),t.Spoiler=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i.setEnableResize(i._EnableResize),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Orientation=n.Orientation.Horizontal,this._SplitterPosition=0,this._Value=0,this._MinPanelSize=1,this._ResizeHTMLContent=!0,this._EnableResize=!0,this._aTC=0,this._defineEvents(["SplitterPositionChanged","ValueChanged"])},r.prototype._initFields=function(i){i=i||{},i.Orientation=i.Orientation||(i.IsVertical?n.Orientation.Vertical:n.Orientation.Horizontal),t.prototype._initFields.call(this,i)},r.prototype._render=function(){var n="<div class='PPSplitter'><div class='PPSplitterPanel'><\/div><div class='PPSplitterResizer'><div class='PPSplitterBorder'><\/div><\/div><div class='PPSplitterPanel'><\/div><\/div>";this._initFromHTML(n),this._Panel1DomNode=this._DomNode.firstChild,this._Panel2DomNode=this._DomNode.lastChild,this._ResizerDomNode=this._DomNode.childNodes[1],t.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode),this._Content1&&this.setContent(this._Content1,1),this._Content2&&this.setContent(this._Content2,2),this._bKF(),this.setOrientation(this._Orientation)},r.prototype._bindEvents=function(){this._addEvent(this._ResizerDomNode,"mouseover",this._bKG),this._addEvent(this._ResizerDomNode,"mouseout",this._bKH),this._addEvent(this._ResizerDomNode,"mousedown",this._jh),t.prototype._bindEvents.apply(this,arguments)},r.prototype._unBindEvents=function(){this._k(this._ResizerDomNode,"mouseover",this._bKG),this._k(this._ResizerDomNode,"mouseout",this._bKH),this._k(this._ResizerDomNode,"mousedown",this._jh),t.prototype._unBindEvents.apply(this,arguments)},r.prototype._bKG=function(t,i){if(this._fB===!0||!this._EnableResize||!this._Enabled)return!1;this._j5&&(n.clearTimeout(this._j5),this._j5=null),this._ToolTip&&this._ShowToolTip&&(this._j5=n.setTimeout(this._cx7,500,{Coords:n.calculateMouseCoords(i.Event)},this)),n.addClass(this._ResizerDomNode,"Hover")},r.prototype._cx7=function(n){var t=n.Coords;this._ToolTip.show(t.X,t.Y+24)},r.prototype._bq=function(){return},r.prototype._bKH=function(){if(this._fB===!0||!this._EnableResize||!this._Enabled)return!1;n.removeClass(this._ResizerDomNode,"Hover"),this._j5&&n.clearTimeout(this._j5),this._ToolTip&&this._ToolTip.hide()},r.prototype._jh=function(t,i){var u,r,f;this._EnableResize&&this._Enabled&&(i.Event.pointerType===n.Ui.PointerEventType.Touch||i.Event.which===1)&&(this._fB=!0,u=this._ResizerDomNode.getBoundingClientRect(),this._acC=this.getIsVertical()?u.top+1:u.left+1,this._aTD=n.createElement(this._DomNode,"PPSplitterCover"),r=this._aTD.style,r.top=0,r.left=0,r.width=this._Width+"px",r.height=this._Height+"px",this._qo=n.createElement(this._DomNode,"PPSplitterPhantomResizer"),r=this._qo.style,f=this._DomNode.getBoundingClientRect(),r.top=this.getIsVertical()?this._acC-f.top+"px":"0px",r.left=this.getIsVertical()?"0px":this._acC-f.left+"px",r.width=this.getIsVertical()?this._Width+"px":"1px",r.height=this.getIsVertical()?"1px":this._Height+"px",document.body.style.cursor=this.getIsVertical()?"n-resize":"e-resize",this._addEvent(document,"mousemove",this._vs),this._addEvent(document,"mouseup",this._vr),i.Event.preventDefault())},r.prototype._vs=function(t,i){if(!this._fB||!this._Enabled)return!1;if(this._qo){var f=this._DomNode.getBoundingClientRect(),r={left:f.left+1,top:f.top+1,right:f.right-1,bottom:f.bottom-1},u=this._qo.style;this.getIsVertical()?u.top=i.Event.clientY>r.top+this._MinPanelSize&&i.Event.clientY<r.bottom-this._MinPanelSize?i.Event.clientY-r.top+"px":i.Event.clientY<=r.top+this._MinPanelSize?0+this._MinPanelSize+"px":n.isTouch?~(r.top-i.Event.touches[0].pageY)+"px":r.bottom-r.top-this._MinPanelSize+"px":u.left=i.Event.clientX>r.left+this._MinPanelSize&&i.Event.clientX<r.right-this._MinPanelSize?i.Event.clientX-r.left+"px":i.Event.clientX<=r.left+this._MinPanelSize?0+this._MinPanelSize+"px":n.isTouch?~(r.left-i.Event.touches[0].pageX)+"px":r.right-r.left-this._MinPanelSize+"px"}},r.prototype._vr=function(){if(this._k(document,"mousemove",this._vs),this._k(document,"mouseup",this._vr),!this._fB||!this._Enabled)return!1;this._fB=!1;var i=parseInt(this._qo.style[this.getIsVertical()?"top":"left"],10);this._IsRTL&&!this.getIsVertical()&&(i=this.getWidth()-i),i-=Math.floor(this.getResizerSize()/2),i=Math.max(i,this._MinPanelSize),this._cx8(),this.setSplitterPosition(i)},r.prototype._cx8=function(){this._qo.parentNode.removeChild(this._qo),this._qo=null,this._aTD.parentNode.removeChild(this._aTD),this._aTD=null,document.body.style.cursor=""},r.prototype._bcU=function(){var t=this.getResizerSize(),n;return n=this.getIsVertical()?this._g(this._Height-t):this._g(this._Width-t)},r.prototype._gq=function(){var n=this._bcU();this._aTC=this._aTC||this._g(this._SplitterPosition/n),!this._bcV&&this._SplitterPosition&&(this._bcV=this._g(n-this._SplitterPosition)),this._bKF(),this._FixPanel===1?this.setSplitterPosition(this._SplitterPosition):this._FixPanel===2?this.setSplitterPosition(n-this._bcV):this.setSplitterPosition(this._SplitterPosition!=null?n*this._aTC:this._SplitterPosition)},r.prototype._yW=function(t,i){var r;if(t instanceof n.Ui.Control)r=t.getDomNode();else if(t.tagName)r=t;else return 0;return i?n.Ui.getMarginsHeight(r):n.Ui.getMarginsWidth(r)},r.prototype._cx9=function(){this.SplitterPositionChanged.fire(this,{Position:this._SplitterPosition}),this.ValueChanged.fire(this,{Position:this._Value})},r.prototype._bKF=function(){this.SplitterPositionChanged.suspend(),this.ValueChanged.suspend()},r.prototype._cya=function(){this.SplitterPositionChanged.resume(),this.ValueChanged.resume()},r.prototype.getFixPanel=function(){return this._FixPanel},r.prototype.getResizeHTMLContent=function(){return this._ResizeHTMLContent},r.prototype.getOrientation=function(){return this._Orientation},r.prototype.getIsVertical=function(){return this._Orientation===n.Orientation.Vertical},r.prototype.getMinPanelSize=function(){return this._MinPanelSize},r.prototype.getSplitterPosition=function(){return this._SplitterPosition},r.prototype.getCollapsed=function(){return this._Collapsed},r.prototype.getEnableResize=function(){return this._EnableResize},r.prototype.setFixPanel=function(n){this._FixPanel=n},r.prototype.setResizeHTMLContent=function(n){this._ResizeHTMLContent=n},r.prototype.setWidth=function(i){var e,f,u;!i&&this._ParentNode&&(i=this._ParentNode.offsetWidth-n.Ui.getBordersWidth(this._ParentNode)),this._DomNode&&(u=this._g(i),u-=this._g(n.getStyle(this._DomNode,"margin-left")),u-=this._g(n.getStyle(this._DomNode,"margin-right")),i=u),t.prototype.setWidth.apply(this,arguments),this.getIsVertical()?(this._Panel1DomNode.style.width=this._Width+"px",this._Panel2DomNode.style.width=this._Width+"px",this._ResizerDomNode.style.width=this._Width+"px",this._Content1&&(u=this._g(this._Width)-this._yW(this._Content1,!1),this._Content1 instanceof n.Ui.Control?this._Content1.setWidth(u):this._Content1.tagName&&this._ResizeHTMLContent&&(this._Content1.style.width=this._g(u)+"px")),this._Content2&&(u=this._g(this._Width)-this._yW(this._Content2,!1),this._Content2 instanceof n.Ui.Control?this._Content2.setWidth(u):this._Content2.tagName&&this._ResizeHTMLContent&&(this._Content2.style.width=this._g(u)+"px"))):this._Collapsed&&(e=this._Collapsed===1?2:1,f=this["_Content"+e],this["_Panel"+e+"DomNode"].style.width=this._Width+"px",f&&(u=this._g(this._Width)-this._yW(f,!1),f instanceof n.Ui.Control?f.setWidth(u):f.tagName&&this._ResizeHTMLContent&&(f.style.width=this._g(u)+"px")),this._SplitterPosition=this._Value=this._Collapsed===1?0:this._g(this._Width)),this._gq()},r.prototype.setHeight=function(i){t.prototype.setHeight.apply(this,arguments);var e,f,u;!i&&this._ParentNode&&(i=this._ParentNode.offsetWidth-n.Ui.getBordersWidth(this._ParentNode)),this.getIsVertical()?this._Collapsed&&(e=this._Collapsed===1?2:1,f=this["_Content"+e],this["_Panel"+e+"DomNode"].style.height=this._Height+"px",f&&(u=this._g(this._Height)-this._yW(f,!0),f instanceof n.Ui.Control?f.setHeight(u):f.tagName&&this._ResizeHTMLContent&&(f.style.height=this._g(u)+"px")),this._SplitterPosition=this._Value=this._Collapsed===1?0:this._g(this._Height)):(this._Panel1DomNode.style.height=this._Panel2DomNode.style.height=this._ResizerDomNode.style.height=this._Height+"px",this._Content1&&(u=this._g(this._Height)-this._yW(this._Content1,!0),this._Content1 instanceof n.Ui.Control?this._Content1.setHeight(u):this._Content1.tagName&&this._ResizeHTMLContent&&(this._Content1.style.height=this._g(u)+"px")),this._Content2&&(u=this._g(this._Height)-this._yW(this._Content2,!0),this._Content2 instanceof n.Ui.Control?this._Content2.setHeight(u):this._Content2.tagName&&this._ResizeHTMLContent&&(this._Content2.style.height=this._g(u)+"px"))),this._gq()},r.prototype.setEnabled=function(i){var r=this._Enabled?"enabled":"disabled";i!==this._Enabled&&(i?this._bindEvents():this._unBindEvents()),t.prototype.setEnabled.call(this,i),this._Content1&&(this._Content1 instanceof n.Ui.Control?this._Content1.setEnabled(this._Enabled):this._Content1.tagName&&this._Content1.setAttribute(r,r)),this._Content2&&(this._Content2 instanceof n.Ui.Control?this._Content2.setEnabled(this._Enabled):this._Content2.tagName&&this._Content2.setAttribute(r,r))},r.prototype.setOrientation=function(t){t===n.Orientation.Horizontal?(this._Orientation=n.Orientation.Horizontal,n.removeClass(this._DomNode,"Vertical"),n.addClass(this._DomNode,"Horizontal"),this._ResizerDomNode.style.width="",this._Panel1DomNode.style.height=this._Panel2DomNode.style.height=this._ResizerDomNode.style.height=this._Height+"px",this.setSplitterPosition(this._SplitterPosition)):(this._Orientation=n.Orientation.Vertical,n.removeClass(this._DomNode,"Horizontal"),n.addClass(this._DomNode,"Vertical"),this._Panel1DomNode.style.width=this._Panel2DomNode.style.width=this._ResizerDomNode.style.height="",this.setSplitterPosition(this._SplitterPosition)),this.updateSize()},r.prototype.setIsVertical=function(t){this.setOrientation(t?n.Orientation.Vertical:n.Orientation.Horizontal)},r.prototype.setMinPanelSize=function(n){n=Math.max(n,1);var t=this._g(this.getIsVertical()?this._Height:this._Width);this._SplitterPosition<n&&this.setSplitterPosition(n),t-this._SplitterPosition-this.getResizerSize()<n&&this.setSplitterPosition(t-n),this._MinPanelSize=n},r.prototype.setIsRTL=function(i){t.prototype.setIsRTL.call(this,i),this._Content1 instanceof n.Ui.Control&&this._Content1.setIsRTL(i),this._Content2 instanceof n.Ui.Control&&this._Content2.setIsRTL(i)},r.prototype.setContent=function(t,i){var s,r,u,f,e,o;i=i||1,i=Math.min(i,2),s=i===1?this._Panel1DomNode:this._Panel2DomNode,this._bW(t,s,"Content"+i,!0),this._Content1&&(r=this._yW(this._Content1,!0),u=this._g(this.getIsVertical()?this._Width:this._SplitterPosition)-r,f=this._g(this.getIsVertical()?this._SplitterPosition:this._Height)-r,this._Content1 instanceof n.Ui.Control?(this._Content1.setWidth(u),this._Content1.setHeight(f)):this._Content1.tagName&&this._ResizeHTMLContent&&(e=this._Content1.style,e.width=u+"px",e.height=f+"px")),this._Content2&&(o=this._bcU(),r=this._yW(this._Content2,!0),f=this._g(this.getIsVertical()?o:this._Height)-r,u=this._g(this.getIsVertical()?this._Width:o-this._SplitterPosition-r),this._Content2 instanceof n.Ui.Control?(this._Content2.setWidth(u),this._Content2.setHeight(f)):this._Content2.tagName&&this._ResizeHTMLContent&&(e=this._Content2.style,e.width=u+"px",e.height=f+"px"))},r.prototype.getContent=function(n){return n=n||1,n=Math.min(n,2),this["_Content"+n]},r.prototype.setSplitterPosition=function(n){this.setValue(n)},r.prototype.setValue=function(t){var f,i,r,u;this._Collapsed||(f=this._Value,i=this._bcU(),t=t||this._g(this.getIsVertical()?this._Height:this._Width)*.5,t=this._g(t),t=Math.min(t,i-1),t=Math.max(t,this._MinPanelSize),t=Math.min(t,i-this._MinPanelSize),this._SplitterPosition=this._Value=this._g(t),this._bcV=this._g(i-this._SplitterPosition),this._aTC=this._g(t/i),this._Content1&&(r=this._g(t-this._yW(this._Content1,!0))),this._Content2&&(u=this._g(i-t-this._yW(this._Content2,!0))),this.getIsVertical()?(this._Panel1DomNode.style.height=this._g(t)+"px",this._Panel2DomNode.style.height=this._g(i-t)+"px",this._Content1 instanceof n.Ui.Control?this._Content1.setHeight(r):this._Content1&&this._Content1.tagName&&this._ResizeHTMLContent&&(this._Content1.style.height=r+"px"),this._Content2 instanceof n.Ui.Control?this._Content2.setHeight(u):this._Content2&&this._Content2.tagName&&this._ResizeHTMLContent&&(this._Content2.style.height=u+"px")):(this._Panel1DomNode.style.width=this._g(t)+"px",this._Panel2DomNode.style.width=this._g(i-t)+"px",this._Content1 instanceof n.Ui.Control?this._Content1.setWidth(r):this._Content1&&this._Content1.tagName&&this._ResizeHTMLContent&&(this._Content1.style.width=r+"px"),this._Content2 instanceof n.Ui.Control?this._Content2.setWidth(u):this._Content2&&this._Content2.tagName&&this._ResizeHTMLContent&&(this._Content2.style.width=u+"px")),this._cx9(),this._cya())},r.prototype.getResizerSize=function(){var t;return this.getIsVertical()?(t+=this._g(n.getStyle(this._ResizerDomNode,"height")),t===this._Height&&(t=0)):(t+=this._g(n.getStyle(this._ResizerDomNode,"width")),t===this._Width&&(t=0)),t||3},r.prototype.updateSize=function(){this.setHeight(this._Height),this.setWidth(this._Width)},r.prototype.expand=function(t){if(t=t||1,t=Math.min(t,2),!this._Collapsed||this._Collapsed!==t)return!1;this._Collapsed=null,this.setSplitterPosition(this._cyb),n.show(this["_Panel"+t+"DomNode"]),n.show(this._ResizerDomNode),this.updateSize()},r.prototype.collapse=function(t){if(t=t||1,t=Math.min(t,2),!this._Collapsed||this._Collapsed!==t){this._Collapsed&&this._Collapsed!==t&&this.expand(this._Collapsed),this._Collapsed=t,this._cyb=this._SplitterPosition;var i;i=t===1?0:this._g(this.getIsVertical()?this._Height:this._Width),this.setSplitterPosition(i),n.hide(this["_Panel"+t+"DomNode"]),n.hide(this._ResizerDomNode),this.updateSize()}},r.prototype.addToNode=function(){t.prototype.addToNode.apply(this,arguments),this.updateSize()},r.prototype.getPanel=function(n){return this["_Panel"+n+"DomNode"]},r.prototype.setEnableResize=function(t){this._EnableResize=t,t?n.removeClass(this._ResizerDomNode,"NotResize"):n.addClass(this._ResizerDomNode,"NotResize")},r}(t.Control);t.Splitter=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._render(),!n||n&&n.Value==null?t.setValue(0):t.setValue(n.Value),t.setEnabled(t._Enabled),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._defineEvents(["ValueChanged","MinValueReached","MaxValueReached"]),this._Height=13,this._Animation=new t.AnimationSettings,this._IsPrecision=!1,this._DisplayValue=!1},u.prototype._initFields=function(n){n&&n.IsVertical===!0&&(n.IsVertical=undefined),r.prototype._initFields.call(this,n)},u.prototype._render=function(){this._initFromHTML("<div class='PPProgressBar'><\/div>"),this._auL=n.htmlToDOM("<div class='PPProgressBar__IndicatorText'><\/div>"),this._aTE=n.htmlToDOM("<div class='PPProgressBar__IndicatorBar'><\/div>"),this._DomNode.appendChild(this._auL),this._DomNode.appendChild(this._aTE),r.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode)},u.prototype._cyc=function(){return n.isDefined(this._bcW)||(this._bcW=n.Ui.getMarginsWidth(this._aTE)),this._bcW},u.prototype.getIsPrecision=function(){return this._IsPrecision},u.prototype.getIsVertical=function(){return!1},u.prototype.getDisplayValue=function(){return this._DisplayValue},u.prototype.setValue=function(t){var i=this._IsPrecision?1e3:100,u,f,e,r;t===null||!n.isDefined(t)||t<0||t>i||(this._DisplayValue&&(u=this._auL.textContent!==undefined?"textContent":"innerText",f=(this._IsPrecision?t/10:t)+"%",this._auL[u]=f),e=Math.round((parseFloat(this._Width+"")-this._cyc())/i*t),this._aTE.style.width=e+"px",r=this._Value,this._Value=t,this.ValueChanged.fire(this,{NewValue:t,OldValue:r}),t===0&&r!==0&&this.MinValueReached.fire(this,{}),t===i&&r!==i&&this.MaxValueReached.fire(this,{}))},u.prototype.setValueAnimated=function(t){this._aEH instanceof n.Ui.Animation?(this._aEH.setStart(this._Value),this._aEH.setEnd(t),this._aEH.setDuration(this._Animation.AnimationTime)):this._aEH=new n.Ui.Animation({Duration:this._Animation.AnimationTime,Start:this._Value,End:t}),this._aEH.animateProp(this,"Value")},u.prototype.setIsPrecision=function(n){this._IsPrecision===n&&(this._IsPrecision=!!n,this.setValue(this._IsPrecision?this._Value*10:Math.floor(this._Value/10)))},u.prototype.setIsVertical=function(){},u.prototype.setDisplayValue=function(t){if(this._DisplayValue=!!t,this._DisplayValue){var i=n.IsFF?"textContent":"innerText",r=(this._IsPrecision?this._Value/10:this._Value)+"%";this._auL[i]=r}else this._auL.innerHTML=""},u.prototype.setWidth=function(n,t){this._bcW=undefined,r.prototype.setWidth.call(this,n,t)},u.prototype.getSettings=function(n,t,i,u){return i=i||[],i.push("_Animation"),r.prototype.getSettings.call(this,n,t,i,u)},u.prototype.setEnabled=function(n){this._Enabled=!!n,this._aTE.style.display=this._auL.style.display=this._Enabled?"block":"none"},u}(t.Control);t.ProgressBar=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(t){var i=r.call(this,t)||this;return i._render(),n.resourceManager.ResourcesLoaded.add(i._jV,i),i}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._Categories=null,this._SelectedIndex=-1,this._HideButton=null,this._IsAutoHiding=!1,this._IsAutoHidingEnabled=!0,this._IsHiddenActive=!1,this._ImageList=null,this._ImagePath=n.ImagePath,this._UseIntellisense=!1,this._ScrollStep=30,this._ButtonWidth=22,this._ButtonHeight=16,this._QuickAccessControls=[],this._Controls={},this._defineEvents(["CategorySelected","CategoryDeselected","CategoryContentCollapsed","CategoryContentExpanded"]),this._yX=null,this._aEI=null,this._vt=null,this._QuickAccessPanel=null,this._IntellisenseTextBox=null,this._IntellisenseAutocomplete=null,this._bcX=!1,this._aZ=null,this._aTF=0,this._amB=null,this._aTG=!1,this._cb=[]},u.prototype._initFields=function(t){t=t||{},t.MainButton=t.MainButton||{},t.MainButton instanceof n.Ui.Button||t.MainButton.MenuArrowPosition||(t.MainButton.MenuArrowPosition=n.AnchorStyles.Right,t.MainButton.Arrow=n.extend(t.MainButton.Arrow||{},{Fill:"#ffffff"})),this._MainButton=new n.Ui.Button(t.MainButton),delete t.MainButton,r.prototype._initFields.call(this,t)},u.prototype._render=function(){var u;this._initFromHTML("<div class='PPRibbon'><\/div>"),this._yX=n.htmlToDOM("<div class='PPRibbonHeadersPanel'><\/div>"),this._aEI=n.htmlToDOM("<div class='PPCategoryHeadersPanel'><\/div>"),this._vt=n.htmlToDOM("<div class='PPCategoryHeadersItemsPanel'><\/div>"),this.getDomNode().appendChild(this._yX),this._MainButton.addClass("PPRibbonMain"),this._MainButton.getMenu()||this._MainButton.setMenu(new t.Menu),this._MainButton.getMenu().addClass("PPRibbonMainMenu"),this._MainButton.addToNode(this._yX),this._yX.appendChild(this._aEI),this._aEI.appendChild(this._vt),this._aZ=n.createElement(this._yX,"RibbonToolBar"),n.addClass(this._aZ,"NoRTL");var f=this._ButtonWidth,e=this._ButtonHeight,i="top",o=this._Id+"_tb"+i,h=new n.Ui.Button({Id:o+"_cwx",ParentNode:this._aZ,ColumnIndex:0,RowIndex:0,Data:i,Width:f,Height:e,MouseDown:new n.Delegate(this._bcf,this),Arrow:{Direction:n.LTRB.Left,Fill:"#666666"}}),s=new n.Ui.TabsComboBox({Id:o+"_cwz",ParentNode:this._aZ,Width:f,Height:e,Button:{ImageUrl:this._ImagePath+"ribbon_BtnMenu.png",ColumnIndex:2,RowIndex:0,MouseDown:new n.Delegate(this._cyd,this)},DropPanel:{MinWidth:100,Closed:new n.Delegate(this._cye,this),Data:i}}),c=new n.Ui.Button({Id:o+"_cwy",ParentNode:this._aZ,ColumnIndex:1,RowIndex:0,Data:i,Width:f,Height:e,MouseDown:new n.Delegate(this._bcg,this),Arrow:{Direction:n.LTRB.Right,Fill:"#666666"}});s.setIsRTL(this._IsRTL),s.getListBox().ItemSelected.add(this._amz,this),this._eb={Left:h,Center:s,Right:c},this._aZ.style.display="none",this._amV=n.htmlToDOM("<div><\/div>"),this._amV.className="PPCustomControlsContainer",this._yX.appendChild(this._amV),u={ToolTip:n.resourceManager.getString("hideButton","Content"),Class:"Hide NoReleaseBorder"+(this._IsAutoHiding?"":" Collapse"),Click:new n.Delegate(this._cyf,this),ParentNode:this._yX,MenuArrowPosition:n.AnchorStyles.Bottom,Arrow:{Direction:n.LTRB.Top,Fill:"#666666",MaintainAspectRatio:!0}},typeof this._HideButton!="object"||this._HideButton instanceof n.Ui.Button||(u=n.extend(u,this._HideButton,!0,!0,!0)),this._HideButton=new n.Ui.Button(u),this._UseIntellisense&&this.setUseIntellisense(this._UseIntellisense),this._QuickAccessPanel=n.htmlToDOM("<div class='QuickAccessPanel'><\/div>"),n.hide(this._QuickAccessPanel),this._cyg(this._QuickAccessPanel),this._e7=n.htmlToDOM("<div class='PPRibbonContentsPanel'><\/div>"),this.getDomNode().appendChild(this._e7),this.beginUpdate(),this._cyh({Categories:this._Categories}),this.endUpdate(),this._IsAutoHidingEnabled||this.setIsAutoHidingEnabled(this._IsAutoHidingEnabled),this._IsAutoHiding&&this.setIsAutoHiding(this._IsAutoHiding),r.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode)},u.prototype._cyh=function(t){var i=[],r;for(this._Categories&&this._Categories instanceof n.List&&(i=this._Categories.getItems()),t&&(i=t.Categories instanceof n.List?t.Categories.getItems():t.Categories||[],delete t.Categories),this._Categories=new n.List,this._Categories.Changed.addOne(this._cyi,this),r=0;r<i.length;r++)this._Categories.add(i[r])},u.prototype._cyg=function(n){this._vt.appendChild(n),this._bcY||(this._bcY=[]),this._bcY.push(n)},u.prototype._cyj=function(){var i=this.getWidth(),t;n.isString(i)&&(i=this.getDomNode().offsetWidth);var r=2,f=1,u=0;this._IntellisenseTextBox&&(u=this._IntellisenseTextBox.getDomNode().offsetWidth),t=i-r-this._MainButton.getDomNode().offsetWidth-this._bcZ(!0)-this._HideButton.getDomNode().offsetWidth-r-u-this._amV.offsetWidth-f,t=Math.max(t,0),this._aEI.style.width=t+"px"},u.prototype._auM=function(){var e=this._vt.style,t=this.getWidth();n.isString(t)&&(t=this.getDomNode().offsetWidth);var i=this._cyk(),r=this._MainButton.getDomNode().offsetWidth,o=this._bcZ(),s=this._amV.offsetWidth,u=this._HideButton.getDomNode().offsetWidth,f=this._IntellisenseTextBox?this._IntellisenseTextBox.getDomNode().offsetWidth:0;i+u+f+r+s>t&&o+u+f+r<t?this._bKI(!0):this._bKI(!1),e.minWidth=Math.max(i,0)+"px",this._cyj(),this._bc0()},u.prototype._bc0=function(){var n=this._aEJ(),t=n.scrollLeft,i=n.scrollWidth-n.clientWidth;this._eb.Left.setEnabled(t>0),this._eb.Right.setEnabled(t<i)},u.prototype._cyk=function(){for(var t=0,f=this._Categories,e,o,r,c,s,u,l,a,i=0,h=f.getCount();i<h;i++)if(e=f.getItem(i),e instanceof n.Ui.RibbonGroup)for(o=e.getCategories(),r=0,c=o.getCount();r<c;r++)t+=o.getItem(r).getDomNode().offsetWidth;else t+=f.getItem(i).getDomNode().offsetWidth;for(s=this._bcY,u=0,l=s.length;u<l;u++)a=s[u],t+=a.offsetWidth;return t+=5,t+=this._QuickAccessPanel.offsetWidth},u.prototype._bKI=function(n){this._aZ.style.display=n?"inline-block":"none"},u.prototype._bcZ=function(n){if(n)return this._aZ.offsetWidth;if(this._aTF===0){var t=this._aZ.style,i=t.display;this._aZ.style.display="inline-block",this._aTF=this._aZ.offsetWidth,this._aZ.style.display=i}return this._aTF},u.prototype._dEg=function(){return this._aZ},u.prototype._cyl=function(n){for(var u=n.Menu.getItems(),r,i=0,f=u.length;i<f;i++)r=u[i],r.setToolTip(r.getContent())},u.prototype._cym=function(n,t){var i=n.Suggestions[t.SelectionIndex];i.CategoryIndex!==-1&&this.setSelectedIndex(i.CategoryIndex,!1),n.Control.setContent("",!1)},u.prototype._cyn=function(){this._bKJ()},u.prototype._cyo=function(){if(this._UseIntellisense&&this._IntellisenseAutocomplete&&this._IntellisenseTextBox){var n=this._IntellisenseAutocomplete,i=n.getTargets(),t=this._IntellisenseTextBox.getId();i[t]&&n.removeTarget(t)}},u.prototype._bKJ=function(){var o,c,y,u,l,i,f,a,s,e,v,h,t,r;if(this._UseIntellisense&&this._IntellisenseAutocomplete&&this._IntellisenseTextBox&&(o=this._IntellisenseTextBox,o.getContent().length!==0)&&(c=this._IntellisenseAutocomplete,y=c.getTargets(),!y[o.getId()])){for(u={Control:o,AlwaysShow:!0,Active:!0,MatchCase:!1,Suggestions:[]},l=[],this._bc1(this._MainButton,u.Suggestions,-1,this._MainButton.getContent(),l),i=0;i<this._cb.length;i++)if(f=this._cb[i],f.getIsVisible())for(a=f.getPanels(),s=0;s<a.length;s++)if(e=a[s],e.getIsVisible())for(v=e.getControls(),h=0;h<v.length;h++)(t=v[h],(t instanceof n.Ui.Button||t instanceof n.Ui.SplitButton)&&t.getIsVisible()&&t.getEnabled())&&(r="",f.getCaption()&&(r+=f.getCaption()),e.getCaption()&&(r+=" -> "+e.getCaption()),t.getContent()&&(r+=" -> "+t.getContent().toString().replace("<br />"," ")),u.Suggestions.push({Text:r,Id:t.getId(),CategoryIndex:i}),this._bc1(t,u.Suggestions,i,r,l));c.addTarget(u)}},u.prototype._aEJ=function(){return this._aEI},u.prototype._bc1=function(i,r,u,f,e){var s,h,y,p,w,l,b,k,c;if((i instanceof t.Button||i instanceof t.SplitButton||i instanceof t.MenuItem)&&(s=i.getMenu()),s&&s instanceof n.Ui.Menu)for(h=s.getItems(),y=h.length,c=0;c<h.length;c++){var o=h[c],a=o.getId(),v=o.getContent();e.indexOf(a)>-1||o instanceof n.Ui.MenuHeader||(e.push(a),o.getIsVisible()&&o.getEnabled()&&n.isString(v))&&(l=f+" -> "+v,r.push({Text:l,Id:a,CategoryIndex:u}),this._bc1(o,r,u,l,e))}},u.prototype._aS4=function(n){for(var t=0;n.previousSibling;)n=n.previousSibling,t+=n.offsetWidth;return t},u.prototype._amz=function(n,t){for(var r,i=0,u=this._cb.length;i<u;i++)if(r=this._cb[i],r==t.ListItem.getData()){this._cyp(r),this.setSelectedIndex(i,!0),this._aEK(!0);break}},u.prototype._cyd=function(){var h=this._eb.Center,r=h.getListBox(),c=this.getSelectedIndex(),u,o,f,s,e;for(r.beginUpdate(),r.clear(),u=0,o=this._cb.length;u<o;u++)f=this._cb[u],s=f.getEnabled(),u!==c&&f.getIsVisible()&&(e=new n.Ui.ListItem({Parent:r,Content:f.getCaption(),Enabled:s}),e.setData(f),r.addItem(e));r.endUpdate()},u.prototype._cye=function(){n.setTimeout(function(){var n=this._eb.Center,t=n.getListBox();t.clear()},0,null,this)},u.prototype._bcf=function(n,t){this._bKK(t.Event,!0)},u.prototype._bcg=function(n,t){this._bKK(t.Event,!1)},u.prototype._bKK=function(t,i){this._Enabled&&(t.type=="pointerdown"&&(this._aTG=!0,this._addEvent(document,"pointerup",this._aEk),this._u9(i),this._sD=n.setTimeout(function(){this._aEl(i)},500,null,this)),t.type=="pointerup"&&(this._aTG=!1))},u.prototype._aEk=function(){this._k(document,"pointerup",this._aEk),n.clearTimeout(this._sD),this._aTG=!1},u.prototype._aEl=function(t){n.clearTimeout(this._sD),this._u9(t),this._sD=n.setTimeout(function(){this._aEl(t)},100,null,this)},u.prototype._u9=function(t){if(this._aTG){var u=this._aEJ(),r=0,i=0;i=this._ScrollStep,r=this.getIsRTL()?n.IsIE?t?i:-i:t?-i:i:t?-i:i,u.scrollLeft+=r,this._bc0()}},u.prototype._cyp=function(t){var u=this._aEJ(),i=t.getDomNode(),r=0;this.getIsRTL()?(n.IsIE&&(r=this._aEJ().scrollWidth-i.offsetLeft-i.offsetWidth),n.IsFF&&(r=-(this._aEJ().scrollWidth-i.offsetLeft-i.offsetWidth))):r=i.offsetLeft,u.scrollLeft=r,this._bc0()},u.prototype._aW=function(n,t){r.prototype._aW.apply(this,arguments),this._jV(n,t)},u.prototype._jV=function(){this._HideButton.setToolTip(n.resourceManager.getString("hideButton","Content")),this.updateSize()},u.prototype._bc2=function(t,i){var c=this._HideButton.getDomNode(),r,l,e;if(c!==i.Event.target&&!c.contains(i.Event.target)&&!this.getIsCategoryContentHidden()){var o=n.calculateMouseX(i.Event),h=n.calculateMouseY(i.Event),s=n.calculateOffset(this.getDomNode()),u=-1,f=-1,a=0;for(r=0,l=this._cb.length;r<l;r++)a+=this._cb[r].getDomNode().offsetWidth,this._cb[r].getDomNode().offsetWidth>0&&(e=n.calculateOffset(this._cb[r].getDomNode()),(u<0||u>-1&&e.X<u)&&(u=e.X),(f<0||f>-1&&e.X+this._cb[r].getDomNode().offsetWidth>f)&&(f=e.X+this._cb[r].getDomNode().offsetWidth));(o<s.X||o>s.X+this.getDomNode().offsetWidth||h<s.Y||h>s.Y+this.getDomNode().offsetHeight+this._e7.offsetHeight||(o<u||o>f)&&h<n.calculateOffset(this._e7).Y)&&this._aEK(!1)}},u.prototype._amW=function(n){var i,u,r;if(this._Enabled){var f=this.getSelectedIndex(),o=this._cb,e=this.getIsAutoHiding();for(i=0;i<this._cb.length;i++)this._cb[i]===n&&this.setSelectedIndex(i);u=this.getIsCategoryContentHidden(),e&&(u||f==this.getSelectedIndex())&&(this._aEK(u),r=this.getHideButton(),this.getIsCategoryContentHidden()?(r.removeClass("Collapse"),r.addClass("Expand")):(r.removeClass("Expand"),r.addClass("Collapse"))),this.updateAlign()}},u.prototype._cyq=function(n,t){this._Enabled&&this._IsAutoHidingEnabled&&(this.setIsAutoHiding(!this.getIsAutoHiding()),this._IsAutoHiding?this.CategoryContentCollapsed.fire(this,t):this.CategoryContentExpanded.fire(this,t))},u.prototype._cyr=function(n){var i=this.getSelectedItem();i===n&&n.setIsHovered(!1)},u.prototype._cyf=function(n,t){var i=this.getIsCategoryContentHidden();!i&&this._IsAutoHiding?(this._addEvent(document,"mousedown",this._bc2),this._aEK(!1)):(this.setIsAutoHiding(!this._IsAutoHiding),this._IsAutoHiding?this.CategoryContentCollapsed.fire(this,t):this.CategoryContentExpanded.fire(this,t))},u.prototype._cyi=function(t,i){var r=i.Item,u,f;if(i.Operation===n.ListOperation.Add&&r)r instanceof n.Ui.Control||(r=new n.Ui.RibbonCategory(r),this._Categories.setItem(r,i.Index)),this._aTH(r),u=this._Categories.getCount(),i.Index+1<u?(f=this._Categories.getItem(i.Index+1),r.addToNode(this._vt,f.getDomNode())):r.addToNode(this._vt),this._bc3(),this.updateAutoComplete(),this._Categories.getCount()===1&&this.setSelectedIndex(0,!1),this._auM();else if(i.Operation===n.ListOperation.Remove&&r&&r instanceof n.Ui.RibbonCategory)r.removeFromDOM(),this._cys(r),this._bc3(),this.updateAutoComplete(),this._auM();else if(i.Operation===n.ListOperation.Remove&&this._Categories.getCount()===0){for(this._SelectedIndex=-1,this._Controls={};this._vt.firstChild;)this._vt.removeChild(this._vt.firstChild);while(this._e7.firstChild)this._e7.removeChild(this._e7.firstChild);this._cb=[],this.updateAutoComplete(),this._auM()}},u.prototype._cC=function(n,t){var h=t.Property,c=t.Value,r,u,s,f,e,o,i;switch(h){case"Enabled":for(o=this._cb,r=0,u=0,s=o.length;u<s;u++)if(o[u].getIsVisible()&&r++,r>1)break;f=this._eb.Center.getDomNode(),f&&(f.style.display=r>1?"":"none"),this._aTF=0,this._bcZ();break;case"IsVisible":if(this.updateAutoComplete(),this._auM(),e=n.getContentDomNode(),c)this.getSelectedItem()===n&&this._e7.appendChild(e),this.getIsHiddenActive()&&this.setSelectedItem(n);else if(this._e7.contains(e)&&this._e7.removeChild(e),this.getSelectedItem()===n)for(o=this._cb,i=0;i<this._cb.length;i++)if(this._cb[i].getIsVisible()){this.setSelectedIndex(i);break}}},u.prototype._cyt=function(t,i){var r,f,u;if(i.Operation===n.ListOperation.Add){for(r=i.Item,f=r.getControls(),r.Elements&&r.Elements.Changed.addOne(this._bKL,this),this._Controls[r.getId()]=r,u=0;u<f.length;u++)this._Controls[f[u].getId()]=f[u];this.updateAutoComplete()}},u.prototype._cyu=function(n){if(n.getIsVisible())n===this.getSelectedItem()&&this._e7.appendChild(n.getContentDomNode()),this._IsHiddenActive&&this.setSelectedItem(n);else if(this._e7.contains(n.getContentDomNode())&&this._e7.removeChild(n.getContentDomNode()),n===this.getSelectedItem())for(var i=0;i<this._cb.length;i++)if(this._cb[i].getIsVisible()){this.setSelectedIndex(i);break}},u.prototype._bKL=function(t,i){if(i.Operation===n.ListOperation.Add){var r=i.Item;this._Controls[r.getId()]=r,this.updateAutoComplete()}},u.prototype._bc3=function(){for(var t=[],r,i=0,u=this._Categories.getCount();i<u;i++)r=this._Categories.getItem(i),r instanceof n.Ui.RibbonGroup?t=t.concat(r.getCategories().getItems()):t.push(r);this._cb=t},u.prototype._aTH=function(i){var s,r,h,c,u,f,o,e;if(s=i instanceof n.Ui.Control?i:new n.Ui.RibbonCategory(i),r=s,r.setParent(this),r.setIsRTL(this._IsRTL),r.Click.addOne(this._amW,this),r.DblClick.addOne(this._cyq,this),r.MouseOver.addOne(this._cyr,this),r.List&&r.List.Changed.addOne(this._cyt,this),r.VisibilityChanged&&r.VisibilityChanged.addOne(this._cyu,this),this._ImageList&&r.getImageList&&r.setImageList&&!r.getImageList()&&r.setImageList(this._ImageList),h=r.getPanels(),r instanceof t.RibbonGroup)for(r.applyToCategories(),c=r.getCategories().getItems(),u=0;u<c.length;u++)this._aTH(c[u]);for(this._Controls[r.getId()]=r,u=0;u<h.length;u++){for(f=h[u],o=f.getControls(),this._Controls[f.getId()]=f,e=0;e<o.length;e++)this._Controls[o[e].getId()]=o[e];f.Elements&&f.Elements.Changed.addOne(this._bKL,this)}return r},u.prototype._cys=function(t){var u,i,f,e,r;if(t instanceof n.Ui.RibbonCategory){for(delete this._Controls[t.getId()],u=t.getPanels(),i=0;i<u.length;i++)for(f=u[i],e=f.getControls(),delete this._Controls[f.getId()],r=0;r<e.length;r++)delete this._Controls[e[r].getId()];return t}},u.prototype._aEK=function(t){var i=this._e7.parentNode,u,r;this._IsAutoHiding&&(i.style.height=this._e7.offsetHeight+"px",i.style.width=this.getDomNode().offsetWidth+"px",u=n.calculateOffset(this._yX),i.style.left=u.X+"px",i.style.top=u.Y+this._yX.offsetHeight+"px"),i.style.visibility=t?"visible":"hidden",this._SelectedIndex>-1&&(r=this._cb[this._SelectedIndex].getContentDomNode(),t?(this._e7.appendChild(r),this._HideButton.setMenuArrowDirection(n.LTRB.Top)):(this._e7.contains(r)&&this._e7.removeChild(r),this._HideButton.setMenuArrowDirection(n.LTRB.Bottom))),this._Height=this.getDomNode().offsetHeight,this.updateSize()},u.prototype.getImageList=function(){return this._ImageList},u.prototype.getImagePath=function(){return this._ImagePath},u.prototype.getUseIntellisense=function(){return this._UseIntellisense},u.prototype.getIsAutoHiding=function(){return this._IsAutoHiding},u.prototype.getSelectedIndex=function(){return this._SelectedIndex},u.prototype.getMainButton=function(){return this._MainButton},u.prototype.getHideButton=function(){return this._HideButton},u.prototype.getIsAutoHidingEnabled=function(){return this._IsAutoHidingEnabled},u.prototype.getQuickAccessControls=function(){return this._QuickAccessControls},u.prototype.getControls=function(){return this._Controls},u.prototype.getIsHiddenActive=function(){return this._IsHiddenActive},u.prototype.setIsHiddenActive=function(n){this._IsHiddenActive=n},u.prototype.addToNode=function(){r.prototype.addToNode.apply(this,arguments),this._auM()},u.prototype.getCustomControlsContainer=function(){return this._amV},u.prototype.setUseIntellisense=function(t){if(t!==this._UseIntellisense){if(this._UseIntellisense=t,t){if(!this._IntellisenseTextBox&&!this._IntellisenseAutocomplete){var i=new n.ImageList({IconHeight:16,IconWidth:16});this._IntellisenseTextBox=new n.Ui.TextBox({Class:"PPIntellisenseTextBox",ResourceKey:"quickLaunch",IsWatermark:!0,AfterChange:new n.Delegate(this._cyn,this),Width:150}),this._IntellisenseAutocomplete=new n.Ui.Autocomplete({Selected:new n.Delegate(this._cym,this),Opened:new n.Delegate(this._cyl,this)})}this._IntellisenseTextBox.setIsVisible(!0),this._IntellisenseTextBox.addToNode(this._yX,this._HideButton.getDomNode()),this.updateAutoComplete()}else this._IntellisenseTextBox&&this._IntellisenseTextBox.removeFromDOM();this.updateSize()}},u.prototype.setIsAutoHiding=function(t){var i,r,u;t!==this._IsAutoHiding&&this._IsAutoHidingEnabled&&(this._IsAutoHiding=t,this._IsAutoHiding?(this._HideButton.setToolTip(n.resourceManager.getString("hideButtonExpand")),this._HideButton.setMenuArrowDirection(n.LTRB.Top),n.addClass(this.getDomNode(),"AutoHide"),i=this.getDomNode().cloneNode(!1),i.style.position="absolute",i.style.zIndex="2000",i.style.height=this._e7.offsetHeight+"px",i.style.width=this.getDomNode().offsetWidth+"px",r=n.calculateOffset(this._e7),i.style.left=r.X+"px",i.style.top=r.Y+"px",i.appendChild(this._e7),document.body.appendChild(i),this._addEvent(document,"mousedown",this._bc2)):(this._HideButton.setToolTip(n.resourceManager.getString("hideButton","Content")),this._HideButton.setMenuArrowDirection(n.LTRB.Bottom),n.removeClass(this.getDomNode(),"AutoHide"),u=this._e7.parentNode,this.getDomNode().appendChild(this._e7),document.body.removeChild(u),this._k(document,"mousedown",this._bc2)),this._aEK(!this._IsAutoHiding))},u.prototype.setSelectedIndex=function(t,i){var r,e,u,f;if(i=i!==!1,t>-1&&t<this._cb.length&&t!=this._SelectedIndex){if(!this._cb[t].getIsVisible())return;for(r=0,e=this._cb.length;r<e;r++)u=this._cb[r],r===t?(this._SelectedIndex>-1&&this._SelectedIndex<this._cb.length&&(f=this._cb[this._SelectedIndex].getContentDomNode().parentNode,f&&f===this._e7&&(!n.IsIE||f.nodeName!="#document-fragment")&&this._e7.removeChild(this._cb[this._SelectedIndex].getContentDomNode())),i&&this.CategoryDeselected.fire(this,{Index:this._SelectedIndex}),u.addStateClass(n.ControlState.Active),this._SelectedIndex=t,this._e7.appendChild(u.getContentDomNode()),i&&this.CategorySelected.fire(this,{Index:this._SelectedIndex})):u.addStateClass(n.ControlState.Release)}this.updateSize()},u.prototype.getSelectedItem=function(){return this._SelectedIndex>-1&&this._SelectedIndex<this._cb.length?this._cb[this._SelectedIndex]:null},u.prototype.setSelectedItem=function(n,t){this.setSelectedIndex(this._cb.indexOf(n),t)},u.prototype.getItems=function(){return this._Categories.getItems()},u.prototype.setIsRTL=function(t){var f,o,e,i,s,u;r.prototype.setIsRTL.call(this,t),f=this._IsRTL?"rtl":"ltr";for(o in this._Controls)e=this._Controls[o],e instanceof n.Ui.Control&&e.setIsRTL(this._IsRTL);for(i=this._e7.parentNode,i&&this.getDomNode()!=i&&(i.dir=f),this._MainButton.setIsRTL(this._IsRTL),s=this._QuickAccessControls.length,u=0;u<s;u++)this._QuickAccessControls[u].setIsRTL(this._IsRTL);this._HideButton.setIsRTL(this._IsRTL),this._IntellisenseTextBox&&this._IntellisenseTextBox.setIsRTL(this._IsRTL),this._amV&&(this._amV.dir=f),this._aZ.dir="ltr",this._IsRTL?(n.removeClass(this._aZ,"NoRTL"),n.addClass(this._aZ,"IsRTL")):(n.removeClass(this._aZ,"IsRTL"),n.addClass(this._aZ,"NoRTL")),this.updateSize()},u.prototype.setEnabled=function(n){r.prototype.setEnabled.call(this,n),arguments.length>1&&arguments[1]===!0&&this.setElementsEnabled(n),this._MainButton.setEnabled(n);for(var t=0;t<this._QuickAccessControls.length;t++)this._QuickAccessControls[t].setEnabled(n);this._HideButton.setEnabled(n),this._IntellisenseTextBox&&this._IntellisenseTextBox.setEnabled(this._Enabled)},u.prototype.setElementsEnabled=function(){var r,u,i;if(this._Categories.getCount())for(r=0,u=this._Categories.getCount();r<u;r++)i=this._Categories.getItem(r),i instanceof n.Ui.Control||(i=this._aTH(i)),i.setElementsEnabled(this._Enabled)},u.prototype.setShowToolTip=function(t,i){var f,e,u;if(r.prototype.setShowToolTip.call(this,t),i&&this._Categories.getCount())for(f=0,e=this._Categories.getCount();f<e;f++)u=this._Categories.getItem(f),u instanceof n.Ui.Control||(u=this._aTH(u)),u.setShowToolTip(this._ShowToolTip,i)},u.prototype.setWidth=function(n){var u=this.getWidth(),i;this._amB=n>u?"increase":"decrease",r.prototype.setWidth.apply(this,arguments),i=this._e7.parentNode,this.getDomNode()!=i&&(i.style.width=this.getDomNode().style.width),this.updateSize(),this._amB=null},u.prototype.getIsCategoryContentHidden=function(){return this._e7.parentNode.style.visibility=="hidden"},u.prototype.getMainMenu=function(){return this._MainButton.getMenu()},u.prototype.setMainMenu=function(n){n!==this._MainButton.getMenu()&&(n.addClass("Main"),this._MainButton.setMenu(n))},u.prototype.setIsAutoHidingEnabled=function(n){this._IsAutoHidingEnabled=n,this._IsAutoHiding&&this.setIsAutoHiding(!1),this._IsAutoHidingEnabled?this._HideButton.show():this._HideButton.hide()},u.prototype.updateAutoComplete=function(){this._bcX||(this._cyo(),this._bKJ())},u.prototype.beginUpdate=function(){this._bcX=!0},u.prototype.endUpdate=function(){this._bcX=!1,this._bc3(),this.updateAutoComplete()},u.prototype.addCategory=function(n,t){var i=-1;t&&(i=this._Categories.indexOf(t)),i>-1?this._Categories.insert(n,i):this._Categories.add(n)},u.prototype.addQuickAccessControl=function(t){this._QuickAccessControls.push(t),t.addToNode(this._QuickAccessPanel),this._QuickAccessControls.length===0?n.hide(this._QuickAccessPanel):n.show(this._QuickAccessPanel)},u.prototype.removeQuickAccessControl=function(t){var i=this._QuickAccessControls[t];i&&(i.dispose(),this._QuickAccessControls.splice(t,1),this._QuickAccessControls.length===0?n.hide(this._QuickAccessPanel):n.show(this._QuickAccessPanel))},u.prototype.removeQuickAccessControlById=function(n){var t=this.getControlById(n),i=this._QuickAccessControls.indexOf(t);this.removeQuickAccessControl(i)},u.prototype.updateSize=function(){this._auM();var n=this._SelectedIndex>-1?this._cb[this._SelectedIndex]:null;n&&n.updateSize()},u.prototype.updateAlign=function(){for(var i,t=0,r=this._Categories.getCount();t<r;t++)i=this._Categories.getItem(t),i instanceof n.Ui.RibbonCategory&&i.updateAlign()},u.prototype.getCategoryById=function(n){return this.getControlById(n)},u.prototype.getPanelById=function(n){return this.getControlById(n)},u.prototype.getControlById=function(i){var f,s,u,e,o,r;if(this._Controls[i])return this._Controls[i];if(f=this.getMainMenu().getMenuItemById(i),f)return f;for(s in this._Controls)if(u=this._Controls[s],u instanceof n.Ui.Button||u instanceof n.Ui.SplitButton||u instanceof t.MenuItem){if(e=u.getMenu(),e&&e instanceof n.Ui.Menu){if(e.getId()==i)return e;if(f=e.getMenuItemById(i),f)return f}}else if(u.getItems)for(o=u.getItems(),r=0;r<o.length;r++)if(o[r].getId()==i)return o[r];for(r=0;r<this._QuickAccessControls.length;r++)if(this._QuickAccessControls[r].getId()==i)return this._QuickAccessControls[r];return null},u.prototype.getCategory=function(n){return n<0||n>=this._Categories.getCount()?undefined:this._Categories.getItem(n)},Object.defineProperty(u.prototype,"List",{get:function(){return this._Categories},enumerable:!0,configurable:!0}),u.prototype.getCategories=function(){return this._Categories},u.prototype.getSettings=function(){var t=["_Categories"],n=r.prototype.getSettings.apply(this,[!0,!1,t]);return delete n.ImagePath,n.HideButton&&delete n.HideButton.ToolTip,n.Categories=this._Categories,n},u.prototype.dispose=function(){this.isLive()&&(delete this._ImageList,this._eb.Left.dispose(),this._eb.Center.dispose(),this._eb.Right.dispose(),n.resourceManager.ResourcesLoaded.remove(this._jV,this),r.prototype.dispose.call(this))},u}(t.Control);t.Ribbon=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._Key=i._Key||i._Id+"_Key",i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["ContentClick","SubLevelClick"]),this._ImagePath=n.ImagePath,this._ImageList=null,this._ColumnIndex=-1,this._RowIndex=-1,this._Menu=null,this._SubLevelMenu=null,this._Key="",this._UseSubLevel=!0},r.prototype._render=function(){var t={GroupName:"group"+this._Id,ImageList:this._ImageList,ColumnIndex:this._ColumnIndex,RowIndex:this._RowIndex,Content:this._Content,IsFlat:!0,Click:new n.Delegate(this._g0,this),Menu:this._Menu,MouseOver:new n.Delegate(this._bc4,this),MouseOut:new n.Delegate(this._amX,this)};this._ContentItem=new n.Ui.ToolBarButton(t),this._SubLevelMenuButton=new n.Ui.ToolBarButton({GroupName:"group"+this._Id,IsFlat:!0,Width:17,Class:"PPBCNavUsualBtn",Click:new n.Delegate(this._cyv,this)}),this.setSubLevelMenu(this._SubLevelMenu),this._ContentItem.MouseOver.add(this._bc4,this),this._ContentItem.MouseOut.add(this._amX,this),this._SubLevelMenuButton.MouseOver.add(this._bc4,this),this._SubLevelMenuButton.MouseOut.add(this._amX,this),this._Menu&&this._Menu.Closed.add(this._amX,this,this._ContentItem),this._SubLevelMenu instanceof n.Ui.Menu&&this._SubLevelMenu.Closed.add(this._amX,this,this._SubLevelMenuButton),this._sa&&this._sa.Closed.add(this._amX,this,this._SubLevelMenuButton),this._bKM()},r.prototype._g0=function(n,t){this._Menu||this._ContentItem.setIsPressed(!1),this._amX(n,{Args:this._ContentItem}),this.ContentClick.fire(this,t)},r.prototype._cyv=function(n,t){this.SubLevelClick.fire(this,t)},r.prototype._amX=function(n,t){var i=n==this._ContentItem||n==this._SubLevelMenuButton?n:t.Args,r,u;if(i&&(r=i.getMenu(),u=r&&r.getIsVisible(),!u))if(this._ContentItem==i)this._SubLevelMenuButton.removeClass("PPNavBCHoverItem");else if(this._SubLevelMenuButton==i)this._ContentItem.removeClass("PPNavBCHoverItem");else return},r.prototype._bKM=function(){var n=this._UseSubLevel;this._SubLevelMenuButton.setEnabled(n),this._SubLevelMenuButton.setIsVisible(this._IsVisible&&(n?!!this._SubLevelMenu:!0)),!n&&this._sa&&(this._SubLevelMenuButton.addClass("PPBCItemTreeMenu"),this._SubLevelMenuButton.setContent("\\"))},r.prototype._bc4=function(n){var i;if(this._SubLevelMenuButton==n)i=this._ContentItem;else if(this._ContentItem==n)i=this._SubLevelMenuButton;else return;i.addClass("PPNavBCHoverItem")},r.prototype.setImageList=function(n){this._ImageList=n,this._ContentItem.setImageList(this._ImageList)},r.prototype.setColumnIndex=function(n){this._ColumnIndex=n,this._ContentItem.setColumnIndex(this._ColumnIndex)},r.prototype.setRowIndex=function(n){this._RowIndex=n,this._ContentItem.setRowIndex(this._RowIndex)},r.prototype.setContent=function(n){this._Content=n,this._ContentItem.setContent(this._Content)},r.prototype.setMenu=function(n){this._Menu=n,this._ContentItem.setMenu(this._Menu)},r.prototype.setSubLevelMenu=function(t){this._SubLevelMenu=t,t instanceof s?(this._sa=this._sa?this._sa:new n.Ui.Menu({ShowIcons:!1}),this._sa.setItems([new n.Ui.ContentMenuItem({Content:this._SubLevelMenu})]),this._sa.setEnableResize(!0),t=this._sa):this._sa=null,this._SubLevelMenuButton.setMenu(t)},r.prototype.removeFromDOM=function(){this._ContentItem.removeFromDOM(),this._SubLevelMenuButton.removeFromDOM()},r.prototype.setIsVisible=function(n){this._ContentItem.setIsVisible(n),this._IsVisible=this._ContentItem.getIsVisible(),this._bKM()},r.prototype.setEnabled=function(n){this._Enabled=!!n,this._ContentItem.setEnabled(n),this._SubLevelMenuButton.setEnabled(n)},r.prototype.setIsRTL=function(t){this._IsRTL=!!t;var i=n.querySelector(this._SubLevelMenuButton.getDomNode(),".PPArrow");i&&(i.className="PPArrow "+(this._IsRTL?"L":"R"))},r.prototype.getWidth=function(){return this._ContentItem.getWidth()+2+(this._SubLevelMenuButton.getIsVisible()?this._SubLevelMenuButton.getWidth()+4:0)},r.prototype.setContentWidth=function(t){var u=n.querySelector(this._ContentItem.getDomNode(),".PPContent"),i,r;this._Content||n.removeClass(u,"PPHide"),i=t-20,this._SubLevelMenuButton.getIsVisible()&&(i-=this._SubLevelMenuButton.getWidth()+2),this._RowIndex>-1&&this._ColumnIndex>-1&&(i-=this._ImageList.getIconWidth()+2),r=u.style,r.width="",this.getWidth()>=t&&this._ContentItem.setToolTip(this._Content),r.width=(i<0?0:i)+"px",r.textOverflow="ellipsis",r.textAlign=this._IsRTL?"right":"left"},r.prototype.unsetContentWidth=function(){var t=n.querySelector(this._ContentItem.getDomNode(),".PPContent");this._Content||n.addClass(t,"PPHide"),t.style.width="",this._ContentItem.setToolTip(null)},r.prototype.addInToolBar=function(n){n.addItem(this._ContentItem),n.addItem(this._SubLevelMenuButton),this._ContentItem.setParent(n),this._SubLevelMenuButton.setParent(n)},r.prototype.removeFromToolBar=function(n){n.removeItem(this._ContentItem,!1),n.removeItem(this._SubLevelMenuButton,!1),this._ContentItem.setParent(null),this._SubLevelMenuButton.setParent(null)},r.prototype.dispose=function(){delete this._ImageList,delete this._SubLevelMenu,delete this._Menu,t.prototype.dispose.call(this)},r}(t.Control);t.BreadcrumbNavigationItem=r,n.Object.defineProps(n.Ui.BreadcrumbNavigationItem,["ContentItem","SubLevelMenuButton","UseSubLevel","SubLevelMenu","Menu","Content","ImageList","ColumnIndex","RowIndex"]),n.Object.defineProps(n.Ui.BreadcrumbNavigationItem,["Key","UseSubLevel"],!0)})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._render(),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._Items=new n.List,this._ImageList=null,this._UseSubLevel=!0,this._ImagePath=n.ImagePath,this._aTI={},this._defineEvents(["ItemClick","HistoryMenuItemSelected","HistoryBackwardClick","HistoryForwardClick","LevelUpClick"])},u.prototype._cr=function(t){var r,i;if(!(t instanceof n.List))for(r=t,this._Items=new n.List,i=0;i<r.length;i++)this.addItem(r[i])},u.prototype._render=function(){this._initFromHTML('<div class="PPBreadCrumbNavigationMain"><div class="PPBreadcrumb_LeftNavigationBlock"><\/div><div class="PPBreadcrumb_Content"><div class="PPBreadcrumb_ScrollLeftBtn"><\/div><div class="PPBreadcrumb_MainToolBar"><\/div><\/div><\/div>'),this._HistoryMenu=new n.Ui.Menu({ImageList:this._ImageList,ParentNode:document.body,ShowIcons:!1,Closed:new n.Delegate(this._bcp,this),ItemSelected:new n.Delegate(this._bco,this)}),this._aTJ=new n.Ui.ToolBarButton({GroupName:"PPBCNavLeftGroup",ImageUrl:this._ImagePath+"moveLeft16.png",Enabled:!1,Click:new n.Delegate(this._cyw,this)}),this._aTK=new n.Ui.ToolBarButton({GroupName:"PPBCNavLeftGroup",ImageUrl:this._ImagePath+"moveRight16.png",Enabled:!1,Click:new n.Delegate(this._cyx,this)}),this._gv=new n.Ui.ToolBarButton({GroupName:"PPBCNavLeftGroup",Class:"PPBCNavUsualBtn",ImageUrl:this._ImagePath+"bc-down.png",Width:17,Click:new n.Delegate(this._aTe,this)}),this._bc5=new n.Ui.ToolBarButton({ImageUrl:this._ImagePath+"DrillUp16.png",Enabled:!1,Click:new n.Delegate(this._cyy,this)}),this._bc6=new n.Ui.ToolBar({ShowOverflowButton:!1,Items:[this._aTJ,this._aTK,this._gv,this._bc5]}),this._bc7=n.querySelector(this._DomNode,".PPBreadcrumb_LeftNavigationBlock"),this._bc6.addToNode(this._bc7),this._ContentWidth=this._g(this._Width)-n.getSizeOf(this._bc7).Width,this._aZ=new n.Ui.ToolBar({ShowOverflowButton:!1}),this._bc8=n.querySelector(this._DomNode,".PPBreadcrumb_MainToolBar"),this._aZ.addToNode(this._bc8),this._ContentNode=n.querySelector(this._DomNode,".PPBreadcrumb_Content"),this._ContentNode.style.width=(this._ContentWidth>0?this._ContentWidth:0)+"px",this._sU=new n.Ui.Menu({ShowIcons:!1,ImageList:this._ImageList,ItemSelected:new n.Delegate(this._cyz,this),Closed:new n.Delegate(this._bKN,this)}),this._g3=new n.Ui.ToolBarButton({Class:"PPBCNavUsualBtn PPBCNeedFlip",MenuDropPosition:n.AnchorStyles.Right,ImageUrl:this._ImagePath+"bc-arrowDoubleLeft.png",Width:17,IsFlat:!0,Menu:this._sU}),this._bKO=n.querySelector(this._DomNode,".PPBreadcrumb_ScrollLeftBtn"),this._g3.addToNode(this._bKO),this._cr(this._Items),this._ParentNode&&this.addToNode(this._ParentNode),this.setEnabled(this._Enabled),this.setIsRTL(this._IsRTL),this.updateContent()},u.prototype._cyA=function(){for(var r,u,f,t=0,i=this._sU.getItems(),n=0;n<i.length;n++)t=Math.max(t,i[n].getContentWidth());for(t=Math.min(t,this._ContentWidth-20),n=0;n<i.length;n++)r=this._Items.getItem(this._Items.getCount()-1-n),u=r.getSubLevelMenuButton(),f=u.getMenu(),i[n].getIsVisible()&&r.setContentWidth(t+4)},u.prototype._ag4=function(){this._bc5.setEnabled(this._Items.getCount()>1),this._bj&&this._bj.length?(n.isNumber(this._ag5)||(this._ag5=this._bj.length),this._aTJ.setEnabled(this._ag5>0),this._aTK.setEnabled(!!this._bj[this._ag5+1]),this._gv.setEnabled(!0)):(this._aTJ.setEnabled(!1),this._aTK.setEnabled(!1),this._gv.setEnabled(!1))},u.prototype._agV=function(){var n,i,t=[],r=this._Items.getCount();if(r!==0){for(n=0;n<r;n++)t.push(this._Items.getItem(n).getKey());if(this._bj)while((i=this._auB(t))!==-1)this._bj.splice(i,1);else this._bj=[];for(this._bj.push(t);this._bj.length>50;)this._bj.splice(0,1)}},u.prototype._auB=function(n){var i=-1,r,t;if(this._bj)for(r=n.join(" -> "),t=0;t<this._bj.length;t++)if(this._bj[t].join(" -> ")===r){i=t;break}return i},u.prototype._amD=function(){var t=[],n,i,r=this._Items.getCount();if(r!==0&&this._bj){for(n=0;n<r;n++)t.push(this._Items.getItem(n).getKey());while((i=this._auB(t))!==-1)this._bj.splice(i,1)}},u.prototype._cyB=function(n){for(var i,t=0,r=this._Items.getCount();t<r;t++)this._Items.getItem(t)!==n&&(i=this._Items.getItem(t).getSubLevelMenuButton().getMenu(),i&&i.hide(),i=this._Items.getItem(t).getContentItem().getMenu(),i&&i.hide())},u.prototype._g0=function(n){this.ItemClick.fire(this,{Item:n})},u.prototype._bKN=function(n){this._cyB(n)},u.prototype._cyz=function(n,t){var i=this._Items.getCount()-1-t.SelectedIndex;this._g0(this._Items.getItem(i),t),this._sU.hide()},u.prototype._aTe=function(t){var a,e,w,ot,c,l,y,o,k,s,h,rt,ut,ft,et;if(this._bj){for(a=n.IsFF?"textContent":"innerText",e=this.getWidth()-14,this._HistoryMenu.clearItems(),w=0,ot=this._Items.getCount();w<ot;w++){var v=this._bj[w],d=[],g=[],u=0;for(c=0;c<v.length;c++){l=this._aTI[v[c]],y=this.getItemByKey(v[c]),y&&(l={Content:y.getContent(),RowIndex:y.getRowIndex(),ColumnIndex:y.getColumnIndex()});var p="",b="",nt=l.RowIndex,tt=l.ColumnIndex,f=void 0,r=void 0,it=void 0;nt>-1&&tt>-1&&(o=document.createElement("div"),r=this._ImageList.getIconWidth(),it=this._ImageList.getIconHeight(),o.style.width=(r<0?0:r)+"px",o.style.height=(it<0?0:it)+"px",o.style.display="inline-block",k=o.cloneNode(),this._ImageList.applyToBackground(k,nt,tt),b=k.outerHTML,k=null,f=this._ImageList.getIconWidth(),u+=f,u>e?(r=e-u+f,o.style.width=(r<0?0:r)+"px",o[a]="..."):this._ImageList.applyToBackground(o,nt,tt),p=o.outerHTML),l.Content&&(s=document.createElement("div"),s.innerHTML=l.Content,s.className="PPBCNavHistoryLine",b+=s.outerHTML,f=n.getSizeOf(s).Width,u+=f+2,u>e&&(r=e-u+f,s.style.width=(r<0?0:r)+"px"),e-u+f<12&&(s[a]="... "),p+=s.outerHTML),p&&(c!==v.length-1&&(h=document.createElement("div"),h.className="PPBCNavHistoryLine",h[a]=" -> ",b+=h.outerHTML,f=n.getSizeOf(h).Width+2,u+=f,u>e&&(r=e-u+f,h.style.width=(r<0?0:r)+"px"),p+=h.outerHTML),d.push(p),g.push(b))}rt=document.createElement("div"),rt.innerHTML=d.join(""),ut=new n.Ui.MenuItem({Parent:this._HistoryMenu,Content:rt.outerHTML,Data:v}),d=null,this._HistoryMenu.addItem(ut),u>e&&(ft=document.createElement("div"),ft.innerHTML=g.join(""),ut.setToolTip(ft.outerHTML)),g=null}et=n.calculateOffset(this._DomNode),this._HistoryMenu.setData(t),this._HistoryMenu.show(et.X,et.Y+24),this._HistoryMenu.setWidth(this._Width)}else this._gv.setIsPressed(!1)},u.prototype._bcp=function(){this._gv&&this._gv.setIsPressed(!1)},u.prototype._bco=function(n,t){this._agV();var i=t.MenuItem.getData()||[];this.HistoryMenuItemSelected.fire(this,{Keys:i.slice()}),this._ag5=this._auB(i)+1,this._amD(),this._ag4()},u.prototype._cyw=function(){if(this._bj){this._ag5-=1;var i=this._bj[this._ag5]||[];this.HistoryBackwardClick.fire(this,{Keys:i.slice()}),this._aTJ.setIsPressed(!1)}this._ag4()},u.prototype._cyx=function(){if(this._bj){this._ag5+=1;var i=this._bj[this._ag5]||[];this.HistoryForwardClick.fire(this,{Keys:i.slice()}),this._aTK.setIsPressed(!1)}this._ag4()},u.prototype._cyy=function(){this.LevelUpClick.fire(this,{Item:this._Items.getItem(this._Items.getCount()-2)}),this._bc5.setIsPressed(!1),this._ag4()},u.prototype.clearHistory=function(){this._bj=null,this._aTI={},this._ag4()},u.prototype.removeFromHistoryItem=function(n){var i,t,r;if(this._bj)for(delete this._aTI[n],i=this._bj.length,t=i-1;t>=0;t--)r=this._bj[t],r.indexOf(n)!==-1&&this._bj.splice(t,1);this._ag4()},u.prototype.setHistoryItemName=function(t,i,r,u){this._aTI[t]={Content:i,RowIndex:n.isNumber(r)?r:-1,ColumnIndex:n.isNumber(r)?u:-1}},u.prototype.updateContent=function(){this._sU.hide(),this._g3.setIsVisible(!0),this._bc8.style.width="";for(var e=this._Items.getCount(),s=n.getSizeOf(this._bKO).Width,i=this._ContentWidth,h=!1,u,t,f,o,c=0,r=e-1;r>=0;r--)t=this._Items.getItem(r),t.setIsVisible(this._IsVisible),t.unsetContentWidth(),u=t.getWidth()+(r==e-1?5:0),f=c+u<i,o=this._sU.getItems()[e-1-r],r!=e-1||f?u>i&&t.setContentWidth(i):(f=!0,u=i-s,t.setContentWidth(u)),o.setIsVisible(!f),f?t.addInToolBar(this._aZ):(i=this._ContentWidth-s,h=!0,t.addInToolBar(o.getContent())),c+=u;this._cyA(),this._g3.setIsVisible(h),this._bc8.style.width=(i<0?0:i)+"px",this._ag4()},u.prototype.setWidth=function(t,i){r.prototype.setWidth.call(this,t,i),this._ContentWidth=this.getWidth()-n.getSizeOf(this._bc7).Width,this._ContentNode.style.width=(this._ContentWidth>0?this._ContentWidth:0)+"px",this.updateContent()},u.prototype.addItem=function(i){if(i&&this._Items.indexOf(i)===-1)return i instanceof t.BreadcrumbNavigationItem||(i=new n.Ui.BreadcrumbNavigationItem(i)),i.getImageList()||i.setImageList(this._ImageList),i.setIsRTL(this._IsRTL),i.setUseSubLevel(this._UseSubLevel),i.ContentClick.add(this._g0,this),i.SubLevelClick.add(this._bKN,this),this._Items.add(i),this._aZ&&i.addInToolBar(this._aZ),this._sU&&this._sU.insertItem(new n.Ui.ContentMenuItem({Content:new n.Ui.ToolBar({ShowOverflowButton:!1,Class:"PPNavBCScrollLeftToolBar",Height:21})}),0),this.updateContent(),i},u.prototype.removeItem=function(t){var i=t,u,r,f;n.isNumber(t)&&(i=this._Items.getItem(t)),u=this._Items.indexOf(i),this._aZ&&i.removeFromToolBar(this._aZ),this._sU&&(r=this._Items.getCount()-1-u,f=this._sU.getItems()[r].getContent(),i.removeFromToolBar(f),this._sU.removeItemByIndex(r)),this._Items.remove(i),this.updateContent()},u.prototype.setItem=function(t,i){var u,r,f;if(t)if(t instanceof n.Ui.BreadcrumbNavigationItem||(t=new n.Ui.BreadcrumbNavigationItem(t)),t.setIsRTL(this._IsRTL),t.setUseSubLevel(this._UseSubLevel),i<this._Items.getCount()&&i>=0)u=this._Items.getItem(i),u!==t&&(this._Items.setItem(t,i),this._aZ&&(r=this._aZ.getItems(),this._aZ.insertItem(t.getContentItem(),r.indexOf(t.getContentItem())),this._aZ.insertItem(t.getSubLevelMenuButton(),r.indexOf(t.getSubLevelMenuButton())),this._aZ.removeItem(t.getContentItem(),!0),this._aZ.removeItem(t.getSubLevelMenuButton(),!0)),this._sU&&(f=this._sU.getItems(),f[this._Items.getCount()-1-i].setContent(t.getContent())),t.dispose(),this.updateContent());else throw new n.OutOfRangeException(this);},u.prototype.removeItems=function(t,i){var u=this._Items.getCount(),f,e,r;if(u){if(t=t||0,i=n.isNumber(i)?i:u-t,!n.isNumber(t)||!n.isNumber(i)||t>=u||t<0)throw new n.OutOfRangeException(this);if(i!==0)for(i<0?(f=t,t=f+i<0?0:f+i):f=t+i-1>u-1?u-1:t+i-1,e=f;e>=t;e--)r=this._Items.getItem(e),this.setHistoryItemName(r.getKey(),r.getContent(),r.getRowIndex(),r.getColumnIndex()),this.removeItem(r)}},u.prototype.getItemByKey=function(n){for(var t=0;t<this._Items.getCount();t++)if(this._Items.getItem(t).getKey()===n)return this._Items.getItem(t);return null},u.prototype.clear=function(){this.removeItems(0,this._Items.getCount())},u.prototype.setIsRTL=function(n){r.prototype.setIsRTL.call(this,n),this._bc6&&this._bc6.setIsRTL(this._IsRTL),this._aZ&&this._aZ.setIsRTL(this._IsRTL),this._g3&&this._g3.setIsRTL(this._IsRTL),this._HistoryMenu&&this._HistoryMenu.setIsRTL(this._IsRTL);for(var t=0;t<this._Items.getCount();t++)this._Items.getItem(t).setIsRTL(this._IsRTL)},u.prototype.getItems=function(){return this._Items},u.prototype.setItems=function(n){for(var i=this._Items.getCount(),r=[],t=0;t<i;t++)r.push(this._Items.getItem(t).getKey());this.removeItems(0,this._Items.getCount()),this.addItems(n)},u.prototype.addItems=function(n){for(var t=0;t<n.length;t++)this.addItem(n[t]);this._ag4()},u}(t.Control);t.BreadCrumbNavigation=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Height=16,this._IsSelected=!1,this._defineEvents(["MoveDown","MoveUp","Selected"])},r.prototype._render=function(){this._DomNode=document.createElement("tr"),this._DomNode.className="PPVBCItem",this._DomNode.id=this._Id;var t=this._DomNode;this._ContentLabel=new n.Ui.Label({ParentNode:t.insertCell(0),Content:this._Content}),this._SettingsButton=this._h4(t.insertCell(1),"settings.png"),this._SelectionButton=this._h4(t.insertCell(2),"selection.png"),this._MoveDownButton=this._h4(t.insertCell(3),"moveDown.png"),this._MoveUpButton=this._h4(t.insertCell(4),"moveUp.png"),this._SettingsButton.Click.add(this._bKP,this),this._SelectionButton.Click.add(this._bKP,this),this._MoveDownButton.Click.add(this._cyC,this),this._MoveUpButton.Click.add(this._cyD,this),this._ParentNode&&this.addToNode(this._ParentNode)},r.prototype._h4=function(t,i,r){return new n.Ui.Button({ParentNode:t,Width:19,Height:17,ImageUrl:this._ImagePath+i,ToolTip:r})},r.prototype._bk=function(){},r.prototype._cyC=function(n,t){this.MoveDown.fire(this,t)},r.prototype._cyD=function(n,t){this.MoveUp.fire(this,t)},r.prototype._bKP=function(n){var i=n.getMenu(),r=i&&i.getIsVisible();this.setIsSelected(r)},r.prototype._bp=function(n,t){(t.Event.target==this._ContentLabel.getDomNode()||t.Event.target==this._DomNode)&&(this.setIsSelected(!this._IsSelected),this.Click.fire(this,t))},r.prototype.getIsSelected=function(){return this._IsSelected},r.prototype.getContentLabel=function(){return this._ContentLabel},r.prototype.getSettingsButton=function(){return this._SettingsButton},r.prototype.getSelectionButton=function(){return this._SelectionButton},r.prototype.getMoveUpButton=function(){return this._MoveUpButton},r.prototype.getMoveDownButton=function(){return this._MoveDownButton},r.prototype.getContent=function(){return this._ContentLabel.getContent()},r.prototype.setContent=function(n){this._ContentLabel.setContent(n)},r.prototype.setIsSelected=function(n){this._IsSelected!==n&&(this._IsSelected=!!n,this._IsSelected?this.addClass("Selected"):this.removeClass("Selected"),this.Selected.fire(this,{}))},r.prototype.dispose=function(){this._SettingsButton&&this._SettingsButton.getMenu()&&this._SettingsButton.setMenu(null),this._SelectionButton&&this._SelectionButton.getMenu()&&this._SelectionButton.setMenu(null),t.prototype.dispose.call(this)},r}(t.BreadcrumbItem);t.VerticalBreadcrumbItem=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._render(),t.setIsRTL(t._IsRTL),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._ImagePath=n.ImagePath,this._NeedEditSelectedItems=!1,this._SettinsMenuItems=[],this._defineEvents(["AddItem","RemoveItem","BeforeAddItem","BeforeRemoveItem","ItemClick","SelectedItemsChanged"])},u.prototype._aEr=function(i,r){var o,s,f,u,h,e;if(!i)return n.create({PPType:r});if(!(i instanceof n.Ui.BCList)){for(o=i,s=n.create({PPType:r}),f=0;f<o.length;f++)u=o[f],n.isNumber(u)&&(h=this._Items.getItem(o[f]),h&&(u=h.getSettings())),u.ImagePath||(u.ImagePath=this._ImagePath),u.ParentNode=this._yT,u.Width=this.getWidth(),e=new t.VerticalBreadcrumbItem(u),e.Click.addOne(this._g0,this),e.MoveUp.addOne(this._cyE,this),e.MoveDown.addOne(this._cyF,this),s.add(e);return s}},u.prototype._render=function(){this._initFromHTML('<div class="VerticalBreadCrumbMain"><\/div>');var n=document.createElement("div");this._DomNode.appendChild(n),this._lI=document.createElement("table"),this._lI.className="PPVBCTable",n.appendChild(this._lI),this._yT=document.createElement("tbody"),this._yT.className="itemsVBC",this._lI.appendChild(this._yT),this._Items=this._aEr(this._Items,"PP.Ui.BreadcrumbItemsList"),this._SelectedItems=this._aEr(this._SelectedItems,"PP.Ui.BreadcrumbSelectedItemsList"),this._SelectedItems.Changed.add(this._cyG,this),this.updateItems(),this._ParentNode&&this.addToNode(this._ParentNode)},u.prototype._cyG=function(t,i){var r=i.Item,u;switch(i.Operation){case n.ListOperation.Add:r.getParentNode()||r.addToNode(this._yT),this._Items.indexOf(r)<0&&this._Items.add(r),this._yO(r);break;case n.ListOperation.Remove:r&&r.removeFromDOM(),this._Items.indexOf(r)>-1&&this._Items.remove(r),this.updateItems();break;case n.ListOperation.Set:u=this._Items.getItem(i.Index),r.removeFromDOM(),r.addToNode(this._yT,u.getDomNode()),this._yO(r)}},u.prototype._cyH=function(n,t){this._SelectedItems.add(this._Items.findByContent(t.MenuItem.getContent())),this.updateSize()},u.prototype._cyI=function(n){var i=n.getMenu().getIsVisible();i?n.addClass("Selected"):n.removeClass("Selected")},u.prototype._g0=function(n){this.ItemClick.fire(n,{Item:n})},u.prototype._cyE=function(n){this.moveItem(n,-1)},u.prototype._cyF=function(n){this.moveItem(n,1)},u.prototype._agU=function(){var i=this._bKQ();i&&(this.deleteItem(i),i.setIsSelected(!1)),this._SettingsMenu.hide()},u.prototype._cyJ=function(n,t){var i=this._bKQ();i&&(this.replaceItem(i,this._Items.findByContent(t.MenuItem.getContent())),i.setIsSelected(!1)),this._SettingsMenu.hide()},u.prototype._bKQ=function(){for(var n=this._Items.getCount();n--&&!this._Items.getItem(n).getIsSelected(););return n>=0?this._Items.getItem(n):null},u.prototype._bKR=function(){var e,i,f,r,s,c,o;if(this._lI.tFoot||this._lI.createTFoot(),this._NeedEditSelectedItems&&this._Items.getCount()>this._SelectedItems.getCount()){this._AddSelectedItemsButton?(f=this._AddSelectedItemsButton.getParentNode(),i=f.parentNode,e=i.parentNode):(e=this._lI.tFoot.insertRow(0),e.className="PPVBCItem ",i=e.insertCell(0),i.colSpan=5,i.style.height="19px",i.className="PPVBCItemTreeLine",f=document.createElement("div"),i.appendChild(f)),r=this._SelectedItems.getCount()*20,s=this._g(this._Width)-r-8,r=s<0?0:r,i.style.width=this._Width+"px",i.style.backgroundPositionX=(this._IsRTL?this._g(this._Width)-r:r-20)+"px",f.style.paddingLeft=(this._IsRTL?0:r)+"px",f.style.paddingRight=(this._IsRTL?r:0)+"px";var t,u=[],h=this._Items.getItems(),l=this._SelectedItems.getItems();if(!this._AddItemMenu){for(t=0;t<this._Items.getCount();t++)u.push(new n.Ui.MenuItem);this._AddItemMenu=new n.Ui.Menu({CloseOnDocumentMouseDown:!0,ItemSelected:new n.Delegate(this._cyH,this),ShowIcons:!1,Items:u})}if(this._AddSelectedItemsButton||(this._AddSelectedItemsButton=new n.Ui.Button({Content:"Добавить атрибут/измерение",ToolTip:"Добавить атрибут/измерение",Height:17,Menu:this._AddItemMenu}),this._AddSelectedItemsButton.Click.add(this._cyI,this),this._AddSelectedItemsButton.addToNode(f)),u=this._AddItemMenu.getItems(),c=u.length,o=h.length,c!==o)while(u.length!==o)c>o?this._AddItemMenu.removeItemByIndex(0):this._AddItemMenu.addItem(new n.Ui.MenuItem);for(t=0;t<u.length;t++)u[t].setContent(h[t].getContent()),u[t].setIsVisible(!l||l.indexOf(h[t])==-1);this._bKS==null&&(this._bKS=n.getSizeOf(this._AddSelectedItemsButton.getDomNode())),this._AddSelectedItemsButton.setWidth(Math.min(s,this._bKS.Width-14))}else this._AddSelectedItemsButton&&(this._AddSelectedItemsButton.dispose(),this._AddSelectedItemsButton=null,this._lI.removeChild(this._lI.tFoot))},u.prototype._bc9=function(){var u=this._Items.getItems(),o=u.length,s=this._SelectedItems.getItems(),h=[],r,f,i,e;if(!this._MenuReplace){for(r=0;r<o;r++)u[r]&&(f=new t.MenuItem,f.setContent(u[r].getContent()),s&&f.setIsVisible(s.indexOf(u[r])===-1),h.push(f));this._MenuReplace=new n.Ui.Menu({CloseOnDocumentMouseDown:!0,ShowIcons:!1,ItemSelected:new n.Delegate(this._cyJ,this),Items:h})}i=[],this._SettingsMenu||(i=[{MenuItem:{ResourceKey:"BreadcrumbMenuItemClear",ImageUrl:this._ImagePath+"bc-clear.png",Click:new n.Delegate(this._agU,this)}},{MenuItem:{Content:"Заменить",Menu:this._MenuReplace}}],e=this._SettinsMenuItems||[],e.length>0&&i.push({MenuHeader:{Content:"Отображение"}}),i=i.concat(e),this._SettingsMenu=new n.Ui.Menu({Items:i})),i=this._SettingsMenu.getItems(),i[0].setIsVisible(this._NeedEditSelectedItems),i[1].setIsVisible(this._NeedEditSelectedItems&&o>this._SelectedItems.getCount())},u.prototype._aTL=function(){var t;if(!this._SelectionMenu){var i=[],r=this._Items,u=r.getCount();for(t=0;t<u;t++)i.push({MenuItem:{Content:r.getItem(t).getContent()}});this._SelectionMenu=new n.Ui.Menu({CloseOnDocumentMouseDown:!0,ShowIcons:!1,Items:i})}},u.prototype._yO=function(n){var i,e,r,o;if(n instanceof t.VerticalBreadcrumbItem){var f=this._SelectedItems,u=f.indexOf(n),s=u===f.getCount()-1;this._bKT(n),this._bc9(),this._aTL(),i=n.getSettingsButton().getMenu()||this._SettingsMenu,e=i instanceof t.Menu?i.getItems().length>0:!!i,n.getSettingsButton().setMenu(i),n.getSettingsButton().setEnabled(this._NeedEditSelectedItems||e),r=n.getSelectionButton().getMenu()||this._SelectionMenu,o=r instanceof t.Menu?r.getItems().length>0:!!r,n.getSelectionButton().setMenu(r),n.getSelectionButton().setEnabled(o),n.getMoveUpButton().setEnabled(u>0),u-1>=0&&f.getItem(u-1).getMoveDownButton().setEnabled(!0),n.getMoveDownButton().setEnabled(!s)}},u.prototype._bKT=function(t){var r=t.getWidth()<82?0:19,s=this._SelectedItems,u=s.indexOf(t),f=t.getWidth()-20*u-(r>0?76:8),i=t.getContentLabel().getDomNode(),o,e;f<0?(i.style.paddingLeft="",i.style.paddingRight=""):(i.style.width="",this._IsRTL?(i.style.paddingLeft="0",i.style.paddingRight=20*u+"px"):(i.style.paddingLeft=20*u+"px",i.style.paddingRight="0")),o=n.getSizeOf(i).Width>f,i.style.width=(f<0?0:f)+"px",t.getContentLabel().setToolTip(o?this._Content:null),u>0&&(i.className="PPVBCItemTreeLine",e=f<0?0:20*(u-1),i.style.backgroundPositionX=(this._IsRTL?t.getWidth()-96-e:e)+"px"),t.getSettingsButton().setWidth(r),t.getSelectionButton().setWidth(r),t.getMoveUpButton().setWidth(r),t.getMoveDownButton().setWidth(r)},u.prototype._bJP=function(){return},u.prototype.getItems=function(){return this._Items},u.prototype.getSelectedItems=function(){return this._SelectedItems},u.prototype.updateItems=function(){for(var n=0,t=this._Items.getCount();n<t;n++)this._yO(this._Items.getItem(n));this._bKR()},u.prototype.moveItem=function(n,t){var i,r,u;t&&((i=this._SelectedItems.indexOf(n),r=i+t,i===-1||r<0||r>=this._SelectedItems.getCount())||(u=this._SelectedItems.getItem(i),this._SelectedItems.setItem(this._SelectedItems.getItem(r),i),this._SelectedItems.setItem(u,r),this.SelectedItemsChanged.fire(this,{})))},u.prototype.deleteItem=function(n){this._SelectedItems.remove(n),this.updateSize()},u.prototype.replaceItem=function(n,t){var i=this._SelectedItems.indexOf(n);this._SelectedItems.setItem(t,i)},u.prototype.setNeedEditSelectedItems=function(n){this._NeedEditSelectedItems=!!n,this.updateItems()},u.prototype.setIsRTL=function(n){r.prototype.setIsRTL.call(this,n),this._AddItemMenu&&this._AddItemMenu.setIsRTL(this._IsRTL);for(var t=0,i=this._Items.getCount();t<i;t++)this._Items.getItem(t).setIsRTL(n);this._bKR()},u.prototype.setWidth=function(n,t){var i,f,u;for(r.prototype.setWidth.call(this,n,t),i=0,f=this._Items.getCount();i<f;i++)u=this._Items.getItem(i),u.setWidth(n),this._bKT(u)},u}(t.Control);t.VerticalBreadcrumb=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(n){var t;(function(n){n[n.string=0]="string",n[n.number=1]="number"})(t=n.TreeColumnType||(n.TreeColumnType={})),n.TreeListEventType={node:"node",line:"line",text:"text",checkBox:"cbox",lastColumn:"last"}})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._aY(),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._aEL=null,this._agF={DomTreeCell:'<div class="PPTLVNodeWidgets"><\/div><div class="PPTLVNodeContent"><div class="PPTLVNodeControlContainer"><\/div><div class="PPTLVNodeTextContainer"><span class="PPTLVNodeText"> &nbsp; <\/span><\/div><\/div>',DomCell:'<div class="PPTLVNodeContent PPTLVNodeTextContainer"><span class="PPTLVNodeText"> &nbsp; <\/span><\/div>',DomTextControlCell:'<div class="PPTLVNodeContent"><div class="PPTLVNodeControlContainer"><\/div><div class="PPTLVNodeTextContainer"><span class="PPTLVNodeText"> &nbsp; <\/span><\/div><\/div>'},this._gs.WordWrap=!0,this._gs.BorderBottomAsNode=!0,this._em=20},u.prototype._render=function(){r.prototype._render.apply(this,arguments),this.addClass("PPDTL")},u.prototype._acg=function(){r.prototype._acg.apply(this,arguments),this._vg(this._kU)},u.prototype.setNodeExpanded=function(){var f=this._ow();r.prototype.setNodeExpanded.apply(this,arguments),this._vg(f)},u.prototype._aSa=function(){return t.TreeListScrollingMode.Dynamic},u.prototype._iK=function(){if(this._jZ()==this.getNodesCount()+1){var n=this._d9.Top+this._jZ(!0)-this._dB;return n/this._em+this._jZ(!1)}return this.getNodesCount()+this._d9.Top/this._em+1},u.prototype._jZ=function(t,i){var f,s;if(this._aEL)return n.isBoolean(i)||(i=this._ou!==this._dB),f=i?this._aEL.scrollBar:this._aEL.noScrollBar,t?f.absolute:f.relative;for(var u=Math.max(this.getNodesCount(),0)|0,e=Math.max(u-Math.ceil(this._ou/this._em)-1,0),o=[],h=this._f3.scrollTop,c=this._gs.DashboardScrolls?0:this._ScrollBarH.getHeight(),r=e;r<=u;r++)r>=(this._kV|0)&&r<=(this._yJ|0)||(this._yK(r),o.push(r));for(this._aEL={scrollBar:this._bda(e,u,this._ou-c),noScrollBar:this._bda(e,u,this._ou)},s=o.length,r=0;r<s;r++)this._qq(o[r]);return this._f3.scrollTop=h,this._jZ.apply(this,arguments)},u.prototype._aSb=function(){this._aEL=null},u.prototype._bda=function(n,t,i){for(var e,f=0,s=this.getNodesCount(),r,o,u=t;u>=n;u--){if(u<s?(o=this.getNodeByPosition(u),r=o?this._ox(o):this._em):r=this._d9.Bottom,f+r>i)break;f+=r}return e=t-u,r=this._ox(this.getNodeByPosition(u)),r&&(e+=(i-f)/r),{absolute:f,relative:e}},u.prototype._aDQ=function(n){var t=this._gs.DashboardScrolls?0:this._ScrollBarH.getHeight(),i=this._ou-(n?t:0),r=this._jZ(!0,n),u=this._jZ(!1,n);return u<this.getNodesCount()+1||r+this._d9.Top>i},u.prototype._aDP=function(){this._agw();var n=this._ba6();this._f3.scrollTop=n},u.prototype._qr=function(t,i){var u=this.getNodePosition(t),f,h,c;if(n.isDefined(u)){if(f=u+this._d9.Top/this._em,!i)return f;for(var o=Math.max(u-this._dB/this._em|0,0),s=u,e=[],l=this._f3.scrollTop,r=o;r<=s;r++)r>=(this._kV|0)&&r<=(this._yJ|0)||(this._yK(r),e.push(r));for(h=this._bda(o,s,this._dB).relative,c=e.length,r=0;r<c;r++)this._qq(e[r]);return this._f3.scrollTop=l,f-(h-1)}},u.prototype._yL=function(n){var t=this._bB[n];if(t&&t.DomRow&&t.DomRow.parentNode==this._lO)return t.DomRow.offsetTop-this._f3.scrollTop+this._d9.Top},u.prototype._ox=function(t){if(n.isDefined(this.getNodePosition(t))){var i=this._bB[t];if(i&&i.DomRow)return i.DomRow.offsetHeight}},u.prototype._agG=function(){var i,t;if(this.getNodesCount()!==0){for(var n=this._kV|0,u=Math.max(this._yJ-1,0),r=this._yL(this.getNodeByPosition(n))||0;;){if(i=this.getNodeByPosition(n),t=i?this._ox(i):this._em,!t||r+t>=this._dB||n>=u)break;r+=t,n++}return{From:this._kV|0,To:n}}},u.prototype._aSf=function(){var n=100/(this._iK()-this._jZ());n>0&&this._ScrollBarV.setScrollSpeed(n)},u.prototype._baX=function(){var n=Math.max(this.getNodesCount(),0);this._kV=Math.min(Math.max(this._kU-this._d9.Top/this._em,0),this.getNodesCount()+1-this._jZ()),this._yJ=Math.min(this._kV+this._dB/this._em,n)},u.prototype._ba6=function(){var t=this.getNodeByPosition(this._kV|0),i=n.isDefined(t)?this._ox(t):this._em;return this._kV%1*i+Math.min(this._kU*this._em,this._d9.Top)},u.prototype._aDR=function(){for(var i=this.getNodes(),n=0,t=i.length;n<t;n++)this._yK(n);return!0},u.prototype.getFullTreeHeight=function(){throw new n.Exception(this,"don't implimented in dynamic scrolling");},u}(t.TreeListView);t.DynamicTreeList=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var u,e,r,f;(function(n){n[n.SVG=0]="SVG",n[n.SVGLight=1]="SVGLight",n[n.CSS=2]="CSS",n[n.Services=3]="Services"})(u=t.BorderComboTypesMode||(t.BorderComboTypesMode={})),function(n){n[n.Color=0]="Color",n[n.Type=1]="Type",n[n.Width=2]="Width"}(e=t.BorderComboMode||(t.BorderComboMode={})),function(n){n[n.BottomSingle=0]="BottomSingle",n[n.TopSingle=1]="TopSingle",n[n.LeftSingle=2]="LeftSingle",n[n.RightSingle=3]="RightSingle",n[n.None=4]="None",n[n.FullSingle=5]="FullSingle",n[n.OuterSingle=6]="OuterSingle",n[n.OuterBold=7]="OuterBold",n[n.BottomDouble=8]="BottomDouble",n[n.BottomBold=9]="BottomBold",n[n.TopBottomSingle=10]="TopBottomSingle",n[n.TopSingleBottomBold=11]="TopSingleBottomBold",n[n.TopSingleBottomDouble=12]="TopSingleBottomDouble"}(r=t.BorderType||(t.BorderType={})),f=function(t){function r(i){var r=t.call(this,i)||this,u,f;return r._aTM=new n.Ui.GroupButtonsItem({ResourceKey:"borderComboLineColor",GroupName:"ModeGroup",Value:0,IsToggleButton:!0}),r._bdb=new n.Ui.GroupButtonsItem({ResourceKey:"borderComboLineType",GroupName:"ModeGroup",Value:1,IsToggleButton:!0}),r._aTN=new n.Ui.GroupButtonsItem({ResourceKey:"thickness",GroupName:"ModeGroup",Value:2,IsToggleButton:!0}),r._render(),u=r._Border,f=r._Value,r._Border=null,r._Value=null,u?r.setValue(u,!1):f?r.setValue(f,!1):r._Border=r.getValue(),r}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._ToggleMode=!0,this._TypesMode=u.Services,this._BorderTypeOnlt=!1,this._LineType=null,this._BorderType=null,this._BorderWidthVisible=!1,this._LineColorVisible=!0,this._LineWidth=0,this._Border=null,this._HiddenBorderTypes=[],this._Template=n.Templates.Radius2,this._PresentedColors=["#000000","#cccccc","#ed1b23","#ea4e00","#e9ae00","#669900","#00a1e7","#3258c9","#6532cb","#333333","#d6d6d6","#f0464c","#ff691f","#ffc61e","#7dbb00","#1cbaff","#3277d3","#8258d5","#4c4c4c","#dddddd","#f46f74","#ff8b51","#ffd250","#92dc00","#4ec9ff","#7e96dd","#9e7dde","#666666","#e6e6e6","#f79a9e","#ffad85","#ffe084","#a9fe00","#81d9ff","#a2b3e5","#bba4e8","#808080","#ffffff","#fac3c5","#ffd0b7","#ffecb6","#b4ff20","#b3e8ff","#c9d2ef","#d6c9f1"],this._Color=n.Color.black,this._qG=[],this._ec={},this._ag=[],this._Arrow={Fill:"#7B7B7B",Width:7,Height:3},this._defineEvents(["BorderTypeChanged","LineTypeChanged","ColorChanged","ModeChanged","LineWidthChanged","ValueChanged"])},r.prototype._initFields=function(i){i=i||{},!i.DropPanel||i.DropPanel instanceof n.Ui.DropPanel||(this._auv=i.DropPanel,delete i.DropPanel),i.Arrow instanceof n.Ui.Arrow||(i.Arrow=i.Arrow||{},n.extend(i.Arrow,this._Arrow)),t.prototype._initFields.call(this,i)},r.prototype._render=function(){this._Mode===undefined&&(this._Mode=0),this._amY=new n.ImageList({Source:"img/bordertype.png",IconHeight:16,IconWidth:16}),this._cyK=new n.ImageList({Source:"img/linetype.png",IconHeight:22,IconWidth:156}),this._DomNode||this._initFromHTML("<div class='PPBorderCombo'><div class='PPBorderCombo__Icon'><\/div><div class='PPBorderCombo__Arrow'><\/div><\/div>"),this._IconDomNode=this._DomNode.firstChild,this._ArrowDomNode=n.querySelector(this._DomNode,".PPBorderCombo__Arrow"),this._Arrow instanceof n.Ui.Arrow?this._ArrowDomNode.appendChild(this._Arrow.getSvgElement()):(this._Arrow.ParentNode=this._ArrowDomNode,this._Arrow=new n.Ui.Arrow(this._Arrow)),this._bKU(),t.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode),this._bdc()},r.prototype._bindEvents=function(){t.prototype._bindEvents.apply(this,arguments),this._c7&&this._bV(this._c7,{contextmenu:this._bKV});for(var r=this._ag.length,i,n=0;n<r;n++)i=this._ag[n],this._bV(i,{click:this._bdd,mousedown:this._bKW,mouseup:this._bKX,mouseout:this._bKY,mouseover:this._bKZ});for(r=this._qG.length,n=0;n<r;n++)i=this._qG[n],this._bV(i,{click:this._aTO,mousedown:this._bK0,mouseup:this._bK1,mouseout:this._bK2,mouseover:this._bK3});r=this._ec.length;for(n in this._ec)i=this._ec[n],this._bV(i,{click:this._bde,mousedown:this._bK4,mouseup:this._bK5,mouseout:this._bK6,mouseover:this._bK7})},r.prototype._unBindEvents=function(){t.prototype._unBindEvents.apply(this,arguments),this._c7&&this._k(this._c7,"contextmenu",this._bKV);for(var r=this._ag.length,n,i=0;i<r;i++)n=this._ag[i],this._k(n,"click",this._bdd),this._k(n,"mousedown",this._bKW),this._k(n,"mouseup",this._bKX),this._k(n,"mouseout",this._bKY),this._k(n,"mouseover",this._bKZ);for(r=this._qG.length,i=0;i<r;i++)n=this._qG[i],this._k(n,"click",this._aTO),this._k(n,"mousedown",this._bK0),this._k(n,"mouseup",this._bK1),this._k(n,"mouseout",this._bK2),this._k(n,"mouseover",this._bK3);for(i in this._ec)n=this._ec[i],this._k(n,"click",this._bde),this._k(n,"mousedown",this._bK4),this._k(n,"mouseup",this._bK5),this._k(n,"mouseout",this._bK6),this._k(n,"mouseover",this._bK7)},r.prototype._bdc=function(){var t=!1,i;this._c7||(t=!0,this._c7=n.createElement(null,"PPBorderCombo__Panel"),this._aup=!1),i=this._c7.style.visibility,this._c7.style.visibility="hidden",this._aTP||(this._aTP=n.createElement(this._c7,"PPBorderComboBorder")),this._bK8(),this._sf||(this._sf=n.createElement(this._c7,"PPBorderCombo__Separator")),this._acs||(this._acs=n.createElement(this._c7,"PPBorderComboMode")),this._bK9(),this._oA||(this._oA=n.createElement(this._c7,"PPBorderComboPalette")),this._bLa(),this._aEM||(this._aEM=n.createElement(this._c7,"PPBorderComboLine")),this._aEN||(this._aEN=n.createElement(this._c7,"PPBorderComboWidth")),this._bLb(),this._bLc(),this._aTQ(),this._amZ(),this._unBindEvents(),this._bindEvents(),t&&this.setIsRTL(this._IsRTL),this._c7.style.visibility=i},r.prototype._bKU=function(){var t=!1,i,r,u,f;if(this._ToggleMode){i=n.Ui.BorderCombo.BorderType;for(r in i)this._BorderType===n.Ui.BorderCombo.BorderType[r]&&(u=this._BorderType>8?this._BorderType-9:this._BorderType,f=this._BorderType>8?1:0,this._IconDomNode.style.backgroundPosition=this._amY.getIcon(f,u),t=!0)}else this._IconDomNode.style.backgroundPosition=this._amY.getIcon(0,7),t=!0;t||(this._IconDomNode.style.backgroundPosition=this._amY.getIcon(0,4))},r.prototype._bLa=function(){if(!this._bLd){this._bLd=n.createElement(this._oA,"PPBorderComboPalette__Wrapper","TABLE");for(var s=5,e=9,i,f,r,t,o=this._PresentedColors,h=o.length,u=0;u<s;u++){for(f=document.createElement("tr"),i=0;i<e;i++)this._f8=document.createElement("td"),this._f8.className="PPBorderComboPalette__Cell",this._f8.innerHTML="&nbsp;",t="#FFFFFF",r=i+u*e,r<h?(t=o[r],!this._sJ&&this._Color&&t.toUpperCase()==this._Color.toString()&&this._acu(this._f8)):this._f8.style.visibility="hidden",this._f8.style.backgroundColor=t,this._f8.Color=t,this._f8.Index=r,this._f8.IsUsed=!1,this._ag.push(this._f8),f.appendChild(this._f8);this._bLd.appendChild(f)}}},r.prototype._bLc=function(){this._WidthGridPanel||(this._WidthGridPanel=new n.Ui.GridPanel({ParentNode:this._aEN,Items:[new n.Ui.Label({Top:0,Left:0,ResourceKey:"thicknessColon"}),this._cyL=new n.Ui.NumberEdit({Top:0,Left:1,Width:60,Value:this._LineWidth,MinValue:0,MaxValue:5,AfterValueChange:new n.Delegate(this._cyM,this)})]}))},r.prototype._cyM=function(n,t){var r="LineWidth",i=t.NewValue;this.setLineWidth.call(this,i,!1),this.LineWidthChanged.fire(this,{LineWidth:i}),this.ValueChanged.fire(this,{PropertyName:r,Value:i,Border:this._Border})},r.prototype._bK9=function(){var t,i;if(this._aZ)return!0;t=n.Ui.BorderCombo.Mode,this._aZ=new n.Ui.GroupButtons({ParentNode:this._acs}),this._aZ.addItem(this._aTM),this._aTM.setResourceKey("borderComboLineColor"),this._aZ.addItem(this._bdb),this._bdb.setResourceKey("borderComboLineType"),this._aTN.setResourceKey("thickness"),this._aZ.addItem(this._aTN),this._aTM.StateChanged.add(this._bdf,this),this._bdb.StateChanged.add(this._bdf,this),this._aTN.StateChanged.add(this._bdf,this),this._LineColorVisible||(this._aTM.hide(),this._Mode==n.Ui.BorderCombo.Mode.Color&&(this._Mode=n.Ui.BorderCombo.Mode.Type)),this._BorderWidthVisible||(this._aTN.hide(),this._LineColorVisible?this._Mode=n.Ui.BorderCombo.Mode.Color:(this._Mode=n.Ui.BorderCombo.Mode.Type,n.hide(this._acs)));for(i in t)this._Mode==n.Ui.BorderCombo.Mode[i]&&this._aZ.getItem(this._Mode).setIsChecked(!0,!1)},r.prototype._bK8=function(){var t,r,i,u,f,o;if(this._bLe)return!0;this._bLe=n.createElement(this._aTP,"PPBorderComboBorder__List","TABLE");var s=2,e=9,h=n.Ui.BorderCombo.BorderType;for(t=0;t<s;t++)for(r=document.createElement("tr"),this._bLe.appendChild(r),i=0;i<e;i++){if(t==1&&i==4)break;this._f8=document.createElement("td"),r.appendChild(this._f8),this._f8.className="PPBorderComboBorder__Wrapper",this._f8.innerHTML="<div class='PPBorderComboBorder__Cell'><\/div>",u=i+t*e,this._f8.firstChild.style.backgroundPosition=this._amY.getIcon(t,i),this._f8.Index=u,this._qG.push(this._f8),this._HiddenBorderTypes.indexOf(u)>-1&&n.hide(this._f8)}f=!1;for(o in h)n.Ui.BorderCombo.BorderType[o]==this._BorderType&&(this._acu(this._qG[this._BorderType]),f=!0);f||this._BorderType===null||(this._acu(this._qG[4]),this._BorderType=4)},r.prototype._bLb=function(){var r,i,t,u,e,f;if(this._bLf)return!0;this._bLf=n.createElement(this._aEM,"PPBorderComboLine__List","TABLE"),r=0,i=n.Ui.LineTypes;for(t in i)t!=="LongDashDotDot"&&t!=="Dashed"&&(u=document.createElement("tr"),this._f8=document.createElement("td"),this._f8.className="PPBorderComboLine__Wrapper",this._f8.innerHTML="<div class='PPBorderComboLine__Cell'><\/div>",this._f8.firstChild.style.backgroundPosition=this._cyK.getIcon(r,0),this._f8.Type=t,this._ec[t]=this._f8,r++,u.appendChild(this._f8),this._bLf.appendChild(u));for(e in i)if(n.Ui.LineTypes[e]===n.Ui.LineTypes[this._LineType])for(f in i)if(n.Ui.LineTypes[f]===n.Ui.LineTypes[this._LineType]){this._acu(this._ec[f]);break}},r.prototype._acu=function(t){this._ToggleMode&&t&&n.addClass(t,"Selected")},r.prototype._amZ=function(){var r=0,i=this._Mode,t=n.Ui.BorderCombo.Mode;this._BorderTypeOnlt?(n.show(this._aTP),n.show(this._sf)):(n.hide(this._aTP),n.hide(this._sf));switch(i){case t.Color:n.show(this._oA),n.hide(this._aEM),n.hide(this._aEN);break;case t.Type:n.hide(this._oA),n.show(this._aEM),n.hide(this._aEN);break;case t.Width:n.hide(this._oA),n.hide(this._aEM),n.show(this._aEN)}},r.prototype._aTQ=function(){var t;if(this._TypesMode==n.Ui.BorderCombo.TypesMode.Services)for(t in this._ec)n.show(this._ec[t]);if(this._TypesMode==n.Ui.BorderCombo.TypesMode.SVG||this._TypesMode==n.Ui.BorderCombo.TypesMode.CSS||this._TypesMode==n.Ui.BorderCombo.TypesMode.SVGLight){for(t in this._ec)n.hide(this._ec[t]);this._TypesMode==n.Ui.BorderCombo.TypesMode.CSS?(n.show(this._ec.Solid),n.show(this._ec.ShortDot),n.show(this._ec.ShortDash)):this._TypesMode==n.Ui.BorderCombo.TypesMode.SVG?(n.show(this._ec.Solid),n.show(this._ec.ShortDot),n.show(this._ec.Dot),n.show(this._ec.ShortDash),n.show(this._ec.Dash),n.show(this._ec.ShortDashDot),n.show(this._ec.DashDot),n.show(this._ec.LongDashDot),n.show(this._ec.ShortDashDotDot),n.show(this._ec.DashDotDot)):(n.show(this._ec.Solid),n.show(this._ec.ShortDot),n.show(this._ec.ShortDash),n.show(this._ec.ShortDashDot),n.show(this._ec.ShortDashDotDot))}},r.prototype._cyN=function(){this.getDropPanel().hide(),this.showDropPanel()},r.prototype._bdf=function(n){this._Mode=n.getValue(),this._aTQ(),this._amZ(),this._cyN(),this.ModeChanged.fire(this,{})},r.prototype._bKV=function(){return!1},r.prototype._bdd=function(t,i){var r,f,u;for(this._Color=n.Color.getColor(this._PresentedColors[i.Element.Index]),this._Border.setColor(this._Color),r=0,f=this._ag.length;r<f;r++)u=this._ag[r],n.removeClass(u,"Hover"),n.removeClass(u,"Selected");this._ToggleMode&&n.addClass(i.Element,"Selected"),this.ColorChanged.fire(this,{Color:this._Color}),this.ValueChanged.fire(this,{PropertyName:"Color",Value:this._Color,Border:this._Border}),this.getIsDropPanelCreated()&&this.getDropPanel().hide()},r.prototype._bKZ=function(t,i){n.addClass(i.Element,"Hover")},r.prototype._bKY=function(t,i){n.removeClass(i.Element,"Hover")},r.prototype._bKW=function(t,i){n.addClass(i.Element,"Press")},r.prototype._bKX=function(t,i){n.removeClass(i.Element,"Press")},r.prototype._aTO=function(t,i){var u=i.FireEvent,r,e,o,f;for(u=typeof u=="undefined"?!0:u==!0,this._BorderType=i.Element.Index,r=0,o=this._qG.length;r<o;r++)f=this._qG[r],n.removeClass(f,"Hover"),n.removeClass(f,"Selected");this._ToggleMode&&(n.addClass(i.Element,"Selected"),r=i.Element.Index>8?i.Element.Index-9:i.Element.Index,e=i.Element.Index>8?1:0,this._IconDomNode.style.backgroundPosition=this._amY.getIcon(e,r)),u&&(this.BorderTypeChanged.fire(this,{BorderType:this._BorderType}),this.getIsDropPanelCreated()&&this.getDropPanel().hide())},r.prototype._bK3=function(t,i){n.addClass(i.Element,"Hover")},r.prototype._bK2=function(t,i){n.removeClass(i.Element,"Hover")},r.prototype._bK0=function(t,i){n.addClass(i.Element,"Press")},r.prototype._bK1=function(t,i){n.removeClass(i.Element,"Press")},r.prototype._bde=function(t,i){var r=i.FireEvent,f,u;r=typeof r=="undefined"?!0:r==!0,this._LineType=i.Element.Type||this._LineType,this._Border.setStyle(n.Ui.BorderCombo.convertStyleFromBorderComboFormat(this._LineType));for(f in this._ec)u=this._ec[f],n.removeClass(u,"Hover"),n.removeClass(u,"Selected");this._ToggleMode&&n.addClass(i.Element,"Selected"),r&&(this.LineTypeChanged.fire(this,{LineType:this._LineType}),this.ValueChanged.fire(this,{PropertyName:"LineType",Value:this._LineType,Border:this._Border}),this.getIsDropPanelCreated()&&this.getDropPanel().hide())},r.prototype._bK7=function(t,i){n.addClass(i.Element,"Hover")},r.prototype._bK6=function(t,i){n.removeClass(i.Element,"Hover")},r.prototype._bK4=function(t,i){n.addClass(i.Element,"Press")},r.prototype._bK5=function(t,i){n.removeClass(i.Element,"Press")},r.prototype._bk=function(i,r){if(this._Enabled)return t.prototype._bk.call(this,i,r),n.addClass(this._DomNode,"Pressed"),this.getDropPanel().getDroppedDown()?this.getDropPanel().hide():this.showDropPanel(),!1},r.prototype._cG=function(){this._Enabled&&(t.prototype._cG.apply(this,arguments),n.addClass(this._DomNode,"Hover"))},r.prototype._b0=function(){t.prototype._b0.apply(this,arguments),n.removeClass(this._DomNode,"Hover")},r.prototype._cyO=function(){n.removeClass(this._DomNode,"Pressed")},r.prototype.getTypesMode=function(){return this._TypesMode},r.prototype.getBorderTypeOnlt=function(){return this._BorderTypeOnlt},r.prototype.getBorderWidthVisible=function(){return this._BorderWidthVisible},r.prototype.getLineColorVisible=function(){return this._LineColorVisible},r.prototype.getColor=function(){return this._Color},r.prototype.getBorderType=function(){return this._BorderType},r.prototype.getLineType=function(){return this._LineType},r.prototype.getLineWidth=function(){return this._LineWidth},r.prototype.getMode=function(){return this._Mode},r.prototype.getToggleMode=function(){return this._ToggleMode},r.prototype.setTypesMode=function(n){this._TypesMode=n,this._aTQ(),this._amZ()},r.prototype.setBorderTypeOnlt=function(n){this._BorderTypeOnlt=!!n,this._amZ()},r.prototype.setBorderWidthVisible=function(n){this._BorderWidthVisible=!!n,this._amZ()},r.prototype.setLineColorVisible=function(n){this._LineColorVisible=!!n,this._amZ()},r.prototype.showDropPanel=function(){var r,s;if(this._Enabled){if(r=this.getDropPanel(),r.getDroppedDown())return!1;this._aD1&&(this._bdc(),this._aD1=!1),this._Height=this._DomNode.offsetHeight;var t=r.isVisibleArea(0,0),o=n.calculateOffset(this._DomNode),u=o.Y+this._g(this._Height)+1,i=0,f=null,e;this._Width=this._DomNode.offsetWidth,i=this._IsRTL?o.X+this._g(this._Width)-t.Width+1:o.X-1,t=r.isVisibleArea(u,i),t.VisibleByHeight||(s=o.Y-t.Height,s>-1?(f=r.isVisibleArea(s,i),f.VisibleByHeight&&(u=s)):u=document.documentElement.clientHeight-t.Height>-1?document.documentElement.clientHeight-t.Height:0),t.VisibleByWidth||(this._IsRTL?(e=i+t.Width-this._g(this._Width)-2,f=r.isVisibleArea(u,e),f.VisibleByWidth&&(i=e)):(e=i+this._g(this._Width)-t.Width+2,f=r.isVisibleArea(u,e),f.VisibleByWidth&&(i=e))),r.show(i,u),this._bdc()}},r.prototype.setColor=function(t){var r=arguments.length>1?arguments[1]:!0,i;this._Color=t instanceof n.Color?t:n.Color.getColor(t),this._Border.setColor(this._Color),i=this._PresentedColors.indexOf(this._Color.toString().toLowerCase()),i>-1?this._bdd(this,{Element:this._ag[i]}):r&&(this.ColorChanged.fire(this,{Color:this._Color}),this.ValueChanged.fire(this,{PropertyName:"Color",Value:this._Color,Border:this._Border}))},r.prototype.setBorderType=function(t){var i=arguments.length>1?arguments[1]:!0,r=!1,o=n.Ui.BorderCombo.BorderType,u,f,e;for(u in o)if(n.Ui.BorderCombo.BorderType[u]==t){this._BorderType=t,this._qG.length>0?this._aTO(this,{Element:this._qG[t],FireEvent:i}):(f=this._BorderType>8?this._BorderType-9:this._BorderType,e=this._BorderType>8?1:0,this._IconDomNode.style.backgroundPosition=this._amY.getIcon(e,f),i&&this.BorderTypeChanged.fire(this,{BorderType:this._BorderType})),r=!0;break}r||(this._BorderType=n.Ui.BorderCombo.BorderType.None,this._qG.length>0?this._aTO(this,{Element:this._qG[4],FireEvent:i}):(this._IconDomNode.style.backgroundPosition=this._amY.getIcon(0,4),i&&this.BorderTypeChanged.fire(this,{BorderType:this._BorderType})))},r.prototype.setLineType=function(t){var r=arguments.length>1?arguments[1]:!0,u=!1,e=n.Ui.LineTypes,f,i;for(f in e)if(i=n.Ui.LineTypes[f],i==n.Ui.LineTypes[t]){this._LineType=t,this._ec.Solid&&this._bde(this,{Element:i,FireEvent:r}),u=!0,this._acu(i);break}u||(this._LineType=n.Ui.LineTypes.Solid,r&&(this.LineTypeChanged.fire(this,{LineType:this._LineType}),this.ValueChanged.fire(this,{PropertyName:"LineType",Value:this._LineType,Border:this._Border})))},r.prototype.setLineWidth=function(n){var t=arguments.length>1?arguments[1]:!0;n=this._g(n),this._LineWidth=n,this._Border.setWidth(n),this._cyL.setValue(n,t)},r.prototype.setMode=function(n){this._aZ&&this._aZ.getItem(n).setIsChecked(!0),this._Mode=n,this._aZ||this.ModeChanged.fire(this,{})},r.prototype.setDefault=function(){this.setColor.call(this,n.Color.black,!1),this.setLineWidth.call(this,0,!1),this.setLineType.call(this,-1,!1)},r.prototype.getValue=function(){if(!this._Border){var t=n.Ui.BorderCombo.convertStyleFromBorderComboFormat(this._LineType),i=this._Color,r=this._LineWidth;this._Border=new n.Border({Style:t,LeftStyle:t,TopStyle:t,RightStyle:t,BottomStyle:t,Color:i,LeftColor:i,TopColor:i,RightColor:i,BottomColor:i,Left:r,Top:r,Right:r,Bottom:r}),this._bLg=this._Border}return this._Border},r.prototype.setValue=function(t,i){i=typeof i=="undefined"?!0:i==!0,t instanceof n.Border&&t!==this._Border&&(this._Border&&this._bLg===this._Border&&(this._Border.dispose(),delete this._bLg),this._Border=t,t.getStyle()!=="none"&&this.setBorderType.call(this,n.Ui.BorderCombo.BorderType.OuterSingle,i),this.setColor.call(this,t.getColor(),i),this.setLineWidth.call(this,t.getWidth(),i),this.setLineType.call(this,n.Ui.BorderCombo.convertStyleToBorderComboFormat(t.getStyle()),i))},r.prototype.getDropPanel=function(){if(!this.getIsDropPanelCreated()){if(!this._DropPanel){var t={MinDropDownWidth:0,MinDropDownHeight:0,EnableResize:!1,EnableRestoreFocus:!1};n.extend(t,this._auv,!0),delete this._auv,this._DropPanel=new n.Ui.DropPanel(t),this._DropPanel.addClass("PPDropBorderCombo"),this._DropPanel.Closed.add(this._cyO,this)}this._c7&&this._DropPanel.getContent()!==this._c7&&this._DropPanel.setContent(this._c7),this._alR=!0}return this._DropPanel},r.prototype.getIsDropPanelCreated=function(){return this._alR},r.prototype.setToggleMode=function(n){this._ToggleMode=!!n,this._bKU(),this._bK8(),this._bK9(),this._bLa(),this._bLb(),this._bLc(),this._aTQ(),this._amZ()},r.prototype.dispose=function(){this.isLive()&&(this._DomNode.innerHTML="",t.prototype.dispose.call(this))},r.convertStyleFromBorderComboFormat=function(t){var r="none",i=n.Ui.LineTypes;switch(t){case i.Solid:r="solid";break;case i.Dot:case i.ShortDashDotDot:case i.ShortDot:case i.ShortDashShort:case i.ShortDashDot:r="dotted";break;case i.Dashed:case i.DashDot:case i.DashDotDot:case i.Dash:case i.LongDashDot:case i.ShortDash:r="dashed"}return r},r.convertStyleToBorderComboFormat=function(t){var i=n.Ui.LineTypes,r=i.Solid;switch(t){case"solid":r=i.Solid;break;case"dotted":r=i.ShortDot;break;case"dashed":r=i.Dash}return r},r}(t.Control),f.TypesMode={SVG:u.SVG,SVGLight:u.SVGLight,CSS:u.CSS,Services:u.Services},f.Mode={Color:e.Color,Type:e.Type,Width:e.Width},f.BorderType={BottomSingle:r.BottomSingle,TopSingle:r.TopSingle,LeftSingle:r.LeftSingle,RightSingle:r.RightSingle,None:r.None,FullSingle:r.FullSingle,OuterSingle:r.OuterSingle,OuterBold:r.OuterBold,BottomDouble:r.BottomDouble,BottomBold:r.BottomBold,TopBottomSingle:r.TopBottomSingle,TopSingleBottomBold:r.TopSingleBottomBold,TopSingleBottomDouble:r.TopSingleBottomDouble},t.BorderCombo=f})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._render(),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._defineEvents(["ValueChanged","BorderEnabledChanged","BorderTypeChanged","BorderColorChanged","BorderWidthChanged"]),this._ImagePath=n.ImagePath,this._TypesMode=t.BorderComboTypesMode.Services,this._SplitLines=!1,this._TypeControlWidth=60,this._WidthControlWidth=75,this._MinBorderWidth=0,this._MaxBorderWidth=10,this._Value=null,this._BorderEnabled=!0,this._bLh=null,this._TwoLines=!1,this._aEO=" px",this._aTR=156,this._bLi=22},u.prototype._initFields=function(t){t=t||{};var o=t.Value,i=t.BorderEnabled,u=t.BorderColor,f=t.BorderType,e=t.BorderWidth;this._aEP=t.EnabledControlVisible,this._aEQ=t.ColorControlVisible,this._aTS=t.TypeControlVisible,this._aER=t.WidthControlVisible,this._aEO=t.WidthControlSuffix,n.isBoolean(this._aEP)||(this._aEP=!0),n.isBoolean(this._aEQ)||(this._aEQ=!0),n.isBoolean(this._aTS)||(this._aTS=!0),n.isBoolean(this._aER)||(this._aER=!0),n.delFrom(t,["Value","BorderEnabled","BorderColor","BorderType","BorderWidth","EnabledControlVisible","ColorControlVisible","TypeControlVisible","WidthControlVisible","WidthControlSuffix"]),this.setValue(o,!1),n.isDefined(i)&&this.setBorderEnabled(i,!1),u&&this.setBorderColor(u,!1),f&&this.setBorderType(f,!1),e&&this.setBorderWidth(e,!1),r.prototype._initFields.call(this,t),this.setMinBorderWidth(this._MinBorderWidth,!1),this.setMaxBorderWidth(this._MaxBorderWidth,!1),this._TwoLines=this._SplitLines},u.prototype._render=function(){this._initFromHTML('<div class="PPBorderTypeCombo"><\/div>'),this.setEnabledControlVisible(this._aEP),this.setColorControlVisible(this._aEQ),this.setTypeControlVisible(this._aTS),this.setWidthControlVisible(this._aER),delete this._aEP,delete this._aEQ,delete this._aTS,delete this._aER,this._bdg(),this._gZ(),this._ParentNode&&this.addToNode(this._ParentNode),this.updateSize();var n=this._IsRTL,t=this._Enabled;this._IsRTL=null,this._Enabled=null,this.setIsRTL(n),this.setEnabled(t)},u.prototype._bdg=function(){if(this._ed)for(var r=this._ed.getItems(),f=this._TypesMode==t.BorderComboTypesMode.Services,u=this._TypesMode==t.BorderComboTypesMode.SVG,e=this._TypesMode==t.BorderComboTypesMode.SVGLight,o=this._TypesMode==t.BorderComboTypesMode.CSS,i=0;i<r.length;i++)switch(r[i].getValue()){case n.Ui.LineTypes.Solid:r[i].setIsVisible(f||u||e||o);break;case n.Ui.LineTypes.ShortDot:r[i].setIsVisible(f||u||e||o);break;case n.Ui.LineTypes.Dot:r[i].setIsVisible(u);break;case n.Ui.LineTypes.ShortDash:r[i].setIsVisible(f||u||e||o);break;case n.Ui.LineTypes.Dash:r[i].setIsVisible(u);break;case n.Ui.LineTypes.ShortDashDot:r[i].setIsVisible(f||u||e);break;case n.Ui.LineTypes.DashDot:r[i].setIsVisible(u);break;case n.Ui.LineTypes.LongDashDot:r[i].setIsVisible(u);break;case n.Ui.LineTypes.ShortDashDotDot:r[i].setIsVisible(f||u||e);break;case n.Ui.LineTypes.DashDotDot:r[i].setIsVisible(u)}},u.prototype._gZ=function(){var n=!0;this._gy&&(n=this.getBorderEnabled(),this._vu=!0,this._gy.setChecked(n)),this._fF&&(this._fF.setColor(this.getBorderColor()),this._fF.setEnabled(n)),this._ed&&(this._ed.setValue(this.getBorderType(),!1),this._ed.setEnabled(n),this._bdh()),this._c1&&(this._c1.setValue(this.getBorderWidth(),!1),this._Value.setWidth(this._c1.getValue()),this._c1.setSuffix(this._aEO),this._c1.setEnabled(n)),this._vu=!1},u.prototype._aTT=function(n,t,i){n&&(n.getIsVisible()!==t||i)&&(n.setIsVisible(t),this._gZ(),this.updateSize())},u.prototype._bdh=function(){if(this._ed){var r=this._ed.getSelectedIndex(),i=this._ed.getListBox().getImageList(),u=i.getIconHeight(),f=this._ed.getHeight(),t;t=n.querySelector(this._ed.getDomNode(),".PPControlNode"),t.style.backgroundImage=r>-1?"url("+i.getSource()+")":"initial",t.style.height=u+"px",t.style.backgroundPosition=i.getIcon(r,0),t.style.marginTop=f?(f-2-u)*.5+"px":"0",t.style.marginLeft="6px",t.style.marginRight="29px",t.style.backgroundSize="initial"}},u.prototype._auN=function(n){this._vu||this.setBorderEnabled(n.getChecked()),this._vu=!1},u.prototype._g4=function(n,t){this._vu||this.setBorderColor(t.NewColor),this._vu=!1},u.prototype._bdi=function(n,t){this._vu||(this.setBorderType(t.ListItem.getValue()),this._bdh()),this._vu=!1},u.prototype._bdj=function(n,t){this._vu||this.setBorderWidth(t.NewValue),this._vu=!1},u.prototype._bdk=function(){return this._gy||(this._gy=new n.Ui.CheckBox({ResourceKey:this._Content?null:this._ResourceKey||"border",Content:this._Content,Enabled:this._Enabled,IsVisible:this._aEP,CheckedChanged:new n.Delegate(this._auN,this)})),this._gy},u.prototype._bLj=function(t){if(!this._ed){var i={PPType:"IconListItem",Height:this._bLi+1,RowIndex:0,ColumnIndex:0};this._ed=new n.Ui.ComboBox({ParentNode:t,Enabled:this._Enabled,IsDropHasCombosWidth:!1,UseContentEditor:!1,AutoFind:!1,ListBox:{ImageList:new n.ImageList({Source:this._ImagePath+"linetype.png",IconHeight:this._bLi,IconWidth:this._aTR}),Orientation:n.Orientation.Vertical,EmptySelection:!1,Items:[n.extend({RowIndex:0,Value:n.Ui.LineTypes.Solid},i),n.extend({RowIndex:1,Value:n.Ui.LineTypes.ShortDot},i),n.extend({RowIndex:2,Value:n.Ui.LineTypes.Dot},i),n.extend({RowIndex:3,Value:n.Ui.LineTypes.ShortDash},i),n.extend({RowIndex:4,Value:n.Ui.LineTypes.Dash},i),n.extend({RowIndex:5,Value:n.Ui.LineTypes.ShortDashDot},i),n.extend({RowIndex:6,Value:n.Ui.LineTypes.DashDot},i),n.extend({RowIndex:7,Value:n.Ui.LineTypes.LongDashDot},i),n.extend({RowIndex:8,Value:n.Ui.LineTypes.ShortDashDotDot},i),n.extend({RowIndex:9,Value:n.Ui.LineTypes.DashDotDot},i)],ItemSelected:new n.Delegate(this._bdi,this)}})}return this._ed},u.prototype._bLk=function(t){return this._c1||(this._c1=new n.Ui.NumberEdit({ParentNode:t,Enabled:this._Enabled,IsVisible:this._aER,MinValue:this._MinBorderWidth,MaxValue:this._MaxBorderWidth,FractionCount:1,Step:.1,Suffix:this._aEO,AfterChange:new n.Delegate(this._bdj,this)})),this._c1},u.prototype._bLl=function(t){return this._fF||(this._fF=new n.Ui.ColorCombo({ParentNode:t,Enabled:this._Enabled,IsVisible:this._aEQ,ColorChanged:new n.Delegate(this._g4,this)})),this._fF},u.prototype.getValue=function(){return this._Value},u.prototype.getTypesMode=function(){return this._TypesMode},u.prototype.getMinBorderWidth=function(){return this._MinBorderWidth},u.prototype.getMaxBorderWidth=function(){return this._MaxBorderWidth},u.prototype.getSplitLines=function(){return this._SplitLines},u.prototype.getTypeControlWidth=function(){return this._TypeControlWidth},u.prototype.getWidthControlWidth=function(){return this._WidthControlWidth},u.prototype.updateSize=function(){var i=this.getWidth(),u=(this._TwoLines?Math.ceil(this.getHeight()/2):this.getHeight())||22,n=6,o=0,c=this._gy&&this._gy.getIsVisible(),e=this._ed&&this._ed.getIsVisible(),s=this._c1&&this._c1.getIsVisible(),a=this._fF&&this._fF.getIsVisible(),h=a?(this._fF.getWidth()||26)+n:0,v=h+n+(e?this._TypeControlWidth||60:0)+n+(e?this._WidthControlWidth||75:0),y=Math.min(this._TypeControlWidth,this._aTR)||this._aTR,f,t,l;this._TwoLines=!1,c&&(this._gy.setWidth("auto"),o=this._gy.getWidth()+n,(this._SplitLines||o>i-v)&&(this._TwoLines=!0,this._gy.setWidth(i-n))),this._fF&&this._fF.getIsVisible()&&this._fF.setHeight(u),f=i-h-(this._TwoLines?0:o),e&&(t=this._TypeControlWidth||f,s&&!this._TypeControlWidth&&(t-=this._WidthControlWidth||f/2),t-=n,t=Math.min(t,y),this._ed.setWidth(t),this._ed.setHeight(u),f-=t+n),s&&(l=this._WidthControlWidth||f-n,this._c1.setWidth(l),this._c1.setHeight(u)),c&&!this._TwoLines&&this._TypeControlWidth&&this._WidthControlWidth&&this._gy.setWidth(i-n-h-(e?this._TypeControlWidth+n:n)-(s?this._WidthControlWidth:0)),this._Width=i,this._Height=this._SplitLines||this._TwoLines?u*2:u,r.prototype.updateSize.call(this)},u.prototype.setValue=function(t,i){var u=this.getValue(),r;this._Value!==t&&(this._Value&&this._Value!==t&&this._Value.dispose&&this._Value.dispose(),r=void 0,r=t instanceof n.Border?t:new n.Border(t),this._Value=r,this.setBorderColor(r.getColor(),!1),this.setBorderType(n.Border.convertStyleToBorderComboFormat(r.getStyle()),!1),this.setBorderWidth(r.getWidth(),!1),i!==!1&&this.ValueChanged.fire(this,{NewValue:this._Value,OldValue:u}))},u.prototype.setBorderEnabled=function(n,t){var i=this.getBorderEnabled();i!==n&&(this._BorderEnabled=n,this._gy&&this._gy.getIsVisible()&&(this._vu=!0,this._gy.setChecked(n)),this._Enabled&&(this._fF&&this._fF.setEnabled(n),this._ed&&this._ed.setEnabled(n),this._c1&&this._c1.setEnabled(n)),t!==!1&&this.BorderEnabledChanged.fire(this,{NewValue:n,OldValue:i}))},u.prototype.getBorderEnabled=function(){return this._BorderEnabled},u.prototype.setBorderColor=function(t,i){var u=this.getBorderColor(),r;t||(r=n.Color.black),r=t instanceof n.Color?t:n.Color.getColor(t),u&&u.isEqual(r)||(this._Value.setColor(r),this._fF&&this._fF.getIsVisible()&&(this._vu=!0,this._fF.setColor(r)),i!==!1&&this.BorderColorChanged.fire(this,{NewValue:r,OldValue:u}))},u.prototype.getBorderColor=function(){return this._Value&&this._Value.getColor()},u.prototype.setBorderType=function(t,i){var r=this.getBorderType();r!==t&&(t||(t=n.Ui.LineTypes.Solid),this._bLh=t,this._Value.setStyle(n.Border.convertStyleFromBorderComboFormat(t)),this._ed&&this._ed.getIsVisible()&&(this._ed.setValue(t,!1),this._bdh()),i!==!1&&this.BorderTypeChanged.fire(this,{NewValue:t,OldValue:r}))},u.prototype.getBorderType=function(){return this._Value?this._bLh||t.BorderCombo.convertStyleToBorderComboFormat(this._Value.getStyle()):"solid"},u.prototype.setBorderWidth=function(t,i){var r=this.getBorderWidth();n.isNumber(t)||(t=parseFloat((t+"").replace(n.getCurrentCulture().DecimalSeparator,"."))||0),t<Math.max(this._MinBorderWidth||0)&&(t=Math.max(this._MinBorderWidth||0)),this._MaxBorderWidth&&t>this._MaxBorderWidth&&(t=this._MaxBorderWidth),r!==t&&(this._Value.setWidth(t),this._c1&&this._c1.getIsVisible()&&this._c1.setValue(t,!1),i!==!1&&this.BorderWidthChanged.fire(this,{NewValue:t,OldValue:r}))},u.prototype.getBorderWidth=function(){return this._Value?this._Value.getWidth():1},u.prototype.setEnabledControlVisible=function(n){var t=!1;!this._gy&&n&&this._DomNode&&(this._bdk(),this._gy.addToNode(this._DomNode,this._DomNode.firstChild),t=!0),this._aTT(this._gy,n,t)},u.prototype.getEnabledControlVisible=function(){return!!(this._gy&&this._gy.getIsVisible())},u.prototype.getColorCombo=function(){return this._fF},u.prototype.getWidthNumberEdit=function(){return this._c1},u.prototype.setColorControlVisible=function(n){var t=!1;!this._fF&&n&&this._DomNode&&(this._bLl(),this._fF.addToNode(this._DomNode,this._ed&&this._ed.getDomNode()||this._c1&&this._c1.getDomNode()),t=!0),this._aTT(this._fF,n,t)},u.prototype.getColorControlVisible=function(){return!!(this._fF&&this._fF.getIsVisible())},u.prototype.setTypeControlVisible=function(n){var t=!1;!this._ed&&n&&this._DomNode&&(this._bLj(),this._ed.addToNode(this._DomNode,this._c1&&this._c1.getDomNode()),t=!0),this._aTT(this._ed,n,t)},u.prototype.getTypeControlVisible=function(){return!!(this._ed&&this._ed.getIsVisible())},u.prototype.setWidthControlVisible=function(n){var t=!1;!this._c1&&n&&this._DomNode&&(this._bLk(),this._c1.addToNode(this._DomNode),t=!0),this._aTT(this._c1,n,t)},u.prototype.getWidthControlVisible=function(){return!!(this._c1&&this._c1.getIsVisible())},u.prototype.setWidthControlSuffix=function(n){this._c1?this._c1.setSuffix(n):this._aEO=n},u.prototype.getWidthControlSuffix=function(){return this._c1?this._c1.getSuffix():this._aEO},u.prototype.setTypesMode=function(n){this._TypesMode!==n&&(this._TypesMode=n,this._bdg())},u.prototype.setSplitLines=function(n){this._SplitLines!==n&&(this._SplitLines=n,this.updateSize())},u.prototype.setTypeControlWidth=function(n){this._TypeControlWidth!==n&&(this._TypeControlWidth=Math.max(Math.min(n,this._aTR),60),this.updateSize())},u.prototype.setWidthControlWidth=function(n){this._WidthControlWidth!==n&&(this._WidthControlWidth=n,this.updateSize())},u.prototype.setMinBorderWidth=function(n,t){this._MinBorderWidth!==n&&(n<0&&(n=0),this._MaxBorderWidth<n&&(this._MaxBorderWidth=n),this._MinBorderWidth=n,this._c1&&(this._c1.setMinValue(this._MinBorderWidth),this._c1.setMaxValue(this._MaxBorderWidth)),this.setBorderWidth(this.getBorderWidth(),t))},u.prototype.setMaxBorderWidth=function(n,t){this._MaxBorderWidth!==n&&(n<0&&(n=0),this._MinBorderWidth>n&&(this._MinBorderWidth=n),this._MaxBorderWidth=n,this._c1&&(this._c1.setMinValue(this._MinBorderWidth),this._c1.setMaxValue(this._MaxBorderWidth)),this.setBorderWidth(this.getBorderWidth(),t))},u.prototype.setEnabled=function(n){r.prototype.setEnabled.call(this,n),this._gy&&this._gy.setEnabled(this._Enabled);var t=this._Enabled&&this.getBorderEnabled();this._fF&&this._fF.setEnabled(t),this._ed&&this._ed.setEnabled(t),this._c1&&this._c1.setEnabled(t)},u.prototype.setContent=function(n){this._Content=n,this._gy&&this._gy.setContent(n)},u.prototype.setIsRTL=function(n){this._IsRTL!==n&&(r.prototype.setIsRTL.call(this,n),this._gy&&this._gy.setIsRTL(this._IsRTL),this._fF&&this._fF.setIsRTL(this._IsRTL),this._ed&&this._ed.setIsRTL(this._IsRTL),this._c1&&this._c1.setIsRTL(this._IsRTL))},u.prototype.dispose=function(){this._Value&&this._Value.dispose(),r.prototype.dispose.call(this)},u}(t.Control);t.BorderTypeCombo=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["IsColorExternalChanged"]),this._IsColorExternal=!0,this._IsColorExternalResourceKey="externalColor"},r.prototype._initFields=function(i){i=i||{},this._aTU=i.EnabledControlVisible,this._aES=i.ColorControlVisible,this._aTV=i.TypeControlVisible,this._aTW=i.WidthControlVisible,n.isBoolean(this._aTU)||(this._aTU=!0),n.isBoolean(this._aES)||(this._aES=!0),n.isBoolean(this._aTV)||(this._aTV=!0),n.isBoolean(this._aTW)||(this._aTW=!0),t.prototype._initFields.call(this,i)},r.prototype._render=function(){var t,i;this._initFromHTML('<div class="PPMasterBorderTypeCombo"><\/div>'),this._auO=new n.Ui.LineLabel({ParentNode:this._DomNode,IsVisible:this._aTU,Enabled:this._Enabled,Content:[this._bdk()]}),t=n.createElement(this._DomNode,"Line"),this._oC=new n.Ui.RadioButton({ParentNode:t,IsVisible:this._aES,Enabled:this._Enabled,Height:22,ResourceKey:"internalColor",GroupName:"externalColor_"+this._Id,CheckedChanged:new n.Delegate(this._cyP,this)}),this._ag6=this._bLl(t),t=n.createElement(this._DomNode,"Line"),this._lV=new n.Ui.RadioButton({ParentNode:t,IsVisible:this._aES,Enabled:this._Enabled,Height:22,ResourceKey:this._IsColorExternalResourceKey,GroupName:"externalColor_"+this._Id,CheckedChanged:new n.Delegate(this._cyQ,this)}),t=n.createElement(this._DomNode,"Line"),this._ag7=new n.Ui.Label({ParentNode:t,IsVisible:this._aTV,Enabled:this._Enabled,ResourceKey:"lineColon"}),this._bLj(t),this._ag8=new n.Ui.Label({ParentNode:t,IsVisible:this._aTW,Enabled:this._Enabled,ResourceKey:"thicknessColon"}),i=this._bLk(t),i.setSize(60,21),delete this._aTU,delete this._aES,delete this._aTV,delete this._aTW,this._bdg(),this._gZ(),this._ParentNode&&this.addToNode(this._ParentNode),this.updateSize()},r.prototype._gZ=function(){t.prototype._gZ.call(this);var n=this.getBorderEnabled();this._ag6&&this._ag6.setEnabled(n&&!this._IsColorExternal),this._oC&&(this._oC.setChecked(!this._IsColorExternal),this._oC.setEnabled(n)),this._lV&&(this._lV.setChecked(this._IsColorExternal),this._lV.setEnabled(n)),this._ag7&&this._ag7.setEnabled(n),this._ag8&&this._ag8.setEnabled(n)},r.prototype._cyP=function(n){this._bdl||this.setIsColorExternal(!n.getChecked())},r.prototype._cyQ=function(n){this._bdl||this.setIsColorExternal(n.getChecked())},r.prototype.getIsColorExternal=function(){return this._IsColorExternal},r.prototype.getIsColorExternalResourceKey=function(){return this._IsColorExternalResourceKey},r.prototype.updateSize=function(){this._auO&&this._auO.setWidth(this._Width||this._DomNode.offsetWidth),t.prototype.updateSize.call(this),this._TwoLines&&this._bdk().setWidth("auto")},r.prototype.setBorderEnabled=function(n,i){t.prototype.setBorderEnabled.call(this,n,i);var r=this.getBorderEnabled();this._oC&&this._oC.setEnabled(r),this._lV&&this._lV.setEnabled(r),this._ag7&&this._ag7.setEnabled(r),this._ag8&&this._ag8.setEnabled(r),this._ag6&&this._ag6.setEnabled(r&&!this._IsColorExternal)},r.prototype.setIsColorExternal=function(n,t){if(t===void 0&&(t=!0),this._IsColorExternal!==n){var i=this._IsColorExternal;this._IsColorExternal=n,this._bdl=!0,this._oC&&this._oC.getIsVisible()&&this._oC.setChecked(!n),this._lV&&this._lV.getIsVisible()&&this._lV.setChecked(n),this._bdl=!1,this._ag6&&this._ag6.setEnabled(this._Enabled&&this.getBorderEnabled()&&!n),t&&this.IsColorExternalChanged.fire(this,{NewValue:n,OldValue:i})}},r.prototype.setEnabledControlVisible=function(n){this._auO&&this._auO.setIsVisible(n),t.prototype.setEnabledControlVisible.call(this,n)},r.prototype.setColorControlVisible=function(n){this._oC&&this._oC.setIsVisible(n),this._lV&&this._lV.setIsVisible(n),t.prototype.setColorControlVisible.call(this,n)},r.prototype.setTypeControlVisible=function(n){this._ag7&&this._ag7.setIsVisible(n),t.prototype.setTypeControlVisible.call(this,n)},r.prototype.setWidthControlVisible=function(n){this._ag8&&this._ag8.setIsVisible(n),t.prototype.setWidthControlVisible.call(this,n)},r.prototype.setEnabled=function(n){var r=this._lV&&this._lV.getChecked(),i;t.prototype.setEnabled.call(this,n),this._auO&&this._auO.setEnabled(n),i=this._Enabled&&this.getBorderEnabled(),this._oC&&this._oC.setEnabled(i),this._lV&&this._lV.setEnabled(i),this._ag6&&this._ag6.setEnabled(!r),this._ag7&&this._ag7.setEnabled(i),this._ag8&&this._ag8.setEnabled(i)},r.prototype.setIsRTL=function(n){t.prototype.setIsRTL.call(this,n),this._lV&&this._lV.setIsRTL(this._IsRTL),this._oC&&this._oC.setIsRTL(this._IsRTL)},r}(t.BorderTypeCombo);t.MasterBorderTypeCombo=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(n){function t(t){return n.call(this,t)||this}return i(t,n),Object.defineProperty(t.prototype,"PropertyName",{get:function(){return this.getPropertyName()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Font",{get:function(){return this._Font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ListItem",{get:function(){return this._ListItem},enumerable:!0,configurable:!0}),t}(t.PropertyChangedEventArgs),u;t.FontToolsPropertyChangedEventArgs=r,u=function(t){function u(n){var i=t.call(this,n)||this;return i._render(),i}return i(u,t),u.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["PropertyChanged"]),this._Font=new n.Font,this._FamilyVisible=!0,this._FamilyLabelVisible=!0,this._MaxFontSize=24,this._Width=240,this._Height=95,this._BordersWidth=10,this._BordersHeight=14},u.prototype._render=function(){var i;this._initFromHTML("<div><table cellpadding = '0' cellspacing = '0'><tbody><tr><td class = 'FontFamily'><\/td><td><\/td><\/tr><\/tbody><\/table><div class = 'FontSizeColor'><\/div><table  cellpadding = '0' cellspacing = '0'><tbody><tr><td class = 'FontStyle'><\/td><td><\/td><\/tr><\/tbody><\/table><\/div>"),n.addClass(this._DomNode,"PPFontTools");var f=n.querySelector(this._DomNode,".FontFamily"),r=n.querySelector(this._DomNode,".FontSizeColor"),e=n.querySelector(this._DomNode,".FontStyle");this._FontFamilyLabel=new n.Ui.Label({ParentNode:f,ResourceKey:"fdFontColon"}),this._FontFamily=new n.Ui.FontComboBox({ParentNode:f.nextSibling,ListBox:{ItemSelected:new n.Delegate(this._bb5,this)},Value:n.Font.Family.Arial}),this._FamilyVisible||(this._FontFamily.hide(),this._FontFamilyLabel.hide()),this._FamilyLabelVisible||this._FontFamilyLabel.hide(),this._FontSizeLabel=new n.Ui.Label({ParentNode:r,Class:"Label",ResourceKey:"fdSizeColon"});var s=new n.Delegate(this._bb6,this),o=[{Content:"8",Value:8}],u=2;for(i=10;i<=this._MaxFontSize;i+=u)o.push({Content:""+i,Value:i}),i===28&&(u=8),i===36&&(u=12),i===48&&(u=24);this._FontSize=new n.Ui.ComboBox({ParentNode:r,Class:"Item",Width:60,EnableEdit:!0,ListBox:{Items:o,EmptySelection:!1,ItemSelected:s}}),this._FontColorLabel=new n.Ui.Label({ParentNode:r,Class:"SecondLabel",ResourceKey:"fdColorColon"}),this._FontColor=new n.Ui.ColorCombo({ParentNode:r,Class:"Item",ColorChanged:new n.Delegate(this._bb8,this)}),this._FontStyleLabel=new n.Ui.Label({ParentNode:e,ResourceKey:"fdStyleColon"}),this._FontStyle=new n.Ui.ComboBox({ParentNode:e.nextSibling,ListBox:{Items:[{ResourceKey:"fdB",Value:"bold"},{ResourceKey:"fdI",Value:"italic"},{ResourceKey:"fdBI",Value:"bold_italik"},{ResourceKey:"fdN",Value:"normal"}],EmptySelection:!1,ItemSelected:new n.Delegate(this._bb7,this)}}),t.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode),this.setFont(this._Font),this.updateSize()},u.prototype._bR=function(n,t,i){this.PropertyChanged.fire(t,new r({PropertyName:n,Font:this._Font,ListItem:i.ListItem}))},u.prototype._bb5=function(n,t){this._Font.setFontFamily(n.getValue()),this._bR("FontFamily",n,t)},u.prototype._bb8=function(n,t){this._Font.setColor(t.NewColor),this._bR("FontColor",n,t)},u.prototype._bb6=function(t,i){var r=t.getValue(),u;(r||(r=t.getContent()),r&&n.isNumber(r))&&(u=this._Font.getSizeUnits(),this._Font.setSize(u==n.SizeUnits.Pt?r:n.convertSizeUnits(r,n.SizeUnits.Pt,u)),this._bR("FontSize",t,i))},u.prototype._bb7=function(n,t){if(!this._bLm){var i=n.getSelectedIndex();switch(i){case 0:this._Font.setIsBold(!0),this._Font.setIsItalic(!1);break;case 1:this._Font.setIsBold(!1),this._Font.setIsItalic(!0);break;case 2:this._Font.setIsBold(!0),this._Font.setIsItalic(!0);break;case 3:this._Font.setIsBold(!1),this._Font.setIsItalic(!1)}this._bR("FontStyle",n,t)}},u.prototype.getFont=function(){return this._Font},u.prototype.getFamilyVisible=function(){return this._FamilyVisible},u.prototype.setFontFamily=function(){this._FamilyVisible=!1,this._FamilyVisible?(this._FontFamily.show(),this._FamilyLabelVisible&&this._FontFamilyLabel.show()):(this._FontFamily.hide(),this._FontFamilyLabel.hide())},u.prototype.setFont=function(t){var i,r,u;t!=this._Font&&this._Font.dispose(),this._Font=t instanceof n.Font?t:new n.Font(t),this._FontFamily.setValue(this._Font.getFontFamily(),!1),this._FontColor.setColor(this._Font.getColor()),i=this._Font.getSizeUnits(),this.PropertyChanged.suspend(),this._FontSize.setContent(Math.round((i==n.SizeUnits.Pt?this._Font.getSize():n.convertSizeUnits(this._Font.getSize(),i,n.SizeUnits.Pt))*100)/100),this.PropertyChanged.resume(),r=this._Font.getIsBold(),u=this._Font.getIsItalic(),this._bLm=!0,r&&u?this._FontStyle.setSelectedIndex(2):r?this._FontStyle.setSelectedIndex(0):u?this._FontStyle.setSelectedIndex(1):this._FontStyle.setSelectedIndex(3),this._bLm=!1},u.prototype.updateSize=function(){this.setWidth(this._Width),this.setHeight(this._Height)},u.prototype.setWidth=function(n){n=this._g(n)-this._BordersWidth,t.prototype.setWidth.apply(this,arguments),this._Width=this._g(this._Width)+this._BordersWidth},u.prototype.setHeight=function(n){n=this._g(n)-this._BordersHeight,t.prototype.setHeight.apply(this,arguments),this._Height=this._g(this._Height)+this._BordersHeight},u.prototype.setEnabled=function(n){t.prototype.setEnabled.call(this,n),this._FontFamilyLabel.setEnabled(n),this._FontFamily.setEnabled(n),this._FontColorLabel.setEnabled(n),this._FontColor.setEnabled(n),this._FontSizeLabel.setEnabled(n),this._FontSize.setEnabled(n),this._FontStyleLabel.setEnabled(n),this._FontStyle.setEnabled(n)},u.prototype.setIsRTL=function(n){t.prototype.setIsRTL.call(this,n),this._FontFamilyLabel&&this._FontFamilyLabel.setIsRTL(n),this._FontFamily.setIsRTL(n),this._FontSizeLabel.setIsRTL(n),this._FontSize.setIsRTL(n),this._FontColorLabel.setIsRTL(n),this._FontColor.setIsRTL(n),this._FontStyleLabel.setIsRTL(n),this._FontStyle.setIsRTL(n)},u}(t.Control),t.FontTools=u})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._initFields=function(i){i=i||{},n.Array.isArray(i.Categories)&&(i.Categories=new n.List({Items:i.Categories})),i.Categories||(i.Categories=new n.List),t.prototype._initFields.call(this,i)},r.prototype._render=function(){t.prototype._render.call(this),this.addClass("RibbonGroupHeader")},r.prototype._bindEvents=function(){this._Categories.Changed.addOne(this._cyR,this);for(var n=0;n<this._Categories.getCount();n++)this._Categories.getItem(n).VisibilityChanged.addOne(this._bdm,this)},r.prototype._cyR=function(t,i){var r=i.Item;switch(i.Operation){case n.ListOperation.Add:r.VisibilityChanged.addOne(this._bdm,this);break;case n.ListOperation.Remove:r.VisibilityChanged.remove(this._bdm,this)}},r.prototype._bdm=function(){var r=this._Categories.getItems();r.every(function(n){return!n.getIsVisible()})&&t.prototype.hide.call(this)},r.prototype._bp=function(){},r.prototype._hu=function(){},r.prototype._bk=function(){},r.prototype.setElementsEnabled=function(n){for(var t=0,i=this._Categories.getCount();t<i;t++)this._Categories.getItem(t).setElementsEnabled(n)},r.prototype.hide=function(){for(var i=0,n=0,r=this._Categories.getCount();n<r;n++)this._Categories.getItem(n).getIsVisible()&&i++,this._Categories.getItem(n).hide();i===0&&t.prototype.hide.call(this)},r.prototype.show=function(){t.prototype.show.call(this);for(var n=0,i=this._Categories.getCount();n<i;n++)this._Categories.getItem(n).show()},r.prototype.getCategories=function(){return this._Categories},r.prototype.applyToCategories=function(n){for(var t,i=0,r=this._Categories.getCount();i<r;i++)t=this._Categories.getItem(i),t.setParent(this._Parent),t.setShowToolTip(this._ShowToolTip,n),t.setImageList(this._ImageList),t.Click.addOne(this.Click.clone())},r.prototype.addToNode=function(n,i){var u,e,f;for(t.prototype.addToNode.apply(this,arguments),u=0,e=this._Categories.getCount();u<e;u++)f=this._Categories.getItem(u),f.addClass("RibbonGroupCategory"),f.addToNode(n,i)},r.prototype.removeFromDOM=function(){t.prototype.removeFromDOM.call(this);for(var n=0,i=this._Categories.getCount();n<i;n++)this._Categories.getItem(n).removeFromDOM()},r}(t.RibbonCategory);t.RibbonGroup=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._aY(),t._Captions.Changing.add(t._cyS,t),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._vv={IsActive:!1,FirstVisibleNode:null,FirstVisibleNodeShift:0},this._gs.WordWrap=!0,this._agF={DomTreeCell:'<div class="PPTLVNodeWidgets"><\/div><div class="PPTLVNodeContent"><div class="PPTLVNodeControlContainer"><\/div><div class="PPTLVNodeTextContainer"><span class="PPTLVNodeText"> &nbsp; <\/span><\/div><\/div>',DomCell:'<div class="PPTLVNodeContent PPTLVNodeTextContainer"><span class="PPTLVNodeText"> &nbsp; <\/span><\/div>',DomTextControlCell:'<div class="PPTLVNodeContent"><div class="PPTLVNodeControlContainer"><\/div><div class="PPTLVNodeTextContainer"><span class="PPTLVNodeText"> &nbsp; <\/span><\/div><\/div>'}},u.prototype._render=function(){r.prototype._render.apply(this,arguments),this.addClass("PPWTL")},u.prototype._cyS=function(n,t){var i,r;t.Type=="CaptionVisibility"&&(i=!0),t.Type=="CaptionWidth"&&(r=this._Captions.getCaptionIndex(this._Captions.getVisibleCaptions()[0]),r>-1&&t.Changing[r]&&(i=!0)),i&&this.getNodesCount()>0?(this._vv.IsActive=!0,this._vv.TopNode=this.getNodeByPosition(this._agG().From),this._vv.TopNodeShift=this._ow()-this._qr(this._vv.TopNode)):this._vv.IsActive=!1},u.prototype._acg=function(){if(r.prototype._acg.apply(this,arguments),this._vv.IsActive){var i=this._qr(this._vv.TopNode)+this._vv.TopNodeShift;this._vg(i),this._vv.IsActive=!1,this._vv.TopNode=null,this._vv.TopNodeShift=0}},u.prototype.updateSize=function(){r.prototype.updateSize.apply(this,arguments);var n=".PPTLV.PPTLVWrapped .PPTLVView.PPTLVFirstCellSelect .PPTLVNodeFocused .PPTLVColumn0 .PPTLVNodeTextContainer{ outline-offset: -"+this._at5+"px; }";this._aSd("NodeTextOutlineOffset",n)},u.prototype._aSa=function(){return t.TreeListScrollingMode.Native},u.prototype._iK=function(){return this._lO.offsetHeight+this._d9.Top+this._d9.Bottom},u.prototype._jZ=function(){return this._dB},u.prototype._aDQ=function(n){var t=this._gs.DashboardScrolls?0:this._ScrollBarH.getHeight();return this._iK()>this._ou-(n?t:0)},u.prototype._aDP=function(){this._f3.scrollTop=this._kU},u.prototype._qr=function(t,i){var r,u;if(n.isDefined(this.getNodePosition(t)))return(r=this._bB[t],!r||!r.DomRow)?void 0:(u=r.DomRow.offsetTop+this._d9.Top,i?u-(this._dB-this._ox(t)):u)},u.prototype._yL=function(n){return this._qr(n)-this._ow()},u.prototype._ox=function(t){if(n.isDefined(this.getNodePosition(t))){var i=this._bB[t];if(i&&i.DomRow)return i.DomRow.offsetHeight}},u.prototype._agG=function(){for(var f=this.getNodesCount(),e=this._ow(),i=-1,r=-1,t,o,u,s,n=0;n<f;n++)if((o=this.getNodeByPosition(n),t=o?this._bB[o]:this._vf[n],t&&t.DomRow)&&(u=t.DomRow.offsetTop+this._d9.Top,s=t.DomRow.offsetHeight,u+s>e&&i==-1&&(i=n),u<=e+this._dB&&u+s>=e+this._dB)){r=n;break}return f>0&&i==-1&&(i=0),r==-1&&(r=f-1),{From:i,To:r}},u.prototype._aSf=function(){var n=100*this._em/(this._iK()-this._jZ());n>0&&this._ScrollBarV.setScrollSpeed(n)},u.prototype._aDR=function(){return!1},u.prototype._aSb=function(){},u.prototype._baX=function(){},u.prototype.getFullTreeHeight=function(){return this._iK()},u}(t.TreeListView);t.WrappedTreeList=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._Content&&i.setContent(i._Content),i._Value&&i.setValue(i._Value),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._AllowEmptyValue=!0,this._amj="",this._ValidState=!0,this._MaxLength=255},r.prototype._m4=function(){var r=t.prototype._m4.apply(this,arguments);return this._amj=this.getValue(),r},r.prototype._qj=function(n,i){return this._ValidState=this._eQ(this.getValue()),this._ValidState||this.setValue(this._amj),t.prototype._qj.call(this,n,i)},r.prototype._yp=function(t,i){var r=i.Event,u=r.keyCode?r.keyCode:r.which,f=this.getValue()+"",l=this.getContent(),e=this._eB(),o=!0,s,h,c;i.OldValue=f,i.OldContent=l,i.NewValue=null,i.NewContent=null,i.Cancel=!1;switch(u){case 9:case 8:case 13:o=!1;break;default:if(r.charCode===0||r.which===0||r.ctrlKey){o=!1;break}s=f.substring(0,e.Start),h=f.substring(e.End),i.NewValue=s+n.String.fromCharCode(u)+h,i.NewContent=n.String.escapeHTML(i.NewValue)}if(o){if(c=this._yr(u,!0,e.Start),!c)return!1;this._qk(i),i.Cancel?(r.preventDefault(),r.stopPropagation()):this._sq(r)}return!0},r.prototype._bE2=function(n){if(n&&n.length)for(var t=0;t<n.length;t++)if(!this._yr(n.charCodeAt(t),!0,t))return!1;return!0},r.prototype._bLn=function(){this._ValidState=this._eQ(this.getValue()),this._ValidState?this.applyValidCSS():this.applyNotValidCSS()},r.prototype._eQ=function(n){var t,i;if(n+="",n.length){for(t=0;t<n.length;t++)if(i=n.substr(t,1),!this._yr(i,!1,t))return!1;return!0}return this._AllowEmptyValue},r.prototype._yr=function(t,i,r){i=i==undefined||i;var u=r===0?n.Ui.IdentEdit.ALLOWED_FIRST_SYMBOL:n.Ui.IdentEdit.ALLOWED_SYMBOL,f=i?n.String.fromCharCode(t):t;return u.test(f)},r.prototype._eM=function(){t.prototype._eM.apply(this,arguments),this._bLn()},r.prototype._gY=function(n){this.isLive()&&this._ValidState&&t.prototype._gY.call(this,n)},r.prototype.getAllowEmptyValue=function(){return this._AllowEmptyValue},r.prototype.setAllowEmptyValue=function(n){this._AllowEmptyValue=!!n,this._bLn()},r}(t.TextBox);r.ALLOWED_FIRST_SYMBOL=/^[a-zA-Z_]$/,r.ALLOWED_SYMBOL=/^[a-zA-Z_0-9]$/,t.IdentEdit=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(r){function u(n){var t=r.call(this,n)||this;return t._aY(),t}return i(u,r),u.prototype._e=function(){r.prototype._e.call(this),this._AnimationDuration=500,this._ExpansionMode=t.TreeListExpansionMode.SingleExpand,this._dG={ScrollLeft:0,ScrollTop:0,AnimationType:"",AnimationSequence:null,ComingPage:null,LeavingPage:null,ExpandedNode:null},this._lW={ActiveNodeText:null,DomLevelUp:null,DomLevelUpText:null,DomNode:null},this._agF={DomTreeCell:'<div class="PPTLVNodeCellContentWrapper"><div class="PPTLVNodeContent"><div class="PPTLVNodeDrillIcon" data-type="control-drillIcon"><\/div><div class="PPTLVNodeControlContainer"><\/div><div class="PPTLVNodeTextContainer"><span class="PPTLVNodeText">&nbsp;<\/span><\/div><\/div><\/div>',DomCell:'<div class="PPTLVNodeContent PPTLVNodeTextContainer"><span class="PPTLVNodeText">&nbsp;<\/span><\/div>',DomTextControlCell:'<div class="PPTLVNodeCellContentWrapper"><div class="PPTLVNodeContent"><div class="PPTLVNodeControlContainer"><\/div><div class="PPTLVNodeTextContainer"><span class="PPTLVNodeText">&nbsp;<\/span><\/div><\/div><\/div>'},this._gs.DashboardScrolls=!0},u.prototype.getAnimationDuration=function(){return this._AnimationDuration},u.prototype.setAnimationDuration=function(n){this._AnimationDuration=n},u.prototype._render=function(){r.prototype._render.apply(this,arguments),this.addClass("PPTLB"),this.removeClass("PPTLVNoWrap"),this._cyT(),this._bdn();var n=this._baU();this._f3.appendChild(n.DomPage)},u.prototype._cyU=function(){this._ScrollBarH.setEnabled(!1),this._ScrollBarH.setIsVisible(!1),this._ScrollBarV.setEnabled(!1),this._ScrollBarV.setIsVisible(!1)},u.prototype.drillTo=function(n,t){var i=this.getLastExpandedNode(),u,f,e;if(n!=i&&(this.isNodeExist(n)||n===null)&&(u={Value:!0,Node:n,Cancel:!1},this.ExpansionChanging.fire(this,u),!u.Cancel))if(this._dG.AnimationSequence&&this._dG.AnimationSequence.stop(),this._dG.ScrollLeft=this._f3.scrollLeft,this._dG.ScrollTop=this._f3.scrollTop,this._bHC(),this.setNodeExpanded(n,!0,!1),this._dG.ExpandedNode=n,this._bdn(),t===!1||t===null)this._dG.AnimationType="",this._bLo();else{var o=n===null?-1:this.getNodeLevel(n),s=i?this.getNodeLevel(i):-1,r=o-s;r=this._IsRTL?-r:r,r>0?this._dG.AnimationType="RL":r<0?this._dG.AnimationType="LR":(f=n===null?-1:this.getNodeIndex(n),e=i==""?-1:this.getNodeIndex(i),this._dG.AnimationType=f>e?"TB":"BT"),this._dG.ComingPage=this._ctC(),this._dG.LeavingPage=this._hz[1],this._cyV()}},u.prototype._bHV=function(n){this.getNodeChildrenCount(n)&&this.drillTo(n)},u.prototype._bHZ=function(n){this._DblClickExpand&&!this._bQ.IsActive&&this.getNodeChildrenCount(n)&&this.drillTo(n)},u.prototype._cyV=function(){this._cyU();var r=this._dG.ComingPage.DomPage,i=this._dG.LeavingPage.DomPage,u=Math.max(this._amg(),this._amf),t=-this._dG.ScrollLeft,f=-this._dG.ScrollTop;this._f3.scrollLeft=0,n.addClass(r,"PPTLVAnimatingPage"),n.addClass(i,"PPTLVAnimatingPage");switch(this._dG.AnimationType){case"RL":i.style.top=f+"px",this._dG.AnimationSequence=new n.Ui.AnimationSequence({Items:[[{Context:i,PropertyName:"left",AnimationType:n.Ui.AnimationType.CSS,Start:t,End:t-u,Duration:this._AnimationDuration},{Context:r,PropertyName:"left",AnimationType:n.Ui.AnimationType.CSS,Start:t+u,End:t,Duration:this._AnimationDuration}]]});break;case"LR":i.style.top=f+"px",this._dG.AnimationSequence=new n.Ui.AnimationSequence({Items:[[{Context:i,PropertyName:"left",AnimationType:n.Ui.AnimationType.CSS,Start:t,End:t+u,Duration:this._AnimationDuration},{Context:r,PropertyName:"left",AnimationType:n.Ui.AnimationType.CSS,Start:t-u,End:t,Duration:this._AnimationDuration}]]});break;case"BT":i.style.left=t+"px",r.style.left=t+"px",this._dG.AnimationSequence=new n.Ui.AnimationSequence({Items:[[{Context:i,PropertyName:"top",AnimationType:n.Ui.AnimationType.CSS,Start:0,End:this._ou,Duration:this._AnimationDuration},{Context:r,PropertyName:"top",AnimationType:n.Ui.AnimationType.CSS,Start:-this._ou,End:0,Duration:this._AnimationDuration}]]});break;case"TB":i.style.left=t+"px",r.style.left=t+"px",this._dG.AnimationSequence=new n.Ui.AnimationSequence({Items:[[{Context:i,PropertyName:"top",AnimationType:n.Ui.AnimationType.CSS,Start:0,End:-this._ou,Duration:this._AnimationDuration},{Context:r,PropertyName:"top",AnimationType:n.Ui.AnimationType.CSS,Start:this._ou,End:0,Duration:this._AnimationDuration}]]})}this._dG.AnimationSequence.Ended.add(this._cyW,this),this._dG.AnimationSequence.run()},u.prototype._cyW=function(){this._bLo()},u.prototype._bLo=function(){if(!this._dG.ComingPage){this.ExpansionChanged.fire(this,{Value:!0,Changed:(t={},t[this._dG.ExpandedNode]=!0,t)});return}this._dG.AnimationSequence&&this._dG.AnimationSequence.dispose(),n.removeClass(this._dG.ComingPage.DomPage,"PPTLVAnimatingPage"),n.removeClass(this._dG.LeavingPage.DomPage,"PPTLVAnimatingPage"),this._dG.ComingPage.DomPage.style.left="",this._dG.ComingPage.DomPage.style.top="",this._dG.LeavingPage.DomPage.style.left="",this._dG.LeavingPage.DomPage.style.top="",this._dc(),this._f3.scrollLeft=this._dG.ScrollLeft,this._f3.scrollTop=0,this._ScrollBarV.setValue(0),this._dG.AnimationSequence=null,this.ExpansionChanged.fire(this,{Value:!0,Changed:(i={},i[this.getLastExpandedNode()]=!0,i)});var t,i},u.prototype.refresh=function(){r.prototype.refresh.apply(this,arguments),this._bdn()},u.prototype._lP=function(){return(this._lW.DomNode.offsetHeight||0)+(this._ShowCaptions?this._Captions.getHeight():0)},u.prototype.setExpansionMode=function(){throw new n.Exception(this,"property don't supported in this type of TreeList");},u.prototype.setActiveNode=function(n){this.drillTo(n,!1)},u.prototype.getActiveNode=function(){return this.getLastExpandedNode()},u.prototype.getShowTree=function(){throw new n.Exception(this,"property don't supported in this type of TreeList");},u.prototype.setShowTree=function(){throw new n.Exception(this,"property don't supported in this type of TreeList");},u.prototype._cyT=function(){this._lW.DomNode=n.htmlToDOM('<div class="PPTLBNavigationBar"><div class="PPTLBLevelUp"><div class="PPTLBLevelUpIcon"><\/div><span class="PPTLBLevelUpText"><\/span><\/div><div class="PPTLBActiveNodeText"><\/div><\/div>'),this._lW.DomLevelUp=n.querySelector(this._lW.DomNode,".PPTLBLevelUp"),this._lW.DomLevelUpText=n.querySelector(this._lW.DomNode,".PPTLBLevelUpText"),this._lW.ActiveNodeText=n.querySelector(this._lW.DomNode,".PPTLBActiveNodeText"),this._addEvent(this._lW.DomLevelUp,"click",this._cyX),this._DomNode.childNodes.length?this._DomNode.insertBefore(this._lW.DomNode,this._DomNode.childNodes[0]):this._DomNode.appendChild(this._lW.DomNode)},u.prototype._bdn=function(){var i=n.resourceManager.getString("TreeRootNodeName"),t=this.getLastExpandedNode();if(t){var r=this.getNodeParent(t),u=this._Captions.getFirstVisibleIndex(),f=r?this.getNodeContent(r)[u]:i,e=this.getNodeContent(t)[u];n.removeClass(this._lW.DomLevelUp,"PPTLBLevelUpUpperLevel"),this._lW.DomLevelUpText.innerHTML=f,this._lW.ActiveNodeText.innerHTML=e}else n.addClass(this._lW.DomLevelUp,"PPTLBLevelUpUpperLevel"),this._lW.ActiveNodeText.innerHTML=i},u.prototype._cyX=function(){var n=this.getLastExpandedNode();n!==undefined&&this.drillTo(this.getNodeParent(n))},u.prototype._aSa=function(){return t.TreeListScrollingMode.Native},u.prototype._iK=function(){return this._lO.offsetHeight+this._d9.Top+this._d9.Bottom},u.prototype._jZ=function(){return this._dB},u.prototype._aDQ=function(n){var t=this._gs.DashboardScrolls?0:this._ScrollBarH.getHeight();return this._iK()>this._ou-(n?t:0)},u.prototype._aDP=function(){this._f3.scrollTop=this._kU},u.prototype._qr=function(t,i){var r,u;if(n.isDefined(this.getNodePosition(t)))return(r=this._bB[t],!r||!r.DomRow)?void 0:(u=r.DomRow.offsetTop+this._d9.Top,i?u-(this._dB-this._ox(t)):u)},u.prototype._yL=function(n){return this._qr(n)-this._ow()},u.prototype._ox=function(t){if(n.isDefined(this.getNodePosition(t))){var i=this._bB[t];if(i&&i.DomRow)return i.DomRow.offsetHeight}},u.prototype._agG=function(){for(var f=this.getNodesCount(),e=this._ow(),i=-1,r=-1,t,o,u,s,n=0;n<f;n++)if((o=this.getNodeByPosition(n),t=o?this._bB[o]:this._vf[n],t&&t.DomRow)&&(u=t.DomRow.offsetTop+this._d9.Top,s=t.DomRow.offsetHeight,u+s>e&&i==-1&&(i=n),u<=e+this._dB&&u+s>=e+this._dB)){r=n;break}return f>0&&i==-1&&(i=0),r==-1&&(r=f-1),{From:i,To:r}},u.prototype._aSf=function(){var n=100*this._em/(this._iK()-this._jZ());n>0&&this._ScrollBarV.setScrollSpeed(n)},u.prototype._aDR=function(){return!1},u.prototype.getFullTreeHeight=function(){return this._iK()},u}(t.TreeListView);t.TreeListBox=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r,u;(function(n){n[n.Monday=0]="Monday",n[n.Tuesday=1]="Tuesday",n[n.Wednesday=2]="Wednesday",n[n.Thursday=3]="Thursday",n[n.Friday=4]="Friday",n[n.Saturday=5]="Saturday",n[n.Sunday=6]="Sunday"})(r=t.ScheduleWeekDay||(t.ScheduleWeekDay={})),u=function(t){function u(i){var r=t.call(this,i)||this,u;return r._hB=24,r._cyY=1,r._bLp=2,r._auP=[],r._bLq={},r._dC=!1,r._ag9=!1,n.isObject(r._Selection)||(r._sV=r._Selection={}),n.getCurrentCulture&&(u=n.getCurrentCulture(),u&&(r._am0=u)),r._am0||(r._am0=new n.CultureInfo),r._bLr(),r._render(),r._auQ(),r}return i(u,t),u.prototype._e=function(){t.prototype._e.call(this),this._VisibleRowHeaders=!0,this._VisibleColHeaders=!0,this._VisibleWeekDays=[r.Monday,r.Tuesday,r.Wednesday,r.Thursday,r.Friday,r.Saturday,r.Sunday],this._Selection=null,this._defineEvents(["SelectionChanging","SelectionChanged"])},u.prototype._render=function(){this._initFromHTML("<div class='PPSchedule PPNoSelect'><\/div>"),this._bLs(),this._ParentNode&&this.addToNode(this._ParentNode),t.prototype._render.call(this)},u.prototype._bLr=function(){var n,t,i;for(this._auP=[],n=0;n<7;n++)t=this._am0.IsSundayFirst?(n+6)%7:n,~this._VisibleWeekDays.indexOf(t)&&this._auP.push(t+"");for(this._bLq={},i=this._aET(),n=0;n<i;n++)t=this._auP[n],this._bLq[t]=n},u.prototype._cyZ=function(n){return n<0?"":(n=n%24,this._am0.Hour24Mode?n+"":n===0?this._am0.TimeAmPm[1]:n===12?this._am0.TimeAmPm[0]:n%12+"")},u.prototype._cy0=function(n){var t=this._auP[n];return this._am0.ShortDayNames[t]},u.prototype._bLs=function(){var e,o;this._cD&&this._DomNode.contains(this._cD)&&this._DomNode.removeChild(this._cD);for(var t="<table class='PPScheduleTable'><tbody>",u=this._VisibleColHeaders,f=this._VisibleRowHeaders,s=this._aET()+(u?1:0),h=this._hB+(f?1:0),r,i=0;i<s;i++){for(e=u&&i===0,t+="<tr>",r=0;r<h;r++)o=f&&(!u||i>0)&&r===0,t+=e?"<th class='PPScheduleHeaderCell'>"+this._cyZ(f?r-1:r)+"<\/th>":o?"<th class='PPScheduleHeadingCell'>"+this._cy0(u?i-1:i)+"<\/th>":"<td class='PPScheduleCell'><\/td>";t+="<\/tr>"}t+="<\/tbody><\/table>",this._cD=n.htmlToDOM(t),this._DomNode.appendChild(this._cD)},u.prototype._aET=function(){return this._VisibleWeekDays.length},u.prototype._dEh=function(n){return n.cellIndex-(this._VisibleRowHeaders?1:0)},u.prototype._dEi=function(n){return n.parentNode.rowIndex-(this._VisibleColHeaders?1:0)},u.prototype._qH=function(n,t){this._VisibleColHeaders&&(t+=1),this._VisibleRowHeaders&&(n+=1);var i=this._cD.rows[t];return i.cells[n]},u.prototype._bdo=function(t,i){this._auR=this._auR||n.calculateOffset(this._cD);var u=t.clientX-this._auR.X,r,f;if(this._IsRTL){if(u<this._qH(this._hB-1,0).offsetLeft)return i===!1?-1:this._hB-1}else if(u<this._qH(0,0).offsetLeft)return i===!1?-1:0;for(r=0;r<this._hB;r++)if(f=this._qH(r,0),u>=f.offsetLeft&&u<=f.offsetLeft+f.offsetWidth+this._cyY)return r;return this._IsRTL?i===!1?-1:0:i===!1?-1:this._hB-1},u.prototype._bdp=function(t,i){var u,e,r,f;if(this._auR=this._auR||n.calculateOffset(this._cD),u=t.clientY-this._auR.Y,e=this._aET(),u<this._qH(0,0).offsetTop)return i===!1?-1:0;for(r=0;r<e;r++)if(f=this._qH(0,r),u>=f.offsetTop-this._bLp*.5&&u<=f.offsetTop+f.offsetHeight+this._bLp*.5)return r;return i===!1?-1:e-1},u.prototype._bLt=function(n,t){this._dC=!0,this._bLu=this._aTX=n,this._bLv=this._aTY=t,this._auQ()},u.prototype._bLw=function(n,t){this._aTX=n,this._aTY=t,this._auQ()},u.prototype._bLx=function(t,i){var e,r,f,l,h,c;for(n.isDefined(t)&&n.isDefined(i)&&(this._aTX=t,this._aTY=i),e={},l=this._aET(),f=0;f<l;f++){var o=[],a=this._auP[f],u=-1,s=0;for(r=0;r<this._hB;r++)h=this._fG(r,f),h&&(u===-1&&(u=r),s++),u===-1||h&&r!==this._hB-1||(o.push({Begin:u,End:u+s-1}),u=-1,s=0);o.length>0&&(e[a]=o)}this._dC=!1,c={OldSelection:this._sV,NewSelection:e,Cancel:!1},this.SelectionChanging.fire(this,c),c.Cancel||this.setSelection(e),this._auQ()},u.prototype._fG=function(n,t){var r,u,i,f;if(this._cy1(n,t))return!0;for(r=this._auP[t],u=r&&this._Selection[r]||[],i=0;i<u.length;i++)if(f=u[i],n>=f.Begin&&n<=f.End)return!0;return!1},u.prototype._cy1=function(n,t){if(!this._dC)return!1;var i=Math.min(this._bLu,this._aTX),r=Math.min(this._bLv,this._aTY),u=Math.max(this._bLu,this._aTX),f=Math.max(this._bLv,this._aTY);return n>=i&&n<=u&&t>=r&&t<=f},u.prototype._auQ=function(){for(var t,u=this._aET(),r,i=0;i<u;i++)for(t=0;t<this._hB;t++)r=this._qH(t,i),this._fG(t,i)?n.addClass(r,"Selected"):n.removeClass(r,"Selected")},u.prototype._bdq=function(t){this._auS&&this._auS==t||(this._auS&&n.removeClass(this._auS,"Hovered"),this._auS=t||null,this._auS&&n.addClass(this._auS,"Hovered"))},u.prototype._bindEvents=function(){this._cQ||(t.prototype._bindEvents.call(this),this._addEvent(this._DomNode,"mousemove",this._aEU))},u.prototype._unBindEvents=function(){t.prototype._unBindEvents.call(this),this._k(this._DomNode,"mousemove",this._aEU)},u.prototype._bk=function(n,i){t.prototype._bk.call(this,n,i),this._cy2(n,i)},u.prototype._dQ=function(n,i){t.prototype._dQ.call(this,n,i),this._aTZ(n,i)},u.prototype._cy2=function(t,i){if(this._Enabled&&!this._ag9){var f=i.Event,r=this._bdo(f,!1),u=this._bdp(f,!1);r!==-1&&u!==-1&&(this._ag9=!0,n.setCapture(this._DomNode),this._auR=null,i.Event.ctrlKey||this.clearSelection(),i.Event.shiftKey&&n.isDefined(this._bLy)&&n.isDefined(this._bLz)?(this._bLt(this._bLy,this._bLz),this._bLw(r,u)):(this._bLt(r,u),this._bLy=r,this._bLz=u))}},u.prototype._aEU=function(t,i){var r=i.Event,e=this._bdo(r),o=this._bdp(r),u,f;this._ag9&&this._bLw(e,o),i.Event.pointerType===n.Ui.PointerEventType.Mouse&&(u=this._bdo(r,!1),f=this._bdp(r,!1),u!==-1&&f!==-1?this._bdq(this._qH(u,f)):this._bdq(null))},u.prototype._aTZ=function(){this._ag9&&(this._ag9=!1,n.releaseCapture(this._DomNode),this._bLx())},u.prototype._b0=function(i,r){t.prototype._b0.call(this,i,r),n.reallyOut(this._DomNode,r.Event)&&this._bdq(null)},u.prototype.getSelection=function(){return JSON.parse(JSON.stringify(this._Selection))},u.prototype.setVisibleWeekDays=function(n){this._VisibleWeekDays=n,this._bLr(),this._bLs()},u.prototype.setSelection=function(n){this._Selection=n;var t={OldSelection:this._sV,NewSelection:this._Selection};this.SelectionChanged.fire(this,t),this._sV=this.getSelection(),this._auQ()},u.prototype.clearSelection=function(){this._dC&&this._bLx(),this._Selection={},this._auQ()},u.prototype.setEnabled=function(n){this._Enabled!==n&&(n?this._bindEvents():this._unBindEvents()),t.prototype.setEnabled.call(this,n)},u}(t.Control),t.Schedule=u})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var u=function(){function t(){}return t.setManager=function(n){t._bdr=n},t.getManager=function(){return t._bdr||(t._bdr=new f),t._bdr},t.prototype._aT0=function(t){var r,u,i;if(!n.isString(t))return t;for(r={UI:undefined},u=t.match(/\S+="[^"]*"/g),r={UI:undefined},i=0;i<u.length;i++)r[u[i].split("=")[0]]=u[i].split("=")[1].replace(/"(.*)"/,"$1");return r},t.prototype.getSettings=function(n,t,i){return i||(i=this.createByUi(n)),i?(i.setValue(t),i.getSettings()):void 0},t.prototype.createByUi=function(n){var t=this._aT0(n),i;switch(t.UI){case"EditBox":case"IdentEdit":case"MaskEdit":i=new e(t);break;case"IntegerSlider":case"FloatSlider":case"DecimalSlider":i=new o(t);break;case"IntegerEdit":case"FloatEdit":case"DecimalEdit":i=new s(t);break;case"DatePicker":case"DateTimePicker":case"TimePicker":i=new h(t);break;case"CheckBox":i=new c(t);break;case"ComboBox":case"BooleanCombo":i=new l(t);break;case"TreeCombo":i=new a(t);break;case"ListBox":i=new v(t);break;case"DimCombo":return null}return i},t}(),f,r;t.BindingManager=u,f=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t}(u),r=function(){function n(n){this._Binding=n}return n.prototype._bLA=function(n){return(n||"").toUpperCase()==="TRUE"?!0:!1},n.prototype.setValue=function(n){this._Value=n},n.prototype.getBinding=function(){return this._Binding},n}(),t.BindingProvider=r;var e=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype.getSettings=function(){var t=this._Binding,i={};return(t.UI==="EditBox"||t.UI==="MaskEdit"||t.UI==="IdentEdit")&&(i.PPType="PP.Ui.TextBox",i.Value=i.Content=t.VALUE||this._Value,i.EnableEdit=!n.isDefined(t.READONLY)||t.READONLY==="OFF"?!0:!1,i.MaxLength=t.MAXLENGTH?parseInt(t.MAXLENGTH+""):-1),t.UI==="IdentEdit"&&(i.PPType="PP.Ui.IdentEdit",i.AllowEmptyValue=t.ALLOWEMPTY==="TRUE"),t.UI==="MaskEdit"&&(i.PPType="PP.Ui.MaskEdit",i.AllowedSymbols=t.VALIDCHARS,i.Mask=t.INPUTTEMPLATE,i.RegExpContent=t.REGEXPCONTENT,i.MaskSymbols=t.MASK),i},r}(r),o=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype.getSettings=function(){var f=this._Binding,t,l,c,a,u;if(f.UI!=="IntegerSlider"&&f.UI!=="FloatSlider"&&f.UI!=="DecimalSlider")return null;t={},t.PPType="PP.Ui.Slider",t.ShowItemsToolTip=!0,t.TicksPosition=n.LTRB.Left,t.MinValue=f.MINVAL?parseFloat(f.MINVAL):0,t.MaxValue=f.MAXVAL?parseFloat(f.MAXVAL):t.MinValue+100,t.MaxValue<t.MinValue&&(t.MinValue=t.MaxValue);var o=Math.min(Math.max(parseFloat(this._Value||f.VALUE||t.MinValue),t.MinValue),t.MaxValue),i=parseFloat(f.STEP),h="",s="",e=n.isDefined(f.PRECISION)?Math.min(parseInt(f.PRECISION),14):null,r=0;switch(f.UI){case"IntegerSlider":i||(i=1);break;case"FloatSlider":i||(i=.01);break;case"DecimalSlider":i||(i=1e-14)}if(!n.isNumber(e))if(l=Math.abs(i)-parseInt(Math.abs(i).toFixed(14)),l>0){for(e=14,r=14;r>0;r--)if(c=(i*Math.pow(10,r)).toFixed(),c[c.length-1]!="0"){e=r;break}}else e=0;if(e===0)h="#,##",s="#";else for(h="#,##0.",s="#.",r=0;r<e;r++)h+="0",s+="#";if(t.Step=i,t.ItemToolTipFormat="{0:"+h+"}",t.Items=[{PPType:"PP.Ui.SliderItem",Value:o}],i){for(a=Math.floor((o-t.MinValue)/i)+Math.floor((t.MaxValue-o)/i)+1,a>50&&(i=(t.MaxValue-t.MinValue)/50),f.UI==="IntegerSlider"&&(i=Math.floor(i)),t.Ticks=[],o!==t.MinValue&&(u=parseFloat(t.MinValue.toFixed(e)),t.Ticks.push({Content:n.NumberFormat.maskFormat(s,u),Value:u})),r=t.MinValue+i;r<o;r+=i)u=parseFloat(r.toFixed(e)),t.Ticks.push({Content:n.NumberFormat.maskFormat(s,u),Value:u});for(u=parseFloat(o.toFixed(e)),t.Ticks.push({Content:n.NumberFormat.maskFormat(s,u),Value:u}),r===o&&(r+=i);r<t.MaxValue;r+=i)u=parseFloat(r.toFixed(e)),t.Ticks.push({Content:n.NumberFormat.maskFormat(s,u),Value:u});o!==t.MaxValue&&(u=parseFloat(t.MaxValue.toFixed(e)),t.Ticks.push({Content:n.NumberFormat.maskFormat(s,u),Value:u}))}return t},r}(r),s=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype.getSettings=function(){var i=this._Binding,t={},r;return t.PPType="PP.Ui.NumberEdit",t.Value=(this._Value?parseFloat(this._Value):parseFloat(i.VALUE))||undefined,t.MaxValue=i.MAXVAL?parseFloat(i.MAXVAL):undefined,t.MinValue=i.MINVAL?parseFloat(i.MINVAL):undefined,t.IsNullable=this._bLA(i.ALLOWEMPTY),t.Step=i.STEP?parseFloat(i.STEP):undefined,i.UI!=="IntegerEdit"?(r=2,t.TrailingZeros=this._bLA(i.TRAILINGZEROS),i.UI==="FloatEdit"?t.FractionCount=parseInt(i.PRECISION)||r:i.UI==="DecimalEdit"&&(r=14,t.FractionCount=parseInt(i.PRECISION)||r),t.Step||(t.Step=1/Math.pow(10,r))):(t.MaxValue=n.isNumber(t.MaxValue)?t.MaxValue:2147483647,t.MinValue=n.isNumber(t.MinValue)?t.MinValue:-2147483648),t},r}(r),h=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype.getSettings=function(){var t=this._Binding,i={},r=(t.UI||"").toLowerCase(),s=(t.SHOWDATE||"").toUpperCase(),h=(t.SHOWTIME||"").toUpperCase(),l=(t.SPIN||"").toUpperCase(),u,f,o,c,e;for(i.PPType=r==="timepicker"?"PP.Ui.DateTimeEdit":"PP.Ui.DateTimePicker",o=["H:i:s",n.Date.Pattern.Default,"m/d/Y","Y-m-d","Y-m-d H:i:s","m/d/Y H:i:s"],c=this._Value||t.VALUE,e=0;!u&&e<o.length;e++)if(f=o[e],u=n.Date.parse(c,f),u)break;return i.CurrentDate=i.Value=u,i.MinDate=t.MINVAL?n.Date.parse(t.MINVAL,f):undefined,i.MaxDate=t.MAXVAL?n.Date.parse(t.MAXVAL,f):undefined,i.ShowButtons=l=="ON"?!0:!1,i.ShowDate=s?s==="TRUE"?!0:!1:r==="datetimepicker"||r==="datepicker",i.ShowTime=h?h==="TRUE"?!0:!1:r==="datetimepicker"||r==="timepicker",i.DropCalendar=t.DROPCALENDAR==="OFF"?!1:!0,i.ShowCheckBox=t.CHECKBOX?!0:!1,i},r}(r),c=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype.getSettings=function(){var i=this._Binding,t={};return t.PPType="PP.Ui.CheckBox",t.Content=n.isString(i.TEXT)?i.TEXT:"",t.Value=t.Checked=i.VALUE=="ON"?!0:!1,t.Data={},t.Data.onValue="ON",t.Data.offValue="OFF",t},r}(r),l=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t.prototype.getSettings=function(){var n=this._Binding,t={},u,r,i;if(n.UI==="BooleanCombo")t.PPType="PP.Ui.ComboBox",t.ListBox={Items:[{ResourceKey:"EaxParamBoolComboTrue",Data:1,IsSelected:!0},{ResourceKey:"EaxParamBoolComboFalse",Data:0}],SelectedIndex:0},t.Value=n.VALUE?n.VALUE:this._Value;else if(n.UI==="ComboBox"&&(t.PPType="PP.Ui.ComboBox",t.EnableEdit=n.LISTMODE=="ON"?!1:!0,t.Value=n.VALUE?n.VALUE:this._Value,t.SelectedNoneResourceKey="",n.ITEMS)){for(u=[],r=n.ITEMS.split(n.SEPARATORS?n.SEPARATORS:";"),i=0;i<r.length;i++)u.push({Content:r[i],IsSelected:t.Value==r[i]});t.ListBox={Items:u}}return t},t}(r),a=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t.prototype.getSettings=function(){var n=this._Binding,t={};return t.PPType="PP.Ui.TreeCombo",t.TreeList={},t.TreeList.MultiSelect=!1,t.CaptionStringNothing="",n.NODES&&(t.TreeList.Nodes=this.parseBindingTree(n.NODES,n.SEPARATORS?n.SEPARATORS:"|",n.VALUE?n.VALUE:this._Value)),t},t.prototype.parseBindingTree=function(n,t,i){var f=!1,o,l,c,a;if(!n)return{};var u="",s=[],r={Nodes:[]},h,e;for(s.push(r),o=0,l=n.length;o<l;o++){c=n[o];switch(c){case t:if(n[o+1]=="{"){r=r||{Nodes:[]},r.Text=u,r.Value=u,f||i!=u||(r.Selected=f=!0),h={Parent:r,Nodes:[]},r.Nodes.push(h),r=h,u="";continue}u&&(r.Text=u,r.Value=u,f||i!=u||(r.Selected=f=!0)),r.Parent?(e={Parent:r.Parent,Nodes:[]},r.Parent.Nodes.push(e)):(e={Nodes:[]},s.push(e)),r=e,u="";break;case"{":break;case"}":u&&(r.Text=u,r.Value=u,f||i!=u||(r.Selected=f=!0),u=""),a=r.Parent,delete r.Parent,r=a;break;default:u+=c}}return u&&(r.Text=u,r.Value=u,f||i!=u||(r.Selected=f=!0),u=""),s},t}(r),v=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return i(t,n),t.prototype.getSettings=function(){var n=this._Binding,t={},u,r,i;if(t.PPType="PP.Ui.ListBox",t.Value=n.VALUE?n.VALUE:this._Value,n.ITEMS){for(u=[],r=n.ITEMS.split(n.SEPARATORS?n.SEPARATORS:";"),i=0;i<r.length;i++)u.push({Content:r[i],IsSelected:t.Value==r[i]});t.Items=u}return t},t}(r)})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var u,f,e,r;(function(n){n[n.TopBottom=0]="TopBottom",n[n.LeftRight=1]="LeftRight"})(u=t.DropPanelArrowPosition||(t.DropPanelArrowPosition={})),function(n){n[n.Top=0]="Top",n[n.Center=1]="Center",n[n.Bottom=2]="Bottom"}(f=t.DropPanelArrowVerticalAlign||(t.DropPanelArrowVerticalAlign={})),function(n){n[n.Left=0]="Left",n[n.Center=1]="Center",n[n.Right=2]="Right"}(e=t.DropPanelArrowHorizontalAlign||(t.DropPanelArrowHorizontalAlign={})),r=function(t){function r(n){var i=t.call(this,n)||this;return i._cy3=null,i._vw=0,i._vx=0,i._acD=0,i._acE=0,i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._ArrowPosition=n.Ui.DropPanelArrowPosition.TopBottom,this._ArrowVerticalAlign=n.Ui.DropPanelArrowVerticalAlign.Center,this._ArrowHorizontalAlign=n.Ui.DropPanelArrowHorizontalAlign.Center,this._CloseOnDocumentMouseDown=!0,this._MinDropDownWidth=0,this._MinDropDownHeight=0,this._MinDocMargin=12,this._ArrowWidth=11,this._ArrowMargin=7},r.prototype._render=function(){for(t.prototype._render.call(this),this._yj();this._DomNode.hasChildNodes();)this._DomNode.removeChild(this._DomNode.firstChild);this.addClass("PPArrowDropPanel"),this._DomContainerNode=n.createElement(null,"ArrowDPContainer");for(var i=0;i<this._DomNode.children.length;i++)this._DomContainerNode.appendChild(this._DomNode.children[i]);this._DomNode.appendChild(this._DomContainerNode),this._ContentDomNode=n.createElement(this._DomContainerNode,"ContentBody"),this._DomArrow=n.createElement(this._DomContainerNode,"Arrow","div"),this.setContent(this._Content),this._af6()},r.prototype._cy4=function(t,i){this._aF&&this._aF.isExecute()&&this._aF.stop(),this.setTop(parseInt(this._DomNode.style.top)),this._aF instanceof n.Ui.Animation?(this._aF.setStart(t),this._aF.setEnd(t)):this._aF=new n.Ui.Animation({AnimationType:n.Ui.AnimationType.CSS,Context:this._ContentDomNode,PropertyName:"height",Start:t,End:i,Duration:200}),this._aF.run(new n.Delegate(this._cy5,this))},r.prototype._cy5=function(t,i){var u=this._aF,r=u.getStart()-i.Value;this._DroppedPosition==n.LTRB.Bottom&&(this._DomNode.style.top=this.getTop()+r+"px"),i.IsEnd&&(this._ContentDomNode.style.height="",this._DroppedPosition==n.LTRB.Bottom&&this.setTop(this.getTop()-r))},r.prototype._cy6=function(t,i){var u=1-i.Value/1e6,r;u=Math.pow(u,5),r="transform",(n.IsChrome||n.IsSafari)&&(r="webkitTransform"),n.IsIE&&(r="msTransform"),n.IsFF&&(r="MozTransform"),this._DomContainerNode.style[r]="translate(0, -"+14*(1-u)+"px) translate(0, -50%) rotateX(-"+90*(1-u)+"deg) translate(0, 50%)",i.IsEnd&&(this._DomContainerNode.style[r]="",this._cy7(),this._bds())},r.prototype._cy8=function(){},r.prototype._cy7=function(){},r.prototype.getArrowPosition=function(){return this._ArrowPosition},r.prototype.setArrowPosition=function(n){this._ArrowPosition=n},r.prototype.setContent=function(n){var i=this._ContentDomNode.offsetHeight;t.prototype.setContent.call(this,n),this._cy4(i,this._ContentDomNode.offsetHeight)},r.prototype.show=function(i,r,u){t.prototype.show.call(this,i,r,u),this._ContentDomNode.offsetHeight&&(this._cy8(),this._aha instanceof n.Ui.Animation?this._aha&&this._aha.isExecute()&&this._aha.stop():this._aha=new n.Ui.Animation({Duration:200,Start:1e6,End:0}),(n.IsChrome||n.IsSafari)&&(this._DomNode.style.webkitPerspective="3000"),n.IsIE&&(this._DomNode.style.msPerspective="3000"),n.IsFF&&(this._DomNode.style.MozPerspective="3000"),this._aha.run(new n.Delegate(this._cy6,this)))},r.prototype.hide=function(){t.prototype.hide.call(this),this._aha&&this._aha.isExecute()&&this._aha.stopToEnd()},r.prototype.correctPosition=function(){this.removeClass("ArrowTop"),this.removeClass("ArrowLeft"),this.removeClass("ArrowRight"),this.removeClass("ArrowBottom")},r.prototype.showNextControl=function(t){var o,h,f,u,c;if(this.removeClass("ArrowTop"),this.removeClass("ArrowLeft"),this.removeClass("ArrowRight"),this.removeClass("ArrowBottom"),this.hide(),!t){this.show();return}var i=0,r=0,s=document.documentElement.clientWidth,e=document.documentElement.clientHeight;if(this._vw=0,this._vx=0,this._acD=0,this._acE=0,t instanceof n.Point?(this._vw=t.getY(),this._vx=t.getX()):(o=t instanceof n.Ui.Control?t.getDomNode():t,h=n.calculateOffset(o),this._vw=h.Y,this._vx=h.X,this._acD=o.offsetWidth,this._acE=o.offsetHeight),this._ArrowPosition==n.Ui.DropPanelArrowPosition.LeftRight&&this.setWidth(this._MaxDropDownWidth),this.Opening.suspend(),n.Ui.DropPanel.prototype.show.call(this,this._vx+this._acD,this._vw+this._acE,!0),this.Opening.resume(),this._Left=0,this._Top=0,f=this._DomNode.offsetWidth,u=this._DomNode.offsetHeight,this.Closed.suspend(),this.hide(),this.Closed.resume(),this._ArrowPosition==n.Ui.DropPanelArrowPosition.TopBottom){e/2-this._acE/2-this._vw>0?(this.addClass("ArrowTop"),i=this._vw+this._acE+this._ArrowMargin,this._DroppedPosition=n.LTRB.Top):(this.addClass("ArrowBottom"),i=this._vw-u-this._ArrowMargin,this._DroppedPosition=n.LTRB.Bottom);switch(this._ArrowHorizontalAlign){case n.Ui.DropPanelArrowHorizontalAlign.Left:r=this._vx;break;case n.Ui.DropPanelArrowHorizontalAlign.Center:r=this._vx+this._acD/2-f/2;break;case n.Ui.DropPanelArrowHorizontalAlign.Right:r=this._vx+this._acD-f}r<this._MinDocMargin&&(r=this._MinDocMargin),r+f>s-this._MinDocMargin&&(r=s-this._MinDocMargin-f),i<this._MinDocMargin&&(i=this._MinDocMargin),i+u>e-this._MinDocMargin&&(i=e-this._MinDocMargin-u)}else if(this._ArrowPosition==n.Ui.DropPanelArrowPosition.LeftRight){s/2-this._acD/2-this._vx>0?(this.addClass("ArrowLeft"),r=this._vx+this._acD+this._ArrowMargin,this._DroppedPosition=n.LTRB.Left):(this.addClass("ArrowRight"),r=this._vx-f-this._ArrowMargin,this._DroppedPosition=n.LTRB.Right);switch(this._ArrowVerticalAlign){case n.Ui.DropPanelArrowVerticalAlign.Top:i=this._vw;break;case n.Ui.DropPanelArrowVerticalAlign.Center:i=this._vw+this._acE/2-u/2;break;case n.Ui.DropPanelArrowVerticalAlign.Bottom:i=this._vw+this._acE-u}i<this._MinDocMargin&&(i=this._MinDocMargin),i+u>e-this._MinDocMargin&&(i=e-this._MinDocMargin-u),r<this._MinDocMargin&&(r=this._MinDocMargin)}c=Math.ceil(r)!=this._Left||Math.ceil(i)!=this._Top,this.show(Math.ceil(r),Math.ceil(i),!0),this._bds(),this._cy9()},r.prototype._cy9=function(){this.setEnableResize(this.getEnableResize());switch(this._cy3){case n.LTRB.Left:this._d8("L",!1),this._d8("TL",!1),this._d8("BL",!1);break;case n.LTRB.Top:this._d8("T",!1),this._d8("TL",!1),this._d8("TR",!1);break;case n.LTRB.Right:this._d8("R",!1),this._d8("TR",!1),this._d8("BR",!1);break;case n.LTRB.Bottom:this._d8("B",!1),this._d8("BL",!1),this._d8("BR",!1)}},r.prototype._bds=function(){var t=this._DomNode.offsetWidth,i=this._DomNode.offsetHeight,r=this._DomNode.offsetLeft,u=this._DomNode.offsetTop;this._ArrowPosition==n.Ui.DropPanelArrowPosition.TopBottom?(this._DomArrow.style.top="",this._DomArrow.style.left=this._acD<t?Math.ceil(this._acD/2+this._vx-r-this._ArrowWidth/2)+"px":Math.ceil(t/2-this._ArrowWidth/2)+"px"):this._ArrowPosition==n.Ui.DropPanelArrowPosition.LeftRight&&(this._DomArrow.style.left="",this._DomArrow.style.top=this._acE<i?Math.ceil(this._acE/2+this._vw-u-this._ArrowWidth/2)+"px":Math.ceil(i/2-this._ArrowWidth/2)+"px")},r.prototype._cF=function(n,i){return t.prototype._cF.call(this,n,i),this._bds(),!1},r}(t.DropPanel),t.ArrowDropPanel=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r,u;(function(n){n[n.Line=0]="Line",n[n.Column=1]="Column",n[n.Both=2]="Both"})(r=t.SparklineViewMode||(t.SparklineViewMode={})),u=function(t){function u(n){var i=t.call(this,n)||this;return i._render(),i}return i(u,t),u.prototype._e=function(){t.prototype._e.call(this),this._ViewMode=r.Both,this._Values=[],this._Width=200,this._Height=50,this._Padding=5,this._LineColor=n.Color.getColor("#FF0036"),this._LineThickness=3,this._StrokeColor=n.Color.getColor("#000000"),this._StrokeThickness=1,this._BackgroundColor=n.Color.getColor("rgba(255, 255, 255, 0)"),this._UsePeakValuesToColumns=!0,this._dY=0},u.prototype._initFields=function(i){i=i||{},i.FillColor||(i.FillColor=new n.LinearGradientBrush({StartPoint:"0,0",EndPoint:"0,1",GradientStops:{GradientStop:[{Color:"#FE9000",Offset:0},{Color:"#C04100",Offset:1}]}})),n.isString(i.BackgroundColor)&&(i.BackgroundColor=n.Color.getColor(i.BackgroundColor)),t.prototype._initFields.apply(this,arguments)},u.prototype._render=function(){this._initFromHTML(undefined),this.addClass("PPSparkline"),this._DomNode.style.backgroundColor=this._BackgroundColor.toDecimalString(!0),this.draw(),t.prototype._render.apply(this,arguments),this._ParentNode&&this.addToNode(this._ParentNode)},u.prototype._cza=function(){var t=this._Values,n;if(t.length){var u=window.Number.MAX_VALUE,f=window.Number.MIN_VALUE,i=Math.floor(t.length/20),h=[],r,c,e,o,s;for(n=0;n<t.length;n++)t[n]!==null&&(t[n]<u&&(u=t[n]),t[n]>f&&(f=t[n])),this._UsePeakValuesToColumns&&(o=n-i<0?0:n-i,s=s+i>t.length?t.length:n+i,r=t.slice(o,s+1),e=Math.max.apply(this,r),c=Math.min.apply(this,r),r.indexOf(e)==n-o&&h.push(e));return{Min:u,Max:f,HighData:h}}return{Min:0,Max:0,HighData:[]}},u.prototype._aQ1=function(t,i,r,u,f){var e,h,c,l,a,v,o;if(t=t.getSettings?t.getSettings():t,e=this._j6,h=t["@Color"]||t.Color,h){e.fillStyle=h;return}if(t["LinearGradientBrush.GradientStops"])a=new n.Point(n.getProperty(t,"StartPoint")),v=new n.Point(n.getProperty(t,"EndPoint")),l=t["LinearGradientBrush.GradientStops"].GradientStop,c=e.createLinearGradient(a.getX()*u+i,a.getY()*f+r,v.getX()*u+i,v.getY()*f+r);else return;for(o=0;o<l.length;o++){var s=l[o],y=parseFloat(s["@Offset"]||s.Offset||0),p=n.Color.getColor(s["@Color"]||s.Color);c.addColorStop(y,p)}e.fillStyle=c},u.prototype._czb=function(){this._cT&&this._cT.parentNode.removeChild(this._cT);var n=window.devicePixelRatio||1;this._cT=document.createElement("canvas"),this._DomNode.appendChild(this._cT),this._j6=this._cT.getContext("2d"),this._cT.height=this.getHeight()*n,this._cT.width=this.getWidth()*n,this._cT.style.height=this._Height+"px",this._cT.style.width=this._Width+"px",this._j6.scale(n,n)},u.prototype.getPadding=function(){return this._Padding},u.prototype.getValues=function(){return this._Values},u.prototype.getLineThickness=function(){return this._LineThickness},u.prototype.getLineColor=function(){return this._LineColor},u.prototype.getFillColor=function(){return this._FillColor},u.prototype.getStrokeThickness=function(){return this._StrokeThickness},u.prototype.getStrokeColor=function(){return this._StrokeColor},u.prototype.getBackgroundColor=function(){return this._BackgroundColor},u.prototype.getUsePeakValuesToColumns=function(){return this._UsePeakValuesToColumns},u.prototype.getViewMode=function(){return this._ViewMode},u.prototype.setWidth=function(n){if(n!==this._Width){t.prototype.setWidth.apply(this,arguments);var r=window.devicePixelRatio||1;this._cT.width=this._g(this._Width)*r,this._cT.style.width=this._Width+"px",this.draw()}},u.prototype.setHeight=function(n){if(n!==this._Height){t.prototype.setHeight.apply(this,arguments);var r=window.devicePixelRatio||1;this._cT.height=this._g(this._Height)*r,this._cT.style.height=this._Height+"px",this.draw()}},u.prototype.setPadding=function(n){n!==this._Padding&&(this._Padding=n,this.draw())},u.prototype.setValues=function(n){n!==this._Values&&(this._Values=n,this.draw())},u.prototype.setLineThickness=function(n){n!==this._LineThickness&&(this._LineThickness=n,this.draw())},u.prototype.setLineColor=function(n){n!==this._LineColor&&(this._LineColor=n,this.draw())},u.prototype.setFillColor=function(t){t&&!this._FillColor.isEqual(t)&&(this._FillColor instanceof n.Object&&this._FillColor.dispose(),this._FillColor=t,this.draw())},u.prototype.setStrokeThickness=function(n){n!==this._StrokeThickness&&(this._StrokeThickness=n,this.draw())},u.prototype.setStrokeColor=function(n){n&&!this._StrokeColor.isEqual(n)&&(this._StrokeColor=n,this.draw())},u.prototype.setBackgroundColor=function(n){n&&!this._BackgroundColor.isEqual(n)&&(this._BackgroundColor=n,this._DomNode.style.backgroundColor=this._BackgroundColor.toDecimalString(!0))},u.prototype.setUsePeakValuesToColumns=function(n){n=!!n,n!==this._UsePeakValuesToColumns&&(this._UsePeakValuesToColumns=n,this.draw())},u.prototype.setViewMode=function(n){n!==this._ViewMode&&(this._ViewMode=n,this.draw())},u.prototype.draw=function(){if(this._czb(),!this._dY){var h=this._cza(),i,u=h.Min,v=h.Max,f=h.HighData,w=this.getWidth(),y=this.getHeight();if(isFinite(u)&&isFinite(v)){var p=w-2*this._Padding,e=y-2*this._Padding,o=v-u,t;if(this._ViewMode===r.Column||this._ViewMode===r.Both)for(this._j6.strokeStyle=this._StrokeColor,this._j6.lineWidth=this._StrokeThickness,this._UsePeakValuesToColumns||(f=this._Values),i=p/f.length,t=0;t<f.length;t++)if(f[t]!==null){var c=this._Padding+t*i+(i-i/1.25)/2,s=(1-(f[t]-u)/o)*e+this._Padding,l=i/1.25,a=y-s-this._Padding;this._j6.strokeRect(c,s,l,a),this._FillColor instanceof n.Brush?this._aQ1(this._FillColor,c,s,l,a):this._j6.fillStyle=this._FillColor,this._j6.fillRect(c,s,l,a)}if(this._ViewMode===r.Line||this._ViewMode===r.Both){for(i=p/(this._Values.length-1),this._j6.strokeStyle=this._LineColor,this._j6.lineWidth=this._LineThickness,this._j6.beginPath(),this._j6.moveTo(this._Padding,(1-(this._Values[0]-u)/o)*e+this._Padding),t=1;t<this._Values.length;t++)this._Values[t-1]!==null&&this._Values[t]!==null?this._j6.lineTo(this._Padding+t*i,(1-(this._Values[t]-u)/o)*e+this._Padding):this._j6.moveTo(this._Padding+t*i,(1-(this._Values[t]-u)/o)*e+this._Padding);this._j6.stroke()}}}},u.prototype.beginUpdate=function(){this._dY?this._dY++:this._dY=1},u.prototype.endUpdate=function(){!this._dY||this._dY<=1?(this._dY=0,this.draw()):this._dY--},u.prototype.dispose=function(){this._FillColor instanceof n.Object&&this._FillColor.dispose(),t.prototype.dispose.apply(this,arguments)},u}(t.Control),t.Sparkline=u})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Source=null,this._ShowPluginLoadDialog=!1,this._Class="PPPDFView",this._defineEvents(["Rendered"])},r.prototype._render=function(){var i=n.Ui.PDFView.hasPDFReader();this._initFromHTML(""),t.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode),this._bLC(),this.Rendered.fire(this,{NoPlugin:!i,Source:this._Source}),this._ShowPluginLoadDialog&&this._Source&&!i&&(this._PdfReaderLoadConfirm=new n.Ui.ConfirmDialog({ResourceKey:"PdfReaderLoadConfirm",YesButtonClicked:new n.Delegate(this._aT1,this)}),this._PdfReaderLoadConfirm.show())},r.prototype._bLC=function(){var t=n.resourceManager.getString("pdfViewFallbackMsg");t=n.String.format(t,this._Source||""),this._ObjectElement&&this._DomNode.removeChild(this._ObjectElement),this._ObjectElement=n.IsIE||n.IsEdge?n.htmlToDOM('<embed src="'+(this._Source||"")+'" type="application/pdf"><\/embed>'):n.htmlToDOM('<object data="'+(this._Source||"")+'" type="application/pdf" width="100%" height="100%"><p>'+t+"<\/p><\/object>"),this._ObjectElement.style.width="100%",this._ObjectElement.style.height="100%",this._DomNode.appendChild(this._ObjectElement)},r.prototype._aT1=function(){window.open("http://get.adobe.com/reader/")},r.prototype.getSource=function(){return this._Source},r.prototype.getShowPluginLoadDialog=function(){return this._ShowPluginLoadDialog},r.prototype.setShowPluginLoadDialog=function(n){this._ShowPluginLoadDialog=n},r.prototype.setSource=function(t){this._Source=t,this._bLC();var i=n.Ui.PDFView.hasPDFReader();this.Rendered.fire(this,{NoPlugin:!i,Source:this._Source}),this._ShowPluginLoadDialog&&this._Source&&!i&&(this._PdfReaderLoadConfirm?this._PdfReaderLoadConfirm.show():(this._PdfReaderLoadConfirm=new n.Ui.ConfirmDialog({ResourceKey:"PdfReaderLoadConfirm",YesButtonClicked:new n.Delegate(this._aT1,this)}),this._PdfReaderLoadConfirm.show()))},r.hasPDFReader=function(){var t,u,f,i,r,e,s,o;if(t=!0,u=f=!1,n.IsFF)return!0;i=null;try{i=new ActiveXObject("AcroPDF.PDF"),t=!!i}catch(h){try{i=new ActiveXObject("PDF.PdfCtrl"),t=!!i}catch(h){t=!1}}if(navigator&&navigator.plugins)for(e=navigator.plugins,s=/Adobe Reader|Adobe PDF|Acrobat/gi,r=0;r<e.length;r++)if(s.test(e[r].name)){u=!0;break}return navigator&&navigator.mimeTypes&&(o=navigator.mimeTypes["application/pdf"],f=!!(o&&o.enabledPlugin)),t||u||f},r}(t.Control);t.PDFView=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r,u;(function(n){n[n.Number=0]="Number",n[n.Ticks=1]="Ticks",n[n.Date=2]="Date"})(r=t.RangeSliderValueType||(t.RangeSliderValueType={})),u=function(t){function r(n){var i=t.call(this,n)||this;return i._g5=[i._Items[0].getPosition(),i._Items[1].getPosition(),i._Items[2].getPosition()],i._ahb=[i._Items[0].getValue(),i._Items[1].getValue(),i._Items[2].getValue()],i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._defineEvents(["RangeChanging","RangeChanged"]),this._ShowControls=!1,this._Range=null,this._RangeWeight=13,this._FractionCount=2,this._Step=0,this._RangeItemToolTipFormat="{0:#,##0.0} - {1:#,##0.0}"},r.prototype._initFields=function(n){n=n||{},n.MaxItemsCount=3,n.MinItemsCount=0,n.DefaultItemType="SliderItem",n.CanCross=!0,n.Items=[],n.MoveOnClick=!1,n.CreateOnClick=!1,n.ShowControls&&(n.Template="<div class='PPAxis'><\/div><div class='PPTicks'><\/div><div class='PPLabels'><\/div><div class='PPItems'><\/div><table class='PPRangeTable' cellspacing='0' cellpadding='0' border='0'><tr><td class='PPBeginLabel'><\/td><td class='PPBeginControl'><\/td><td class='PPEndLabel'><\/td><td class='PPEndControl'><\/td><\/tr><\/table>",n.Height=n.Height||45,n.PaddingTop=n.PaddingTop||37.5),t.prototype._initFields.call(this,n)},r.prototype._render=function(){this.beginUpdate(),this._ValueType===n.Ui.RangeSliderValueType.Date?(this._MinValue=this._sX(this._MinValue),this._MaxValue=this._sX(this._MaxValue),this._FractionCount=0,this._AttachToTicks=!1,this._Step=this._Step||864e5):this._AttachToTicks||this._ValueType===n.Ui.RangeSliderValueType.Ticks?(this._ValueType=n.Ui.RangeSliderValueType.Ticks,this._MinValue=0,this._MaxValue=this._Ticks.length-1,this._Step=1):(this._ValueType=n.Ui.RangeSliderValueType.Number,this._AttachToTicks=!1),t.prototype._render.apply(this,arguments),this._Step=this._Step||Math.pow(10,-this._FractionCount),this.addClass("PPRangeSlider"),this._Range=this._Range||{Begin:this._MinValue,End:this._MaxValue},this._Range={Begin:Math.max(Math.min(this._Range.Begin,this._Range.End),this._MinValue),End:Math.min(Math.max(this._Range.Begin,this._Range.End),this._MaxValue)},this.setItems([{Value:.5,Template:"<div class='PPBorders'><div class='PPLines'><\/div><\/div>",Class:"PPRangeItem",Enabled:this._Enabled},{Value:this._Range.Begin,Enabled:this._Enabled},{Value:this._Range.End,Enabled:this._Enabled}]),this._ShowItemsToolTip&&this._Items[0].setToolTip(n.String.format(this._RangeItemToolTipFormat,this._Range.Begin,this._Range.End)),this._MinItemsCount=3,this._aEV=new n.Ui.Label({ParentNode:n.querySelector(this._DomNode,".PPBeginLabel"),ResourceKey:"rangeSliderBegin",Enabled:this._Enabled,IsRTL:this._IsRTL}),this._oD=this._lX({ParentNode:n.querySelector(this._DomNode,".PPBeginControl"),Enabled:this._Enabled,IsRTL:this._IsRTL}),this._am1=new n.Ui.Label({ParentNode:n.querySelector(this._DomNode,".PPEndLabel"),ResourceKey:"rangeSliderEnd",Enabled:this._Enabled,IsRTL:this._IsRTL}),this._oE=this._lX({ParentNode:n.querySelector(this._DomNode,".PPEndControl"),Enabled:this._Enabled,IsRTL:this._IsRTL}),this._cg(),this.endUpdate()},r.prototype._am2=function(t){switch(this._ValueType){case n.Ui.RangeSliderValueType.Ticks:return Math.round((this._MaxValue>this._MinValue?(t-this._MinValue)/(this._MaxValue-this._MinValue):0)*(this._Ticks.length-1));case n.Ui.RangeSliderValueType.Date:return new window.Date(t).getTime();case n.Ui.RangeSliderValueType.Number:default:return Math.round((t-this._MinValue)/this._Step)*this._Step+this._MinValue}},r.prototype._sX=function(t){switch(this._ValueType){case n.Ui.RangeSliderValueType.Ticks:var i=Math.max(1,this._Ticks.length-1);return t/i*(this._MaxValue-this._MinValue)+this._MinValue;case n.Ui.RangeSliderValueType.Date:return t.getTime();case n.Ui.RangeSliderValueType.Number:default:return t}},r.prototype._cg=function(){if(!this._bdt){this._bdt=!0;var t=Math.min(this._Items[1].getValue(),this._Items[2].getValue()),i=Math.max(this._Items[1].getValue(),this._Items[2].getValue()),r=i-t;t=this._am2(t),r=this._am2(r),i=this._am2(this._sX(t)+this._sX(r));switch(this._ValueType){case n.Ui.RangeSliderValueType.Ticks:this._oD.setSelectedIndex(t),this._oE.setSelectedIndex(i);break;case n.Ui.RangeSliderValueType.Date:case n.Ui.RangeSliderValueType.Number:this._oD.setValue(t),this._oE.setValue(i);break;default:this._oD.setText(t),this._oE.setText(i)}this._bdt=!1}},r.prototype._czc=function(){if(!this._bLD&&!this._bdt){this._bLD=!0;var t=this._MinValue,i=this._MaxValue;switch(this._ValueType){case n.Ui.RangeSliderValueType.Ticks:t=this._sX(this._oD.getSelectedIndex()),i=this._sX(this._oE.getSelectedIndex());break;case n.Ui.RangeSliderValueType.Date:case n.Ui.RangeSliderValueType.Number:t=this._sX(this._oD.getValue()),i=this._sX(this._oE.getValue());break;default:t=this._sX(this._oD.getText()),i=this._sX(this._oE.getText())}this._Items[1].setValue(Math.min(t,i)),this._Items[2].setValue(Math.max(t,i)),this._bLD=!1}},r.prototype._lX=function(t){var r,o,u,f,i,e;t=t||{},t.Class=t.Class||"PPRangeControl";switch(this._ValueType){case n.Ui.RangeSliderValueType.Ticks:for(r={},n.extend(r,t,!0),r.TextChanged=new n.Delegate(this._aT2,this),o=[],u=0;u<this._Ticks.length;u++)o.push({Content:this._Ticks[u]});return r.ListBox={Orientation:n.Orientation.Vertical,Items:o},new n.Ui.ComboBox(r);case n.Ui.RangeSliderValueType.Date:return f={},n.extend(f,t,!0),f.DateTimeChanged=new n.Delegate(this._aT2,this),new n.Ui.DateTimePicker(f);case n.Ui.RangeSliderValueType.Number:return i={},n.extend(i,t,!0),i.TextChanged=new n.Delegate(this._aT2,this),i.FractionCount=Math.max(0,this._FractionCount),i.Step=this._Step,new n.Ui.NumberEdit(i);default:return e={},n.extend(e,t,!0),e.TextChanged=new n.Delegate(this._aT2,this),new n.Ui.TextBox(e)}},r.prototype._ag1=function(i,r){if(r==null&&(r=i.getValue()),i!==this._Items[0])r=t.prototype._ag1.apply(this,arguments),(this._ValueType===n.Ui.RangeSliderValueType.Number||this._ValueType===n.Ui.RangeSliderValueType.Date)&&(r=Math.round((r-this._MinValue)/this._Step)*this._Step+this._MinValue);else if(this._Items.length===3){var u=this.getBounds(i);r=Math.max(u.Begin,Math.min(u.End,r))}return r},r.prototype._aT2=function(){this._czc()},r.prototype._nd=function(){t.prototype._nd.apply(this,arguments),this._ahc||(this._ahc=!0,this._bdu(),this._ahc=!1)},r.prototype._bdu=function(){if(!(this._Items.length<3)){var r=(this._Items[1].getValue()+this._Items[2].getValue())/2,i=Math.abs(this._Items[1].getValue()-this._Items[2].getValue()),t=this._bcL();switch(this._Orientation){case n.Orientation.Horizontal:t.Width*=this._MaxValue>this._MinValue?i/(this._MaxValue-this._MinValue):0,t.Height=this._RangeWeight;break;case n.Orientation.Vertical:t.Width=this._RangeWeight,t.Height*=this._MaxValue>this._MinValue?i/(this._MaxValue-this._MinValue):0}this._Items[0].setWidth(t.Width),this._Items[0].setHeight(t.Height),this._Items[0].setValue(r)}},r.prototype._bcO=function(n,i){this._bLE=n,t.prototype._bcO.call(this,n,i)},r.prototype._bcP=function(n,i){delete this._bLE,t.prototype._bcP.call(this,n,i)},r.prototype._bcQ=function(i){var f,s,u,l,a;if(t.prototype._bcQ.apply(this,arguments),f=!!this._bLE,!this._ahc){if(this._ahc=!0,i===this._Items[0]){var v=this._Items[0].getValue(),h=v-this._ahb[0],c=Math.abs(this._ahb[1]-this._ahb[2]),e=Math.min(this._ahb[1]+h,this._MaxValue-c),o=Math.max(this._ahb[2]+h,this._MinValue+c);f||(e=this._ag1(this._Items[1],e),o=this._ag1(this._Items[2],o)),this._Items[1].setValue(e),this._Items[2].setValue(o),f||this._Items[0].setValue((this._Items[1].getValue()+this._Items[2].getValue())/2),s=this._Items[0].getPosition(),u={X:s.X-this._g5[0].X,Y:s.Y-this._g5[0].Y},this._Items[1].setPosition({X:this._g5[1].X+u.X,Y:this._g5[1].Y+u.Y}),this._Items[2].setPosition({X:this._g5[2].X+u.X,Y:this._g5[2].Y+u.Y})}else this._bdu();this._cg(),this._ahc=!1,f?this.RangeChanging.fire(this,{Range:this.getRange()}):(this._Items[1].getValue()<this._Items[2].getValue()?(this._g5=[this._Items[0].getPosition(),this._Items[1].getPosition(),this._Items[2].getPosition()],this._ahb=[this._Items[0].getValue(),this._Items[1].getValue(),this._Items[2].getValue()]):(this._g5=[this._Items[0].getPosition(),this._Items[2].getPosition(),this._Items[1].getPosition()],this._ahb=[this._Items[0].getValue(),this._Items[2].getValue(),this._Items[1].getValue()]),this.RangeChanged.fire(this,{Range:this.getRange()}))}this._ShowItemsToolTip&&(l=Math.min(this._Items[1].getValue(),this._Items[2].getValue()),a=Math.max(this._Items[1].getValue(),this._Items[2].getValue()),this._Items[0].setToolTip(n.String.format(this._RangeItemToolTipFormat,l,a)))},r.prototype.setItems=function(n){var i,t;for(n=n||[],this.beginUpdate(),i=Math.min(n.length,this._MaxItemsCount>=0?this._MaxItemsCount:n.length),t=0;t<i;t++)this.addItem(n[t]);while(this._Items.length<this._MinItemsCount)this.addItem({});this.endUpdate()},r.prototype.removeItemByIndex=function(){},r.prototype.removeItems=function(){},r.prototype.setCanCross=function(){},r.prototype.setAttachToTicks=function(){},r.prototype.getBounds=function(n){var i=this._MinValue,r=this._MaxValue,t;return n===this._Items[0]&&this._Items.length===3&&(t=Math.abs(this._Items[1].getValue()-this._Items[2].getValue()),i+=t/2,r-=t/2),{Begin:i,End:r}},r.prototype.setEnabled=function(n){t.prototype.setEnabled.apply(this,arguments),this._aEV&&this._oD&&this._am1&&this._oE&&(this._aEV.setEnabled(n),this._oD.setEnabled(n),this._am1.setEnabled(n),this._oE.setEnabled(n))},r.prototype.getRange=function(){var t=this._Items[1].getValue(),i=this._Items[2].getValue(),n={Begin:Math.min(t,i),End:Math.max(t,i)};return n.Begin=this._am2(n.Begin),n.End=this._am2(n.End),n},r.prototype.setRange=function(n){if(n&&n.hasOwnProperty("Begin")&&n.hasOwnProperty("End")){var t=this.getRange(),i=n.Begin!=t.Begin||n.End!=t.End;this.RangeChanging.fire(this,{Range:t}),!this._ahc&&i&&(this._ahc=!0,this._Items[1].setValue(this._sX(Math.max(Math.min(n.Begin,n.End),this._MinValue))),this._Items[2].setValue(this._sX(Math.min(Math.max(n.Begin,n.End),this._MaxValue))),this._bdu(),this._cg(),this._g5=[this._Items[0].getPosition(),this._Items[1].getPosition(),this._Items[2].getPosition()],this._ahb=[this._Items[0].getValue(),this._Items[1].getValue(),this._Items[2].getValue()],this._ahc=!1,this.RangeChanged.fire(this,{Range:n}))}},r.prototype.getMinValue=function(){return this._am2(this._MinValue)},r.prototype.setMinValue=function(i){switch(this._ValueType){case n.Ui.RangeSliderValueType.Number:if(typeof i=="number")t.prototype.setMinValue.apply(this,arguments),this._cg();else throw new n.ArgumentException(this,"Wrong type of argument");break;case n.Ui.RangeSliderValueType.Date:if(i instanceof window.Date)t.prototype.setMinValue.call(this,i.getTime()),this._cg();else throw new n.ArgumentException(this,"Wrong type of argument");}},r.prototype.getMaxValue=function(){return this._am2(this._MaxValue)},r.prototype.setMaxValue=function(i){switch(this._ValueType){case n.Ui.RangeSliderValueType.Number:if(typeof i=="number")t.prototype.setMaxValue.apply(this,arguments),this._cg();else throw new n.ArgumentException(this,"Wrong type of argument");break;case n.Ui.RangeSliderValueType.Date:if(i instanceof window.Date)t.prototype.setMaxValue.call(this,i.getTime()),this._cg();else throw new n.ArgumentException(this,"Wrong type of argument");}},r.prototype.setStep=function(t){if(this._ValueType===n.Ui.RangeSliderValueType.Number)this._Step=t,this._oD.setStep(this._Step),this._oE.setStep(this._Step),this._nd(),this._cg();else if(this._ValueType===n.Ui.RangeSliderValueType.Date)this._Step=t,this._nd(),this._cg();else throw new n.Exception(this,"Invalid operation");},r.prototype.setFractionCount=function(t){if(this._ValueType===n.Ui.RangeSliderValueType.Number)this._FractionCount=Math.max(0,t),this._oD.setFractionCount(this._FractionCount),this._oE.setFractionCount(this._FractionCount),this._Step=Math.max(this._Step,Math.pow(10,-this._FractionCount)),this._oD.setStep(this._Step),this._oE.setStep(this._Step),this._nd(),this._cg();else throw new n.Exception(this,"Invalid operation");},r.prototype.setTicks=function(i){if(this._ValueType===n.Ui.RangeSliderValueType.Ticks)if(i.length>1)this._MinValue=0,this._MaxValue=i.length-1;else throw new n.ArgumentException(this,"The array must be at least two elements");t.prototype.setTicks.apply(this,arguments),this._ValueType===n.Ui.RangeSliderValueType.Ticks&&this._aEV&&this._oD&&this._am1&&this._oE&&(this._aEV.dispose(),this._oD.dispose(),this._am1.dispose(),this._oE.dispose(),this._aEV=new n.Ui.Label({ParentNode:n.querySelector(this._DomNode,".PPBeginLabel"),ResourceKey:"rangeSliderBegin",Enabled:this._Enabled,IsRTL:this._IsRTL}),this._oD=this._lX({ParentNode:n.querySelector(this._DomNode,".PPBeginControl"),Enabled:this._Enabled,IsRTL:this._IsRTL}),this._am1=new n.Ui.Label({ParentNode:n.querySelector(this._DomNode,".PPEndLabel"),ResourceKey:"rangeSliderEnd",Enabled:this._Enabled,IsRTL:this._IsRTL}),this._oE=this._lX({ParentNode:n.querySelector(this._DomNode,".PPEndControl"),Enabled:this._Enabled,IsRTL:this._IsRTL}),this._cg())},r.prototype.getSettings=function(){var n=t.prototype.getSettings.apply(this,arguments);return delete n.AttachToTicks,n},r.prototype.setOrientation=function(){t.prototype.setOrientation.apply(this,arguments),this._g5=[this._Items[0].getPosition(),this._Items[1].getPosition(),this._Items[2].getPosition()]},r}(t.Slider),u.ValueType={Number:r.Number,Ticks:r.Ticks,Date:r.Date},t.RangeSlider=u})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._ShowButtons=!1,this._Height=50,this._DefaultItemType="SliderItemColor",this._Template="<div class='PPAxis'><\/div><div class='PPTicks'><\/div><div class='PPLabels'><\/div><div class='PPItems'><\/div><div class='PPButtons'><\/div>",this._MaxItemsCount=10,this._MinItemsCount=2,this._ShowLabels=!1,this._defineEvents(["AddClick","RemoveClick","ItemColorChanged"])},r.prototype._render=function(){this._am3=new n.Ui.Button({Content:"New color",ResourceKey:"GradientSliderButtonAdd",Click:new n.Delegate(this._czd,this)}),this._am4=new n.Ui.Button({Content:"Remove",ResourceKey:"GradientSliderButtonRemove",Click:new n.Delegate(this._cze,this)}),t.prototype._render.apply(this,arguments),this._lT=n.querySelector(this._DomNode,".PPButtons"),this._am3.addToNode(this._lT),this._am4.addToNode(this._lT),this._ShowButtons||n.hide(this._lT)},r.prototype._yV=function(i){var u=!1,r,f;return!n.isObject(i)||i instanceof n.Ui.SliderItemColor||i.Color||(u=!0),r=t.prototype._yV.call(this,i),u&&(f=this.getColorByValue(r.getValue()),r.setColor(f.clone())),r.ColorChanged.add(this._g4,this),r.PaletteOpened.add(this._czf,this),r},r.prototype._nd=function(){t.prototype._nd.apply(this,arguments),this._Enabled&&(this._am3.setEnabled(this._Items.length<this._MaxItemsCount||this._MaxItemsCount<0),this._am4.setEnabled(this._Items.length>this._MinItemsCount))},r.prototype._g4=function(n,t){this.setActiveItem(n),this._auK(),t.Item=n,this.ItemColorChanged.fire(this,t)},r.prototype._czf=function(n){this.setActiveItem(n)},r.prototype._czd=function(){this.addItem({}),this.AddClick.fire(this,{})},r.prototype._cze=function(){this._ActiveItem?this.removeItem(this._ActiveItem):this._Items.length&&this.removeItemByIndex(this._Items.length-1),this._ActiveItem||this.setActiveItem(this._Items[this._Items.length-1]),this.RemoveClick.fire(this,{})},r.prototype._auK=function(){var u,e,r;if(t.prototype._auK.apply(this,arguments),u=n.querySelector(this._DomNode,".PPSlots"),u){if(!this._Items.length){u.childNodes[0].style.background="",u.childNodes[0].style.filter="";return}var f=this.getSortedItems(),o=u.childNodes,i=[];for(i.push(f[0].getColor()),e=0;e<f.length;e++)i.push(f[e].getColor());for(i.push(f[f.length-1].getColor()),this._Orientation===n.Orientation.Vertical&&(i=i.reverse()),r=0;r<o.length;r++)this._IsRTL&&this._Orientation===n.Orientation.Horizontal?this._bLF(o[r],i[r+1],i[r]):this._bLF(o[r],i[r],i[r+1])}},r.prototype._bLF=function(t,i,r){if(t&&i&&r)switch(this.getOrientation()){case n.Orientation.Horizontal:n.IsIE?n.IEVer<10?t.style.filter="progid:DXImageTransform.Microsoft.gradient( startColorstr='"+i+"', endColorstr='"+r+"', GradientType=1 )":t.style.background=n.IEVer==10?"-ms-linear-gradient(left center ,"+i+" 0%, "+r+" 100%) repeat scroll 0% 0% transparent":"-ms-linear-gradient(left, "+i+" 0%,"+r+" 100%)":n.IsFF?t.style.background="-moz-linear-gradient(left center ,"+i+" 0%, "+r+" 100%) repeat scroll 0% 0% transparent":n.IsChrome?t.style.background="-webkit-linear-gradient(left, "+i+" 0%,"+r+" 100%)":n.IsSafari&&(t.style.background="-webkit-gradient(linear, left top, right top,  color-stop(0%,"+i+"), color-stop(100%,"+r+"))");break;case n.Orientation.Vertical:n.IsIE?n.IEVer<10?t.style.filter="progid:DXImageTransform.Microsoft.gradient( startColorstr='"+i+"', endColorstr='"+r+"')":t.style.background=n.IEVer==10?"-ms-linear-gradient(left center ,"+i+" 0%, "+r+" 100%) repeat scroll 0% 0% transparent":"-ms-linear-gradient("+i+" 0%,"+r+" 100%)":n.IsFF?t.style.background="-moz-linear-gradient("+i+" 0%, "+r+" 100%) repeat scroll 0% 0% transparent":n.IsChrome?t.style.background="-webkit-linear-gradient("+i+" 0%,"+r+" 100%)":n.IsSafari&&(t.style.background="-webkit-gradient(linear, left top, left bottom,  color-stop(0%,"+i+"), color-stop(100%,"+r+"))")}},r.prototype.getShowButtons=function(){return this._ShowButtons},r.prototype.setShowButtons=function(t){t!==this._ShowButtons&&(this._ShowButtons=t,this._ShowButtons?n.show(this._lT):n.hide(this._lT))},r.prototype.setIsRTL=function(n){t.prototype.setIsRTL.apply(this,arguments),this._am3.setIsRTL(n),this._am4.setIsRTL(n)},r.prototype.setEnabled=function(n){t.prototype.setEnabled.apply(this,arguments);var i=n&&(this._MaxItemsCount<0||this._Items.length<this._MaxItemsCount),r=n&&this._Items.length>this._MinItemsCount;this._am3.setEnabled(i),this._am4.setEnabled(r)},r.prototype.getColorByValue=function(t){var i,r;if(!this._Items.length)return new n.Color(0);if(i=this.getSortedItems(),t<=i[0].getValue())return i[0].getColor();for(r=1;r<i.length;r++){if(t===i[r].getValue())return i[r].getColor();if(t<i[r].getValue()){var u=(i[r].getValue()-t)/(i[r].getValue()-i[r-1].getValue()),f=1-u,e=i[r-1].getColor(),o=i[r].getColor();return n.Color.fromRGB(Math.floor(e.getR()*u+o.getR()*f),Math.floor(e.getG()*u+o.getG()*f),Math.floor(e.getB()*u+o.getB()*f))}}return i[i.length-1].getColor()},r.prototype.setMaxItemsCount=function(){t.prototype.setMaxItemsCount.apply(this,arguments),this._am3&&(this._Items&&this._Items.length>=this._MaxItemsCount?this._am3.setEnabled(!1):this._am3.setEnabled(!0))},r.prototype.setMinItemsCount=function(){t.prototype.setMinItemsCount.apply(this,arguments),this._am4&&(this._Items&&this._Items.length<=this._MinItemsCount?this._am4.setEnabled(!1):this._am4.setEnabled(!0))},r}(t.Slider);t.GradientSlider=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(){return t!==null&&t.apply(this,arguments)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._UseWrapping=!1,this._ImagePosition=n.AnchorStyles.Left,this._MenuArrowPosition=n.AnchorStyles.None,this._CenterVertically=!0},r.prototype.setUseWrapping=function(t){if(t===!0)throw new n.ArgumentException(this,"value must be false");},r.prototype.dispose=function(){delete this._Parent,t.prototype.dispose.apply(this,arguments)},r}(t.Button);t.MainMenuButton=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Items=[]},r.prototype._render=function(){var r,i;if(this._initFromHTML("<div class='PPMainMenu'><\/div>"),n.Array.isArray(this._Items))for(r=this._Items,this._Items=[],i=0;i<r.length;i++)r[i]instanceof n.Ui.MainMenuButton?this.addItem(r[i]):this.addItem(new n.Ui.MainMenuButton(r[i]));this._ParentNode&&this.addToNode(this._ParentNode),t.prototype._render.call(this)},r.prototype._bLG=function(t,i){if(this._Enabled){var r=t.getMenu();this._bLH&&r&&t._Parent==this&&n.Ui.Menu.RootMenu&&t._Menu!=n.Ui.Menu.RootMenu&&(n.Ui.Menu.RootMenu.hide(),t._bp(t,i))}},r.prototype._bLI=function(n,t){this._bLH=t.Args.MainMenuButton},r.prototype._bLJ=function(n,t){this._bLH=null,t.Args.MainMenuButton.setIsPressed(!1)},r.prototype.setEnabled=function(n){if(this._Enabled!=n){var i;if((!this._ab7||!n&&this._Enabled)&&(this._ab7=[],this._Items))for(i=0;i<this._Items.length;i++)this._Items[i].getEnabled()||this._ab7.push(this._Items[i].getId());if(t.prototype.setEnabled.call(this,n),this._Items)if(n){for(i=0;i<this._Items.length;i++)this._ab7.indexOf(this._Items[i].getId())<0&&this._Items[i].setEnabled(n);this._ab7=[]}else for(i=0;i<this._Items.length;i++)this._Items[i].setEnabled(n)}},r.prototype.setIsRTL=function(n){t.prototype.setIsRTL.call(this,n);for(var i=0;i<this._Items.length;i++)this._Items[i].setIsRTL(n)},r.prototype.getItemById=function(n){for(var i=this._Items,f=i.length,r,u,t=0;t<f;t++){if(i[t].getId()===n)return i[t];if(r=i[t].getMenu(),r&&(u=r.getMenuItemById(n),u))return u}return null},r.prototype.addItem=function(t){if(t instanceof n.Ui.MainMenuButton){this._Items.push(t);var i=t.getMenu();i&&(i.Opened.add(this._bLI,this,{MainMenuButton:t}),i.Closed.add(this._bLJ,this,{MainMenuButton:t})),t.setParent(this),t.MouseOver.add(this._bLG,this),t.addToNode(this._DomNode)}},r.prototype.removeItem=function(t,i){var u,r,f;i=typeof i=="undefined"?!0:i==!0,t instanceof n.Ui.MainMenuButton&&(u=this._Items.indexOf(t),u>-1&&(r=this._Items[u],f=r.getMenu(),f&&(f.Opened.remove(this._bLI,this),f.Closed.remove(this._bLJ,this)),r.MouseOver.remove(this._bLG,this),this._Items.splice(u,1),i?r.dispose():r.removeFromDOM()))},r.prototype.dispose=function(){var i,n;if(this.isLive()){for(i=this._Items.length,n=i-1;n>-1;n--)this.removeItem(this._Items[n]);t.prototype.dispose.apply(this,arguments)}},r}(t.Control);t.MainMenu=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._FileUpload=null,this._Width=300,this._Height=118,this._defineEvents(["Uploading"])},r.prototype._initFields=function(i){i=i||{},!i.FileUpload||i.FileUpload instanceof n.Ui.FileUpload||(this._czg=i.FileUpload,delete i.FileUpload),t.prototype._initFields.call(this,i)},r.prototype._render=function(){t.prototype._render.call(this);var i={Class:"PPFileUploadDialog",Width:270,Enabled:this._Enabled,IsRTL:this._IsRTL};n.extend(i,this._czg,!0),this._FileUpload=new n.Ui.FileUpload(i),this._FileUpload.FileInputChanged.add(this._czh,this),this._FileUpload.FileUploaded.add(this._bdv,this),this._FileUpload.ActionFailed.add(this._bdw,this),this._OkButton.setEnabled(!1),this._OkButton.Click=new n.Delegate(this._czi,this),this.setContent(this._FileUpload),this._aEW=n.htmlToDOM("<div class='PPOverlay'><\/div>")},r.prototype._bdv=function(){this.hide()},r.prototype._bdw=function(t,i){new n.Ui.Message({Content:i.Message,Type:n.Ui.MessageType.Error}).show()},r.prototype._czi=function(){var i={Cancel:!1};this.Uploading.fire(this,i),i.Cancel?this._OkButton.setEnabled(!1):this._FileUpload.send()},r.prototype._czh=function(n){var i=n.getFiles();this._OkButton.setEnabled(i!=null&&i.length>0),this._OkButton.getEnabled()&&this.setDefaultButton(this._OkButton)},r.prototype.getFileUpload=function(){return this._FileUpload},r.prototype.setIsRTL=function(n){t.prototype.setIsRTL.call(this,n),this._FileUpload&&this._FileUpload.setIsRTL(this._IsRTL)},r.prototype.setEnabled=function(i){t.prototype.setEnabled.call(this,i),this._DomNode.removeAttribute("disabled"),n.isPPInstance(this._FileUpload)&&this._FileUpload.getDomNode().removeAttribute("disabled"),i?this._czj&&this._DomNode.removeChild(this._aEW):this._DomNode.appendChild(this._aEW),this._czj=!i},r}(t.Dialog);t.FileUploadDialog=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._ConsoleCollapsedWidth=31,i._DetailsTitleMinHeight=22,i._CurrentHeaderHeight=0,i._LeftSidedTemplate="<div class='PPSlidePanel LeftSided'><table cellpadding='0' cellspacing='0'><tbody><tr><td class='PPHeader LeftSided'><div class='PPTitle'><\/div><div class='PPButtonsPanel'><\/div><\/td><td class='PPView' rowspan='2'><div class='PPViewContent'><\/div><\/td><\/tr><tr><td><div class='PPDetailsContainer'><div class='PPDetails'><div class='PPDetailsTitle'><div class='PPTitleContent'><\/div><div class='PPZoomBug'><\/div><\/div><div class='PPDetailsCorner'><div class='PPDetailsResizer LeftSided'><\/div><div class='PPWhiteLine'><\/div><div class='PPBigLine'><div class='PPDetailsCornerGrayTop'><div class='PPDetailsCornerUpper'><\/div><\/div><\/div><\/div><div class='PPDetailsBorders'><div class='PPDetailsContent'><\/div><\/div><\/div><\/div><\/td><\/tr><\/tbody><\/table><\/div>",i._RightSidedTemplate="<div class='PPSlidePanel RightSided'><table cellpadding='0' cellspacing='0'><tbody><tr><td class='PPView' rowspan='2'><div class='PPViewContent'><\/div><\/td><td class='PPHeader RightSided'><div class='PPTitle'><\/div><div class='PPButtonsPanel'><\/div><\/td><\/tr><tr><td><div class='PPDetailsContainer'><div class='PPDetails'><div class='PPDetailsCorner'><div class='PPDetailsResizer RightSided'><\/div><div class='PPWhiteLine'><\/div><div class='PPBigLine'><div class='PPDetailsCornerGrayTop'><div class='PPDetailsCornerUpper'><\/div><\/div><\/div><\/div><div class='PPDetailsTitle'><div class='PPTitleContent'><\/div><\/div><div class='PPDetailsBorders'><div class='PPDetailsContent'><\/div><\/div><\/div><\/div><\/tr><\/tbody><\/table><\/div>",i._render(),i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._LeftPanelWidth=325,this._MinLeftPanelWidth=60,this._Width=1024,this._Height=768,this._IsConsoleClosed=!1,this._IsConsoleCollapsed=!1,this._DetailsTitleContent="&nbsp;",this._DetailsTitleHeight=null,this._CloseToolTip="",this._CollapseConsoleToolTip="",this._ExpandConsoleToolTip="",this._HeaderToolTip=null,this._HeaderContent=null,this._DetailsContent=null,this._ViewContent=null,this._Alignment=n.Alignment.Left,this._IsConsoleExpandable=!0,this._IsConsoleClosable=!0,this._EnableResize=!1,this._defineEvents(["ConsoleClosed","ConsoleOpened","ConsoleToggled","Resizing","Resized"])},r.prototype._render=function(){var u,i,r;this._DomNode&&(u=this._ParentNode,this.removeFromDOM(),this._DomNode=null,this._ParentNode=u),i="",i=this._Alignment==n.Alignment.Left?this._LeftSidedTemplate:this._RightSidedTemplate,this._initFromHTML(i),this._DomNodeTable=this._DomNode.firstChild,this._ViewDomNode=n.querySelector(this._DomNodeTable,".PPView"),this._ViewContentDomNode=n.querySelector(this._ViewDomNode,".PPViewContent"),this._HeaderDomNode=n.querySelector(this._DomNodeTable,".PPHeader"),this._DetailsContainer=n.querySelector(this._DomNodeTable,".PPDetailsContainer"),this._DetailsContainerTR=this._DetailsContainer.parentNode,this._DetailsDomNode=this._DetailsContainer.firstChild,this._HeaderContentDomNode=n.querySelector(this._HeaderDomNode,".PPTitle"),this._ButtonsPanelDomNode=n.querySelector(this._HeaderDomNode,".PPButtonsPanel"),this._DetailsTitleDomNode=n.querySelector(this._DetailsContainer,".PPDetailsTitle"),this._DetailsTitleContentDomNode=n.querySelector(this._DetailsTitleDomNode,".PPTitleContent"),this._DetailsBordersDomNode=n.querySelector(this._DetailsContainer,".PPDetailsBorders"),this._DetailsContentDomNode=n.querySelector(this._DetailsContainer,".PPDetailsContent"),this._DetailsResizer=n.querySelector(this._DetailsContainer,".PPDetailsResizer"),this._CloseConsoleButton=this._czk(),this._ExpandConsoleButton=this._czl(),this._HeaderToolTip?this.setHeaderToolTip(this._HeaderToolTip.getContent()):(this._HeaderContent instanceof n.Ui.Control?r=this._HeaderContent.getContent():this._HeaderContent&&(r=this._HeaderContent.toString()),this._DefaultHeaderToolTip=new n.Ui.ToolTip({Content:r})),this.setHeaderContent(this._HeaderContent),this.setDetailsContent(this._DetailsContent),this.setDetailsTitleContent(this._DetailsTitleContent),this.setViewContent(this._ViewContent),this.setIsConsoleExpandable(this._IsConsoleExpandable),this.setIsConsoleClosable(this._IsConsoleClosable),this._CloseToolTip!==""&&this.setCloseToolTip(this._CloseToolTip),this._CollapseConsoleToolTip!==""&&this.setCollapseConsoleToolTip(this._CollapseConsoleToolTip),this._ExpandConsoleToolTip!==""&&this.setExpandConsoleToolTip(this._ExpandConsoleToolTip),this.setIsConsoleCollapsed(this._IsConsoleCollapsed,!1),this.setIsConsoleClosed(this._IsConsoleClosed,!1),this.setEnableResize(this.getEnableResize()),this.setDetailsTitleContent(this._DetailsTitleContent),t.prototype._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode),this.updateSize(),this.setLeftPanelWidth(this._LeftPanelWidth),this.setDetailsTitleHeight(this._DetailsTitleHeight),this._bdx()},r.prototype._bindEvents=function(){this._addEvent(this._HeaderContentDomNode,"mouseover",this._p2),this._addEvent(this._HeaderContentDomNode,"mouseout",this._p3)},r.prototype._p2=function(t,i){var r=n.calculateMouseCoords(i.Event);this._ToolTipTimeout&&n.clearTimeout(this._ToolTipTimeout),this._ToolTipTimeout=n.setTimeout(this._czm,500,{Coords:r,ToolTip:this._HeaderToolTip?this._HeaderToolTip:this._DefaultHeaderToolTip})},r.prototype._czm=function(n){n.ToolTip.hide(),n.ToolTip.show(n.Coords.X,n.Coords.Y)},r.prototype._p3=function(){this._ToolTipTimeout&&n.clearTimeout(this._ToolTipTimeout),this._HeaderToolTip?this._HeaderToolTip.hide():this._DefaultHeaderToolTip.hide()},r.prototype._bLK=function(t,i){var r;if(this._EnableResize&&i.Event.which===1&&this._Enabled&&!this._IsConsoleCollapsed){this._fB=!0;var u=this._DetailsResizer.getBoundingClientRect(),f=u.left+1,e=u.top+1,o=this._DetailsResizer.offsetHeight;this._acC=f,this._iN=n.createElement(document.body,"PPSliderPhantomResizer"),r=this._iN.style,r.top=e+"px",r.left=f+"px",r.width="1px",r.height=o+"px",document.body.style.cursor="e-resize",this._addEvent(document,"mousemove",this._vs),this._addEvent(document,"mouseup",this._vr),this.Resizing.fire(this,{startPosition:this._acC})}},r.prototype._vs=function(t,i){if(!this._fB||!this._Enabled)return!1;if(this._iN){var u=this.getDomNode().getBoundingClientRect(),f=this.getMinLeftPanelWidth(),r=i.Event.clientX;this._bdy()===n.Alignment.Left?r>u.right?r=u.right:r<u.left+f&&(r=u.left+f):r<u.left?r=u.left:r>u.right-f&&(r=u.right-f),this._iN.style.left=r+"px"}},r.prototype._vr=function(){var u,f,r;if(!this._fB||!this._Enabled)return!1;this._k(document,"mousemove",this._vs),this._k(document,"mouseup",this._vr),this._fB=!1,u=parseInt(parseFloat(this._iN.style.left)-this._acC+"",10),f=this._bdy(),f===n.Alignment.Right&&(u=-u),this._iN.parentNode.removeChild(this._iN),this._iN=null,document.body.style.cursor="",r=this._LeftPanelWidth+u,r<this.getMinLeftPanelWidth()?r=this.getMinLeftPanelWidth():r>this.getWidth()&&(r=this.getWidth()),this.setLeftPanelWidth(r),this.updateSize(),this.Resized.fire(this)},r.prototype._bdx=function(){this._CloseConsoleButton.removeFromDOM(),this._ExpandConsoleButton.removeFromDOM(),this._CloseConsoleButton.addToNode(this._ButtonsPanelDomNode),this._ExpandConsoleButton.addToNode(this._ButtonsPanelDomNode),this._IsConsoleExpandable||this._ExpandConsoleButton.hide(),this._IsConsoleClosable||this._CloseConsoleButton.hide()},r.prototype._czl=function(){var i={Id:"ExpandDetailsButton",Content:n.htmlToDOM("<div><\/div>")},t=new n.Ui.Button(i);return t.addClass("PPCollapseConsole NoReleaseBorder"),this._ExpandConsoleArrow=new n.Ui.Arrow({Class:"PPInConsole",ParentNode:t.getContent(),ArrowType:n.Ui.ArrowType.TriangleDouble,FillType:n.Ui.ArrowFillType.Stroke,Direction:this._IsConsoleCollapsed?n.LTRB.Left:n.LTRB.Right,IsRTL:this._IsRTL,Width:7,Height:8}),t.Click.add(this._czn,this),t},r.prototype._czk=function(){var i={Id:"CloseConsoleButton",Content:n.htmlToDOM("<div class='PPCross'><\/div>")},t=new n.Ui.Button(i);return t.addClass("PPCloseConsole NoReleaseBorder"),t.Click.add(this._czo,this),t},r.prototype._atr=function(){this._DomNodeTable.dir="ltr"},r.prototype._czp=function(t,i){typeof i.style!="undefined"&&n.hide(i)},r.prototype._czq=function(t,i){typeof i.style!="undefined"&&n.show(i)},r.prototype._aT3=function(){this._CloseConsoleButton.setToolTip(this._CloseToolTip),this._IsConsoleCollapsed?this._ExpandConsoleButton.setToolTip(this._ExpandConsoleToolTip):this._ExpandConsoleButton.setToolTip(this._CollapseConsoleToolTip),n.IsChrome||n.IsSafari||(this._CloseConsoleButton.hideToolTip(),this._ExpandConsoleButton.hideToolTip())},r.prototype._bdy=function(){return this._Alignment==n.Alignment.Left&&this._IsRTL||this._Alignment==n.Alignment.Right&&!this._IsRTL?n.Alignment.Right:n.Alignment.Left},r.prototype._czn=function(){this.setIsConsoleCollapsed(!this._IsConsoleCollapsed)},r.prototype._czo=function(){this.setIsConsoleClosed(!this._IsConsoleClosed)},r.prototype.getButtonsPanelDomNode=function(){return this._ButtonsPanelDomNode},r.prototype.getHeaderContent=function(){return this._HeaderContent},r.prototype.getDetailsContent=function(){return this._DetailsContent},r.prototype.getDetailsTitleContent=function(){return this._DetailsTitleContent},r.prototype.getDetailsTitleHeight=function(){return this._DetailsTitleHeight},r.prototype.getViewContent=function(){return this._ViewContent},r.prototype.getIsConsoleClosed=function(){return this._IsConsoleClosed},r.prototype.getIsConsoleCollapsed=function(){return this._IsConsoleCollapsed},r.prototype.getIsConsoleExpandable=function(){return this._IsConsoleExpandable},r.prototype.getIsConsoleClosable=function(){return this._IsConsoleClosable},r.prototype.getLeftPanelWidth=function(){return this._LeftPanelWidth},r.prototype.getConsoleCollapsedWidth=function(){return this._ConsoleCollapsedWidth},r.prototype.getAlignment=function(){return this._Alignment},r.prototype.getEnableResize=function(){return this._EnableResize},r.prototype.getMinLeftPanelWidth=function(){return this._MinLeftPanelWidth},r.prototype.getHeaderToolTip=function(){return this._HeaderToolTip},r.prototype.setMinLeftPanelWidth=function(n){this._MinLeftPanelWidth=n},r.prototype.setHeaderToolTip=function(t){this._HeaderToolTip instanceof n.Ui.ToolTip||(this._HeaderToolTip=new n.Ui.ToolTip),this._HeaderToolTip.setContent(t)},r.prototype.setCloseToolTip=function(n){this._CloseToolTip=n,this._CloseConsoleButton.setToolTip(this._CloseToolTip)},r.prototype.setExpandConsoleToolTip=function(n){this._ExpandConsoleToolTip=n,this._aT3()},r.prototype.setCollapseConsoleToolTip=function(n){this._CollapseConsoleToolTip=n,this._aT3()},r.prototype.setHeaderContent=function(t){if(this._HeaderContent=t,this._HeaderContent){this._bW(this._HeaderContent,this._HeaderContentDomNode,"HeaderContent",!0);var i;this._HeaderContent instanceof n.Ui.Control?i=this._HeaderContent.getContent():this._HeaderContent.tagName&&(i=this._HeaderContent.innerText),this._HeaderToolTip||this._DefaultHeaderToolTip.setContent(n.escapeHTML(i))}else n.removeChildren(this._HeaderContentDomNode),this._HeaderToolTip||this._DefaultHeaderToolTip.setContent("")},r.prototype.setDetailsContent=function(t){this._DetailsContent=t,this._DetailsContent?this._bW(this._DetailsContent,this._DetailsContentDomNode,"DetailsContent",!0):n.removeChildren(this._DetailsContentDomNode)},r.prototype.setDetailsTitleContent=function(t){this._DetailsTitleContent instanceof n.Ui.Control&&this._DetailsTitleContent.removeFromDOM(),this._DetailsTitleContent=t,this._DetailsTitleContent&&this._bW(this._DetailsTitleContent,this._DetailsTitleContentDomNode,"DetailsTitleContent",!0)},r.prototype.setDetailsTitleHeight=function(n){(!n||n<this._DetailsTitleMinHeight)&&(n=this._DetailsTitleMinHeight),this._DetailsTitleHeight=n,this._DetailsTitleDomNode.style.height=n+"px",this._DetailsTitleContentDomNode.style.height=n+"px",this.updateSize()},r.prototype.setViewContent=function(t){this._ViewContent=t,this._ViewContent?this._bW(this._ViewContent,this._ViewContentDomNode,"ViewContent",!0):n.removeChildren(this._ViewContentDomNode)},r.prototype.setIsConsoleClosed=function(t,i){i=typeof i=="undefined"?!0:i==!0,this._IsConsoleClosed=!!t,this._IsConsoleClosed&&parseInt(this._ViewDomNode.getAttribute("rowspan"),10)===2?(this._bLL=this._HeaderDomNode.parentNode,this._HeaderDomNode.parentNode.removeChild(this._HeaderDomNode),this._czr=this._DetailsContainerTR.parentNode,this._DetailsContainerTR.parentNode.removeChild(this._DetailsContainerTR),this._ViewDomNode.removeAttribute("rowspan"),i&&this.ConsoleClosed.fire(this,new n.EventArgs)):this._IsConsoleClosed||parseInt(this._ViewDomNode.getAttribute("rowspan"),10)===2||(this._czr.appendChild(this._DetailsContainerTR),this._Alignment===n.Alignment.Left?this._bLL.insertBefore(this._HeaderDomNode,this._ViewDomNode):this._bLL.appendChild(this._HeaderDomNode),this._ViewDomNode.setAttribute("rowspan","2"),this._DomNodeTable.style.tableLayout="fixed",i&&this.ConsoleOpened.fire(this,new n.EventArgs)),this.updateSize(),this._aT3()},r.prototype.setIsConsoleCollapsed=function(t,i){if(i=typeof i=="undefined"?!0:i==!0,this._IsConsoleCollapsed=t,this._IsConsoleCollapsed){n.hide(this._HeaderContentDomNode),n.hide(this._DetailsContentDomNode),n.addClass(this._ButtonsPanelDomNode,"PPButtonsPanelCollapsed"),this._DetailsDomNode.style.width=this._ConsoleCollapsedWidth+"px",this._DetailsContainer.style.width=this._ConsoleCollapsedWidth+"px",this._HeaderDomNode.style.width=this._ConsoleCollapsedWidth+"px",n.addClass(this._DetailsDomNode,"Collapsed"),n.addClass(this._HeaderDomNode,"Collapsed"),n.hide(this._DetailsTitleDomNode),this._ExpandConsoleArrow.setDirection(n.LTRB.Right),this._HeaderContent&&(this._HeaderContent instanceof n.Ui.Control?this._HeaderContent.hide():n.each(this._HeaderContent.childNodes,this,this._czp,undefined));var r=this._EnableResize;this.setEnableResize(!1),this._EnableResize=r}else n.show(this._HeaderContentDomNode),n.show(this._DetailsContentDomNode),n.removeClass(this._ButtonsPanelDomNode,"PPButtonsPanelCollapsed"),n.removeClass(this._DetailsDomNode,"Collapsed"),n.removeClass(this._HeaderDomNode,"Collapsed"),n.show(this._DetailsTitleDomNode),this._DetailsDomNode.style.width=this._LeftPanelWidth+"px",this._DetailsContainer.style.width=this._LeftPanelWidth+"px",this._HeaderDomNode.style.width=this._LeftPanelWidth+"px",this._ExpandConsoleArrow.setDirection(n.LTRB.Left),this._HeaderContent&&(this._HeaderContent instanceof n.Ui.Control?this._HeaderContent.show():n.each(this._HeaderContent.childNodes,this,this._czq,undefined)),this._bdx(),this.getEnableResize()&&this.setEnableResize(!0),this.setLeftPanelWidth(this.getLeftPanelWidth());i&&this.ConsoleToggled.fire(this,new n.EventArgs),this.updateSize(),this._atr(),this._aT3(),this._DomNode.className=this._DomNode.className},r.prototype.setIsConsoleExpandable=function(n){this._IsConsoleExpandable=n,this._IsConsoleExpandable?this._ExpandConsoleButton.show():this._ExpandConsoleButton.hide()},r.prototype.setIsConsoleClosable=function(n){this._IsConsoleClosable=n,this._IsConsoleClosable?this._CloseConsoleButton.show():this._CloseConsoleButton.hide()},r.prototype.setWidth=function(i,r){t.prototype.setWidth.call(this,i,r),i<this._LeftPanelWidth&&(i=this._LeftPanelWidth),this._DetailsContent instanceof n.Ui.Control&&this._DetailsContentDomNode&&this._DetailsContent.setWidth(this._g(this.getCssStyle(this._DetailsTitleDomNode,"width"))),this._ViewContentDomNode&&this._DetailsContent instanceof n.Ui.Control&&this._DetailsContentDomNode&&(this._ViewContentDomNode.style.width=this._g(i)-(this.getIsConsoleCollapsed()||this.getIsConsoleClosed()?this._DetailsBordersDomNode.offsetWidth:this._LeftPanelWidth)+"px")},r.prototype.setHeight=function(i,r){t.prototype.setHeight.call(this,i,r);var u=(this.getIsConsoleCollapsed()?this.getHeaderHeight():this._g(this.getCssStyle(this._HeaderContentDomNode,"height")))||n.Ui.SlidePanel.HEADER_HEIGHT,f=this._g(i)-u-this._DetailsTitleHeight;this._DetailsBordersDomNode&&this._DetailsDomNode&&(this._DetailsBordersDomNode.style.height=f+"px",this._DetailsDomNode.style.height=this._g(i)-u+"px"),this._DetailsContent instanceof n.Ui.Control&&this._DetailsContentDomNode&&this._DetailsContent.setHeight(f),this._ViewContentDomNode&&(this._ViewContentDomNode.style.height=i+"px")},r.prototype.setLeftPanelWidth=function(t){if(this._IsConsoleCollapsed){this._DetailsTitleDomNode.style.width=t-(this._g(n.getStyle(this._DetailsBordersDomNode,"width"))||21)-1+"px",this._HeaderContentDomNode.style.width=this._LeftPanelWidth-(this._g(n.getStyle(this._ButtonsPanelDomNode,"width"))||52)-4+"px";return}t>this._Width&&this.setWidth(t),this._LeftPanelWidth=t;var i=this._LeftPanelWidth-22+"px";this._DetailsTitleDomNode.style.width=i,this._HeaderContentDomNode.style.width=this._LeftPanelWidth-this._g(n.getStyle(this._ButtonsPanelDomNode,"width")||(this._IsConsoleCollapsed?26:52))-4+"px",this._HeaderDomNode.style.width=t+"px",this._DetailsContainer.style.width=t+"px",this._DetailsDomNode.style.width=t+"px"},r.prototype.getViewWidth=function(){return this._ViewContentDomNode.offsetWidth||this._g(this._Width)-this._LeftPanelWidth},r.prototype.getViewHeight=function(){return this.getHeight()},r.prototype.getHeaderHeight=function(){return this._HeaderDomNode.offsetHeight},r.prototype.setIsRTL=function(i){t.prototype.setIsRTL.call(this,i),this._HeaderContent instanceof n.Ui.Control&&this._HeaderContent.setIsRTL(i),this._DetailsContent instanceof n.Ui.Control&&this._DetailsContent.setIsRTL(i),this._DetailsTitleContent instanceof n.Ui.Control&&this._DetailsTitleContent.setIsRTL(i),this._ViewContent instanceof n.Ui.Control&&this._ViewContent.setIsRTL(i),this._ViewContentDomNode&&this._ViewContentDomNode.setAttribute("dir",i?"rtl":"ltr"),this._ExpandConsoleArrow&&this._ExpandConsoleArrow.setIsRTL(i),this.setAlignment(this._Alignment)},r.prototype.setEnabled=function(i){if(t.prototype.setEnabled.call(this,i),this._CloseConsoleButton.setEnabled(this._Enabled),this._ExpandConsoleButton.setEnabled(this._Enabled),this._HeaderContent instanceof n.Ui.Control&&this._HeaderContent.setEnabled(this._Enabled),this._DetailsContent instanceof n.Ui.Control&&this._DetailsContent.setEnabled(this._Enabled),this._ViewContent instanceof n.Ui.Control&&this._ViewContent.setEnabled(this._Enabled),i===!1){var r=this._EnableResize;this.setEnableResize(!1),this._EnableResize=r}else i===!0&&this.getEnableResize()&&this.setEnableResize(!0)},r.prototype.setAlignment=function(t){var o;this._Alignment=t;var e=this._bdy(),i=e==n.Alignment.Right,f=this.getIsRTL(),r=i?"RightSided":"LeftSided",u=i?"LeftSided":"RightSided";n.removeClass(this._DomNode,u),n.addClass(this._DomNode,r),n.removeClass(this._HeaderDomNode,u),n.addClass(this._HeaderDomNode,r),n.removeClass(this._DetailsResizer,u),n.addClass(this._DetailsResizer,r),n.removeClass(this._DetailsContentDomNode,u),n.addClass(this._DetailsContentDomNode,r),this._IsConsoleClosed?this._bLM=this._bLM?!1:!0:(i?this._DomNodeTable.rows[0].insertBefore(this._ViewDomNode,this._HeaderDomNode):(o=this._DomNodeTable.rows[0].childNodes.length,this._DomNodeTable.rows[0].lastChild!==this._ViewDomNode&&this._DomNodeTable.rows[0].appendChild(this._ViewDomNode)),this._HeaderContentDomNode.style.marginLeft=i&&!n.IsFF?this._ButtonsPanelDomNode.offsetWidth+4+"px":"",this._CloseConsoleButton.getDomNode().setAttribute("dir",i?"rtl":"ltr"),this._ExpandConsoleButton.getDomNode().setAttribute("dir",i?"rtl":"ltr"),this._HeaderContentDomNode.setAttribute("dir",f?"rtl":"ltr"),this._DetailsTitleDomNode.setAttribute("dir",f?"rtl":"ltr"),this._DetailsContentDomNode.setAttribute("dir",f?"rtl":"ltr"),this._bdx())},r.prototype.setEnableResize=function(t){this._EnableResize=t,t&&!this._IsConsoleCollapsed&&this.getEnabled()?(n.show(this._DetailsResizer),this._addEvent(this._DetailsResizer,"mousedown",this._bLK)):(n.hide(this._DetailsResizer),this._k(this._DetailsResizer,"mousedown",this._bLK))},r.prototype.setIsVisible=function(i){t.prototype.setIsVisible.apply(this,arguments),(i===!0||i===n.Ui.Visibility.Visible)&&this.setAlignment(this._Alignment)},r.prototype.updateSize=function(){this.setEnabled(this._Enabled),this.setWidth(this._Width),this.setHeight(this._Height),this.setIsRTL(this._IsRTL)},r.prototype.addToNode=function(n){t.prototype.addToNode.call(this,n),this._Width=this._Width||800,this._Height=this._Height||600,this._LeftPanelWidth=this._LeftPanelWidth||325,this.setWidth(this._Width),this.setHeight(this._Height),this.setIsConsoleClosed(this._IsConsoleClosed,!1),this.setIsConsoleCollapsed(this._IsConsoleCollapsed,!1),this.setEnabled(this._Enabled)},r}(t.Control);r.HEADER_HEIGHT=28,t.SlidePanel=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._Mode=n.Ui.ColorPanelMode.Palette,this._SpectrumMode=n.Ui.ColorPanelSpectrumMode.RGB,this._Color=n.Color.black,this._defineEvents(["ColorChanged","PaletteOpened"])},r.prototype._initFields=function(i){i&&n.isString(i.Color)&&(i.Color=n.Color.getColor(i.Color)),t.prototype._initFields.call(this,i)},r.prototype._render=function(){t.prototype._render.call(this),this.addClass("PPSliderItemColor"),this.setContent("<div class='PPColor'><div class='PPArrow'><\/div><\/div>"),this._bdz=n.querySelector(this._DomNode,".PPColor"),this._bdz.style.background="",this._bdz.style.filter="",this._cI=n.querySelector(this._DomNode,".PPArrow"),this._ahd=new n.Ui.ColorCombo({IsRTL:this._IsRTL}),this._bLN()},r.prototype._bLN=function(){this._bdz.style.backgroundColor=this._Color.toString(),n.removeClass(this._cI,"Dark"),n.removeClass(this._cI,"Light");var t=.299*this._Color.getR()+.587*this._Color.getG()+.114*this._Color.getB();t<180?n.addClass(this._cI,"Light"):n.addClass(this._cI,"Dark")},r.prototype._h3=function(t,i){var r=this.getDropPanel().getDomNode(),u=n.calculateMouseCoords(i.Event),f=parseInt(r.style.left),e=parseInt(r.style.top),o=r.offsetWidth,s=r.offsetHeight;u.X>=f&&u.X<=f+o&&u.Y>=e&&u.Y<=e+s||this.getDropPanel().hide()},r.prototype._bk=function(){this._bLO=this._Enabled&&!this.getDropPanel().getIsVisible(),t.prototype._bk.apply(this,arguments)},r.prototype._aTz=function(i,r){var u=n.calculateMouseCoords(r.Event),f=u.X-this._bKt().X,e=u.Y-this._bKt().Y;(Math.abs(f)>0||Math.abs(e)>0)&&(this._bLO=!1),t.prototype._aTz.apply(this,arguments)},r.prototype._dQ=function(){t.prototype._dQ.apply(this,arguments),this._bLO&&this._bLP()},r.prototype._czs=function(){var t={X:0,Y:0},e=this.getDropPanel(),u=e.isVisibleArea(0,0,!0),f=n.calculateOffset(this._DomNode),r,i,o;return t.Y=f.Y+this._DomNode.offsetHeight+1,t.X=this._IsRTL?f.X+this._DomNode.offsetWidth-u.Width:f.X,u=e.isVisibleArea(t.Y,t.X,!0),r=null,u.VisibleByHeight||(o=f.Y-u.Height-1,o>-1&&(r=e.isVisibleArea(o,t.X,!0),r.VisibleByHeight&&(t.Y=o))),u.VisibleByWidth||(this._IsRTL?(i=0,i=f.X,r=e.isVisibleArea(t.Y,i,!0),r.VisibleByWidth&&(t.X=i)):(i=0,i=f.X+this._DomNode.offsetWidth-u.Width,r=e.isVisibleArea(t.Y,i,!0),r.VisibleByWidth&&(t.X=i))),t},r.prototype._bLP=function(){var t=this.getColorPanel(),n,i;t.PaletteSelected.addOne(this._aEh,this),t.ColorChange.addOne(this._amx,this),n=this.getDropPanel(),n.setIsRTL(this._IsRTL),n.setContent(t),i=this._czs(),n.show(i.X,i.Y,!0),n.getCloseOnFrameMouseDown()&&this._addEvent(document.documentElement,"mousedown",this._h3),this.setIsPressed(!0),this.PaletteOpened.fire(this,{}),t.updateSize()},r.prototype._amx=function(n,t){this.setColor(t.NewColor)},r.prototype._aEh=function(){this.getIsDropPanelCreated()&&this.getDropPanel().hide(),this.setIsPressed(!1)},r.prototype._d3=function(n){var i,r;this._k(document.documentElement,"mousedown",this._h3),this.setIsPressed(!1),i=n.getContent(),i.ColorChange.remove(this._amx,this),i.PaletteSelected.remove(this._aEh,this),r={OldColor:this._Color.clone(),NewColor:i.getColor().clone(),Cancel:!1},this.getDropPanel().setContent(null),r.NewColor.isEqual(r.OldColor)||(i.updateUsedColors(r.NewColor),this.ColorChanged.fire(this,r))},r.prototype.setColorPanelSettings=function(n){this.setColor(n.Color.clone()),this.setIsRTL(n.IsRTL)},r.prototype.getColorPanelSettings=function(){return{PresentedColors:this._PresentedColors,Color:this._Color.clone(),Mode:this._Mode,SpectrumMode:this._SpectrumMode}},r.prototype.getColorPanel=function(){return n.Ui.ColorPanel.getGlobalColorPanel(this)},r.prototype.getColor=function(){return this._Color},r.prototype.setColor=function(t){var i,r,u;(t||(t=n.Color.black),i=t instanceof n.Color?t:n.Color.getColor(t),this._Color.isEqual(i))||(r=this._Color.clone(),this._Color=i,this._bLN(),u={OldColor:r,NewColor:this._Color,Cancel:!1},this.ColorChanged.fire(this,u))},r.prototype.getDropPanel=function(){return this.getIsDropPanelCreated()||(this._DropPanel=new n.Ui.DropPanel({MinHeight:0,MinWidth:0,MaxHeight:1e4,MaxWidth:1e4,EnableResize:!1,CloseOnDocumentMouseDown:!0,IsVisible:!1,Closed:new n.Delegate(this._d3,this)}),this._alR=!0),this._DropPanel},r.prototype.getIsDropPanelCreated=function(){return this._alR},r.prototype.update=function(){this._bLP()},r.prototype.dispose=function(){this._k(document.documentElement,"mousedown",this._h3),this.getIsDropPanelCreated()&&this.getDropPanel()&&this.getDropPanel().isLive()&&this.getDropPanel().setContent(null),t.prototype.dispose.call(this)},r}(t.SliderItem);t.SliderItemColor=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){return t.call(this,n)||this}return i(r,t),r.prototype._initFields=function(i){i=i||{},i.ResourceKey||(i.ResourceKey="fd"),i.Width||(i.Width=421),i.Height||(i.Height=n.IsFF||n.IsIE?427:411),t.prototype._initFields.call(this,i)},r.prototype.getSampleTextString=function(){return this._SampleTextString},r.prototype._render=function(){var i,f,e,r,u,o;this._Font=!this._Font||this._Font instanceof n.Font?new n.Font:new n.Font(this._Font),this._DialogResult=this._Font,this._SizeNames=["8","9","10","11","12","14","16","18","20","22","24","26","28","36","48","72"],this._bdA="Arial",this._ContentPanel=new n.Ui.GridPanel({Items:[this._TopPanel=new n.Ui.GridPanel({Left:0,Top:0,Items:[this._dEk=new n.Ui.Label({Left:0,Top:0,ResourceKey:"fdNameColon"}),this._bdB=new n.Ui.TextBox({Left:0,Top:0,Width:181,KeyUp:new n.Delegate(this._czt,this)}),this._am5=new n.Ui.ListBox({Left:0,Top:0,Height:76,Width:179,ItemSelected:new n.Delegate(this._czu,this)}),this._dEl=new n.Ui.Label({Left:1,Top:0,ResourceKey:"fdStyleColon"}),this._bdC=new n.Ui.TextBox({Left:1,Top:0,Width:139,KeyUp:new n.Delegate(this._czv,this)}),this._yY=new n.Ui.ListBox({Left:1,Top:0,Height:76,Width:137,ItemSelected:new n.Delegate(this._czw,this),Items:[{ResourceKey:"fdN"},{ResourceKey:"fdI"},{ResourceKey:"fdB"},{ResourceKey:"fdBI"}]}),this._dEm=new n.Ui.Label({Left:2,Top:0,ResourceKey:"fdSizeColon"}),this._bdD=new n.Ui.TextBox({Left:2,Top:0,Width:53,KeyUp:new n.Delegate(this._czx,this)}),this._ahe=new n.Ui.ListBox({Left:2,Top:0,Height:76,Width:51,ItemSelected:new n.Delegate(this._czy,this)})]}),this._czz=new n.Ui.CheckBox({Class:"PPColorCheckBox",Left:0,Top:1,Checked:!this._UseAutoColor,ResourceKey:"fdColorColon",CheckedChanged:new n.Delegate(this._czA,this)}),this._ahd=new n.Ui.ColorCombo({Left:0,Top:1,Color:this._Font.getColor().clone(),Enabled:!this._UseAutoColor,ColorChanged:new n.Delegate(this._g4,this)}),this._dEn=new n.Ui.Label({Left:0,Top:2,ResourceKey:"fdMiscColon"}),this._SeparatorLabel=new n.Ui.Label({Left:0,Top:2,Class:"Separator"}),this._MiddlePanel=new n.Ui.GridPanel({Left:0,Top:3,Items:[this._bLQ=new n.Ui.CheckBox({Left:0,Top:0,ResourceKey:"fdStr",CheckedChanged:new n.Delegate(this._czB,this)}),this._bLR=new n.Ui.CheckBox({Left:0,Top:0,ResourceKey:"fdU",CheckedChanged:new n.Delegate(this._czC,this)}),this._bdE=new n.Ui.CheckBox({Left:0,Top:0,ResourceKey:"fdSup",CheckedChanged:new n.Delegate(this._czD,this)}),this._bdF=new n.Ui.CheckBox({Left:0,Top:0,ResourceKey:"fdInf",CheckedChanged:new n.Delegate(this._czE,this)}),this._bdG=new n.Ui.CheckBox({Left:1,Top:0,ResourceKey:"fdLow",CheckedChanged:new n.Delegate(this._czF,this)}),this._bLS=new n.Ui.CheckBox({Left:1,Top:0,ResourceKey:"fdCap",CheckedChanged:new n.Delegate(this._czG,this)})]}),this._dEo=new n.Ui.Label({Left:0,Top:4,ResourceKey:"fdSampleColon"}),this._bdH=new n.Ui.Label({Left:0,Top:5,Class:"FontSample",Content:n.htmlToDOM("<div class='FontSampleText'>Arial<\/div>"),Height:39,Width:393})]}),i=this._am5,f=n.Font.Family,i.beginUpdate();for(e in f)i.addItem(n.Font.Family[e]);for(i.endUpdate(),r=this._ahe,r.beginUpdate(),u=0,o=this._SizeNames.length;u<o;u++)r.addItem(this._SizeNames[u]);r.endUpdate(),this._jm=this._bdH.getContent(),n.resourceManager.ResourcesLoaded.add(this._jV,this),this.setFont(this._Font),t.prototype._render.apply(this,arguments),this.addClass("PPFontDialog"),this._ContentPanel.addToNode(this._DialogContentDomNode),n.isVisible(this._DomNode)&&!this._bLT&&this._dc()},r.prototype._czt=function(){var u=this._bdB.value,f=this._am5.getItems(),i,r,e;for(u=u.toLowerCase(),r=0,e=f.length;r<e;r++)if(i=f[r].getContent(),i=i.toString(),i=i.toLowerCase(),i===u){this._am5.setSelectedIndex(r);break}},r.prototype._czu=function(){var i=this._am5.getSelectedItem().getContent();this._DialogResult.setFontFamily(i),this._bdB.value=i,this._bdA=this._SampleTextString||i,this._sY()},r.prototype._czv=function(){var u=this._bdC.getContent(),f=this._yY.getItems(),i,r,e;for(u=u.toLowerCase(),r=0,e=f.length;r<e;r++)if(i=f[r].getContent(),i=i.toString(),i=i.toLowerCase(),i===u){this._yY.setSelectedIndex(r);break}},r.prototype._czw=function(){var i=this._yY.getSelectedIndex();this._DialogResult.setIsBold(i===2||i===3),this._DialogResult.setIsItalic(i===1||i===3),this._bdC.setContent(this._yY.getSelectedItem().getContent()),this._sY()},r.prototype._czx=function(){var f=this._bdD.getContent(),r,u,i,e;if(parseInt(f)){for(r=parseInt(f),u=this._ahe.getItems(),i=0,e=u.length;i<e;i++)if(parseInt(u[i].getContent())===r){this._ahe.setSelectedIndex(i);break}this._DialogResult.setSize(r)}},r.prototype._czy=function(){var i=this._ahe.getSelectedItem().getContent(),r=this._ahe.getSelectedItem();this._DialogResult.setSize(parseInt(i)),this._bdD.setContent(r.getContent()),this._sY()},r.prototype._g4=function(){var i=this._ahd.getColor();this._DialogResult.setColor(i.toString()),this._sY()},r.prototype._czA=function(){var i=this._czz.getChecked();this._ahd.setEnabled(i),this._DialogResult.setUseAutoColor(!i),this._sY()},r.prototype._czB=function(){this._DialogResult.setIsStriken(this._bLQ.getChecked()),this._sY()},r.prototype._czC=function(){this._DialogResult.setIsUnderline(this._bLR.getChecked()),this._sY()},r.prototype._czD=function(){this._DialogResult.setIsSuperior(this._bdE.getChecked()),this._DialogResult.getIsSuperior()&&(this._DialogResult.setIsInferior(!this._DialogResult.getIsSuperior()),this._bdF.setChecked(this._DialogResult.getIsInferior())),this._sY()},r.prototype._czE=function(){this._DialogResult.setIsInferior(this._bdF.getChecked()),this._DialogResult.getIsInferior()&&(this._DialogResult.setIsSuperior(!this._DialogResult.getIsInferior()),this._bdE.setChecked(this._DialogResult.getIsSuperior())),this._sY()},r.prototype._czF=function(){this._DialogResult.setIsLowerCapitalized(this._bdG.getChecked()),this._DialogResult.getIsLowerCapitalized()&&(this._DialogResult.setIsCapitalized(!this._DialogResult.getIsLowerCapitalized()),this._bLS.setChecked(this._DialogResult.getIsCapitalized())),this._sY()},r.prototype._czG=function(){this._DialogResult.setIsCapitalized(this._bLS.getChecked()),this._DialogResult.getIsCapitalized()&&(this._DialogResult.setIsLowerCapitalized(!this._DialogResult.getIsCapitalized()),this._bdG.setChecked(this._DialogResult.getIsLowerCapitalized())),this._sY()},r.prototype._dc=function(){n.isVisible(this._DomNode)&&!this._bLT&&(this._am5.updateSize(),this._yY.updateSize(),this._ahe.updateSize(),this._bLT=!0)},r.prototype._sY=function(){var i,t,f,o,e,r;this._jm.style.fontFamily=this._DialogResult.getFontFamily(),this._jm.style.fontSize=this._DialogResult.getSize()+"pt",this._jm.style.color=this._DialogResult.getUseAutoColor()?"":this._DialogResult.getColor().toString(),this._jm.style.fontStyle=this._DialogResult.getIsItalic()?"italic":"",this._jm.style.fontWeight=this._DialogResult.getIsBold()?"bold":"normal",this._jm.style.textTransform=this._DialogResult.getIsCapitalized()?"uppercase":"",this._jm.style.fontVariant=this._DialogResult.getIsLowerCapitalized()?"small-caps":"",this._jm.style.lineHeight=this._jm.style.fontSize,n.removeChildren(this._jm),i=this._bdA.replace(new RegExp(" ","g"),"&nbsp;"),this._DialogResult.getIsStriken()&&(i="<s>"+i+"<\/s>"),this._DialogResult.getIsUnderline()&&(i="<u>"+i+"<\/u>"),this._DialogResult.getIsSuperior()?i="<sup>"+i+"<\/sup>":this._DialogResult.getIsInferior()&&(i="<sub>"+i+"<\/sub>"),i=n.String.repeat("&nbsp;",5)+i+n.String.repeat("&nbsp;",5),t=n.htmlToDOM("<div>"+i+"<\/div>"),t.style.fontFamily=this._jm.style.fontFamily,t.style.fontSize=this._jm.style.fontSize,t.style.fontStyle=this._jm.style.fontStyle,t.style.fontWeight=this._jm.style.fontWeight,t.style.textTransform=this._jm.style.textTransform,t.style.fontVariant=this._jm.style.fontVariant,t.style.lineHeight=this._jm.style.lineHeight,t.style.position="absolute",t.style.left="-1000px",document.body.appendChild(t),f=t.offsetHeight,o=t.offsetWidth,document.body.removeChild(t),e=n.htmlToDOM("<div class='FontSampleUnderline'>"+n.String.repeat("&nbsp;",300)+"<\/div>"),r=n.htmlToDOM("<div class='FontSampleTextOver'><div>"+i+"<\/div><\/div>",!1,!0),this._jm.appendChild(e),this._jm.appendChild(r);var s=this._bdH.getHeight(),h=this._bdH.getWidth(),u=(s-f)/2,c=(h-o)/2;u<0&&(u=s-f),e.style.top=u+"px",r.firstChild.style.top=u+"px",r.style.left=c+"px"},r.prototype._jV=function(t,i){n.resourceManager.ResourcesLoaded.remove(this._jV,this),this._aW(t,i)},r.prototype._aW=function(){this._bdC.setContent(this._yY.getSelectedItem().getContent())},r.prototype.showDialog=function(){t.prototype.showDialog.apply(this,arguments),this._dc()},r.prototype.show=function(){t.prototype.show.apply(this,arguments),this._dc(),this._DialogResult&&this.setFont(this._DialogResult)},r.prototype.getFont=function(){return this._Font},r.prototype.setFont=function(t){var e,u,i,f,r,o,s;if(t instanceof n.Font){for(this._DialogResult=t,this._bdB.setContent(this._DialogResult.getFontFamily()),e=this._am5.getItems(),u=this._DialogResult.getFontFamily(),u=u.toLowerCase(),i=0,f=e.length;i<f;i++)if(r=e[i].getContent(),r=r.toString(),r=r.toLowerCase(),r===u){this._am5.setSelectedIndex(i);break}for(this._DialogResult.getIsBold()&&this._DialogResult.getIsItalic()?this._yY.setSelectedIndex(3):this._DialogResult.getIsBold()?this._yY.setSelectedIndex(2):this._DialogResult.getIsItalic()?this._yY.setSelectedIndex(1):this._yY.setSelectedIndex(0),this._bdD.setContent(this._DialogResult.getSize()),o=this._ahe.getItems(),s=this._DialogResult.getSize(),i=0,f=o.length;i<f;i++)if(parseInt(o[i].getContent())===s){this._ahe.setSelectedIndex(i);break}this._ahd.setColor(new n.Color(this._DialogResult.getColor())),this._bLQ.setChecked(this._DialogResult.getIsStriken()),this._bLR.setChecked(this._DialogResult.getIsUnderline()),this._bdE.setChecked(this._DialogResult.getIsSuperior()),this._bdF.setChecked(this._DialogResult.getIsInferior()),this._bdG.setChecked(this._DialogResult.getIsLowerCapitalized())}},r.prototype.setSampleTextString=function(t){n.isString(t)&&t!=""&&(this._SampleTextString=t,this._bdA=t,this._sY())},r.prototype.setIsRTL=function(){t.prototype.setIsRTL.apply(this,arguments),this._ContentPanel.setIsRTL(this._IsRTL)},r.prototype.dispose=function(){this.isLive()&&(n.resourceManager.ResourcesLoaded.remove(this._jV,this),t.prototype.dispose.apply(this,arguments))},r.prototype.getSettings=function(){var n=t.prototype.getSettings.apply(this,arguments);return delete n.DialogResult,n},r}(t.Dialog);t.FontDialog=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),function(n){var t;(function(t){var r=function(t){function r(n){var i=t.call(this,n)||this;return i._render(),i._bdI=null,i._oF=null,i}return i(r,t),r.prototype._e=function(){t.prototype._e.call(this),this._ColumnCount=9,this._RowCount=6,this._defineEvents(["SelectionChanged","TableSelected"])},r.prototype._render=function(){for(var n="<table border='0' cellpadding='0' cellspacing='0' class='PPCellPicker'><tbody>",i,r=0;r<this._RowCount;r++){for(n+="<tr>",i=0;i<this._ColumnCount;i++)n+="<td class='PPCell' r="+r+" c="+i+"><\/td>";n+="<\/tr>"}n+="<\/tbody><\/table>",this._initFromHTML("<div class='PPCellPicker'>"+n+"<\/div>"),this._Table=this._DomNode.firstChild,this._ParentNode&&this.addToNode(this._ParentNode),t.prototype._render.call(this)},r.prototype._bLU=function(){return!n.IsIE&&!n.IsFF},r.prototype._bLV=function(t,i){var h=i.EventParams,e,f,o,s,c,l,r,u;if(this._bLU()&&this._auT&&this._auT.X===h.clientX&&this._auT.Y===h.clientY)return!1;if(f=document.elementFromPoint(h.clientX,h.clientY),(!this._oF||this._oF!=f)&&f.tagName.toLowerCase()=="td"){if(o=parseInt(f.getAttribute("r")),s=parseInt(f.getAttribute("c")),this._oF){for(c=parseInt(this._oF.getAttribute("r")),l=parseInt(this._oF.getAttribute("c")),this._oF=f,r=0;r<=o;r++)for(e=this._Table.rows[r],u=0;u<=s;u++)n.addClass(e.cells[u],"Hovered");for(r=o+1;r<this._RowCount;r++)for(e=this._Table.rows[r],u=0;u<this._ColumnCount;u++)n.removeClass(e.cells[u],"Hovered");for(r=s+1;r<this._ColumnCount;r++)for(u=0;u<o+1;u++)n.removeClass(this._Table.rows[u].cells[r],"Hovered")}else for(this._oF=f,c=parseInt(this._oF.getAttribute("r")),l=parseInt(this._oF.getAttribute("c")),r=0;r<=o;r++)for(e=this._Table.rows[r],u=0;u<=s;u++)n.addClass(e.cells[u],"Hovered");i.ColumnCount=s+1,i.RowCount=o+1,this.SelectionChanged.fire(this,i)}},r.prototype._bindEvents=function(){this._cQ||(t.prototype._bindEvents.call(this),this._addEvent(this._DomNode,"mousemove",this._cH))},r.prototype._unBindEvents=function(){t.prototype._unBindEvents.call(this),this._k(this._DomNode,"mousemove",this._cH)},r.prototype._cH=function(t,i){n.clearTimeout(this._bdI);var r=i.Event;i.EventParams={clientX:r.clientX,clientY:r.clientY},this._bdI=n.setTimeout(this._czH,0,{Self:this,Sender:t,Args:i})},r.prototype._czH=function(n){var t=n.Self,i;t._bLV(n.Sender,n.Args),t._bLU()&&(i=n.Args.EventParams,t._auT?(t._auT.X=i.clientX,t._auT.Y=i.clientY):t._auT={X:i.clientX,Y:i.clientY})},r.prototype._b0=function(t,i){n.reallyOut(this._DomNode,i.Event)&&n.setTimeout(this._czI,0,{Self:this,Args:i})},r.prototype._czI=function(n){n.Self.clearSelection(),n.Self.MouseOut.fire(n.Self,n.Args)},r.prototype._bp=function(t,i){if(!this._oF){var r=i.Event;i.EventParams={clientX:r.clientX,clientY:r.clientY},n.clearTimeout(this._bdI),this._bLV(this,i)}this._oF&&(i.ColumnCount=parseInt(this._oF.getAttribute("c"))+1,i.RowCount=parseInt(this._oF.getAttribute("r"))+1,this.clearSelection(),this.TableSelected.fire(this,i)),this.Click.fire(this,i)},r.prototype.clearSelection=function(){for(var r,i,t=0;t<this._RowCount;t++)for(r=this._Table.rows[t],i=0;i<this._ColumnCount;i++)n.removeClass(r.cells[i],"Hovered");this._oF=null},r.prototype.setEnabled=function(n){this._Enabled!==n&&(n?this._bindEvents():this._unBindEvents()),t.prototype.setEnabled.call(this,n)},r}(t.Control);t.CellPicker=r})(t=n.Ui||(n.Ui={}))}(n||(n={})),u=n.Ui.RichTextEdit=function(){u.base.constructor.apply(this,arguments),this._render(),this.setReadOnly(this._ReadOnly),this._vy=[],this._auU={}},n.initClass(u,n.Ui.Control,"PP.Ui.RichTextEdit"),n.Object.defineProps(u,["ReadOnly","EnableResize","TextArea","FontBox"]),t=u.prototype,t._EnableResize=!0,t._ReadOnly=!1,t._render=function(){this._initFromHTML('<div class="PPRichTextEdit"><\/div>',!0),this._FontBox=new n.Ui.FontBox({ParentNode:this._DomNode,Enabled:this._Enabled,ImagePath:this._ImagePath,IsJustifyVisible:!1,IsSizeExtend:!0,Font:{Size:10,SizeUnits:"pt"},PropertyChanged:n.Delegate(this._aL,this),Click:n.Delegate(this._czJ,this)}),this._TextArea=new n.Ui.RichTextArea({Parent:this,ParentNode:this._DomNode,Content:this._Content,Value:this._Value,Enabled:this._Enabled,IsRTL:this._IsRTL,Width:this._Width==0&&this._Width=="0"?400:this._Width,DblClick:n.Delegate(this._bJT,this),Blur:n.Delegate(this._oo,this),KeyUp:n.Delegate(this._agW,this),KeyDown:n.Delegate(this._bdJ,this)}),this._defineEvents(["ContentChanged","SelectionChanged","SelectionStyleChanged"]);var t=this._acF();n.addClass(t,"PPEditable"),this._addEvent(t,"drop",this._czK),this._addEvent(t,"pointerdown",this._vc),n.isTouch&&this._addEvent(t,"selectionchange",this._czL),this._sZ=n.htmlToDOM("<div class='PPRichTextEdit_ResizerCorner'><\/div>"),this._EnableResize&&(this._TextArea._DomNode.appendChild(this._sZ),this._addEvent(this._sZ,"mousedown",this._aEX)),u.base._render.apply(this,arguments),this._ParentNode&&this.addToNode(this._ParentNode),this._Width?this.setWidth(this._Width):n.addClass(this._FontBox._DomNode.lastChild,"OneLine")},t._acF=function(){return this._TextArea.getContentNode()},t._dEp=function(){return this._czM.createRange?this._czM.createRange():new window.Range(this)},t._bdJ=function(t,i){var ut,s,y,et;if(!this._ReadOnly){var c=i.Event,o=c.keyCode,e=u._bm,d=o===n.Key.Up||o===n.Key.Down||o===n.Key.Left||o===n.Key.Right,v=o===n.Key.Del||o===n.Key.Backspace,p=this._acF(),l=this.getSelection(),ot=l.isCollapsed(),h=l.getStartContainer(),r=e.ancestor(h,e.isSpan),g=r&&r.innerHTML==e.ZERO_WIDTH_NBSP_CHAR,f=e.ancestor(h,e.isP),w=l.getStartOffset(),nt,b,tt,it,k,rt;if(r&&(nt=h===l.getEndContainer(),b=r.innerText.length>1&&l.toString().length==r.innerText.length&&v,tt=r.innerText.length===1&&w===1&&o===n.Key.Backspace,it=r.innerText.length===1&&w===0&&o===n.Key.Del,k=p.firstChild==r?!0:f&&p.firstChild==f&&f.firstChild==r?!0:!1,rt=k&&(r.nextSibling==null||e.isBR(r.nextSibling))&&(!f||p.firstChild==f&&p.lastChild==f),!g&&(tt||b)&&nt?(r.innerHTML=e.ZERO_WIDTH_NBSP_CHAR,n.RichTextRange.createFromNodeAfter(r).select(),this._vy.push(r),this._aEY(r),r.previousSibling&&(r.style.cssText=e.isText(r.previousSibling)?"":r.previousSibling.style.cssText),c.preventDefault()):g&&(d||v?rt&&v?c.preventDefault():f&&f.firstChild==r&&v&&!k?(r.innerHTML="",ut=e.replace(r,"BR"),ut.style.cssText=""):o===n.Key.Left?n.RichTextRange.createFromNodeBefore(r).select():o===n.Key.Right?n.RichTextRange.createFromNodeAfter(r).select():o===n.Key.Backspace&&(s=r.previousSibling,e.isSpan(s)&&s.innerHTML.length===1&&(s.innerHTML=e.ZERO_WIDTH_NBSP_CHAR,n.RichTextRange.createFromNodeAfter(s).select(),this._vy.push(s),this._aEY(s),this.updateControls(),s.previousSibling&&(s.style.cssText=e.isText(s.previousSibling)?"":s.previousSibling.style.cssText),c.preventDefault()),r.innerHTML="",e.remove(r)):this._czN(o)&&r===this._auU.span&&(r.style.cssText=this._auU.cssText))),o===n.Key.Del){var st=e.isText(h)?h.length:h.innerHTML.length,ft=ot&&st===w,a=r?r.nextSibling:h.nextSibling;a=e.isSpan(a)&&a.innerHTML.length===1?a:null,(r&&ft&&(h==r||h==r.lastChild)||!r&&ft)&&a?y=a:r&&(r.innerText.length===1&&w===0||b||it)&&(y=r),y&&(y.innerHTML="",e.remove(y),c.preventDefault()),f.childNodes.length!==0||n.IsIE||n.IsEdge||(f.innerHTML=e.blankHTML)}o===n.Key.Enter&&(this._czO(),c.preventDefault()),n.IsIE&&f&&(!d&&!v&&f.childNodes.length>1&&e.isBR(f.lastChild)&&e.remove(f.lastChild),o===n.Key.Backspace&&l.isCollapsed()&&(f=e.isEmpty(f)?f:f.firstChild==r&&e.isBR(r.firstChild)&&r.nextSibling==null?f:null,f&&f.previousSibling!=null&&(et=f.previousSibling,f.innerHTML="",e.remove(f),n.RichTextRange.createFromNode(et).normalize().collapse().select().scrollIntoView(this._acF()),c.preventDefault()))),this._aT4()}},t._agW=function(){var f=u._bm,o=this.getSelection(),e=o.getStartContainer(),r=f.isSpan(e)?e:f.isSpan(e.parentNode)?e.parentNode:null;r&&r.innerHTML.length>1&&r.innerHTML.match(f.ZERO_WIDTH_NBSP_CHAR)&&(r.innerHTML=r.innerHTML.replace(f.ZERO_WIDTH_NBSP_CHAR,""),n.RichTextRange.createFromNodeAfter(r).select()),this._am6(),this._auV()},t._czN=function(n){return n>47&&n<58||n==32||n==13||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223},t._czJ=function(){this._aT5(),document.activeElement!=this._acF()&&this._TextArea.setFocus()},t._czL=function(){this._am6(),this._auV()},t._vc=function(t,i){if(this._Enabled){var r=this._acF();this._k(r,"pointerdown",this._vc),i.Event.pointerType===n.Ui.PointerEventType.Mouse&&i.Event.button===0&&(n.domEvent.addEvent(r,"pointermove",this._bLW,this),n.domEvent.addEvent(r,"pointerup",this._bLX,this)),this._addEvent(document,"pointerout",this._vn),this._addEvent(document,"pointerup",this._aEZ),this._addEvent(document,"pointerup",this._vn)}},t._bLW=function(){this._aEw&&n.clearTimeout(this._aEw),this._aEw=n.setTimeout(this._bLY,10,null,this)},t._bLY=function(){this._am6(),this._auV()},t._bLX=function(){if(this._Enabled){this._am6(),this._auV();var i=this._acF();this._k(i,"pointermove",this._bLW),this._k(i,"pointerup",this._bLX),this._addEvent(i,"pointerdown",this._vc),this._k(document,"pointerout",this._vn)}},t._vn=function(t,i){(n.reallyOut(document,i.Event)||i.Event.type=="mouseup")&&(this._k(document,"mouseout",this._vn),this._k(document,"mouseup",this._aEZ),this._k(document,"mouseup",this._vn),this._am6(),this._auV())},t._aEZ=function(){this._bLZ&&n.clearTimeout(this._bLZ),this._bLZ=n.setTimeout(this._bLY,10,null,this)},t._czK=function(){n.setTimeout(this._aT4,10,null,this)},t._aEX=function(t,i){if(this._Enabled){var r=this._TextArea._DomNode;this._vo=n.calculateOffset(r.firstChild),this._amG=[this._vo.X+r.offsetWidth-n.calculateMouseX(i.Event),this._vo.Y+r.offsetHeight-n.calculateMouseY(i.Event)],n.setCapture(this._sZ),this._k(this._sZ,"mousedown",this._aEX),this._amH=n.htmlToDOM("<div class='PPRichTextEdit_ResizerBack' style='height: "+document.documentElement.clientHeight+"px; width: "+document.documentElement.clientWidth+"px;'><\/div>"),document.body.appendChild(this._amH),this._bV(document,{mousemove:this._bL0,mouseup:this._bL1})}},t._bL0=function(t,i){var e=[n.calculateMouseX(i.Event),n.calculateMouseY(i.Event)],u=e[1]-this._vo.Y+this._amG[1],r,f=this._TextArea._ScrollBox,o=this._TextArea._DomNode.style;r=this.getIsRTL()?-e[0]+this._vo.X+this._amG[0]:e[0]-this._vo.X+this._amG[0],u>this._sZ.offsetHeight*2&&(this._TextAreaHeight=u,o.height=u+"px",f.setHeight(u-2),f.updateScrollsVisibility()),r>this._sZ.offsetWidth*2&&(o.width=r+"px",f.setWidth(r-2),f.updateScrollsVisibility())},t._bL1=function(){n.releaseCapture(this._sZ),this._k(document,"mousemove",this._bL0),this._k(document,"mouseup",this._bL1),document.body.removeChild(this._amH),delete this._amH,this._addEvent(this._sZ,"mousedown",this._aEX)},t._aL=function(t,i){switch(i.PropertyName){case n.Ui.FontBox.PropertyName.FontFamily:this.setFontFamily(i.Font.getFontFamily());break;case n.Ui.FontBox.PropertyName.Size:var r=t.getFontSizeComboBox().getSelectedItem();r&&this.setFontSize(r.getValue());break;case n.Ui.FontBox.PropertyName.Alignment:this.setAlignment(i.Alignment);break;case n.Ui.FontBox.PropertyName.IsBold:this.setIsBold(i.Font.getIsBold());break;case n.Ui.FontBox.PropertyName.IsItalic:this.setIsItalic(i.Font.getIsItalic());break;case n.Ui.FontBox.PropertyName.IsUnderline:this.setIsUnderline(i.Font.getIsUnderline());break;case n.Ui.FontBox.PropertyName.Color:this.setFontColor(i.Font.getColor())}},t._oG=function(){this._aT5(),this._aT6&&this._aT6.isLive()&&this._aT6.dispose(),this._aT6=this.getSelectionStyle()},t._oH=function(){var t=this.getSelection(),o=t.getStartContainer(),i=u._bm,r=i.ancestor(o,i.isSpan),f,e;!t.isCollapsed()&&r&&r.innerHTML==i.ZERO_WIDTH_NBSP_CHAR&&(t.collapse().select(),this._auV()),this._am6(),f=this.getSelectionStyle(),e={OldStyle:this._aT6,NewStyle:f},this.SelectionStyleChanged.fire(this,e),this._TextArea.setFocus(),this._TextArea.updateSize(),n.setTimeout(this._aT5,10,null,this)},t._aT4=function(t){var r,u,i;this.isLive()&&(r=this.getContent(),u=this.getValue(),this._fl!==r)&&(t&&t.fireEvents===!1||(i=new n.EventArgs,i.OldContent=this._fl,i.NewContent=r,i.OldText=this._e2,i.NewText=u,this.ContentChanged.fire(this,i)),this._e2=u,this._fl=r,this._sV&&this._sV.isLive()&&this._sV.dispose())},t._am6=function(){var r=n.RichTextRange.createFromSelection();if(r.isCollapsed()){var f=u._bm,i=r.getStartContainer(),s=r.getStartOffset(),t=f.ancestor(i,f.isSpan),c=t&&t.innerHTML==f.ZERO_WIDTH_NBSP_CHAR,h=f.isSpan(i)?i.innerHTML.length:f.isText(i)?i.length:0,l=!t&&s===h||t&&s===h&&(t==i||t.lastChild==i),e=t&&t.nextSibling||!t&&i.nextSibling,o;e=f.isSpan(e)&&e.innerHTML==f.ZERO_WIDTH_NBSP_CHAR?e:null,t&&r.getStartOffset()===0&&(i==t||i==t.firstChild)&&t.previousSibling?o=t.previousSibling:!c&&l&&e&&(o=e),o&&(n.RichTextRange.createFromNodeAfter(o).select(),r=n.RichTextRange.createFromSelection())}this._aE0&&this._aE0.dispose(),this._aE0=r?r:null},t._aT5=function(){(this.isLive()||!this._Enabled)&&(this._aE0&&this._aE0.select(),this._TextArea.setFocus())},t._auV=function(t){var f,r,e,i,s;if(this.isLive()&&(f=u._bm,r=this.getSelection(),r&&!r.isEqual(this._sV))){if(this._vy.length>0){var o=r.isCollapsed()&&r.getStartContainer(),h=f.isSpan(o)?o:f.isSpan(o.parentNode)?o.parentNode:null,c=h&&h.innerHTML==f.ZERO_WIDTH_NBSP_CHAR;for(i=0;i<this._vy.length;i++)if(this._vy[i].innerHTML==f.ZERO_WIDTH_NBSP_CHAR){if(c&&h==this._vy[i]){e=this._vy[i];continue}this._vy[i].innerHTML="",f.remove(this._vy[i])}this._vy=e?[e]:[]}t&&t.fireEvents===!1||(s=new n.EventArgs,s.OldSelection=this._sV,s.NewSelection=r,this.SelectionChanged.fire(this,s)),e||this.updateControls(),this._sV&&this._sV.isLive()&&this._sV.dispose(),this._sV=r.clone()}},t._czO=function(){var t=u._bm,r=n.RichTextRange.create(this._acF()),f,i,e,o;r=r.deleteContents(),r=r.wrapBodyInlineWithP(),f=t.ancestor(r.getStartContainer(),t.isP),f?t.isEmpty(f)&&t.isP(f)&&t.isBlockquote(f.parentNode)?(t.insertAfter(f,f.parentNode),i=f):(i=t.splitTree(f,r.getStartPoint()),e=t.listDescendant(f,t.isEmptyA),e=e.concat(t.listDescendant(i,t.isEmptyA)),e.forEach(function(n){t.remove(n)}),(t.isHeading(i)||t.isPre(i))&&t.isEmpty(i)&&(i=t.replace(i,"p"))):(o=r.getStartContainer().childNodes[r.getStartOffset()],i=document.createElement("p"),i.innerHTML=t.blankHTML,o?r.getStartContainer().insertBefore(i,o):r.getStartContainer().appendChild(i)),n.RichTextRange.create(i,0).normalize().select().scrollIntoView(this._acF())},t.updateControls=function(){var t=this._FontBox.getFontFamilyComboBox(),i=t.getListBox(),r,u=this.getFontFamily(),n=this._FontBox.getFont();return n.setFontFamily(this.getFontFamily()),n.setColor(this.getFontColor()),n.setSize(this.getFontSize()),n.setIsBold(this.getIsBold()),n.setIsItalic(this.getIsItalic()),n.setIsUnderline(this.getIsUnderline()),this._FontBox.setFont(n),this._FontBox.setAlignment(this.getAlignment()),this},t.setEnableResize=function(n){return n=!!n,n!==this._EnableResize&&(this._EnableResize=n,this._EnableResize?(this._TextArea._DomNode.appendChild(this._sZ),this._addEvent(this._sZ,"mousedown",this._aEX)):(this._TextArea._DomNode.removeChild(this._sZ),this._k(this._sZ,"mousedown",this._aEX))),this},t.setReadOnly=function(n){n=!!n,this._ReadOnly=n,this._FontBox&&this.getEnabled()&&this._FontBox.setEnabled(!n),this._TextArea&&this._TextArea.setReadOnly(n)},t.getText=t.getValue=function(){return this._TextArea.getValue()},t.getContent=function(){var t=this._TextArea.getContent();return(n.IsIE||n.IsEdge)&&(t=t.substring(0,3)+t.substring(3).replace(/<p>/g,"<\/p><p>")),t=t.replace(/<br><\/p>$/,"<\/p>")},t.selectAll=function(){this._TextArea.selectAll(),this._am6()},t.setText=t.setValue=function(n){this._TextArea.setValue(n),this._aT4()},t.setContent=function(n){this._TextArea.setContent(n),this._aT4()},t.getSelection=function(){return n.RichTextRange.createFromSelection()},t.getSettings=function(){var n=u.base.getSettings.apply(this,arguments);return delete n.FontBox,delete n.TextArea,n},t.setIsRTL=function(n){return u.base.setIsRTL.call(this,n),this._FontBox.setIsRTL(n),this},t.setEnabled=function(n,t){return(n!=this.getEnabled()||t)&&(u.base.setEnabled.apply(this,arguments),this._FontBox.setEnabled(n),this._TextArea.setEnabled(n),this.setReadOnly(this._ReadOnly)),this},t.setWidth=function(t,i,r){if(t===this._Width&&r&&i==undefined&&(i=!0),u.base.setWidth.apply(this,arguments),this._FontBox){var f=this._FontBox._DomNode;f.lastChild.offsetTop!=f.firstChild.offsetTop+f.firstChild.offsetHeight?n.addClass(f.lastChild,"OneLine"):n.removeClass(f.lastChild,"OneLine")}return this._TextArea.setWidth(t,i,r),this},t.setHeight=function(n,t,i){return n===this._Height&&i&&t==undefined&&(t=!0),u.base.setHeight.apply(this,arguments),this._TextArea.setHeight(n,t,i),this},t=null,r=u._bm={},r._kX=function(n){return n=n.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===n}},r.isEditable=function(t){return t&&n.hasClass(t,"PPEditable")},r.isElement=function(n){return n&&n.nodeType===1},r.isText=function(n){return n&&n.nodeType===3},r.isVoid=function(n){return n&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(n.nodeName.toUpperCase())},r.isP=function(n){var t=u._bm;return t.isEditable(n)?!1:n&&/^DIV|^P|^LI|^H[1-7]/.test(n.nodeName.toUpperCase())},r.isHeading=function(n){return n&&/^H[1-7]/.test(n.nodeName.toUpperCase())},r.isPre=r._kX("PRE"),r.isLi=r._kX("LI"),r.isPurePara=function(n){var t=u._bm;return t.isP(n)&&!t.isLi(n)},r.isEmptyA=function(n){var t=u._bm;return t.isA(n)&&t.isEmpty(n)},r.isTable=r._kX("TABLE"),r.isData=r._kX("DATA"),r.isDiv=r._kX("DIV"),r.isBR=r._kX("BR"),r.isSpan=r._kX("SPAN"),r.isB=r._kX("B"),r.isU=r._kX("U"),r.isS=r._kX("S"),r.isI=r._kX("I"),r.isImg=r._kX("IMG"),r.isTextarea=r._kX("TEXTAREA"),r.isInline=function(n){var t=u._bm;return!t.isBodyContainer(n)&&!t.isList(n)&&!t.isHr(n)&&!t.isP(n)&&!t.isTable(n)&&!t.isBlockquote(n)&&!t.isData(n)},r.isBlock=function(n){var t=u._bm;return!t.isInline(n)},r.isList=function(n){return n&&/^UL|^OL/.test(n.nodeName.toUpperCase())},r.isHr=r._kX("HR"),r.isCell=function(n){return n&&/^TD|^TH/.test(n.nodeName.toUpperCase())},r.isBlockquote=r._kX("BLOCKQUOTE"),r.isBodyContainer=function(n){var t=u._bm;return t.isCell(n)||t.isBlockquote(n)||t.isEditable(n)},r.isA=r._kX("A"),r.isParaInline=function(n){var t=u._bm;return t.isInline(n)&&!!t.ancestor(n,t.isP)},r.isBodyInline=function(n){return r.isInline(n)&&!r.ancestor(n,r.isP)},r.isBody=r._kX("BODY"),r.isClosestSibling=function(n,t){return n.nextSibling===t||n.previousSibling===t},r._bdK=function(){return!1},r._bdL=function(){return!0},r.withClosestSiblings=function(n,t){t=t||this._dEq;var r=u._bm,i=[];return n.previousSibling&&r.filter(n.previousSibling)&&i.push(n.previousSibling),i.push(n),n.nextSibling&&t(n.nextSibling)&&i.push(n.nextSibling),i},r.blankHTML=n.IsIE&&n.IEVer<11?"&nbsp;":"<br>",r.NBSP_CHAR=String.fromCharCode(160),r.ZERO_WIDTH_NBSP_CHAR="﻿",r.nodeLength=function(n){var t=u._bm;return t.isText(n)?n.nodeValue.length:n?n.childNodes.length:0},r.isEmpty=function(t){var i=u._bm,r=i.nodeLength(t);if(r===0)return!0;if(i.isText(t)||r!==1||t.innerHTML!==i.blankHTML){if(n.Array.all(t.childNodes,i.isText)&&t.innerHTML==="")return!0}else return!0;return!1},r.paddingBlankHTML=function(n){var t=u._bm;t.isVoid(n)||t.nodeLength(n)||(n.innerHTML=t.blankHTML)},r.ancestor=function(n,t){for(var i=u._bm;n;){if(t(n))return n;if(i.isEditable(n))break;n=n.parentNode}return null},r.singleChildAncestor=function(n,t){var i=u._bm;for(n=n.parentNode;n;){if(i.nodeLength(n)!==1)break;if(t(n))return n;if(i.isEditable(n))break;n=n.parentNode}return null},r.listAncestor=function(n,t){var r=u._bm,i;return t=t||this._bdK,i=[],r.ancestor(n,function(n){return r.isEditable(n)||i.push(n),t(n)}),i},r.lastAncestor=function(t,i){var r=u._bm,f=r.listAncestor(t);return n.Array.last(f.filter(i))},r.commonAncestor=function(n,t){for(var r=u._bm,f=r.listAncestor(n),i=t;i;i=i.parentNode)if(f.indexOf(i)>-1)return i;return null},r.listPrev=function(n,t){t=t||this._bdK;for(var i=[];n;){if(t(n))break;i.push(n),n=n.previousSibling}return i},r.listNext=function(n,t){t=t||this._bdK;for(var i=[];n;){if(t(n))break;i.push(n),n=n.nextSibling}return i},r.listDescendant=function(n,t){var i=[];return t=t||this._bdL,function r(u){n!==u&&t(u)&&i.push(u);for(var f=0,e=u.childNodes.length;f<e;f++)r(u.childNodes[f])}(n),i},r.wrap=function(t,i){var u=t.parentNode,r=n.htmlToDOM("<"+i+">");return u.insertBefore(r,t),r.appendChild(t),r},r.insertAfter=function(n,t){var i=t.nextSibling,r=t.parentNode;return i?r.insertBefore(n,i):r.appendChild(n),n},r.appendChildNodes=function(n,t){return t.forEach(function(t){n.appendChild(t)}),n},r.isLeftEdgeOf=function(n,t){for(var i=u._bm;n&&n!==t;){if(i.position(n)!==0)return!1;n=n.parentNode}return!0},r.isRightEdgeOf=function(n,t){var i=u._bm;if(!t)return!1;while(n&&n!==t){if(i.position(n)!==i.nodeLength(n.parentNode)-1)return!1;n=n.parentNode}return!0},r.position=function(n){for(var t=0;n=n.previousSibling;)t+=1;return t},r.hasChildren=function(n){return!!(n&&n.childNodes&&n.childNodes.length)},r.walkPoint=function(n,t,i,r){for(var u=n,f;u;){if(i(u),u&&u.equals(t))break;f=r&&n.getContainer()!==u.getContainer()&&t.getContainer()!==u.getContainer(),u=u.nextPoint(f)}},r.makeOffsetPath=function(n,t){var i=u._bm,r=i.listAncestor(t,function(t){return t===n});return r.map(i.position).reverse()},r.fromOffsetPath=function(n,t){for(var i=n,r=0,u=t.length;r<u;r++)i=i.childNodes.length<=t[r]?i.childNodes[i.childNodes.length-1]:i.childNodes[t[r]];return i},r.splitNode=function(n,t){var i=u._bm,e=t&&t.isSkipPaddingBlankHTML,o=t&&t.isNotSplitEdgePoint,f,r;if(n.isEdge()&&(i.isText(n.getContainer())||o)){if(n.isLeftEdge())return n.getContainer();if(n.isRightEdge())return n.getContainer().nextSibling}return i.isText(n.getContainer())?n.getContainer().splitText(n.getOffset()):(f=n.getContainer().childNodes[n.getOffset()],r=i.insertAfter(n.getContainer().cloneNode(!1),n.getContainer()),i.appendChildNodes(r,i.listNext(f)),e||(i.paddingBlankHTML(n.getContainer()),i.paddingBlankHTML(r)),r)},r.splitTree=function(t,i,r){var f=u._bm,e=f.listAncestor(i.getContainer(),function(n){return n===t});if(e.length){if(e.length===1)return f.splitNode(i,r)}else return null;return e.reduce(function(t,u){return t===i.getContainer()&&(t=f.splitNode(i,r)),f.splitNode(new n.RichTextPoint({Container:u,Offset:t?f.position(t):f.nodeLength(u)}),r)})},r.splitPoint=function(t,i){var f=u._bm,c=f.isInline?f.isP:f.isBodyContainer,s=f.listAncestor(t.getContainer(),c),h=n.Array.last(s)||t.getContainer(),r,e,o;return c(h)?(r=s[s.length-2],e=h):(r=h,e=r.parentNode),o=r&&this.splitTree(r,t,{isSkipPaddingBlankHTML:i,isNotSplitEdgePoint:i}),o||e!==t.getContainer()||(o=t.getContainer().childNodes[t.getOffset()]),{rightNode:o,container:e}},r.remove=function(n,t){var f,r,i,u;if(n&&n.parentNode){if(f=n.parentNode,!t){for(r=[],i=0,u=n.childNodes.length;i<u;i++)r.push(n.childNodes[i]);for(i=0,u=r.length;i<u;i++)f.insertBefore(r[i],n)}f.removeChild(n)}},r.removeWhile=function(n,t){while(n){if(this.isEditable(n)||!t(n))break;var i=n.parentNode;this.remove(n),n=i}},r.replace=function(n,t){var r=u._bm,i;return n.nodeName.toUpperCase()===t.toUpperCase()?n:(i=document.createElement(t),n.style.cssText&&(i.style.cssText=n.style.cssText),r.appendChildNodes(i,r.toArray(n.childNodes)),r.insertAfter(i,n),r.remove(n),i)},r.toArray=function(n){for(var i=[],t=-1,r=n.length;++t<r;)i[t]=n[t];return i},r=null,o=n.RichTextRange=function(){o.base.constructor.apply(this,arguments)},n.initClass(o,n.Object,"PP.RichTextRange"),n.Object.defineProps(o,["StartContainer","StartOffset","EndContainer","EndOffset"],!0);var or=n.RichTextRange.isEqual=function(n,t){return!n||!t?n===t:n.getStartContainer()===t.getStartContainer()&&n.getStartOffset()===t.getStartOffset()&&n.getEndContainer()===t.getEndContainer()&&n.getEndOffset()===t.getEndOffset()&&n.toString()===t.toString()},nr=n.RichTextRange.create=function(n,t,i,r){var e=u._bm,f;return arguments.length===4?new o({StartContainer:n,StartOffset:t,EndContainer:i,EndOffset:r}):arguments.length===2?new o({StartContainer:n,StartOffset:t,EndContainer:n,EndOffset:t}):(f=this.createFromSelection(),!f&&arguments.length===1)?(f=this.createFromNode(arguments[0]),f.collapse(e.emptyPara===arguments[0].innerHTML)):f},er=n.RichTextRange.createFromSelection=function(){var e=u._bm,s,h,c,l,r,f,a,v,y,t,i;if(document.createRange){if(r=document.getSelection(),r&&r.rangeCount!==0){if(e.isBody(r.anchorNode))return null}else return null;f=r.getRangeAt(0),s=f.startContainer,h=f.startOffset,c=f.endContainer,l=f.endOffset}else a=document.selection.createRange(),v=a.duplicate(),v.collapse(!1),y=a,y.collapse(!0),t=n.RichTextPoint.fromTextRange(y,!0),i=n.RichTextPoint.fromTextRange(v,!1),e.isText(t.getContainer())&&t.isLeftEdge()&&e.isTextNode(i.getContainer())&&i.isRightEdge()&&i.getContainer().nextSibling===t.getContainer()&&(t=i),s=t.getContainer(),h=t.getOffset(),c=i.getContainer(),l=i.getOffset();return new o({StartContainer:s,StartOffset:h,EndContainer:c,EndOffset:l})},ir=n.RichTextRange.createFromNode=function(n,t){var r=u._bm,f=n,o=0,i=t?t:n,e=r.nodeLength(i);return r.isVoid(f)&&(o=r.listPrev(f).length-1,f=f.parentNode),r.isBR(i)?(e=r.listPrev(i).length-1,i=i.parentNode):r.isVoid(i)&&(e=r.listPrev(i).length,i=i.parentNode),this.create(f,o,i,e)},ur=n.RichTextRange.createFromNodeBefore=function(n){return this.createFromNode(n).collapse(!0)},rr=n.RichTextRange.createFromNodeAfter=function(n){return this.createFromNode(n).collapse()},tr=n.RichTextRange.createFromBookmark=function(n,t){var i=u._bm,r=i.fromOffsetPath(n,t.s.path),f=t.s.offset,e=i.fromOffsetPath(n,t.e.path),s=t.e.offset;return new o({StartContainer:r,StartOffset:f,EndContainer:e,EndOffset:s})},fr=n.RichTextRange.createFromParaBookmark=function(t,i){var r=u._bm,f=t.s.offset,e=t.e.offset,s=r.fromOffsetPath(n.Array.head(i),t.s.path),h=r.fromOffsetPath(n.Array.last(i),t.e.path);return new o({StartContainer:s,StartOffset:f,EndContainer:h,EndOffset:e})};t=o.prototype,t._StartContainer=null,t._StartOffset=null,t._EndContainer=null,t._EndOffset=null,t._bdM=function(){var n,t,i;return document.createRange?(n=document.createRange(),n.setStart(this._StartContainer,this._StartOffset),n.setEnd(this._EndContainer,this._EndOffset),n):(t=this.getStartPoint().toTextRange(),i=this.getEndPoint().toTextRange(),t.setEndPoint("EndToEnd",i),t)},t._bL2=function(n){return n.isVisible()},t._bL3=function(n,t){var i=u._bm,r,f;if(n.isVisible()&&!n.isEdge()||n.isVisible()&&n.isRightEdge()&&!t||n.isVisible()&&n.isLeftEdge()&&t||n.isVisible()&&i.isBlock(n.getContainer())&&i.isEmpty(n.getContainer()))return n;if(r=i.ancestor(n.getContainer(),i.isBlock),(n.isLeftEdgeOf(r)||i.isVoid(n.prevPoint().getContainer()))&&!t||(n.isRightEdgeOf(r)||i.isVoid(n.nextPoint().getContainer()))&&t){if(n.isVisible())return n;t=!t}return f=t?n.nextPoint().nextPointUntil(this._bL2):n.prevPoint().prevPointUntil(this._bL2),f||n},t.getBoundaryPoints=function(){return{StartContainer:this._StartContainer,StartOffset:this._StartOffset,EndContainer:this._EndContainer,EndOffset:this._EndOffset}},t.getStartPoint=function(){return new n.RichTextPoint({Container:this._StartContainer,Offset:this._StartOffset})},t.getEndPoint=function(){return new n.RichTextPoint({Container:this._EndContainer,Offset:this._EndOffset})},t.select=function(){var t=this._bdM(),n;return document.createRange?(n=document.getSelection(),n.rangeCount>0&&n.removeAllRanges(),n.addRange(t)):t.select(),this},t.scrollIntoView=function(n){var t=n.offsetHeight;return n.scrollTop+t<this._StartContainer.offsetTop&&(n.scrollTop+=Math.abs(n.scrollTop+t-this._StartContainer.offsetTop)),this},t.normalize=function(){var n=this._bL3(this.getEndPoint(),!1),t=this.isCollapsed()?n:this._bL3(this.getStartPoint(),!0);return new o({StartContainer:t.getContainer(),StartOffset:t.getOffset(),EndContainer:n.getContainer(),EndOffset:n.getOffset()})},t._bdL=function(){return!0},t.nodes=function(t,i,r){t=t||this._bdL;var f=u._bm,s=this.getStartPoint(),h=this.getEndPoint(),e=[],o=[];return f.walkPoint(s,h,function(n){if(!f.isEditable(n.getContainer())){var u;r?(n.isLeftEdge()&&o.push(n.getContainer()),n.isRightEdge()&&o.indexOf(n.getContainer())>-1&&(u=n.getContainer())):u=i?f.ancestor(n.getContainer(),t):n.getContainer(),u&&t(u)&&e.push(u)}},!0),n.Array.uniq(e)},t.commonAncestor=function(){var n=u._bm;return n.commonAncestor(this._StartContainer,this._EndContainer)},t.expand=function(n){var r=u._bm,f=r.ancestor(this._StartContainer,n),i=r.ancestor(this._EndContainer,n),t;return!f&&!i?new o({StartContainer:this._StartContainer,StartOffset:this._StartOffset,EndContainer:this._EndContainer,EndOffset:this._EndOffset}):(t=this.getBoundaryPoints(),f&&(t.StartContainer=f,t.StartOffset=0),i&&(t.EndContainer=i,t.EndOffset=r.nodeLength(i)),new o({StartContainer:t.StartContainer,StartOffset:t.StartOffset,EndContainer:t.EndContainer,EndOffset:t.EndOffset}))},t.collapse=function(n){return n?new o({StartContainer:this._StartContainer,StartOffset:this._StartOffset,EndContainer:this._StartContainer,EndOffset:this._StartOffset}):new o({StartContainer:this._EndContainer,StartOffset:this._EndOffset,EndContainer:this._EndContainer,EndOffset:this._EndOffset})},t.splitText=function(){var t=u._bm,i=this._StartContainer===this._EndContainer,n=this.getBoundaryPoints();return t.isText(this._EndContainer)&&!this.getEndPoint().isEdge()&&this._EndContainer.splitText(this._EndOffset),t.isText(this._StartContainer)&&!this.getStartPoint().isEdge()&&(n.StartContainer=this._StartContainer.splitText(this._StartOffset),n.StartOffset=0,i&&(n.EndContainer=n.StartContainer,n.EndOffset=this._EndOffset-this._StartOffset)),new o({StartContainer:n.StartContainer,StartOffset:n.StartOffset,EndContainer:n.EndContainer,EndOffset:n.EndOffset})},t.deleteContents=function(){var s=u._bm,t,i;if(this.isCollapsed())return this;var r=this.splitText(),f=r.nodes(null,!1,!0),n=r.getStartPoint().prevPointUntil(function(n){return f.indexOf(n.getContainer())===-1}),e=[];return f.forEach(function(t){var r=u._bm,i=t.parentNode;n.getContainer()!==i&&r.nodeLength(i)===1&&e.push(i),r.remove(t,!1)}),e.forEach(function(n){s.remove(n,!1)}),t=n.getContainer(),i=n.getOffset(),new o({StartContainer:t,StartOffset:i,EndContainer:t,EndOffset:i}).normalize()},t.isLeftEdgeOf=function(n){var i=u._bm,t;return this.getStartPoint().isLeftEdge()?(t=i.ancestor(this._StartContainer,n),t&&i.isLeftEdgeOf(this._StartContainer,t)):!1},t.isCollapsed=function(){return this._StartContainer&&this._StartContainer===this._EndContainer&&this._StartOffset===this._EndOffset},t.wrapBodyInlineWithP=function(){var t=u._bm,i,r,e,f,s;return t.isBodyContainer(this._StartContainer)&&t.isEmpty(this._StartContainer)?(this._StartContainer.innerHTML="<p>"+t.blankHTML+"<\/p>",new o({StartContainer:this._StartContainer.firstChild,StartOffset:0,EndContainer:this._StartContainer.firstChild,EndOffset:0})):(i=this.normalize(),t.isParaInline(this._StartContainer)||t.isP(this._StartContainer))?i:(t.isInline(i.getStartContainer())?(e=t.listAncestor(i.getStartContainer(),function(n){return!t.isInline(n)}),r=n.Array.last(e),t.isInline(r)||(r=e[e.length-2]||i.getStartContainer().childNodes[i.getStartOffset()])):r=i.getStartContainer().childNodes[i.getStartOffset()>0?i.getStartOffset()-1:0],f=t.listPrev(r,t.isParaInline).reverse(),f=f.concat(t.listNext(r.nextSibling,t.isParaInline)),f.length&&(s=t.wrap(n.Array.head(f),"p"),t.appendChildNodes(s,n.Array.tail(f))),this.normalize())},t.insertNode=function(n){var i=u._bm,r=this.wrapBodyInlineWithP().deleteContents(),t=i.splitPoint(r.getStartPoint(),i.isInline(n));return t.rightNode?t.rightNode.parentNode.insertBefore(n,t.rightNode):t.container.appendChild(n),n},t.pasteHTML=function(n){var f=u._bm,t=document.createElement("div"),i,r;return t.innerHTML=n,i=f.toArray(t.childNodes),r=this.wrapBodyInlineWithP().deleteContents(),i.reverse().map(function(n){return r.insertNode(n)}).reverse()},t.toString=function(){var n=this._bdM();return document.createRange?n.toString():n.text},t.getWordRange=function(n){var i=u._bm,t=this.getEndPoint(),r;return i.isCharPoint(t)?(r=t.prevPointUntil(function(n){return!i.isCharPoint(n)}),n&&(t=i.nextPointUntil(t,function(n){return!i.isCharPoint(n)})),new o({StartContainer:r.getContainer(),StartOffset:r.getOffset(),EndPoint:t.getContainer(),EndOffset:t.getOffset()})):this},t.bookmark=function(n){var t=u._bm;return{s:{path:t.makeOffsetPath(n,this._StartContainer),offset:this._StartOffset},e:{path:t.makeOffsetPath(n,this._EndContainer),offset:this._EndOffset}}},t.pBookmark=function(t){var i=u._bm;return{s:{path:n.Array.tail(i.makeOffsetPath(n.Array.head(t),this._StartContainer)),offset:this._StartOffset},e:{path:n.Array.tail(i.makeOffsetPath(n.Array.last(t),this._EndContainer)),offset:this._EndOffset}}},t.getClientRects=function(){var n=this._bdM();return n.getClientRects()},t.isEqual=function(n){return o.isEqual(this,n)},t.clone=function(){return new o({StartContainer:this._StartContainer,StartOffset:this._StartOffset,EndContainer:this._EndContainer,EndOffset:this._EndOffset})},t=null,b=n.Ui.BaseMasterMixin={},b._auW=function(){var t=this._DataView,i;if(t)for(i=t.length-1;i>=0;i--)t[i].isLive()||n.rmvFrmArr(t,t[i])},b._aS=function(n,t){var i,r,u;if(this.MetadataChanged.fire(this,t),i=this._DataView,i){for(this._auW(),this._DVLockNextUpdate=i.length,r=0,u=i.length;r<u;r++)i[r].refreshView(t)||this._DVLockNextUpdate==undefined||this._DVLockNextUpdate--;this._DVLockNextUpdate<=0&&delete this._DVLockNextUpdate,this._auX=t.getId(),this.refresh()}},b._czP=function(n,t){for(var i=0;i<this._cy.length;i++)this._Control.removeItem(this._cy[i],!0);this._cy=[],this._f5(n,t)},b._vz=function(n,t){this._DVLockNextUpdate!=undefined?--this._DVLockNextUpdate<=0&&delete this._DVLockNextUpdate:t.getId?this._auX!=t.getId()&&(this.refresh(t),this._auX=t.getId()):this.refresh(t)},b.setDataView=function(t,i){var u,f,r,e;if(i=i!==!1,(!t||i)&&(n.callEach(this._DataView,"removeAllEvents",this),this._DataView=[]),t){for(t=n.toArray(t),this._auW(),f=n.toArray(this._DataView)||[],u=0;u<t.length;u++)r=t[u],f.indexOf(r)==-1&&(f.push(r),r.Refreshed.add(this._vz,this),r.SourceChanged&&r.SourceChanged.add(this._czP,this),e=r.PropertyChanged,e&&this._am7&&e.add(this._am7,this));this._DataView=f}},b.getDataView=function(){return this._DataView},b.getOptions=function(){return this._Source&&this._Source.getMetadata()},b.dispose=function(){delete this._DataView;var t=n.getBaseMethod(this.constructor,n.Ui.BaseMasterMixin.dispose,"dispose");t&&t.apply(this,arguments)},b=null,nt=n.TextBlockStyle=function(){nt.base.constructor.apply(this,arguments)},n.initClass(nt,n.Font,"PP.TextBlockStyle"),n.Object.defineProps(nt,["Alignment"],!0),n.Object.defineProps(nt,["BackgroundColor"]),bt=n.TextBlockStyle.isEqual=function(n,t){return!n||!t?n===t:n._Alignment!==t._Alignment||n._BackgroundColor.toString()!==t._BackgroundColor.toString()?!1:nt.base.constructor.isEqual.apply(this,arguments)},t=nt.prototype,t._Alignment=n.HorizontalAlignment.Left,t._BackgroundColor=new n.Color("#ffffff"),t.setBackgroundColor=function(t){t!==this._BackgroundColor&&(this._BackgroundColor=t instanceof n.Color?t:n.Color.getColor(t))},t.getBackgroundColor=function(){var n="";return n=this._BackgroundColor.getOpacity()==1?this._BackgroundColor.toString():this._BackgroundColor.toDecimalString(!0)},t=null,st=n.Ui.TreeNodes=function(){this._Owner=null,this._Parent=null,st.base.constructor.apply(this,arguments)},n.initClass(st,n.Object,"PP.Ui.TreeNodes"),t=st.prototype,t.dispose=function(){delete this._Owner,delete this._Parent,st.base.dispose.apply(this,arguments)},t.loadFrom=function(t,i){this._al8&&(n.clearTimeout(this._al8),this._al8=!1),this._Parent&&(this._Parent._JSON.ChildrenCount===undefined||this._Parent._JSON.ChildrenCount===null)&&this._Owner._aDv(this._Parent._JSON.Nodes);var u=t.length,f=i||0,e=f+u,r;if(u==0){this._Parent._JSON.HasChild=!1,this._Owner._SearchIndex=[],this._Owner._jX(),this._Owner.checkSelection(!1),this._Owner.updateSize(!0),this._Owner._gq();return}for(r=f;r<e;r++)this._Parent._JSON.Nodes[r]=t[r-f],this._Owner._MultiSelect||this._Owner._IsCSMultiSelect||this._Owner._SelectedNode||!this._Parent._JSON.Nodes[r].Selected||(this._Owner._SelectedNode=this._Parent._JSON.Nodes[r]),this._Parent._JSON.Nodes[r].Expanded&&this._Owner._os(this._Parent._JSON.Nodes[r]);if(u!=0||this._Owner._KeepHasChild||(this._Parent._JSON.HasChild=!1),this._Parent._JSON._bGW){for(this._Parent.expand(!1),r=0;r<u;r++)this._Owner._aDh(this._Parent._JSON.Nodes[r],!0);delete this._Parent._JSON._bGW}this._Parent._Root&&f==0&&(this._Owner._FirstVisibleIndex=0,this._Owner._LastVisibleIndex=-1),this._Owner._SearchIndex=[],this._Owner._jX(),this._Owner.checkSelection(!1),this._Owner.updateSize(!0),this._Owner._gq()},t.updateFrom=function(n,t){var u,f;u=this._Parent._JSON.Nodes?this._Parent._JSON.Nodes:[];for(var r={},e=n.length,o=t||0,h=o+e,i=0,s=u.count;i<s;i++)r[u[i].Key]=u[i];for(this._Parent._JSON.Nodes=[],i=o;i<h;i++)r[n[i].Key]?(this._Parent._JSON.Nodes[i]=r[n[i].Key],delete r[n[i].Key]):(this._Parent._JSON.Nodes[i]=n[i],this._Parent._JSON.Nodes[i].Expanded&&this._Owner._os(this._Parent._JSON.Nodes[i]));f=[];for(i in r)r.hasOwnProperty(i)&&f.push(r[i]);this._Owner._aDv(f),e!=0||this._Owner._KeepHasChild||(this._Parent._JSON.HasChild=!1),this._Parent._Root&&(this._Owner._Nodes=this._Parent._JSON.Nodes,this._Owner._FirstVisibleIndex=0,this._Owner._LastVisibleIndex=-1),this._SearchIndex=[],this._Owner._dA(!0),this._Owner._jX(),this._Owner.updateSize(),this._Owner._gq()},t.clear=function(){this._Owner._aDv(this._Parent._JSON.Nodes),this._Owner.update()},t.getCount=function(){return this._Parent._JSON.Nodes?this._Parent._JSON.Nodes.length:0},t.getItem=function(n){return this._Parent._JSON.Nodes?this._Owner._a4(this._Parent._JSON.Nodes[n]):null},t.getItemKey=function(n){return!this._Parent._JSON.Nodes||this._Parent._JSON.Nodes[n]===undefined?null:this._Parent._JSON.Nodes[n].Key},t.getItemValue=function(n,t){return!this._Parent._JSON.Nodes||this._Parent._JSON.Nodes[n]===undefined?null:this._Parent._JSON.Nodes[n][t]},t.getItemByKey=function(n){var i,t;if(!this._Parent._JSON.Nodes)return null;for(i=this._Parent._JSON.Nodes.length,t=0;t<i;t++)if(this._Parent._JSON.Nodes[t].Key==n)return this._Owner._a4(this._Parent._JSON.Nodes[t]);return null},t.getSort=function(){return this._Parent._JSON.NodesSort},t.setSort=function(n,t,i,r){var f=this._SortColumn,u;(n=t?n:-1,r=r===undefined?!0:!!r,u={Column:n,Method:t,Property:i,Recursive:r,Cancel:!1},this._Owner.SortChanging.fire(this._Owner,u),u.Cancel)||(this._Parent._JSON.NodesSort=t?{column:n,method:t,property:i,recursive:r}:null,f>=0&&this._Owner.getColumns().getItem(f).updateContent(),this._SortColumn>=0&&this._Owner.getColumns().getItem(n).updateContent(),this._Owner._SearchIndex=[],this._Owner._jX(),this._Owner._WordWrap&&this._Owner._ScrollV.getValue()===100&&(this._Owner._FirstVisibleIndex=this._Owner._NodesCount-this._Owner._TreeLastNodesCount),this._Owner._dA(),this._Owner._cm(),this._Owner._agu(),delete u.Cancel,this._Owner.SortChanged.fire(this._Owner,u))},t.getFilter=function(){return this._Parent._JSON.NodesFilter},t.setFilter=function(n,t,i,r){var e,f,u;if(n=n||"",t=t||0,this._Owner._FilterDeSelect){if(this._Owner._aT8)for(e=this._Owner._aT8.length,u=0;u<e;u++)f=this._Owner._aT8[u],f._JSON._qp&&f.setSelected(!0);n?this._Owner._aT8=this._Owner.getSelectedNodes():delete this._Owner._aT8}if(n||i){if(this._Parent._JSON.NodesFilter&&this._Parent._JSON.NodesFilter.Value===n&&this._Parent._JSON.NodesFilter.Column===t&&this._Parent._JSON.NodesFilter.Method===i)return;this._Parent._JSON.NodesFilter={},this._Parent._JSON.NodesFilter.Value=n,this._Parent._JSON.NodesFilter.Column=t,this._Parent._JSON.NodesFilter.Method=i}else{if(!this._Parent._JSON.NodesFilter)return;delete this._Parent._JSON.NodesFilter}this._Owner._aDi(r),this._Owner._dA(!0),this._Owner.update(),this._Owner.updateSize(),this._Owner.FilterChanged.fire(this._Owner,{ParentNode:this._Parent,Value:n,Column:t,Method:i})},t.setFilterValue=function(n){this._Parent._JSON.NodesFilter||(this._Parent._JSON.NodesFilter={}),this._Parent._JSON.NodesFilter.Value=n,this._Owner.update()},t.setFilterColumn=function(n){this._Parent._JSON.NodesFilter||(this._Parent._JSON.NodesFilter={}),this._Parent._JSON.NodesFilter.Column=n,this._Owner.update()},t.setFilterMethod=function(n){this._Parent._JSON.NodesFilter||(this._Parent._JSON.NodesFilter={}),this._Parent._JSON.NodesFilter.Method=n,this._Owner.update()},t.getFilterValue=function(){return this._Parent._JSON.NodesFilter?this._Parent._JSON.NodesFilter:undefined},t.getFilterColumn=function(){return this._Parent._JSON.NodesFilter?this._Parent._JSON.NodesFilterColumn:undefined},t.getFilterMethod=function(){return this._Parent._JSON.NodesFilter?this._Parent._JSON.NodesFilterMethod:undefined},t.insertNode=function(t,i){var f=-1,r={},e,u;if(t instanceof l)if(t._Owner)throw n.ArgumentException(this,"Node already in TreeList, use .clone()");else r=t._JSON,r._TreeNode=t;else r=t,delete r._TreeNode;if(r._Dom=null,this._Parent._JSON.Nodes||(this._Parent._JSON.Nodes=[]),i)for(e=this._Parent._JSON.Nodes.length,u=0;u<e;u++)if(this._Parent._JSON.Nodes[u]._TreeNode===i){f=u;break}f>=0?(this._Parent._JSON.Nodes.splice(f,0,r),this._Parent._JSON.ChildrenCount!==undefined&&this._Parent._JSON.ChildrenCount!==null&&(this._Parent._JSON.ChildrenCount+=1)):this._Parent._JSON.ChildrenCount!==undefined&&this._Parent._JSON.ChildrenCount!==null?(this._Parent._JSON.Nodes[this._Parent._JSON.ChildrenCount]=r,this._Parent._JSON.ChildrenCount+=1):this._Parent._JSON.Nodes.push(r),t._Owner=this._Parent._Owner,t.Selected&&(this._Owner._SelectedCount+=1),this._Owner._SearchIndex=[],this._Owner._jX(),this._Owner._dA(!0),this._Owner._cm()},t._bL4=function(n){var i,t;if(n._Dom=null,n.Nodes)for(i=n.Nodes.length,t=0;t<i;t++)this._bL4(n.Nodes[t])},t.deleteNode=function(n){var t=-1,r,i;if(this._Parent._JSON.Nodes||(this._Parent._JSON.Nodes=[]),n){for(r=this._Parent._JSON.Nodes.length,i=0;i<r;i++)if(this._Parent._JSON.Nodes[i]._TreeNode===n){t=i;break}this._Parent._JSON.ChildrenCount&&t>-1&&(this._Parent._JSON.ChildrenCount-=1),this._Parent._JSON.HasChild&&r===1&&t>-1&&(this._Parent._JSON.HasChild=!1)}t>=0&&(n.Selected&&(this._Owner._SelectedCount-=1),this._Parent._JSON.Nodes.splice(t,1),n._Owner=null,this._bL4(n._JSON)),this._Owner._SearchIndex=[],this._Owner._jX(),this._Owner._dA(!0),this._Owner._cm(),this._Owner._agw()},t.setChildProps=function(n,t){var u,i,r;for(t==undefined&&(t=!0),u=this.getCount(),i=0;i<u;i++)r=this.getItem(i),r.setSettings(n),t&&r.getNodes().setChildProps(n,!0)},t=null,h=n.Ui.TreeDropDown=function(t){var u=t?t.TreeList:null,r,i;u||(u={}),u.ParentNode=null,this._TreeList=null,this._TreeList=t&&t.TreeList instanceof n.Ui.TreeListBase?t.TreeList:new n.Ui.SimpleTreeList(u),this._TreeList.setEnableEdit(!1),this._TreeList.setEnableSearch(!1),t&&delete t.TreeList,t&&(t.DropPanel||(t.DropPanel={}),t.DropPanel.UseScrollBox=!1,typeof t.DropPanel.MaxDropDownWidth=="undefined"&&(t.DropPanel.MaxDropDownWidth=Number.MAX_VALUE),typeof t.DropPanel.MinDropDownWidth=="undefined"&&(t.DropPanel.MinDropDownWidth=50),typeof t.DropPanel.MaxDropDownHeight=="undefined"&&(t.DropPanel.MaxDropDownHeight=Number.MAX_VALUE),typeof t.DropPanel.MinDropDownHeight=="undefined"&&(t.DropPanel.MinDropDownHeight=50),typeof t.DropPanel.Height=="undefined"&&(t.DropPanel.Height=230)),this._HideOnNodeClick=!1,this._CloseOnContentClick=!1,this._OpenToFocused=!1,this._OpenToSelected=!0,this._DropClass="PPTreeDropDownDrop",this._czQ="PPTreeDropDown",this._AutoFillCaption=!0,this._FindDelay=n.Ui.DEFAULT_TIMEOUT,this._ResourceKey="TreeDropDownSelectedCount",this._CaptionStringNothing=null,this._CaptionGenerator=null,this._ImagePath=n.ImagePath,t&&(t.OpenOnSideContentClick=t.OpenOnSideContentClick!==undefined?t.OpenOnSideContentClick:!0),this._ey={IsCroped:!1},this._defineEvents(["DropPanelOpened","DropPanelClosed","FindStarted","Finding","Found","FindCleared","FindFinished"]),h.base.constructor.apply(this,arguments),t&&t.CaptionString&&this.setCaptionString(t.CaptionString),t&&t.CaptionStringNothing&&this.setCaptionStringNothing(t.CaptionStringNothing),this._HeaderToolTip=new n.Ui.ToolTip({ParentNode:document.body}),this.getTextBox().MouseOver.add(this._p2,this),this.getTextBox().MouseOut.add(this._p3,this),this.getTextBox().setAfterChangeDelay(this._FindDelay),this._ic&&(this._addEvent(this._ic,"mouseover",this._p2),this._addEvent(this._ic,"mouseout",this._p3)),this.setShowFindButton(!0),r=this.getFindButton(),r.MouseDown.add(this._agj,this),r.MouseUp.add(this._aD4,this),r.MouseOver.add(this._aD5,this),r.MouseOut.add(this._aD6,this),this._TreeList.setIsRTL(this._IsRTL),i=this.getDropPanel(),i.addClass(this._DropClass),i.setContent(this._TreeList),i.Opened.add(this._iG,this),i.SizeChanging.add(this._bbG,this),i.SizeChanged.add(this._lK,this),this._agO(),this.updateCaption(),(n.IsiPad||n.IsiPhone)&&this.getDropPanel().Closing.add(this._aD8,this),n.addClass(this._DomNode,this._czQ),this._aSH=!0},n.initClass(h,n.Ui.Combo,"PP.Ui.TreeDropDown"),n.Object.defineProps(h,["CutOverflow","ShowColumns","CaptionString","CaptionStringNothing","AutoFillCaption","TreeList","HideOnNodeClick","OpenToFocused","OpenToSelected","FindDelay"]),n.Object.defineProps(h,["AutoFillCaption","CaptionGenerator"],!0),t=h.prototype,t._aW=function(n,t){h.base._aW.call(this,n,t),this.updateCaption()},t._p2=function(n,t){this._xL||this._xM(t.Event)},t._p3=function(){this._HeaderToolTip.hide()},t._aD5=function(){this._xL=!0,this._HeaderToolTip.hide()},t._aD6=function(t,i){this._xL=!1;var r=this.getTextBox().getDomNode();n.reallyOut(r,i.Event)||this._xM(i.Event)},t._iG=function(t,i){if(this._lK(),n.IsiPad||n.IsiPhone||this._TreeList.setFocus(!0),this._OpenToFocused&&this._TreeList.getFocusedNode())this._TreeList.scrollToNode(this._TreeList.getFocusedNode());else if(this._OpenToSelected){var r=this._TreeList.getSelectedNodes();r[0]&&this._TreeList.scrollToNode(r[0],.5)}this.DropPanelOpened.fire(this,i)},t._bbG=function(){var i=this.getDropPanel();i.getDroppedDown()&&this._TreeList.setSize(i.getWidth()-6,i.getHeight()-6)},t._lK=function(){var i=this.getDropPanel();i.getDroppedDown()&&this._TreeList.setSize(i.getWidth()-6,i.getHeight()-6)},t._cS=function(){this._HideOnNodeClick&&this.closeDropPanel(),this._AutoFillCaption&&this.updateCaption()},t._agO=function(){this._TreeList.SelectionChanged.add(this._cS,this),this._TreeList.Found.add(this._bL5,this)},t._aSJ=function(){this._TreeList.NodeClick&&(this._TreeList.SelectionChanged.remove(this._cS,this),this._TreeList.Found.remove(this._bL5,this))},t._aD7=function(t){var i=t.Self,r;!i._ea&&t.Event.which===n.MouseButton.Left&&i._ShowFindButton&&(i._ea||i.showSearch()),r=i.getEditor(),i._ea=="cross"&&(i.getTextBox().setValue(""),i._sI("find")),r.setFocus()},t._agj=function(t){this._Enabled&&n.setCapture(t.getDomNode(),["pointerup"])},t._aD4=function(t,i){if(n.releaseCapture(t.getDomNode()),this._Enabled){if(this._ea!=="cross"&&(n.IsiPad||n.IsiPhone)){this.setEnableEdit(!0);var r=this.getTextBox();r.setFocus()}n.setTimeout(this._aD7,0,{Self:this,Event:i.Event})}},t._sI=function(t){this._ea=t;var u,r,i=this.getFindButton();t==="cross"?(i.removeClass("PPFindText"),i.addClass("PPClearText"),r=n.resourceManager.getString("CrossContent","searchButton")):(i.removeClass("PPClearText"),i.addClass("PPFindText"),r=n.resourceManager.getString("Content","searchButton")),i.setImageUrl(u),i.getToolTip()?i.getToolTip().setContent(r):i.setToolTip(new n.Ui.ToolTip({Content:r}))},t._amt=function(n,t){if(!this._ea||this._vm){delete this._vm;return}var i=this.getTextBox().getValue();this._lY(i,{}),i&&this._ea!=="cross"&&this._sI("cross"),i||this._ea==="find"||(this._sI("find"),this.FindCleared.fire(this,t))},t._xM=function(t){if(this._ey.IsCroped){this._HeaderToolTip.setContent(this._ey.Original);var i=n.calculateOffset(this.getTextBox().getDomNode());i.X=Math.max(t.pageX-30,1),i.Y=i.Y<25?i.Y+25:i.Y-25,this._HeaderToolTip.show(i.X,i.Y)}},t._lY=function(n,t){(delete t.self,t.Value=n,t.Cancel=!1,this.Finding.fire(this,t),t.Cancel)||this._TreeList.find(this.getTextBox().getValue(),0,!0)},t._bL5=function(n,t){this.Found.fire(this,t)},t._amu=function(t,i){delete this._vm;switch(i.Event.keyCode){case n.Key.Enter:this._lY(this.getTextBox().getValue(),i),this._vm=!0,i.Event.stopPropagation();break;case n.Key.Esc:this._lY(null,i),this.stopCaptionEditing(),i.Event.stopPropagation()}},t._h3=function(){},t._bbI=function(){return h.base._bbI.apply(this,arguments),this._ea?!1:void 0},t._vc=function(n,t){h.base._vc.apply(this,arguments),this._ea&&this.getDropPanel().notifyContentMouseDown(t.Event)},t._asM=function(){this._TreeList.setSelectedForAll(!1)},t.showDropPanel=function(){h.base.showDropPanel.apply(this,arguments),this._TreeList.updateSize()},t.showSearch=function(){this._aSK=this.getContent()||" ",this._ea=null,this.setContent(""),this.setEnableEdit(!0);var t=this.getTextBox();t.setValue(""),t.setFocus(),this.getDropPanel().getDroppedDown()&&this.getDropPanel().setPosition(n.calculateOffset(this._DomNode).X,null),t.AfterChange.contains(this._amt,this)||t.AfterChange.add(this._amt,this),t.KeyDown.contains(this._amu,this)||t.KeyDown.add(this._amu,this),this._sI("find"),t.setValue(""),this.FindStarted.fire(this,{}),this.getDropPanel().getDroppedDown()||this.showDropPanel()},t._aD8=function(n,t){if(this._ea)for(var i=t.Event&&t.Event.target,r=this.getTextBox().getDomNode();i!=null;){if(i==r){t.Cancel=!0;return}i=i.parentNode}},t._d3=function(n,t){h.base._d3.apply(this,arguments),this._TreeList.hideToolTip(),this._TreeList.removeHover(),this._ea&&this.stopCaptionEditing(),this.DropPanelClosed.fire(this,t)},t.stopCaptionEditing=function(){this._ea&&(this.setEnableEdit(!1),this._sI(!1),this.updateCaption(),this.FindFinished.fire(this,{}))},t.setCaptionStringNothing=function(n){this._CaptionStringNothing!==n&&(this._CaptionStringNothing=n,this.updateCaption())},t.getHeaderArgs=function(){return this._ey},t._czR=function(){var t=this._TreeList.getSelectedNodes();if(!this._ContentNode)return!1;var i=t[0]?this._TreeList.getNodeContent(t[0])[0]:"",r=t.length>1&&t[t.length-1]?this._TreeList.getNodeContent(t[t.length-1])[0]:"",u=this.getHeaderWidth();return this._ey.IsCroped=!1,i||r?this.setContent(n.Ui.getComboCaption(i,r,u,t.length,this._ContentNode)):(i=this._CaptionStringNothing||this._CaptionStringNothing===""?this._CaptionStringNothing:"Ничего не выбрано",this.setContent(n.Ui.getComboCaption(i,"",u,1,this._ContentNode))),t.length>0},t.updateCaption=function(n,t){this.stopCaptionEditing();var i=this.getTextBox(),r=null;n||n===""?(i.setEllipsis(!0),this.setContent(n,t),this._ey.IsCroped=i.getIsCropped()):this._CaptionGenerator!==null&&(r=this._CaptionGenerator())!==null?(i.setEllipsis(!0),this.setContent(r,t),this._ey.IsCroped=i.getIsCropped()):this._czR()},t.setIsRTL=function(n){return n=n==!0,h.base.setIsRTL.call(this,n),this._TreeList.setIsRTL(n),this.updateCaption(this.getContent(),!1),this},t.setWidth=function(){return h.base.setWidth.apply(this,arguments),this._aSH&&(this.getAutoFillCaption()?this.updateCaption():this.updateCaption(this.getContent(),!1)),this},t.getFocused=function(){return h.base.getFocused.apply(this,arguments)||this.getTextBox().getFocused()},t.noVisibleOpenedContextMenu=function(){return(!this.getDropPanel().getContextMenu()||!this.getDropPanel().getContextMenu().getIsVisible())&&this.getDropPanel().getContent()&&(!this.getDropPanel().getContent().getContextMenu()||!this.getDropPanel().getContent().getContextMenu().getIsVisible())},t.setTreeList=function(n,t){n!==this._TreeList&&(this._aSJ(),t&&this._TreeList.dispose(),this._TreeList=n,this.getDropPanel().setContent(this._TreeList),this._agO(),this._lK(),this.updateCaption())},t.setHideOnNodeClick=function(n){return this._HideOnNodeClick=n==!0,this},t.setOpenToFocused=function(n){this._OpenToFocused=!!n},t.setOpenToSelected=function(n){this._OpenToSelected=!!n},t.setCutOverflow=function(n){this._TreeList.setCutOverflow(n)},t.setFindDelay=function(n){this.getTextBox().setAfterChangeDelay(n)},t.setShowColumns=function(n){var t,r,i;if(this._TreeList.setEnableAutoColumnSize(!n),n||this._TreeList.setShowCaptions(!1),t=this._TreeList.getCaptions(),r=t.getCount(),t.getItem(0)&&t.getItem(0).setIsVisible(!0),!(r<2))for(i=1;i<r;i++)t.getItem(i).setIsVisible(n)},t.getContent=function(){return this._ey&&this._ey.Original?this._ey.Original:h.base.getContent.apply(this,arguments)},t.getSettings=function(){var n=h.base.getSettings.apply(this,arguments);return delete n.CaptionString,n},t.setValue=function(n,t,i){if(n===null||n===!1){this._TreeList.setSelectedForAll(!1,i),t?this.getTextBox().setValue(t):this._AutoFillCaption&&!i&&this.updateCaption();return}var r=null;return n&&(r=this._TreeList.findText(n),r&&(this._TreeList.setSelectedForAll(!1,i),this._TreeList.setSelectedForNode(r,!0,i))),t?this.getTextBox().setValue(t):this._AutoFillCaption&&!i&&this.updateCaption(),r},t.closeDropPanel=function(){this.getDropPanel().hide()},t=null,(n.IMapPlugin=function(){n.initInterface(n.IMapPlugin,"PP.IMapPlugin"),n.IMapPlugin.ResourceKey=n.ClassMembers.Property,n.IMapPlugin.Ready=n.IMapPlugin.Error=n.IMapPlugin.Ready=n.IMapPlugin.Refreshed=n.IMapPlugin.MouseMove=n.IMapPlugin.Click=n.IMapPlugin.ShapeMouseOver=n.IMapPlugin.ShapeMouseOut=n.IMapPlugin.ShapeClick=n.IMapPlugin.ShapeClick=n.ClassMembers.Event,n.IMapPlugin.getServiceTopobaseType=n.IMapPlugin.getServiceTopobase=n.IMapPlugin.parseTopobase=n.IMapPlugin.getDefaultTopobaseURL=n.IMapPlugin.drawShape=n.IMapPlugin.getShapeBoundsRect=n.IMapPlugin.getShapeAttributes=n.IMapPlugin.setShapeAttributes=n.IMapPlugin.clearShape=n.IMapPlugin.geoToTopobase=n.IMapPlugin.sceneToScreen=n.IMapPlugin.geoToScreen=n.ClassMembers.Method})(),it=n.Ui.DefaultSettingsProvider=function(){it.base.constructor.apply(this,arguments)},n.initClass(it,n.Object,"PP.Ui.DefaultSettingsProvider"),n.Object.defineProps(it,["DataVisualizer"],!0),t=it.prototype,t._DataVisualizer=null,t._ToolTipStyle=null,t._IntervalsLegendStyle=null,t._SizeLegendStyle=null,t._LabelStyle=null,t.getDefaultTooltipMaskText=function(){return n.getProperty(this._ToolTipStyle,"ToolTipText")||"{%Name}, {%TimelineStep}"},t.getDefaultNoDataText=function(){return n.getProperty(this._ToolTipStyle,"NoDataText")||n.resourceManager.getString("Content","visualizersNoDataText")||"Нет данных"},t.getDefaultLegendBetweenFormat=function(){return{Value:n.getProperty(this._IntervalsLegendStyle,"BetweenFormat")||n.resourceManager.getString("Content","legendBetweenFormat")||"от {0} до {1}",IsAuto:!0}},t.getDefaultLegendGreaterFormat=function(){return{Value:n.getProperty(this._IntervalsLegendStyle,"GreaterFormat")||n.resourceManager.getString("Content","legendGreaterFormat")||"больше {0}",IsAuto:!0}},t.getDefaultLegendLessFormat=function(){return{Value:n.getProperty(this._IntervalsLegendStyle,"LessFormat")||n.resourceManager.getString("Content","legendLessFormat")||"меньше {0}",IsAuto:!0}},t.getDefaultSizeLegendMinValueFormat=function(){return{Value:n.getProperty(this._SizeLegendStyle,"MinValueFormat")||"{0}",IsAuto:!0}},t.getDefaultSizeLegendMaxValueFormat=function(){return{Value:n.getProperty(this._SizeLegendStyle,"MaxValueFormat")||"{0}",IsAuto:!0}},t.getDefaultLabelsMaskText=function(){return{Value:n.getProperty(this._LabelStyle,"MaskText")||"{%Value}",IsAuto:!0}},t.getDefaultLegendNoDataText=function(){return{Value:n.getProperty(this._IntervalsLegendStyle,"NoDataText")||this.getDefaultNoDataText(),IsAuto:!0}},t.dispose=function(){delete this._DataVisualizer,it.base.dispose.apply(this,arguments)},t=null,(n.Ui.IDVSynchronizable=function(){var t=n.Ui.IDVSynchronizable;n.initInterface(n.Ui.IDVSynchronizable,"PP.Ui.IDVSynchronizable"),t.ItemsHovered=n.ClassMembers.Event,t.hoverItems=n.ClassMembers.Method,t.ItemsSelected=n.ClassMembers.Event,t.selectItems=n.ClassMembers.Method,t.TimelineStep=n.ClassMembers.Event,t.setTimelineStep=n.ClassMembers.Method})(),tt=n.Ui.DVSyncManager=function(){tt.base.constructor.apply(this,arguments)},n.initClass(tt,n.Object,"PP.Ui.DVSyncManager"),n.Object.defineProps(tt,["Visualizers","SyncHover","HoverSameTime","SyncTimeline","SyncSelection"],!0),t=tt.prototype,t._Visualizers=null,t._SyncHover=!0,t._HoverSameTime=!0,t._SyncTimeline=!0,t._SyncSelection=!0,t._initFields=function(){var t,i;if(tt.base._initFields.apply(this,arguments),this._Visualizers){t=this._Visualizers,this._Visualizers=null;for(i in t)this.add(t[i])}},t._bdN=function(n,t){var i,r;if(this._SyncHover&&this._Visualizers&&this._Visualizers[n.getId()]){t.TimelineStep&&!this._HoverSameTime&&delete t.TimelineStep,!t.TimelineStep&&this._HoverSameTime&&(i=n.getTimeline&&n.getTimeline(),i&&(t.TimelineStep=i.getTickIndex()));for(r in this._Visualizers)this._Visualizers[r]!==n&&this._Visualizers[r].hoverItems(t.Items,t.TimelineStep)}},t._oI=function(n,t){if(this._SyncSelection&&this._Visualizers&&this._Visualizers[n.getId()])for(var i in this._Visualizers)this._Visualizers[i]!==n&&this._Visualizers[i].selectItems(t.Items,t.Reset)},t._bdO=function(n,t){if(this._SyncTimeline&&this._Visualizers&&this._Visualizers[n.getId()])for(var i in this._Visualizers)this._Visualizers[i]!==n&&this._Visualizers[i].setTimelineStep(t.TickIndex)},t.add=function(t){if(t){if(!n.isInterfaceOf(t,n.Ui.IDVSynchronizable))return;var i=t.getId();this._Visualizers=this._Visualizers||{},this._Visualizers[i]||(t.ItemsHovered.add(this._bdN,this),t.ItemsSelected.add(this._oI,this),t.TimelineStep.add(this._bdO,this),this._Visualizers[i]=t)}},t.remove=function(n){this._Visualizers&&(n=n&&n.getId?n.getId():n,this._Visualizers[n]&&(this._Visualizers[n].ItemsHovered.remove(this._bdN,this),this._Visualizers[n].ItemsSelected.remove(this._oI,this),this._Visualizers[n].TimelineStep.remove(this._bdO,this),delete this._Visualizers[n]))},t.setVisualizers=function(n){if(n!==this._Visualizers&&(this.clear(),n))for(var t in n)this.add(n[t])},t.clear=function(){var t,n;if(this._Visualizers){for(t in this._Visualizers)n=this._Visualizers[t],n.ItemsHovered.remove(this._bdN,this),n.ItemsSelected.remove(this._oI,this),n.TimelineStep.remove(this._bdO,this),delete this._Visualizers[t];this._Visualizers=null}},t.dispose=function(){this.clear(),tt.base.dispose.apply(this,arguments)},t=null,(n.Ui.SignEditorItemType=function(){var t=n.Ui.SignEditorItemType;t.Caption="Caption",t.String="String",t.Variable="Variable",t.NumberVariable="NumberVariable",n.initEnum(t,"PP.Ui.SignEditorItemType")})(),(n.Ui.SignEditorFormatType=function(){var t=n.Ui.SignEditorFormatType;t.Number="Number",t.Currency="Currency",t.Percentage="Percentage",n.initEnum(t,"PP.Ui.SignEditorFormatType")})(),(n.Ui.SignEditorThousandsDelimeterType=function(){var t=n.Ui.SignEditorThousandsDelimeterType;t.With="With",t.Without="Without",t.Both="Both",n.initEnum(t,"PP.Ui.SignEditorThousandsDelimeterType")})(),p=n.Ui.SignaturesEditor=function(){this._OneLine=!1,this._defineEvents(["TextChanged","AfterTimeout"]),p.base.constructor.apply(this,arguments),this._MenuButton=null,this._TextArea=null,this._OneLine&&(this._Height=21),this._render()},n.initClass(p,n.Ui.Control,"PP.Ui.SignaturesEditor"),n.Object.defineProps(p,["Menu","MenuButton","TextArea","VariablePrefix","VariablePostfix","FormatDelimeter","Items","Formats","Currencies","DecimalPlaces","Delimeter","DefaultFormatType","DefaultCurrency","DefaultDecimalPlaces","DefaultDelimeter"]),t=p.prototype,t._Width=228,t._Height=136,t._DecimalPlaces=4,t._VariablePrefix="{%",t._VariablePostfix="}",t._FormatDelimeter=":",t._Items=t._Formats=t._Currencies=[],t._DefaultCurrency=t._DefaultDecimalPlaces=0,t._Delimeter=n.Ui.SignEditorThousandsDelimeterType.Both,t._DefaultDelimeter=t._DefaultFormatType=t._Menu=null,t._initFields=function(){p.base._initFields.apply(this,arguments),this._Formats.length||(this._Formats=[n.Ui.SignEditorFormatType.Number,n.Ui.SignEditorFormatType.Currency,n.Ui.SignEditorFormatType.Percentage]),this._DefaultFormatType||(this._DefaultFormatType=this._Formats[0]),!this._DefaultDecimalPlaces&&Array.isArray(this._DecimalPlaces)&&(this._DefaultDecimalPlaces=this._DecimalPlaces[0]),this._DefaultDelimeter||(this._DefaultDelimeter=this._Delimeter==n.Ui.SignEditorThousandsDelimeterType.Both?n.Ui.SignEditorThousandsDelimeterType.With:this._Delimeter),this._Items.length?this._Menu=this._s0():this.setMenu(this._Menu)},t._render=function(){this._initFromHTML("<div class='PPSignaturesEditor'><\/div>",!0),this._OneLine?(n.addClass(this._DomNode,"OneLine"),this._TextArea=new n.Ui.TextBox({ParentNode:this._DomNode,Enabled:this._Enabled,AfterTimeout:n.Delegate(this._czS,this),ValueChanged:n.Delegate(this._bL6,this)})):(this._aT9=n.htmlToDOM("<div class='PPSETextAreaContainer'><\/div>"),this._DomNode.appendChild(this._aT9),this._TextArea=new n.Ui.TextArea({ParentNode:this._aT9,Enabled:this._Enabled,ValueChanged:n.Delegate(this._bL6,this)})),this._bL7=n.htmlToDOM("<div class='PPSEMenuButtonContainer'><\/div>"),this._DomNode.appendChild(this._bL7),this._MenuButton=new n.Ui.Button({ResourceKey:"SignaturesEditorMenuButton",Enabled:this._Enabled,Height:21,MenuArrowPosition:n.AnchorStyles.Right,Menu:this._Menu}),this._MenuButton.addToNode(this._bL7),this._bdP(this._Menu),this._ParentNode&&this.addToNode(this._ParentNode),this.setWidth(this._Width),this.setHeight(this._Height),this.setIsRTL(this._IsRTL)},t._czT=function(){return new n.Ui.Menu({Items:[{ResourceKey:"SignEditorAboveFormatMenuIndex",PPType:"PP.Ui.MenuItem",Data:"Title"},{Menu:this._bL8,PPType:"PP.Ui.SplitMenuItem",ResourceKey:"SignEditorAboveFormatMenuValue",Data:{CustomPostfix:this._VariablePostfix}}],ShowIcons:!1})},t._s0=function(){for(var i,t,f=this._Items.length,u=[],r=0;r<f;r++){i=this._Items[r],t={PPType:"PP.Ui.MenuItem",Content:i.Name||""};switch(i.Type){case n.Ui.SignEditorItemType.Caption:t.PPType="PP.Ui.MenuHeader";break;case n.Ui.SignEditorItemType.String:t.Data=i.Value;break;case n.Ui.SignEditorItemType.Variable:t.Data=this._VariablePrefix+i.Value+this._VariablePostfix;break;case n.Ui.SignEditorItemType.NumberVariable:t.Data={Value:this._VariablePrefix+i.Value},i.Title&&(t.Data.Title=i.Title),this._bL8=this._czU(),this._bL8&&(t.Menu=this._czT(),t.PPType="PP.Ui.SplitMenuItem",t.Data.DefaultValue=this._bL9?this._bL9.getData().DefaultValue:"");break;default:t.Data=i.Value}u.push(n.create(t))}return this._bMa=!1,new n.Ui.Menu({ShowIcons:!1,Items:u})},t._czU=function(){var i,r,t,u=[],f=this._Formats.length;if(f<1)return null;for(i=0;i<f;i++){r=this._Formats[i],t={PPType:"PP.Ui.SplitMenuItem"};switch(r){case n.Ui.SignEditorFormatType.Number:t.ResourceKey="SignEditorNumberFormatItem",t.Menu=this._bdQ(),t.Menu?t.Data={DefaultValue:this._aUa.getData()}:t.PPType="PP.Ui.MenuItem";break;case n.Ui.SignEditorFormatType.Currency:this._Currencies&&this._Currencies.length?(t.ResourceKey="SignEditorCurrencyFormatItem",t.Menu=this._czV(),t.Menu?t.Data={DefaultValue:this._bMb?this._bMb.getData().DefaultValue:""}:t.PPType="PP.Ui.MenuItem"):t=null;break;case n.Ui.SignEditorFormatType.Percentage:t.ResourceKey="SignEditorPercentageFormatItem",t.Menu=this._bdQ("","%"),t.Menu?t.Data={DefaultValue:this._aUa.getData()}:t.PPType="PP.Ui.MenuItem";break;default:t.Content=r}t&&(t=n.create(t),r===this._DefaultFormatType&&(this._bL9=t),u.push(t))}return new n.Ui.Menu({ShowIcons:!1,Items:u})},t._bdQ=function(t,i){var r,u;if(i=i||"",t=t||"",u=[],Array.isArray(this._DecimalPlaces))u=this._DecimalPlaces;else if(n.isNumber(this._DecimalPlaces))for(r=0;r<this._DecimalPlaces;r++)u.push(r);else return null;var f,e,o,s,l=this._Delimeter==n.Ui.SignEditorThousandsDelimeterType.Both,a=this._Delimeter==n.Ui.SignEditorThousandsDelimeterType.With,h=[],c=[],v=u.length;if(l&&(c.push(new n.Ui.MenuHeader({ResourceKey:"SignEditorWithoutThousandsDelimeter"})),h.push(new n.Ui.MenuHeader({ResourceKey:"SignEditorWithThousandsDelimeter"}))),v==0)return null;for(r=0;r<v;r++)e=a?"#,##":"",f=a?"0 00":"",f+=(0).toFixed(u[r]),e+=f.replace("0","#"),o=new n.Ui.MenuItem({Content:t+f+i,Data:t+e+i+this._VariablePostfix}),c.push(o),+u[r]==+this._DefaultDecimalPlaces&&(this._aUa=o),l&&(s=new n.Ui.MenuItem({Content:t+"0 00"+f+i,Data:t+"#,##"+e+i+this._VariablePostfix}),h.push(s),+u[r]==+this._DefaultDecimalPlaces&&this._DefaultDelimeter===n.Ui.SignEditorThousandsDelimeterType.With&&(this._aUa=s));return new n.Ui.Menu({ShowIcons:!1,Items:c.concat(h)})},t._czV=function(){if(this._Currencies.length==0)return null;for(var r,t,u=[],f=this._Currencies.length,i=0;i<f;i++)r=this._Currencies[i],t={PPType:"PP.Ui.SplitMenuItem",Content:r.Name,Menu:this._bdQ(r.Prefix,r.Postfix)},t.Menu&&(t.Data={DefaultValue:this._aUa.getData()}),t=n.create(t),i==this._DefaultCurrency&&(this._bMb=t),u.push(t);return new n.Ui.Menu({ShowIcons:!1,Items:u})},t._bdP=function(t){if(t&&t instanceof n.Ui.Menu){t.ItemSelected.remove(this._bMc,this),t.ItemSelected.add(this._bMc,this);for(var r,u=t.getItems(),f=u.length,i=0;i<f;i++)r=u[i].getMenu(),r&&(r.setParent(u[i]),this._bdP(r))}},t._czW=function(n){var t=n.getData();if(t.Title)return t.Title?this._VariablePrefix+t.Title+this._VariablePostfix:""},t._bMd=function(t){var i=[],f=t.getParent(),u,r;if(f&&f instanceof n.Ui.Menu){if(u=f.getParent(),u&&u instanceof n.Ui.MenuItem){if(t.getData()=="Title")return i=i.concat(this._czW(u));i=i.concat(this._bMd(u))}f.hide()}return r=t.getData(),r&&(n.isObject(r)?r.Value&&i.push(r.Value):i.push(r)),i},t._bMe=function(n){return this._bMd(n).join(this._FormatDelimeter)},t._dEr=function(n){return this._Menu?this._bMf(n,this._Menu):!1},t._bMf=function(t,i){for(var u=!1,e,o=i.getItems(),r,s=o.length,f=0;f<s;f++)(r=o[f],r instanceof n.Ui.MenuHeader)||(e=this._bMe(r),e===t&&(u=r),!u&&r.getMenu()&&(u=this._bMf(t,r.getMenu())));return u},t._bMc=function(t,i){this._Menu.hide();var u=this._bMe(i.MenuItem),r=i.MenuItem.getData();n.isObject(r)&&(r.DefaultValue&&(u+=this._FormatDelimeter+r.DefaultValue),r.CustomPostfix&&(u+=r.CustomPostfix)),this._TextArea.insert(u)},t._czS=function(n,t){this.AfterTimeout.fire(this,t)},t._bL6=function(n,t){this.TextChanged.fire(this,t)},t.setDefaultFormatType=function(n){this._DefaultFormatType=n,this._Items.length&&this.setMenu(this._s0())},t.setDefaultCurrency=function(n){this._DefaultCurrency=n,this._Items.length&&this.setMenu(this._s0())},t.setDefaultDecimalPlaces=function(n){this._DefaultDecimalPlaces=n,this._Items.length&&this.setMenu(this._s0())},t.setDefaultDelimeter=function(n){this._DefaultDelimeter=n,this._Items.length&&this.setMenu(this._s0())},t.setVariablePrefix=function(n){this._VariablePrefix=n+"",this._Items.length&&this.setMenu(this._s0())},t.setVariablePostfix=function(n){this._VariablePostfix=n+"",this._Items.length&&this.setMenu(this._s0())},t.setFormatDelimeter=function(n){this._FormatDelimeter=n+""},t.setItems=function(n){this._Items=n,this._Items.length&&this.setMenu(this._s0())},t.setFormats=function(n){this._Formats=n,this._Items.length&&this.setMenu(this._s0())},t.setCurrencies=function(n){this._Currencies=n,this._Items.length&&this.setMenu(this._s0())},t.setDecimalPlaces=function(n){this._DecimalPlaces=n,this._Items.length&&this.setMenu(this._s0())},t.setDelimeter=function(n){this._Delimeter=n,this._Items.length&&this.setMenu(this._s0())},t.getFormula=function(){return this._TextArea.getValue()},t.setFormula=function(n,t,i){this._TextArea.setValue(n,t,i)},t.setWidth=function(){this._Menu&&this._Menu.hide(),p.base.setWidth.apply(this,arguments),this._OneLine?this._TextArea.setWidth(this._Width-8-this._MenuButton.getWidth()):(this._aT9.style.width=this._Width+"px",this._TextArea.setWidth(this._Width))},t.setHeight=function(){if(this._Menu&&this._Menu.hide(),p.base.setHeight.apply(this,arguments),this._OneLine)this._TextArea.setHeight(this._Height);else{var t=this._Height-10-this._MenuButton.getHeight();this._aT9.style.height=t+"px",this._TextArea.setHeight(t)}},t.setIsRTL=function(){this._Menu&&this._Menu.hide(),p.base.setIsRTL.apply(this,arguments),this._TextArea.setIsRTL(this._IsRTL),this._MenuButton.setIsRTL(this._IsRTL)},t.setEnabled=function(n){p.base.setEnabled.apply(this,arguments),this._TextArea.setEnabled(n,!0),this._MenuButton.setEnabled(n,!0)},t.setMenu=function(t){this._Menu&&this._Menu.hide();var i=t instanceof n.Ui.Menu;!i&&n.isObject(t)&&(t=t.PPType?n.create(t):new n.Ui.Menu(t)),t instanceof n.Ui.Menu&&(this._Menu&&!this._bMa&&this._Menu.dispose(),this._bMa=i,this._Menu=t,this._MenuButton.setMenu(this._Menu),this._bdP(this._Menu))},t.getSettings=function(t,i,r,u,f){return r=n.extend(r,{_MenuButton:!0,_TextArea:!0}),p.base.getSettings.apply(this,[t,i,r,u,f])},t=null,k=n.Ui.BorderLayout=function(){this._TopRegion=null,this._BottomRegion=null,this._LeftRegion=null,this._RightRegion=null,this._CenterRegion=null,k.base.constructor.apply(this,arguments);var i=n.Ui.REGION;this._auY=[i.Top,i.Bottom,i.Left,i.Right,i.Center],this._fp={},this._e3=!1,this._render()},n.initClass(k,n.Ui.Control,"PP.Ui.BorderLayout"),t=k.prototype,t._render=function(){var f='<div class="PPBorderLayout"><\/div>',r;for(this._initFromHTML(f,!0),r=0;r<this._auY.length;r++){var u=this._auY[r],t=null,i=n.Ui.REGION;switch(u){case i.Top:t=this._TopRegion;break;case i.Bottom:t=this._BottomRegion;break;case i.Left:t=this._LeftRegion;break;case i.Right:t=this._RightRegion;break;case i.Center:t=this._CenterRegion}t&&this.setRegion(u,t)}return k.base._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode),this.updateSize(),this._e3=!0,this.setEnabled(this._Enabled),!0},t._czX=function(){this.updateSize()},t.updateSize=function(){for(var r={Width:this.getWidth(),Height:this.getHeight(),Top:0,Bottom:0,Left:0,Right:0},i,t,n=0;n<this._auY.length;n++)i=this._auY[n],t=this.getRegion(i),t&&t._vA(r);this._bMg()},t.setRegion=function(t,i){var r,e,f,u;if(i instanceof n.Ui.BorderLayoutItem)r=i,r._czY(t);else if(i instanceof Object)e=i,e.RegionType=t,r=new n.Ui.BorderLayoutItem(e);else if(i===null)r=null;else throw n.ArgumentException(this);f=n.Ui.REGION,u=null;switch(t){case f.Top:u=this._fp.Top,this._fp.Top=this._TopRegion=r;break;case f.Bottom:u=this._fp.Bottom,this._fp.Bottom=this._BottomRegion=r;break;case f.Left:u=this._fp.Left,this._fp.Left=this._LeftRegion=r;break;case f.Right:u=this._fp.Right,this._fp.Right=this._RightRegion=r;break;case f.Center:u=this._fp.Center,this._fp.Center=this._CenterRegion=r}return u&&u.dispose(),r&&(r.Redrawed.add(this._czX,this),r.addToNode(this.getDomNode())),this._e3===!0&&this.updateSize(),this},t.getRegion=function(t){var i=null,r=n.Ui.REGION;switch(t){case r.Top:i=this._fp.Top;break;case r.Bottom:i=this._fp.Bottom;break;case r.Left:i=this._fp.Left;break;case r.Right:i=this._fp.Right;break;case r.Center:i=this._fp.Center}return i},t.setWidth=function(n,t,i){return n===this._Width&&i&&t==undefined&&(t=!0),k.base.setWidth.apply(this,arguments),this.updateSize(),this},t.setHeight=function(n,t,i){return n===this._Height&&i&&t==undefined&&(t=!0),k.base.setHeight.apply(this,arguments),this.updateSize(),this},t.setEnabled=function(n,t){var i,r;for(k.base.setEnabled.apply(this,arguments),i=0;i<this._auY.length;i++)r=this.getRegion(this._auY[i]),r&&r.setEnabled(n,t);return this},t.setIsRTL=function(){k.base.setIsRTL.apply(this,arguments);for(var i in this._fp)this._fp[i]instanceof n.Ui.BorderLayoutItem&&this._fp[i].setIsRTL(this._IsRTL);this._bMg()},t._bMg=function(){var t=0;this._fp.Center&&this._fp.Center instanceof n.Ui.BorderLayoutItem&&(this._IsRTL?this._fp.Right instanceof n.Ui.BorderLayoutItem&&(t=this._fp.Right.getWidth()):this._fp.Left instanceof n.Ui.BorderLayoutItem&&(t=this._fp.Left.getWidth()),this._fp.Center._bMh(t,!0))},t.getLeftRegion=function(){return this.getRegion(n.Ui.REGION.Left)},t.setLeftRegion=function(t){this.setRegion(n.Ui.REGION.Left,t)},t.getRightRegion=function(){return this.getRegion(n.Ui.REGION.Right)},t.setRightRegion=function(t){this.setRegion(n.Ui.REGION.Right,t)},t.getTopRegion=function(){return this.getRegion(n.Ui.REGION.Top)},t.setTopRegion=function(t){this.setRegion(n.Ui.REGION.Top,t)},t.getBottomRegion=function(){return this.getRegion(n.Ui.REGION.Bottom)},t.setBottomRegion=function(t){this.setRegion(n.Ui.REGION.Bottom,t)},t.getCenterRegion=function(){return this.getRegion(n.Ui.REGION.Center)},t.setCenterRegion=function(t){this.setRegion(n.Ui.REGION.Center,t)},t.dispose=function(){if(this.isLive())for(var t in n.Ui.REGION)this._fp[t]instanceof n.Ui.BorderLayoutItem&&this._fp[t].dispose();k.base.dispose.apply(this,arguments)},t=null,(n.Ui.REGION=function(){var t=n.Ui.REGION;t.Left="Left",t.Top="Top",t.Right="Right",t.Bottom="Bottom",t.Center="Center",n.initEnum(t,"REGION")})(),a=n.Ui.BorderLayoutItem=function(t){this._RegionType=null,this._Title=null,this._IsBordered=!0,this._defineEvents(["Redrawed"]),a.base.constructor.apply(this,arguments),this._bt=null,this._auZ=null,this._am8=null,this._am9=null,t&&(this._am8=n.isDefined(t.Width)?t.Width:null,this._am9=n.isDefined(t.Height)?t.Height:null),this._aUb=!1,this._InnerContent=null,this._InnerTitle=null,this._ana=0,this._aUc=0,this._render()},n.initClass(a,n.Ui.Control,"PP.Ui.BorderLayoutItem"),n.Object.defineProps(a,["IsBordered","Title","Content"]),t=a.prototype,t._render=function(){var i='<div class="PPBorderLayoutItem" ><div class="Title"><\/div><div class="Content"><\/div><\/div>',t;return this._initFromHTML(i,!0),this._IsBordered===!0&&this.addClass("Bordered"),this._RegionType&&this.addClass(this._RegionType),t=this.getDomNode(),this._bt=n.querySelector(t,".Content"),this._auZ=n.querySelector(t,".Title"),a.base._render.call(this),!0},t._bdR=function(n){var t=this.getDomNode();return t.style.top=n+"px",this},t._bMh=function(n){var t=this.getDomNode();return t.style.left=n+"px",this},t._ag0=function(){return this.getWidth()-this._ana},t._sR=function(){return this.getHeight()-this._aUc-this._bdS()},t._bMi=function(){return this.getWidth()-this._ana},t._bdS=function(){return this._Title?this._auZ.offsetHeight||15:0},t._bW=function(t,i,r,u){var e,o,f;switch(r){case"Title":if(t!==this._Title||u)e=this._bdS(),o=this._bMi(),this._Title=t;else return this;break;case"Content":if(t!==this._Content||u)e=this._sR(),o=this._ag0(),this._Content=t;else return this;break;default:throw n.ArgumentException(this);}if(f=t,t)if(Array.isArray(t))f=new n.Ui.StackPanel({Width:o,Height:e,Items:t});else if(t instanceof n.Ui.Control)f.setWidth(o),f.setHeight(e);else if(typeof t=="string")f=new n.Ui.Label({Width:o,Height:e,Content:t});else throw n.ArgumentException("Unknown type of value for "+r);return a.base._bW.call(this,f,i,"Inner"+r,!0),this},t._czY=function(t){if(!t)throw n.ArgumentNullException(this);return t!==this._RegionType&&(this._RegionType&&this.removeClass(this._RegionType),this.addClass(t),this._RegionType=t),this},t._vA=function(t){var o,s,u,e;if(this._IsVisible){if(!t||isNaN(t.Width)||isNaN(t.Height))throw n.ArgumentException(this);this._am8&&(o=this._g(parseInt(this._am8,10)),n.isString(this._am8)&&this._am8.indexOf("%")>-1?this._aUd(o*t.Width/100):this._aUd(o)),this._am9&&(s=this._g(parseInt(this._am9,10)),n.isString(this._am9)&&this._am9.indexOf("%")>-1?this._aUe(s*t.Height/100):this._aUe(s)),this._ana=this._aUc=this._IsBordered?2:0;var i=null,r=null,f=n.Ui.REGION;switch(this._RegionType){case f.Top:t.Top=this.getHeight(),this._aUc=this._IsBordered?1:0,r=t.Width,t.Height<=t.Top&&(t.Top=i=t.Height);break;case f.Bottom:t.Bottom=this.getHeight(),this._aUc=this._IsBordered?1:0,r=t.Width,t.Height-t.Top<=t.Bottom&&(i=t.Height-t.Top);break;case f.Left:t.Left=this.getWidth(),this._bdR(t.Top),this._ana=this._IsBordered?1:0,i=t.Height-t.Top-t.Bottom,t.Width<=t.Left&&(t.Left=r=t.Width-this._ana);break;case f.Right:t.Right=this.getWidth(),this._bdR(t.Top),this._ana=this._IsBordered?1:0,i=t.Height-t.Top-t.Bottom,t.Width-t.Left<=t.Right&&(r=t.Width-t.Left-this._ana);break;case f.Center:this._bdR(t.Top),this._bMh(t.Left),i=t.Height-t.Top-t.Bottom,r=t.Width-t.Right-t.Left}r!==null&&this._aUd(r),i!==null&&this._aUe(i),u=this._InnerContent,u&&u instanceof n.Ui.Control&&u.isLive()&&(u.setWidth(this._ag0()),u.setHeight(this._sR())),e=this._InnerTitle,e&&e instanceof n.Ui.Control&&(e.setWidth(this._bMi()),e.setHeight(this._bdS())),this._aUb||(this.setContent(this._Content,!0),this.setTitle(this._Title,!0),this._aUb=!0)}},t._aUe=function(){return a.base.setHeight.apply(this,arguments),this},t._aUd=function(){return a.base.setWidth.apply(this,arguments),this},t.setIsRTL=function(){a.base.setIsRTL.apply(this,arguments),this._bt.dir=this._IsRTL?"rtl":"ltr",this._auZ.dir=this._IsRTL?"rtl":"ltr",this._InnerContent instanceof n.Ui.Control&&this._InnerContent.setIsRTL(this._IsRTL),this._InnerTitle instanceof n.Ui.Control&&this._InnerTitle.setIsRTL(this._IsRTL)},t.show=function(){a.base.show.apply(this,arguments),this.Redrawed.fire(this,{})},t.hide=function(){a.base.hide.apply(this,arguments),this.Redrawed.fire(this,{})},t.setTitle=function(t,i){var r=this.getDomNode(),u;if(t===undefined)throw n.ArgumentException(this);return(t!==this._Title||i)&&(u=this._Title,(u!==null||this._aUb===!1)&&(r.removeChild(this._auZ),this._InnerTitle instanceof n.Ui.Control&&this._InnerTitle.isLive()&&this._InnerTitle.dispose()),t!==null&&r.insertBefore(this._auZ,r.firstChild),this._bW(t,this._auZ,"Title",i),(t===null||u===null)&&this._aUb===!0&&this.Redrawed.fire(this,{})),this},t.setContent=function(t,i){return this._InnerContent instanceof n.Ui.Control&&this._InnerContent.isLive()&&this._InnerContent.dispose(),this._bW(t,this._bt,"Content",i),this},t.setHeight=function(t){return t&&n.isString(t)&&t.indexOf("%")>-1?this._am9=t:(this._aUe(t),this._am9=null),this.Redrawed.fire(this,{}),this},t.setWidth=function(t){return t&&n.isString(t)&&t.indexOf("%")>-1?this._am8=t:(this._aUd(t),this._am8=null),this.Redrawed.fire(this,{}),this},t.setEnabled=function(t,i){return a.base.setEnabled.apply(this,arguments),this._InnerContent instanceof n.Ui.Control&&this._InnerContent.setEnabled(t,i),this._InnerTitle instanceof n.Ui.Control&&this._InnerTitle.setEnabled(t,i),this},t.setIsBordered=function(n){return this._IsBordered!==n&&(this._IsBordered=n,n===!1?this.removeClass("Bordered"):this.addClass("Bordered"),this.Redrawed.fire(this,{})),this},t=null,(n.FlexLayoutAlign=function(){var t=n.FlexLayoutAlign;t.Left="Left",t.Top="Top",t.Right="Right",t.Bottom="Bottom",t.Middle="Middle",t.Center="Center",t.Stretch="Stretch",t.None="None",n.initEnum(t,"FlexLayoutAlign")})(),(n.FlexLayoutPack=function(){var t=n.FlexLayoutPack;t.Start="Start",t.End="End",t.Center="Center",t.None="None",n.initEnum(t,"FlexLayoutPack")})(),(n.FlexLayoutFlex=function(){var t=n.FlexLayoutFlex;t.Even="Even",t.Ratio="Ratio",t.None="None",n.initEnum(t,"FlexLayoutFlex")})(),y=n.Ui.FlexLayout=function(){this._Position=null,this._Pack=n.FlexLayoutPack.None,this._Align=n.FlexLayoutAlign.None,this._Flex=n.FlexLayoutFlex.None,this._Items=[],this._Orientation=n.Orientation.Vertical,y.base.constructor.apply(this,arguments),this._Position||(this._Position={Pack:this._Pack,Align:this._Align,Flex:this._Flex}),this._ItemsStore=[],this._au0=0,this._aE1=0,this._bdT=0,this._bdU=0,this._qI=0,this._hC=0,this._au1=0,this._bMj=0,this._render()},n.initClass(y,n.Ui.Control,"PP.Ui.FlexLayout"),n.Object.defineProps(y,["Position"]),t=y.prototype,t._render=function(){var f="<div class='PPFlexLayout'><\/div>",t,r,u,i;if(this._Orientation==n.Orientation.Horizontal&&(f="<div class='PPFlexLayout'><div class='PPFlexLayoutContainer'><\/div><\/div>"),this._initFromHTML(f,!0),this.addClass("PPFlexLayoutBlock"),this._hD=n.querySelector(this._DomNode,".PPFlexLayoutContainer"),r=this._Items,this._Items=[],u=[],r){for(t=0;t<r.length;t++)i=r[t],i&&i.Content&&typeof i.Content=="string"&&(i.Content=new n.Ui.Label({Content:i.Content})),i=this._lZ(i,t),i._hC=null,i._qI=null,i._Width=null,i._Height=null,n.isDefined(r[t].Width)&&(i._Width=r[t].Width),n.isDefined(r[t].Height)&&(i._Height=r[t].Height),this._Items[t]=i,this._ItemsStore[t]=i,u[t]=i.Content,i.Content.addClass("PPFlexItem");this._Orientation==n.Orientation.Horizontal?this._bW(u,this._hD):this._bW(u,this._DomNode)}for(y.base._render.call(this),this._ParentNode&&this.addToNode(this._ParentNode),t=0;t<this._ItemsStore.length;t++)this._ItemsStore[t]._Height!=null&&this._ItemsStore[t].Content.setHeight(this._ItemsStore[t]._Height),this._ItemsStore[t]._Width!=null&&this._ItemsStore[t].Content.setWidth(this._ItemsStore[t]._Width);this._aEG(),this.setEnabled(this._Enabled),this.setIsRTL(this._IsRTL)},t._aUf=function(){var t,n,i;if(!this._Items)return 0;for(t=0,n=0;n<this._Items.length;n++)this._Items[n].Content&&this._Items[n].Content.getIsVisible&&!this._Items[n].Content.getIsVisible()||(i=this._Items[n]._qI,i==null&&(i=this._ItemsStore[n]._Height),t=Math.max(t,i));return t},t._czZ=function(){var t,n;if(!this._Items)return 0;for(t=0,n=0;n<this._Items.length;n++)this._Items[n].Content&&this._Items[n].Content.getIsVisible&&!this._Items[n].Content.getIsVisible()||(t+=this._Items[n]._hC!=null?this._Items[n]._hC:this._ItemsStore[n]._Width);return t},t._cz0=function(){var t,n;if(!this._Items)return 0;for(t=0,n=0;n<this._Items.length;n++)this._Items[n].Content&&this._Items[n].Content.getIsVisible&&!this._Items[n].Content.getIsVisible()||(t+=this._Items[n]._qI!=null?this._Items[n]._qI:this._ItemsStore[n]._Height);return t},t._cz1=function(){for(var i,t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content.getIsVisible&&!this._Items[t].Content.getIsVisible()||this._Items[t].Content&&(i=this._Items[t].Content,this._Items[t]._hC==null&&(this._Items[t]._hC=this._Items[t]._Width),this._Items[t]._qI==null&&(this._Items[t]._qI=this._Items[t]._Height),this._Orientation==n.Orientation.Vertical?(i.setTop(0),i.setLeft(0)):this._Orientation==n.Orientation.Horizontal&&(i.setTop(0),i.setLeft(0)));for(t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content.getIsVisible&&!this._Items[t].Content.getIsVisible()||(i=this._Items[t].Content,this._Items[t]._qI!=null?i.setHeight(this._Items[t]._qI):i.setHeight(this._Items[t]._Height),this._Items[t]._hC!=null?i.setWidth(this._Items[t]._hC):i.setWidth(this._Items[t]._Width));this._au0=this._cz0(),this._aE1=this._czZ(),this._Orientation==n.Orientation.Horizontal&&(this._hD.style.width=this._g(this._aE1)+"px",this._hD.style.height=this._g(this._aUf())+"px")},t._cz2=function(){var t,i=0;if(this._Flex!=n.FlexLayoutFlex.None)switch(this._Flex){case n.FlexLayoutFlex.Even:for(t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content.getIsVisible&&!this._Items[t].Content.getIsVisible()||(this._Items[t]instanceof Object&&this._Items[t].Content&&(this._au0+=this._Items[t]._Height),i++);break;case n.FlexLayoutFlex.Ratio:for(t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content.getIsVisible&&!this._Items[t].Content.getIsVisible()||(this._Items[t].Flex?(this._au1+=this._Items[t].Flex,this._bMj++):(this._bdT+=this._Items[t]._Width,this._bdU+=this._Items[t]._Height),i++)}this._Items&&this._Items.length&&this._Flex==n.FlexLayoutFlex.Even&&i&&(this._qI=this.getHeight()/i,this._hC=this.getWidth()/i),this._Flex&&this._Flex!=n.FlexLayoutFlex.None&&this._Orientation==n.Orientation.Horizontal&&(this._hD.style.left="0px",this._hD.style.width=this.getWidth()+"px")},t._cz3=function(){if(this._Items){var t,r=0,u=0,f=0,i;if(this._Orientation===n.Orientation.Horizontal){this._hD.style.left="0px",this._hD.style.top="0px";switch(this._Pack){case n.FlexLayoutPack.Center:for(u=(this.getWidth()-this._aE1)/2,t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content instanceof n.Ui.Control&&this._Items[t].Content.getIsVisible()&&(i=this._Items[t].Content,i.setLeft(r),r+=i.getWidth());this._hD.style.left=u+"px";break;case n.FlexLayoutPack.Start:for(t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content instanceof n.Ui.Control&&this._Items[t].Content.getIsVisible()&&(i=this._Items[t].Content,i.setLeft(r),r+=i.getWidth());break;case n.FlexLayoutPack.End:for(u=this.getWidth()-this._aE1,t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content instanceof n.Ui.Control&&this._Items[t].Content.getIsVisible()&&(i=this._Items[t].Content,i.setLeft(r),r+=i.getWidth());this._hD.style.left=u+"px"}this._aUg()}else switch(this._Pack){case n.FlexLayoutPack.Center:for(f=(this.getHeight()-this._au0)/2,t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content instanceof n.Ui.Control&&this._Items[t].Content.getIsVisible()&&this._Items[t].Content.setTop(f);break;case n.FlexLayoutPack.Start:for(t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content instanceof n.Ui.Control&&this._Items[t].Content.getIsVisible()&&this._Items[t].Content.setLeft(0);break;case n.FlexLayoutPack.End:for(f=this.getHeight()-this._au0,t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content instanceof n.Ui.Control&&this._Items[t].Content.getIsVisible()&&this._Items[t].Content.setTop(f)}}},t._cz4=function(){var t,r,i,u,f;if(this._Items)if(this._Orientation===n.Orientation.Horizontal){switch(this._Align){case n.FlexLayoutAlign.Top:this._hD.style.top="0px";break;case n.FlexLayoutAlign.Middle:for(this._hD.style.top=(this.getHeight()-this._aUf())/2+"px",t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content instanceof n.Ui.Control&&this._Items[t].Content.getIsVisible()&&(i=this._Items[t].Content,i.setTop((this._hD.clientHeight-this._Items[t]._Height)/2));break;case n.FlexLayoutAlign.Stretch:for(this._hD.style.height=this.getHeight()+"px",t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content instanceof n.Ui.Control&&this._Items[t].Content.getIsVisible()&&this._Items[t].Content.setHeight(this.getHeight());break;case n.FlexLayoutAlign.Bottom:for(this._hD.style.top=this.getHeight()-this._aUf()+"px",t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content instanceof n.Ui.Control&&this._Items[t].Content.getIsVisible()&&this._Items[t].Content.setTop(this._hD.clientHeight-this._Items[t]._Height);this._Flex==n.FlexLayoutFlex.None&&(this._hD.style.top=this.getHeight()-this._aUf())}this._aUg()}else switch(this._Align){case n.FlexLayoutAlign.Right:for(t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content instanceof n.Ui.Control&&this._Items[t].Content.getIsVisible()&&(i=this._Items[t].Content,this._Items[t]._hC!=null?i.setLeft(this.getWidth()-this._Items[t]._hC):i.setLeft(this.getWidth()-i.getWidth()));break;case n.FlexLayoutAlign.Center:for(t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content instanceof n.Ui.Control&&this._Items[t].Content.getIsVisible()&&(i=this._Items[t].Content,this._Items[t]._hC!=null?i.setLeft((this.getWidth()-this._Items[t]._hC)/2):i.setLeft((this.getWidth()-this._Items[t]._Width)/2));break;case n.FlexLayoutAlign.Top:for(r=0,t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content instanceof n.Ui.Control&&this._Items[t].Content.getIsVisible()&&(i=this._Items[t].Content,i.setTop(0),r+=this._Items[t]._Height);break;case n.FlexLayoutAlign.Middle:for(t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content instanceof n.Ui.Control&&this._Items[t].Content.getIsVisible()&&(i=this._Items[t].Content,u=(this.getWidth()-this._Items[t]._Width)/2,i.setLeft(u));break;case n.FlexLayoutAlign.Stretch:for(t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content instanceof n.Ui.Control&&this._Items[t].Content.getIsVisible()&&this._Items[t].Content.setWidth(this.getWidth());break;case n.FlexLayoutAlign.Bottom:for(f=this.getHeight()-this._au0,t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content instanceof n.Ui.Control&&this._Items[t].Content.getIsVisible()&&this._Items[t].Content.setTop(f)}},t._cz5=function(){var i,t,r,u;if(this._Items)if(r=0,this._Orientation===n.Orientation.Horizontal){for(t=0;t<this._Items.length;t++)if(!this._Items[t].Content||!this._Items[t].Content.getIsVisible||this._Items[t].Content.getIsVisible()){i=this._Items[t].Content;switch(this._Flex){case n.FlexLayoutFlex.Even:i.setWidth(this._hC),i.setLeft(r),r+=this._hC;break;case n.FlexLayoutFlex.Ratio:this._Items[t].Flex&&this._au1!==0?(u=(this._hD.clientWidth-this._bdT)/this._au1*this._Items[t].Flex,i.setWidth(u),i.setLeft(r),r+=u):this._Items[t]._hC!=null?(i.setWidth(this._Items[t]._hC),i.setLeft(r),r+=this._Items[t]._hC):(i.setWidth(this._Items[t]._Width),i.setLeft(r),r+=this._Items[t]._Width);break;case n.FlexLayoutFlex.None:n.FlexLayoutAlign.Stretch!=this._Align&&this._Items[t]._hC!=null&&i.setWidth(this._Items[t]._hC)}}this._aUg()}else for(t=0;t<this._Items.length;t++)if(!this._Items[t].Content||!this._Items[t].Content.getIsVisible||this._Items[t].Content.getIsVisible()){i=this._Items[t].Content;switch(this._Flex){case n.FlexLayoutFlex.Even:i.setHeight(this._qI);break;case n.FlexLayoutFlex.Ratio:this._Items[t].Flex&&this._au1!==0?i.setHeight((this.getHeight()-this._bdU)/this._au1*this._Items[t].Flex):this._Items[t]._qI!=null?i.setHeight(this._Items[t]._qI):i.setHeight(this._Items[t]._Height);break;case n.FlexLayoutFlex.None:n.FlexLayoutAlign.Stretch!=this._Align&&this._Items[t]._hC!=null&&i.setWidth(this._Items[t]._hC)}}},t._cz6=function(){var t,u,r,i;if(this._Orientation==n.Orientation.Virtical&&(this._Flex==n.FlexLayoutFlex.Even||this._Flex==n.FlexLayoutFlex.Ratio)){for(r=0,t=0;t<this._Items.length;t++)this._Items[t].Content&&this._Items[t].Content.getIsVisible&&!this._Items[t].Content.getIsVisible()||this._Items[t].Content&&this._Items[t].Content.getDomNode()&&(r=r+this._Items[t]._Height);if(i=this.getHeight()-r,i!=0)for(t=0;t<this._Items.length;t++)if((!this._Items[t].Content||!this._Items[t].Content.getIsVisible||this._Items[t].Content.getIsVisible())&&(u=this._Items[t].Content,i>0?(u.setHeight(this._Items[t]._Height+1),i--):(u.setHeight(this._Items[t]._Height-1),i++),i==0))break}},t._cz7=function(){this._Position&&(this._Pack=this._Position.Pack||n.FlexLayoutPack.None,this._Align=this._Position.Align||n.FlexLayoutAlign.None,this._Flex=this._Position.Flex||n.FlexLayoutFlex.None)},t.updateSize=t.updateLayout=t._aEG=function(){this._qI=0,this._hC=0,this._au1=0,this._bMj=0,this._au0=0,this._aE1=0,this._bdT=0,this._bdU=0,this._cz7(),this._cz1(),this._cz2(),this._cz3(),this._cz4(),this._cz5(),this._cz6()},t._lZ=function(t,i){var u=typeof t,r;return u=="string"||u=="number"||u=="date"||u!="undefined"&&t!=null?(r=typeof t.Content=="string"?n.htmlToDOM(t.Content):t,this._Items.length==0?this._Items.push(r):this._Items.splice(i,0,r),typeof t.Content=="string"?r.Content:r):null},t._bdV=function(n,t){var i=n.style;this._IsRTL?(i.left="auto",i.right=t+"px"):(i.right="auto",i.left=t+"px")},t._aUg=function(){var r=0,i,t;if(this._hD&&this._Items&&this._Items.length){for(t=0;t<this._Items.length;t++)if(this._Items[t].Content instanceof n.Ui.Control){if(!this._Items[t].Content.getIsVisible())continue;i=this._Items[t].Content.getDomNode(),this._Pack=="None"&&this._Flex=="None"?(i.style.right="auto",i.style.left="0"):this._Orientation==n.Orientation.Horizontal&&(this._bdV(i,r),r+=this._Items[t].Content.getWidth())}this._IsRTL?this._bdV(this._hD,+this._hD.style.left.replace("px","")||0):this._bdV(this._hD,+this._hD.style.right.replace("px","")||0)}},t.setPosition=function(t){if(this._Position=t,this._Items=[],this._ItemsStore)for(var i=0;i<this._ItemsStore.length;i++)n.isObject(this._ItemsStore[i])&&(this._Items[i]=this._lZ(this._ItemsStore[i],i));return this._aEG(),this},t.setWidth=function(n,t,i){return n===this._Width&&i&&t==undefined&&(t=!0),y.base.setWidth.apply(this,arguments),this.setPosition(this._Position),this},t.setHeight=function(n,t,i){return n===this._Height&&i&&t==undefined&&(t=!0),y.base.setHeight.apply(this,arguments),this.setPosition(this._Position),this},t.setIsRTL=function(t){y.base.setIsRTL.apply(this,arguments);for(var i=0;i<this._Items.length;i++)this._Items[i].Content instanceof n.Ui.Control&&this._Items[i].Content.setIsRTL(t);return this._aUg(),this},t.dispose=function(){if(this.isLive()){for(var n=0;n<this._Items.length;n++)this._Items[n].Content.dispose(),delete this._Items[n].Content;delete this._Items}y.base.dispose.apply(this,arguments)},t.setEnabled=function(t){var u,r,f;for(t=!!t,y.base.setEnabled.apply(this,arguments),u=Array.isArray(this._Content)?this._Content:[this._Content],r=0,f=u.length;r<f;r++)u[r]instanceof n.Ui.Control&&u[r].setEnabled(t);return this},t=null,(n.Ui.ICtrlItems=function(){var t=n.Ui.ICtrlItems;n.initInterface(t,"ICtrlItems"),t.Items=n.ClassMembers.Property,t.getItemByPoint=t.supportAnchors=t.contains=t.add=t.remove=n.ClassMembers.Method})(),(n.Ui.ILayout=function(){n.initInterface(n.Ui.ILayout,"ILayout"),n.Ui.ILayout.getLayoutItems=n.Ui.ILayout.getItemByPoint=n.Ui.ILayout.getActiveItem=n.ClassMembers.Method})(),(n.Ui.ILayoutItem=function(){var t=n.Ui.ILayoutItem;n.initInterface(t,"ILayoutItem"),t.Parent=t.Caption=t.Content=n.ClassMembers.Property})(),(n.Ui.ILayoutItems=function(){var t=n.Ui.ILayoutItems;n.initInterface(t,"ILayoutItems",n.Ui.ILayout),t.addItem=t.removeItem=t.insertItem=n.ClassMembers.Method})(),(n.Ui.ISelectableControls=function(){var t=n.Ui.ISelectableControls;n.initInterface(t,"ISelectableControls"),t.SelectableSelected=n.ClassMembers.Event})(),(n.IDataSource=function(){n.initInterface(n.IDataSource,"IDataSource"),n.IDataSource.getData=n.ClassMembers.Method,n.IDataSource.getDimensions=n.ClassMembers.Method})(),(n.IDataVisualizer=function(){n.initInterface(n.IDataVisualizer,"PP.IDataVisualizer"),n.IDataVisualizer.Legends=n.ClassMembers.Property,n.IDataVisualizer.Timeline=n.ClassMembers.Property,n.IDataVisualizer.draw=n.ClassMembers.Method,n.IDataVisualizer.update=n.ClassMembers.Method})(),(n.ITreeItem=function(){n.initInterface(n.ITreeItem,"PP.ITreeItem"),n.IDataVisualizer.Id=n.ClassMembers.Property,n.IDataVisualizer.Items=n.ClassMembers.Property,n.IDataVisualizer.ParentItem=n.ClassMembers.Property})(),(n.INotifyPropertyChanged=function(){n.initInterface(n.INotifyPropertyChanged,"INotifyPropertyChanged"),n.INotifyPropertyChanged.PropertyChanged=n.ClassMembers.Event})(),pt=n.INotifyPropertyChanged._bdW=function(t,i){var u,r,f;typeof i=="undefined"&&(i=!0),u=t.prototype;for(r in u)r.indexOf("set")!==0||u[r]._cz8||(!i||n.isBaseMemberOf(t,r))&&i||(f=u[r]=function(t,i){return function(){if(t.apply(this,arguments),this.PropertyChanged)this.PropertyChanged.fire(this,{Name:i.replace("set","")});else throw n.ArgumentException();}}(u[r],r),f._cz8=!0)},(n.IMapMilestone=function(){n.initInterface(n.IMapMilestone,"IMapMilestone"),n.IMapMilestone.Animationn=n.ClassMembers.Property,n.IMapMilestone.startAnimation=n.ClassMembers.Method,n.IMapMilestone.stopAnimation=n.ClassMembers.Method})(),(n.Ui.INotifySettingsChanged=function(){n.initInterface(n.Ui.INotifySettingsChanged,"INotifySettingsChanged"),n.Ui.INotifySettingsChanged.SettingChanged=n.ClassMembers.Event})(),(n.IDisposable=function(){n.initInterface(n.IDisposable,"IDisposable"),n.IDisposable.dispose=n.ClassMembers.Method})(),(n.Ui.IDataView=function(){var t=n.Ui.IDataView;n.initInterface(t,"IDataView"),t.Instance=n.ClassMembers.Property,t.Refreshed=n.ClassMembers.Event,t.refreshView=t.isLoaded=n.ClassMembers.Method})(),(n.Ui.IMasterView=function(){var t=n.Ui.IMasterView;n.initInterface(t,"IMasterView"),t.PropertyChanged=n.ClassMembers.Event,t.refresh=n.ClassMembers.Method,t.DataView=t.Options=n.ClassMembers.Property})(),(n.ISourceView=function(){var t=n.ISourceView;n.initInterface(t,"ISourceView"),t.refresh=t.refreshAll=n.ClassMembers.Method,t.Source=n.ClassMembers.Property,t.RequestMetadata=t.PropertyChanged=n.ClassMembers.Event})(),(n.Ui.IContentEditable=function(){var t=n.Ui.IContentEditable;n.initInterface(t,"PP.Ui.IContentEditable"),t.ContentChanged=n.ClassMembers.Event})(),(n.Ui.ITabSheetDataSource=function(){n.initInterface(n.Ui.ITabSheetDataSource,"ITabSheetDataSource"),n.Ui.ITabSheetDataSource.loadMeasures=n.ClassMembers.Method,n.Ui.ITabSheetDataSource.loadRanges=n.ClassMembers.Method,n.Ui.ITabSheetDataSource.search=n.ClassMembers.Method,n.Ui.ITabSheetDataSource.IsAsync=n.ClassMembers.Property,n.Ui.ITabSheetDataSource.MeasuresLoaded=n.ClassMembers.Event,n.Ui.ITabSheetDataSource.RangeLoaded=n.ClassMembers.Event,n.Ui.ITabSheetDataSource.SearchCompleted=n.ClassMembers.Event})(),(n.Ui.ITabSheetObjectControl=function(){n.initInterface(n.Ui.ITabSheetObjectControl,"ITabSheetObjectControl"),n.Ui.ITabSheetObjectControl.setSize=n.ClassMembers.Method,n.Ui.ITabSheetObjectControl.setWidth=n.ClassMembers.Method,n.Ui.ITabSheetObjectControl.setHeight=n.ClassMembers.Method,n.Ui.ITabSheetObjectControl.addToNode=n.ClassMembers.Method,n.Ui.ITabSheetObjectControl.remomveFromDOM=n.ClassMembers.Method})(),kt=n.Ui.ITabSheetDataSource._bdW=function(){},(n.Ui.IDGDataSource=function(){n.initInterface(n.Ui.IDGDataSource,"IDGDataSource"),n.Ui.IDGDataSource.loadMeasures=n.ClassMembers.Method,n.Ui.IDGDataSource.loadRanges=n.ClassMembers.Method,n.Ui.IDGDataSource.saveChanges=n.ClassMembers.Method,n.Ui.IDGDataSource.IsAsync=n.ClassMembers.Property,n.Ui.IDGDataSource.RowCount=n.ClassMembers.Property,n.Ui.IDGDataSource.DefaultRowHeight=n.ClassMembers.Property,n.Ui.IDGDataSource.MeasuresLoaded=n.ClassMembers.Event,n.Ui.IDGDataSource.RangeLoaded=n.ClassMembers.Event})(),(n.IUfeState=function(){var t=n.IUfeState;n.initInterface(t,"IUfeState"),t.getExpression=t.updateSize=n.ClassMembers.Method,t.ExpressionChanged=t.TreeDragStart=t.TreeDblClick=n.ClassMembers.Event})(),(n.IConfigLoader=function(){var t=n.IConfigLoader;t.State=n.ClassMembers.Property,t.Result=n.ClassMembers.Property,t.load=n.ClassMembers.Method,n.initInterface(n.IConfigLoader,"PP.IConfigLoader")})(),(n.Ui.IControlActivatable=function(){var t=n.Ui.IControlActivatable;t.activate=n.ClassMembers.Method,t.deactivate=n.ClassMembers.Method,t.ToolBar=n.ClassMembers.Property,n.initInterface(t,"PP.Ui.IControlActivatable")})(),v=n.IEffect=function(){this._Dictionary=null,this._Id=null,v.base.constructor.apply(this,arguments),this._if=null},n.initClass(v,n.Object,"PP.IEffect"),t=v.prototype,t.apply=function(t,i){var r=t.getDomNode(),u;r&&!n.IsIE&&(u=r.parentNode,i?(this._if=r.nextSibling,u.appendChild(r)):(u.insertBefore(r,this._if,u.firstChild),this._if=null))},t.dispose=function(){delete this._Dictionary,v.base.dispose.apply(this,arguments)},t=null,d=n.BorderEffect=function(){this._BorderThickness=3,this._BorderColor="ff0000",this._LastShape=null,this._aUh={},d.base.constructor.apply(this,arguments),this._Opacity=1,this._TempColor=null,this._TempOpacity=null,this._TempThickness=1},n.initClass(d,v,"PP.BorderEffect"),n.Object.defineProps(d,["BorderColor","BorderThickness"]),t=d.prototype,t._initFields=function(){d.base._initFields.apply(this,arguments),this._BorderColor&&this._bMk(this._BorderColor)},t._bMk=function(t){var i=new n.Color(t);this._BorderColor=i?i.toString():t.toLowerCase(),this._Opacity=i?i.getOpacity():1},t.apply=function(t,i){if(d.base.apply.apply(this,arguments),!t||!t.getIsStroked||!t.getIsStroked()){var e=t.getChart(),o=e.getType()===n.Ui.MapChartType.SVG,u,r,f;i?(o?(this._LastShape&&this._OldOptions&&n.SVG.setAttr(t._DomNode,this._OldOptions),this._OldOptions=n.SVG.getStroke(t._DomNode),delete this._OldOptions.StrokeWidth,this._aUi=t.getStrokeWidth(),n.SVG.setAttr(t._DomNode,{Stroke:this._BorderColor,StrokeWidth:this._BorderThickness,StrokeOpacity:this._Opacity}),t.setStrokeWidth(this._BorderThickness),n.IsIE&&(r=t._DomNode.parentNode,r&&!this._aUh[f=t.getId()]&&(this._aUh[f]=t._DomNode.nextSibling,r.removeChild(t._DomNode),r.appendChild(t._DomNode)))):(u=e.getPlugin())&&(this._LastShape&&this._OldOptions&&u.setShapeAttributes(this._LastShape,this._OldOptions),this._OldOptions=u.getShapeAttributes(t,["stroke-width","stroke","stroke-opacity","z-index"]),u.setShapeAttributes(t,{"stroke-width":this._BorderThickness,stroke:this._BorderColor,"stroke-opacity":this._Opacity,"z-index":9e3})),this._LastShape=t):o?(n.SVG.setAttr(t._DomNode,this._OldOptions),t.setStrokeWidth(this._aUi),n.IsIE&&(r=t._DomNode.parentNode,r&&(r.removeChild(t._DomNode),r.insertBefore(t._DomNode,this._aUh[f=t.getId()]||r.firstChild),this._aUh[f]=null))):(u=e.getPlugin())&&u.setShapeAttributes(t,this._OldOptions)}},t.apply3d=function(n,t){t?(this._bMl=n.getBorderColor(),this._aUi=n.getStrokeWidth(),n.setBorderColor(this._BorderColor),n.setStrokeWidth(this._BorderThickness)):(n.setBorderColor(this._bMl),n.setStrokeWidth(this._aUi),delete this._bMl,delete this._aUi)},t.setBorderColor=function(n){this._bMk(n)},t.setBorderThickness=function(n){this._BorderThickness=parseInt(n)},t.dispose=function(){delete this._LastShape,d.base.dispose.apply(this,arguments)},t=null,rt=n.AlphaChannelEffect=function(){this._Opacity=null,rt.base.constructor.apply(this,arguments),this._ee=0},n.initClass(rt,v,"PP.AlphaChannelEffect"),t=rt.prototype,t._initFields=function(){rt.base._initFields.apply(this,arguments),this._Opacity=this._Opacity?parseFloat(this._Opacity):.5},t.apply=function(){},t.apply3d=function(n,t){var i=[].concat(n.getRGBColor());t?(this._ee=i[3]||1,i[3]=this._Opacity):i[3]=this._ee,n.draw(i)},t=null,ft=n.BrushEffect=function(){this._Brush=null,ft.base.constructor.apply(this,arguments)},n.initClass(ft,v,"PP.BrushEffect"),t=ft.prototype,t._initFields=function(){var i,u,r;ft.base._initFields.apply(this,arguments),this._Brush?(i=this._Brush,u=typeof i,u=="object"?(r=n.getFirstMember(i),i[r].PPType=r,this._Brush=n.create(i[r])):u=="string"&&(this._Brush=new n.SolidColorBrush({Color:i}))):this._Brush=new n.SolidColorBrush({Color:"#AAAAAA"})},t.apply=t.apply3d=function(n,t){t?(this._OldColor=n.getCurrentBrush(),n.draw(this._Brush)):n.draw(this._OldColor)},t=null,ut=n.BlurEffect=function(){this._Radius=null,ut.base.constructor.apply(this,arguments)},n.initClass(ut,v,"PP.BlurEffect"),t=ut.prototype,t._initFields=function(){ut.base._initFields.apply(this,arguments),this._Radius=this._Radius?parseFloat(this._Radius):5},t.apply=function(n,t){var r,i,u,f;t?(r=document.createElementNS("http://www.w3.org/2000/svg","defs"),r.setAttribute("id",this._Id.toString()),n._DomNode.parentNode.appendChild(r),i=document.createElementNS("http://www.w3.org/2000/svg","filter"),i.setAttribute("id","f1"),i.setAttribute("x","-1"),i.setAttribute("y","-1"),i.setAttribute("width","400%"),i.setAttribute("height","400%"),u=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur"),u.setAttribute("result","blurOut"),u.setAttribute("in","SourceGraphic"),u.setAttribute("stdDeviation",this._Radius),i.appendChild(u),r.appendChild(i),n._DomNode.parentNode.appendChild(r),n._DomNode.setAttribute("filter","url(#f1)")):(f=document.getElementById(this._Id.toString()),f.parentNode.removeChild(f),n._DomNode.setAttribute("filter",""))},t=null,et=n.DropShadowEffect=function(){this._BlurRadius=null,this._Color="#CCCCCC",this._Direction=null,this._Opacity=null,this._ShadowDepth=null,et.base.constructor.apply(this,arguments)},n.initClass(et,v,"PP.DropShadowEffect"),t=et.prototype,t._initFields=function(){et.base._initFields.apply(this,arguments),this._BlurRadius=this._BlurRadius?parseFloat(this._BlurRadius):5,this._Direction=this._Direction?parseFloat(this._Direction):1,this._Opacity=this._Opacity?parseFloat(this._Opacity):.5,this._ShadowDepth=this._ShadowDepth?parseFloat(this._ShadowDepth):1},t.apply=function(n,t){var f,i,e,r,u;t?(f=document.createElementNS("http://www.w3.org/2000/svg","defs"),f.setAttribute("id",this._Id.toString()),n._DomNode.parentNode.appendChild(f),i=document.createElementNS("http://www.w3.org/2000/svg","filter"),i.setAttribute("id","f1"),i.setAttribute("x","-1"),i.setAttribute("y","-1"),i.setAttribute("width","400%"),i.setAttribute("height","400%"),e=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur"),e.setAttribute("result","blurOut"),e.setAttribute("in","SourceGraphic"),e.setAttribute("stdDeviation",this._BlurRadius),i.appendChild(e),f.appendChild(i),n._DomNode.parentNode.appendChild(f),r=n._DomNode.cloneNode(),r.setAttribute("fill",this._Color),r.setAttribute("id","shadow"),r.setAttribute("opacity",this._Opacity),r.setAttribute("filter","url(#f1)"),n._DomNode.parentNode.appendChild(r),r.setAttribute("transform"," translate("+this._ShadowDepth*Math.sin(this._Direction)+","+this._ShadowDepth*Math.cos(this._Direction)+")")):(u=document.getElementById(this._Id.toString()),u.parentNode.removeChild(u),u=document.getElementById("shadow"),u.parentNode.removeChild(u))},t=null,ot=n.ScaleEffect=function(){this._Scale=null,ot.base.constructor.apply(this,arguments)},n.initClass(ot,v,"PP.ScaleEffect"),t=ot.prototype,t._initFields=function(){ot.base._initFields.apply(this,arguments),this._Scale=this._Scale?parseFloat(this._Scale):2},t.apply=function(t,i){var r=t.getBoundsRect();r&&(i?t._DomNode.setAttribute("transform"," translate("+-(r._Left+r._Width/2)*(this._Scale-1)+","+-(r._Top+r._Height/2)*(this._Scale-1)+") scale("+this._Scale+")"):n.SVG.scale(t._DomNode,1,-r._Left+r._Width/2,-r._Top+r._Height/2)),r.dispose()},t=null,t=u.prototype,t._bMm=function(t,i,r){var f,e,o,s,h;return(i=!!i,r=!!r,f=u._bm,e=f.isSpan,t=t.splitText(),t.isCollapsed())?(o=f.ancestor(t.getStartContainer(),e),o&&o.innerHTML==f.ZERO_WIDTH_NBSP_CHAR?[o]:[t.insertNode(document.createElement("SPAN"))]):(s=t.nodes(f.isText,!1,!0).map(function(n){var t=f.singleChildAncestor(n,e),u,r,o,i;if(t)return t;if(t=f.ancestor(n,e),!t)return f.wrap(n,"SPAN");for(u=t.style.cssText,r=t.childNodes,i=0;i<r.length;i++)o=f.wrap(r[i],"SPAN"),o.style.cssText=u;return f.remove(t),f.ancestor(n,e)}),i?(r&&(h=t.nodes(),e=function(n){return f.isSpan(n)&&h.indexOf(n)>-1}),s.map(function(t){var i=f.withClosestSiblings(t,e),r=n.Array.head(i),u=n.Array.tail(i);return u.forEach(function(n){f.appendChildNodes(r,n.childNodes),f.remove(n)}),n.Array.head(i)})):s)},t._anb=function(){var r=u._bm,i=o.createFromSelection(),f,t;if(i&&i.isCollapsed()){var h=r.isSpan,e="",s=r.ancestor(i.getStartContainer(),h);s&&(e=s.style.cssText),f=this._bMm(i),t=n.Array.head(f),t&&!r.nodeLength(t)&&(t.innerHTML=r.ZERO_WIDTH_NBSP_CHAR,o.createFromNodeAfter(t.firstChild).select(),t.style.cssText=e,this._anc(t,e),this._vy.push(t))}else f=this._bMm(i);return f},t._and=function(n,t,i){var e=u._bm,f,r;if(n.length===1&&n[0].innerHTML===e.ZERO_WIDTH_NBSP_CHAR)f=document.createElement("span"),f.style[t]=i,this._anc(n[0],f.style.cssText);else for(r=0;r<n.length;r++)n[r].style[t]=i},t._anc=function(n,t){if(n!==this._auU.span){this._aEY(n,t);return}this._auU.cssText+=" "+t},t._aEY=function(n,t){this._auU.span=n,this._auU.cssText=t||n.style.cssText},t.setIsBold=function(n){n=!!n,this._oG(),document.execCommand("bold",!1,n),this._oH()},t.setIsUnderline=function(n){n=!!n,this._oG(),document.execCommand("underline",!1,n),this._oH()},t.setIsItalic=function(n){n=!!n,this._oG(),document.execCommand("italic",!1,n),this._oH()},t.setFontFamily=function(n){this._oG(),document.execCommand("fontName",!1,n),this._oH()},t.setFontColor=function(n){this._oG(),document.execCommand("foreColor",!1,n),this._oH()},t.setBackgroundColor=function(n){this._oG(),document.execCommand("backColor",!1,n),this._oH()},t.setAlignment=function(t){var i="";t==n.HorizontalAlignment.Left?i="JustifyLeft":t==n.HorizontalAlignment.Center?i="JustifyCenter":t==n.HorizontalAlignment.Right?i="JustifyRight":t==n.HorizontalAlignment.Justify&&(i="JustifyFull"),this._oG(),document.execCommand(i,0,!1),this._oH()},t.setIsBold=function(n){n=!!n,this._oG();var t=this._anb();this._and(t,"fontWeight",n?"bold":"normal"),o.createFromNode(t[0],t[t.length-1]).select(),this._oH()},t.setIsUnderline=function(n){n=!!n,this._oG();var t=this._anb();this._and(t,"textDecoration",n?"underline":"none"),o.createFromNode(t[0],t[t.length-1]).select(),this._oH()},t.setIsItalic=function(n){n=!!n,this._oG();var t=this._anb();this._and(t,"fontStyle",n?"italic":"normal"),o.createFromNode(t[0],t[t.length-1]).select(),this._oH()},t.setFontColor=function(n){this._oG();var t=this._anb();this._and(t,"color",n),o.createFromNode(t[0],t[t.length-1]).select(),this._oH()},t.setBackgroundColor=function(n){this._oG();var t=this._anb();this._and(t,"background",n),o.createFromNode(t[0],t[t.length-1]).select(),this._oH()},t.setFontFamily=function(n){this._oG();var t=this._anb();this._and(t,"fontFamily",n),o.createFromNode(t[0],t[t.length-1]).select(),this._oH()},t.setFontSize=function(n){this._oG();var t=this._anb();this._and(t,"fontSize",n+"pt"),o.createFromNode(t[0],t[t.length-1]).select(),this._oH()},t=null,g=n.RichTextPoint=function(){g.base.constructor.apply(this,arguments)},n.initClass(g,n.Object,"PP.RichTextPoint"),n.Object.defineProps(g,["Container","Offset"],!0),wt=n.RichTextPoint.fromTextRange=function(n,t){for(var h=u._bm,e=n.parentElement(),v=document.body.createTextRange(),o,s=h.toArray(e.childNodes),c,i,l,f,a,r=0;r<s.length;r++)if(!h.isText(s[r])){if(v.moveToElementText(s[r]),v.compareEndPoints("StartToStart",n)>=0)break;o=s[r]}if(r!==0&&h.isText(s[r-1])){for(c=document.body.createTextRange(),i=null,c.moveToElementText(o||e),c.collapse(!o),i=o?o.nextSibling:e.firstChild,l=n.duplicate(),l.setEndPoint("StartToStart",c),f=l.text.replace(/[\r\n]/g,"").length;f>i.nodeValue.length&&i.nextSibling;)f-=i.nodeValue.length,i=i.nextSibling;a=i.nodeValue,a=a,t&&i.nextSibling&&h.isText(i.nextSibling)&&f===i.nodeValue.length&&(f-=i.nodeValue.length,i=i.nextSibling),e=i,r=f}return new g({Container:e,Offset:r})},t=g.prototype,t._Container=null,t._Offset=null,t.isLeftEdge=function(){return this._Offset===0},t.isRightEdge=function(){if(!this._Container)return!1;var n=u._bm,t=n.nodeLength(this._Container);return this._Offset===t},t.isEdge=function(){return this.isLeftEdge()||this.isRightEdge()},t.isLeftEdgeOf=function(n){var t=u._bm;return this.isLeftEdge()&&t.isLeftEdgeOf(this._Container,n)},t.isRightEdgeOf=function(n){var t=u._bm;return this.isRightEdge()&&t.isRightEdgeOf(this._Container,n)},t.prevPoint=function(n){var i=u._bm,t,r;if(this._Offset===0){if(i.isEditable(this._Container))return null;t=this._Container.parentNode,r=i.position(this._Container)}else i.hasChildren(this._Container)?(t=this._Container.childNodes[this._Offset-1],r=i.nodeLength(t)):(t=this._Container,r=n?0:this._Offset-1);return new g({Container:t,Offset:r})},t.nextPoint=function(n){var t=u._bm,i,r;if(t.nodeLength(this._Container)===this._Offset){if(t.isEditable(this._Container))return null;i=this._Container.parentNode,r=t.position(this._Container)+1}else t.hasChildren(this._Container)?(i=this._Container.childNodes[this._Offset],r=0):(i=this._Container,r=n?t.nodeLength(this._Container):this._Offset+1);return new g({Container:i,Offset:r})},t.prevPointUntil=function(n){for(var t=this;t;){if(n(t))return t;t=t.prevPoint()}return null},t.nextPointUntil=function(n){for(var t=this;t;){if(n(t))return t;t=t.nextPoint()}return null},t.isVisible=function(){var n=u._bm,t,i;return n.isText(this._Container)||!n.hasChildren(this._Container)||n.isEmpty(this._Container)?!0:(t=this._Container.childNodes[this._Offset-1],i=this._Container.childNodes[this._Offset],(!t||n.isVoid(t))&&(!i||n.isVoid(i)))?!0:!1},t.isCharPoint=function(){var t=u._bm,n;return t.isText(this._Container)?(n=this._Container.nodeValue.charAt(this._Offset-1),n&&n!==" "&&n!==t.NBSP_CHAR):!1},t.equals=function(n){return this._Container===n.getContainer()&&this._Offset===n.getOffset()},t._bMn=function(t,i){var r=u._bm,f,e,o,s;if(r.isText(t))o=r.listPrev(t,function(n){return!r.isText(n)}),s=n.Array.last(o).previousSibling,f=s||t.parentNode,i+=n.Array.sum(n.Array.tail(o),r.nodeLength),e=!s;else{if(f=t.childNodes[i]||t,r.isText(f))return this._bMn(f,0);i=0,e=!1}return{node:f,collapseToStart:e,offset:i}},t.toTextRange=function(){var n=document.body.createTextRange(),t=this._bMn(this._Container,this._Offset);return n.moveToElementText(t.node),n.collapse(t.collapseToStart),n.moveStart("character",t.offset),n},t=null,t=u.prototype,t.getIsBold=function(){return document.queryCommandState("bold")},t.getIsUnderline=function(){return document.queryCommandState("underline")},t.getIsItalic=function(){return document.queryCommandState("italic")},t.getFontColor=function(){var t=document.queryCommandValue("ForeColor");return n.IsIE||n.isNumber(t)?(t=(t&255)<<16|t&65280|(t&16711680)>>>16,t=t.toString(16),t="#000000".slice(0,7-t.length)+t):t=t||"rgb(0, 0, 0)",n.Color.getColor(t).toString()},t.getBackgroundColor=function(){var t=document.queryCommandValue("backColor");return n.IsIE||n.isNumber(t)?(t=(t&255)<<16|t&65280|(t&16711680)>>>16,t=t.toString(16),t="#000000".slice(0,7-t.length)+t):t=t||"rgb(255, 255, 255)",n.Color.getColor(t).toString()},t.getAlignment=function(){return document.queryCommandState("JustifyLeft")?n.HorizontalAlignment.Left:document.queryCommandState("JustifyCenter")?n.HorizontalAlignment.Center:document.queryCommandState("JustifyRight")?n.HorizontalAlignment.Right:document.queryCommandState("JustifyFull")?n.HorizontalAlignment.Justify:this._IsRTL?n.HorizontalAlignment.Right:n.HorizontalAlignment.Left},t.getFontFamily=function(){var i=u._bm,t=o.createFromSelection(),r=i.isElement(t.getStartContainer())?t.getStartContainer():t.getStartContainer().parentNode;return n.getStyle(r,"font-family")},t.getFontSize=function(){var f=u._bm,i=o.createFromSelection(),e=f.isElement(i.getStartContainer())?i.getStartContainer():i.getStartContainer().parentNode,r=n.getStyle(e,"font-size"),t=parseFloat(r);return isNaN(t)?0:(r.indexOf("px")!==-1&&(t=Math.round(t*72/96)),t)},t.getSelectionStyle=function(){var n=new nt;n.setIsBold(this.getIsBold()),n.setIsUnderline(this.getIsUnderline()),n.setIsItalic(this.getIsItalic()),n.setSize(this.getFontSize()),n.setFontFamily(this.getFontFamily()),n.setColor(this.getFontColor()),n.setBackgroundColor(this.getBackgroundColor()),n.setAlignment(this.getAlignment());try{n.setIsInferior(document.queryCommandState("subscript")),n.setIsSuperior(document.queryCommandState("superscript")),n.setIsStriken(document.queryCommandState("strikethrough"))}catch(t){}return n},t=null})();
